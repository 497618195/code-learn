function anlysePath(t, n, r){
	var temp = {};
	//收集所有地址
	for(var tk in t){
		var xx = t[tk][1];
		for(var x in xx){
			if(!temp[tk]) temp[tk] = {};
			temp[tk][xx[x]] = x;		 
		}
	}

	//解析依赖关系
	var after = {};
	var doing = {};
	function anlyse(num, prefix){
		var al = temp[num];
		for(var n in al){
			if(after[n]) continue;
			var data = al[n];
			if(data.startsWith("./")) data = data.substring(2, al[n].length);
			var cj = data.match(/\.\.\//g);
			if(cj) cj = cj.length + 1;
			else cj = 1;
			var pf = prefix.split("/");
			pf.splice(pf.length - cj , cj);
			after[n] = pf.join("/")+ "/" + data.replace(/\.\.\//g,"");
			after[n] = after[n].replace(/\.\.\//g,"");
			if(after[n].startsWith("/")) after[n] = after[n].substring(1, after[n].length);
		}
		for(var n in al){
			if(!doing[n]){
				doing[n] = true;
				anlyse(n, after[n]);
			}			
		}
	}
	anlyse(r[0],'');

	var files = {};
	for(var k in after){
		files[after[k]] = k;
	}

	//合并目录，得出树形结果
	var paths = {};
	for(var k in files){
		var ps = k.split("/");
		if(!paths[ps[0]]) paths[ps[0]] = ps.length == 1? ".js":{};
		var begin = paths[ps[0]];
		for(var i=1;i<ps.length;i++){
			if(!begin[ps[i]]){
				begin[ps[i]] = (i == ps.length-1)? '.js':{};
			}	
			begin = begin[ps[i]];		
		}
	}
	console.log(paths);

}

(function e(t, n, r) {

	anlysePath(t, n, r);
	function s(o, u) {
		if (!n[o]) {
			if (!t[o]) {
				var a = typeof require == "function" && require;
				if (!u && a) return a(o, !0);
				if (i) return i(o, !0);
				var f = new Error("Cannot find module '" + o + "'");
				throw f.code = "MODULE_NOT_FOUND", f
			}
			var l = n[o] = {
				exports: {}
			};
			t[o][0].call(l.exports, function(e) {
				var n = t[o][1][e];
				 
				return s(n ? n : e)
			}, l, l.exports, e, t, n, r)
		}
		return n[o].exports
	}
	var i = typeof require == "function" && require;
	for (var o = 0; o < r.length; o++) {s(r[o]);};
	return s
})({
	1: [
		function(require, module, exports) {
			(function(global) {
				function typedArraySupport() {
					function t() {}
					try {
						var e = new Uint8Array(1);
						return e.foo = function() {
							return 42
						}, e.constructor = t, 42 === e.foo() && e.constructor === t && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
					} catch (r) {
						return !1
					}
				}

				function kMaxLength() {
					return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
				}

				function Buffer(t) {
					return this instanceof Buffer ? (this.length = 0, this.parent = void 0, "number" == typeof t ? fromNumber(this, t) : "string" == typeof t ? fromString(this, t, arguments.length > 1 ? arguments[1] : "utf8") : fromObject(this, t)) : arguments.length > 1 ? new Buffer(t, arguments[1]) : new Buffer(t)
				}

				function fromNumber(t, e) {
					if (t = allocate(t, 0 > e ? 0 : 0 | checked(e)), !Buffer.TYPED_ARRAY_SUPPORT)
						for (var r = 0; e > r; r++) t[r] = 0;
					return t
				}

				function fromString(t, e, r) {
					("string" != typeof r || "" === r) && (r = "utf8");
					var n = 0 | byteLength(e, r);
					return t = allocate(t, n), t.write(e, r), t
				}

				function fromObject(t, e) {
					if (Buffer.isBuffer(e)) return fromBuffer(t, e);
					if (isArray(e)) return fromArray(t, e);
					if (null == e) throw new TypeError("must start with number, buffer, array or string");
					if ("undefined" != typeof ArrayBuffer) {
						if (e.buffer instanceof ArrayBuffer) return fromTypedArray(t, e);
						if (e instanceof ArrayBuffer) return fromArrayBuffer(t, e)
					}
					return e.length ? fromArrayLike(t, e) : fromJsonObject(t, e)
				}

				function fromBuffer(t, e) {
					var r = 0 | checked(e.length);
					return t = allocate(t, r), e.copy(t, 0, 0, r), t
				}

				function fromArray(t, e) {
					var r = 0 | checked(e.length);
					t = allocate(t, r);
					for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
					return t
				}

				function fromTypedArray(t, e) {
					var r = 0 | checked(e.length);
					t = allocate(t, r);
					for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
					return t
				}

				function fromArrayBuffer(t, e) {
					return Buffer.TYPED_ARRAY_SUPPORT ? (e.byteLength, t = Buffer._augment(new Uint8Array(e))) : t = fromTypedArray(t, new Uint8Array(e)), t
				}

				function fromArrayLike(t, e) {
					var r = 0 | checked(e.length);
					t = allocate(t, r);
					for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
					return t
				}

				function fromJsonObject(t, e) {
					var r, n = 0;
					"Buffer" === e.type && isArray(e.data) && (r = e.data, n = 0 | checked(r.length)), t = allocate(t, n);
					for (var i = 0; n > i; i += 1) t[i] = 255 & r[i];
					return t
				}

				function allocate(t, e) {
					Buffer.TYPED_ARRAY_SUPPORT ? (t = Buffer._augment(new Uint8Array(e)), t.__proto__ = Buffer.prototype) : (t.length = e, t._isBuffer = !0);
					var r = 0 !== e && e <= Buffer.poolSize >>> 1;
					return r && (t.parent = rootParent), t
				}

				function checked(t) {
					if (t >= kMaxLength()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
					return 0 | t
				}

				function SlowBuffer(t, e) {
					if (!(this instanceof SlowBuffer)) return new SlowBuffer(t, e);
					var r = new Buffer(t, e);
					return delete r.parent, r
				}

				function byteLength(t, e) {
					"string" != typeof t && (t = "" + t);
					var r = t.length;
					if (0 === r) return 0;
					for (var n = !1;;) switch (e) {
						case "ascii":
						case "binary":
						case "raw":
						case "raws":
							return r;
						case "utf8":
						case "utf-8":
							return utf8ToBytes(t).length;
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return 2 * r;
						case "hex":
							return r >>> 1;
						case "base64":
							return base64ToBytes(t).length;
						default:
							if (n) return utf8ToBytes(t).length;
							e = ("" + e).toLowerCase(), n = !0
					}
				}

				function slowToString(t, e, r) {
					var n = !1;
					if (e = 0 | e, r = void 0 === r || r === 1 / 0 ? this.length : 0 | r, t || (t = "utf8"), 0 > e && (e = 0), r > this.length && (r = this.length), e >= r) return "";
					for (;;) switch (t) {
						case "hex":
							return hexSlice(this, e, r);
						case "utf8":
						case "utf-8":
							return utf8Slice(this, e, r);
						case "ascii":
							return asciiSlice(this, e, r);
						case "binary":
							return binarySlice(this, e, r);
						case "base64":
							return base64Slice(this, e, r);
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return utf16leSlice(this, e, r);
						default:
							if (n) throw new TypeError("Unknown encoding: " + t);
							t = (t + "").toLowerCase(), n = !0
					}
				}

				function hexWrite(t, e, r, n) {
					r = Number(r) || 0;
					var i = t.length - r;
					n ? (n = Number(n), n > i && (n = i)) : n = i;
					var f = e.length;
					if (f % 2 !== 0) throw new Error("Invalid hex string");
					n > f / 2 && (n = f / 2);
					for (var o = 0; n > o; o++) {
						var u = parseInt(e.substr(2 * o, 2), 16);
						if (isNaN(u)) throw new Error("Invalid hex string");
						t[r + o] = u
					}
					return o
				}

				function utf8Write(t, e, r, n) {
					return blitBuffer(utf8ToBytes(e, t.length - r), t, r, n)
				}

				function asciiWrite(t, e, r, n) {
					return blitBuffer(asciiToBytes(e), t, r, n)
				}

				function binaryWrite(t, e, r, n) {
					return asciiWrite(t, e, r, n)
				}

				function base64Write(t, e, r, n) {
					return blitBuffer(base64ToBytes(e), t, r, n)
				}

				function ucs2Write(t, e, r, n) {
					return blitBuffer(utf16leToBytes(e, t.length - r), t, r, n)
				}

				function base64Slice(t, e, r) {
					return 0 === e && r === t.length ? base64.fromByteArray(t) : base64.fromByteArray(t.slice(e, r))
				}

				function utf8Slice(t, e, r) {
					r = Math.min(t.length, r);
					for (var n = [], i = e; r > i;) {
						var f = t[i],
							o = null,
							u = f > 239 ? 4 : f > 223 ? 3 : f > 191 ? 2 : 1;
						if (r >= i + u) {
							var s, a, h, c;
							switch (u) {
								case 1:
									128 > f && (o = f);
									break;
								case 2:
									s = t[i + 1], 128 === (192 & s) && (c = (31 & f) << 6 | 63 & s, c > 127 && (o = c));
									break;
								case 3:
									s = t[i + 1], a = t[i + 2], 128 === (192 & s) && 128 === (192 & a) && (c = (15 & f) << 12 | (63 & s) << 6 | 63 & a, c > 2047 && (55296 > c || c > 57343) && (o = c));
									break;
								case 4:
									s = t[i + 1], a = t[i + 2], h = t[i + 3], 128 === (192 & s) && 128 === (192 & a) && 128 === (192 & h) && (c = (15 & f) << 18 | (63 & s) << 12 | (63 & a) << 6 | 63 & h, c > 65535 && 1114112 > c && (o = c))
							}
						}
						null === o ? (o = 65533, u = 1) : o > 65535 && (o -= 65536, n.push(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), n.push(o), i += u
					}
					return decodeCodePointsArray(n)
				}

				function decodeCodePointsArray(t) {
					var e = t.length;
					if (MAX_ARGUMENTS_LENGTH >= e) return String.fromCharCode.apply(String, t);
					for (var r = "", n = 0; e > n;) r += String.fromCharCode.apply(String, t.slice(n, n += MAX_ARGUMENTS_LENGTH));
					return r
				}

				function asciiSlice(t, e, r) {
					var n = "";
					r = Math.min(t.length, r);
					for (var i = e; r > i; i++) n += String.fromCharCode(127 & t[i]);
					return n
				}

				function binarySlice(t, e, r) {
					var n = "";
					r = Math.min(t.length, r);
					for (var i = e; r > i; i++) n += String.fromCharCode(t[i]);
					return n
				}

				function hexSlice(t, e, r) {
					var n = t.length;
					(!e || 0 > e) && (e = 0), (!r || 0 > r || r > n) && (r = n);
					for (var i = "", f = e; r > f; f++) i += toHex(t[f]);
					return i
				}

				function utf16leSlice(t, e, r) {
					for (var n = t.slice(e, r), i = "", f = 0; f < n.length; f += 2) i += String.fromCharCode(n[f] + 256 * n[f + 1]);
					return i
				}

				function checkOffset(t, e, r) {
					if (t % 1 !== 0 || 0 > t) throw new RangeError("offset is not uint");
					if (t + e > r) throw new RangeError("Trying to access beyond buffer length")
				}

				function checkInt(t, e, r, n, i, f) {
					if (!Buffer.isBuffer(t)) throw new TypeError("buffer must be a Buffer instance");
					if (e > i || f > e) throw new RangeError("value is out of bounds");
					if (r + n > t.length) throw new RangeError("index out of range")
				}

				function objectWriteUInt16(t, e, r, n) {
					0 > e && (e = 65535 + e + 1);
					for (var i = 0, f = Math.min(t.length - r, 2); f > i; i++) t[r + i] = (e & 255 << 8 * (n ? i : 1 - i)) >>> 8 * (n ? i : 1 - i)
				}

				function objectWriteUInt32(t, e, r, n) {
					0 > e && (e = 4294967295 + e + 1);
					for (var i = 0, f = Math.min(t.length - r, 4); f > i; i++) t[r + i] = e >>> 8 * (n ? i : 3 - i) & 255
				}

				function checkIEEE754(t, e, r, n, i, f) {
					if (e > i || f > e) throw new RangeError("value is out of bounds");
					if (r + n > t.length) throw new RangeError("index out of range");
					if (0 > r) throw new RangeError("index out of range")
				}

				function writeFloat(t, e, r, n, i) {
					return i || checkIEEE754(t, e, r, 4, 3.4028234663852886e38, -3.4028234663852886e38), ieee754.write(t, e, r, n, 23, 4), r + 4
				}

				function writeDouble(t, e, r, n, i) {
					return i || checkIEEE754(t, e, r, 8, 1.7976931348623157e308, -1.7976931348623157e308), ieee754.write(t, e, r, n, 52, 8), r + 8
				}

				function base64clean(t) {
					if (t = stringtrim(t).replace(INVALID_BASE64_RE, ""), t.length < 2) return "";
					for (; t.length % 4 !== 0;) t += "=";
					return t
				}

				function stringtrim(t) {
					return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
				}

				function toHex(t) {
					return 16 > t ? "0" + t.toString(16) : t.toString(16)
				}

				function utf8ToBytes(t, e) {
					e = e || 1 / 0;
					for (var r, n = t.length, i = null, f = [], o = 0; n > o; o++) {
						if (r = t.charCodeAt(o), r > 55295 && 57344 > r) {
							if (!i) {
								if (r > 56319) {
									(e -= 3) > -1 && f.push(239, 191, 189);
									continue
								}
								if (o + 1 === n) {
									(e -= 3) > -1 && f.push(239, 191, 189);
									continue
								}
								i = r;
								continue
							}
							if (56320 > r) {
								(e -= 3) > -1 && f.push(239, 191, 189), i = r;
								continue
							}
							r = i - 55296 << 10 | r - 56320 | 65536
						} else i && (e -= 3) > -1 && f.push(239, 191, 189); if (i = null, 128 > r) {
							if ((e -= 1) < 0) break;
							f.push(r)
						} else if (2048 > r) {
							if ((e -= 2) < 0) break;
							f.push(r >> 6 | 192, 63 & r | 128)
						} else if (65536 > r) {
							if ((e -= 3) < 0) break;
							f.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128)
						} else {
							if (!(1114112 > r)) throw new Error("Invalid code point");
							if ((e -= 4) < 0) break;
							f.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128)
						}
					}
					return f
				}

				function asciiToBytes(t) {
					for (var e = [], r = 0; r < t.length; r++) e.push(255 & t.charCodeAt(r));
					return e
				}

				function utf16leToBytes(t, e) {
					for (var r, n, i, f = [], o = 0; o < t.length && !((e -= 2) < 0); o++) r = t.charCodeAt(o), n = r >> 8, i = r % 256, f.push(i), f.push(n);
					return f
				}

				function base64ToBytes(t) {
					return base64.toByteArray(base64clean(t))
				}

				function blitBuffer(t, e, r, n) {
					for (var i = 0; n > i && !(i + r >= e.length || i >= t.length); i++) e[i + r] = t[i];
					return i
				}
				var base64 = require("base64-js"),
					ieee754 = require("ieee754"),
					isArray = require("is-array");
				exports.Buffer = Buffer, exports.SlowBuffer = SlowBuffer, exports.INSPECT_MAX_BYTES = 50, Buffer.poolSize = 8192;
				var rootParent = {};
				Buffer.TYPED_ARRAY_SUPPORT = void 0 !== global.TYPED_ARRAY_SUPPORT ? global.TYPED_ARRAY_SUPPORT : typedArraySupport(), Buffer.TYPED_ARRAY_SUPPORT && (Buffer.prototype.__proto__ = Uint8Array.prototype, Buffer.__proto__ = Uint8Array), Buffer.isBuffer = function(t) {
					return !(null == t || !t._isBuffer)
				}, Buffer.compare = function(t, e) {
					if (!Buffer.isBuffer(t) || !Buffer.isBuffer(e)) throw new TypeError("Arguments must be Buffers");
					if (t === e) return 0;
					for (var r = t.length, n = e.length, i = 0, f = Math.min(r, n); f > i && t[i] === e[i];)++i;
					return i !== f && (r = t[i], n = e[i]), n > r ? -1 : r > n ? 1 : 0
				}, Buffer.isEncoding = function(t) {
					switch (String(t).toLowerCase()) {
						case "hex":
						case "utf8":
						case "utf-8":
						case "ascii":
						case "binary":
						case "base64":
						case "raw":
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return !0;
						default:
							return !1
					}
				}, Buffer.concat = function(t, e) {
					if (!isArray(t)) throw new TypeError("list argument must be an Array of Buffers.");
					if (0 === t.length) return new Buffer(0);
					var r;
					if (void 0 === e)
						for (e = 0, r = 0; r < t.length; r++) e += t[r].length;
					var n = new Buffer(e),
						i = 0;
					for (r = 0; r < t.length; r++) {
						var f = t[r];
						f.copy(n, i), i += f.length
					}
					return n
				}, Buffer.byteLength = byteLength, Buffer.prototype.length = void 0, Buffer.prototype.parent = void 0, Buffer.prototype.toString = function() {
					var t = 0 | this.length;
					return 0 === t ? "" : 0 === arguments.length ? utf8Slice(this, 0, t) : slowToString.apply(this, arguments)
				}, Buffer.prototype.equals = function(t) {
					if (!Buffer.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
					return this === t ? !0 : 0 === Buffer.compare(this, t)
				}, Buffer.prototype.inspect = function() {
					var t = "",
						e = exports.INSPECT_MAX_BYTES;
					return this.length > 0 && (t = this.toString("hex", 0, e).match(/.{2}/g).join(" "), this.length > e && (t += " ... ")), "<Buffer " + t + ">"
				}, Buffer.prototype.compare = function(t) {
					if (!Buffer.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
					return this === t ? 0 : Buffer.compare(this, t)
				}, Buffer.prototype.indexOf = function(t, e) {
					function r(t, e, r) {
						for (var n = -1, i = 0; r + i < t.length; i++)
							if (t[r + i] === e[-1 === n ? 0 : i - n]) {
								if (-1 === n && (n = i), i - n + 1 === e.length) return r + n
							} else n = -1;
						return -1
					}
					if (e > 2147483647 ? e = 2147483647 : -2147483648 > e && (e = -2147483648), e >>= 0, 0 === this.length) return -1;
					if (e >= this.length) return -1;
					if (0 > e && (e = Math.max(this.length + e, 0)), "string" == typeof t) return 0 === t.length ? -1 : String.prototype.indexOf.call(this, t, e);
					if (Buffer.isBuffer(t)) return r(this, t, e);
					if ("number" == typeof t) return Buffer.TYPED_ARRAY_SUPPORT && "function" === Uint8Array.prototype.indexOf ? Uint8Array.prototype.indexOf.call(this, t, e) : r(this, [t], e);
					throw new TypeError("val must be string, number or Buffer")
				}, Buffer.prototype.get = function(t) {
					return console.log(".get() is deprecated. Access using array indexes instead."), this.readUInt8(t)
				}, Buffer.prototype.set = function(t, e) {
					return console.log(".set() is deprecated. Access using array indexes instead."), this.writeUInt8(t, e)
				}, Buffer.prototype.write = function(t, e, r, n) {
					if (void 0 === e) n = "utf8", r = this.length, e = 0;
					else if (void 0 === r && "string" == typeof e) n = e, r = this.length, e = 0;
					else if (isFinite(e)) e = 0 | e, isFinite(r) ? (r = 0 | r, void 0 === n && (n = "utf8")) : (n = r, r = void 0);
					else {
						var i = n;
						n = e, e = 0 | r, r = i
					}
					var f = this.length - e;
					if ((void 0 === r || r > f) && (r = f), t.length > 0 && (0 > r || 0 > e) || e > this.length) throw new RangeError("attempt to write outside buffer bounds");
					n || (n = "utf8");
					for (var o = !1;;) switch (n) {
						case "hex":
							return hexWrite(this, t, e, r);
						case "utf8":
						case "utf-8":
							return utf8Write(this, t, e, r);
						case "ascii":
							return asciiWrite(this, t, e, r);
						case "binary":
							return binaryWrite(this, t, e, r);
						case "base64":
							return base64Write(this, t, e, r);
						case "ucs2":
						case "ucs-2":
						case "utf16le":
						case "utf-16le":
							return ucs2Write(this, t, e, r);
						default:
							if (o) throw new TypeError("Unknown encoding: " + n);
							n = ("" + n).toLowerCase(), o = !0
					}
				}, Buffer.prototype.toJSON = function() {
					return {
						type: "Buffer",
						data: Array.prototype.slice.call(this._arr || this, 0)
					}
				};
				var MAX_ARGUMENTS_LENGTH = 4096;
				Buffer.prototype.slice = function(t, e) {
					var r = this.length;
					t = ~~t, e = void 0 === e ? r : ~~e, 0 > t ? (t += r, 0 > t && (t = 0)) : t > r && (t = r), 0 > e ? (e += r, 0 > e && (e = 0)) : e > r && (e = r), t > e && (e = t);
					var n;
					if (Buffer.TYPED_ARRAY_SUPPORT) n = Buffer._augment(this.subarray(t, e));
					else {
						var i = e - t;
						n = new Buffer(i, void 0);
						for (var f = 0; i > f; f++) n[f] = this[f + t]
					}
					return n.length && (n.parent = this.parent || this), n
				}, Buffer.prototype.readUIntLE = function(t, e, r) {
					t = 0 | t, e = 0 | e, r || checkOffset(t, e, this.length);
					for (var n = this[t], i = 1, f = 0; ++f < e && (i *= 256);) n += this[t + f] * i;
					return n
				}, Buffer.prototype.readUIntBE = function(t, e, r) {
					t = 0 | t, e = 0 | e, r || checkOffset(t, e, this.length);
					for (var n = this[t + --e], i = 1; e > 0 && (i *= 256);) n += this[t + --e] * i;
					return n
				}, Buffer.prototype.readUInt8 = function(t, e) {
					return e || checkOffset(t, 1, this.length), this[t]
				}, Buffer.prototype.readUInt16LE = function(t, e) {
					return e || checkOffset(t, 2, this.length), this[t] | this[t + 1] << 8
				}, Buffer.prototype.readUInt16BE = function(t, e) {
					return e || checkOffset(t, 2, this.length), this[t] << 8 | this[t + 1]
				}, Buffer.prototype.readUInt32LE = function(t, e) {
					return e || checkOffset(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
				}, Buffer.prototype.readUInt32BE = function(t, e) {
					return e || checkOffset(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
				}, Buffer.prototype.readIntLE = function(t, e, r) {
					t = 0 | t, e = 0 | e, r || checkOffset(t, e, this.length);
					for (var n = this[t], i = 1, f = 0; ++f < e && (i *= 256);) n += this[t + f] * i;
					return i *= 128, n >= i && (n -= Math.pow(2, 8 * e)), n
				}, Buffer.prototype.readIntBE = function(t, e, r) {
					t = 0 | t, e = 0 | e, r || checkOffset(t, e, this.length);
					for (var n = e, i = 1, f = this[t + --n]; n > 0 && (i *= 256);) f += this[t + --n] * i;
					return i *= 128, f >= i && (f -= Math.pow(2, 8 * e)), f
				}, Buffer.prototype.readInt8 = function(t, e) {
					return e || checkOffset(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
				}, Buffer.prototype.readInt16LE = function(t, e) {
					e || checkOffset(t, 2, this.length);
					var r = this[t] | this[t + 1] << 8;
					return 32768 & r ? 4294901760 | r : r
				}, Buffer.prototype.readInt16BE = function(t, e) {
					e || checkOffset(t, 2, this.length);
					var r = this[t + 1] | this[t] << 8;
					return 32768 & r ? 4294901760 | r : r
				}, Buffer.prototype.readInt32LE = function(t, e) {
					return e || checkOffset(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
				}, Buffer.prototype.readInt32BE = function(t, e) {
					return e || checkOffset(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
				}, Buffer.prototype.readFloatLE = function(t, e) {
					return e || checkOffset(t, 4, this.length), ieee754.read(this, t, !0, 23, 4)
				}, Buffer.prototype.readFloatBE = function(t, e) {
					return e || checkOffset(t, 4, this.length), ieee754.read(this, t, !1, 23, 4)
				}, Buffer.prototype.readDoubleLE = function(t, e) {
					return e || checkOffset(t, 8, this.length), ieee754.read(this, t, !0, 52, 8)
				}, Buffer.prototype.readDoubleBE = function(t, e) {
					return e || checkOffset(t, 8, this.length), ieee754.read(this, t, !1, 52, 8)
				}, Buffer.prototype.writeUIntLE = function(t, e, r, n) {
					t = +t, e = 0 | e, r = 0 | r, n || checkInt(this, t, e, r, Math.pow(2, 8 * r), 0);
					var i = 1,
						f = 0;
					for (this[e] = 255 & t; ++f < r && (i *= 256);) this[e + f] = t / i & 255;
					return e + r
				}, Buffer.prototype.writeUIntBE = function(t, e, r, n) {
					t = +t, e = 0 | e, r = 0 | r, n || checkInt(this, t, e, r, Math.pow(2, 8 * r), 0);
					var i = r - 1,
						f = 1;
					for (this[e + i] = 255 & t; --i >= 0 && (f *= 256);) this[e + i] = t / f & 255;
					return e + r
				}, Buffer.prototype.writeUInt8 = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 1, 255, 0), Buffer.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = 255 & t, e + 1
				}, Buffer.prototype.writeUInt16LE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : objectWriteUInt16(this, t, e, !0), e + 2
				}, Buffer.prototype.writeUInt16BE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 2, 65535, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : objectWriteUInt16(this, t, e, !1), e + 2
				}, Buffer.prototype.writeUInt32LE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : objectWriteUInt32(this, t, e, !0), e + 4
				}, Buffer.prototype.writeUInt32BE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 4, 4294967295, 0), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : objectWriteUInt32(this, t, e, !1), e + 4
				}, Buffer.prototype.writeIntLE = function(t, e, r, n) {
					if (t = +t, e = 0 | e, !n) {
						var i = Math.pow(2, 8 * r - 1);
						checkInt(this, t, e, r, i - 1, -i)
					}
					var f = 0,
						o = 1,
						u = 0 > t ? 1 : 0;
					for (this[e] = 255 & t; ++f < r && (o *= 256);) this[e + f] = (t / o >> 0) - u & 255;
					return e + r
				}, Buffer.prototype.writeIntBE = function(t, e, r, n) {
					if (t = +t, e = 0 | e, !n) {
						var i = Math.pow(2, 8 * r - 1);
						checkInt(this, t, e, r, i - 1, -i)
					}
					var f = r - 1,
						o = 1,
						u = 0 > t ? 1 : 0;
					for (this[e + f] = 255 & t; --f >= 0 && (o *= 256);) this[e + f] = (t / o >> 0) - u & 255;
					return e + r
				}, Buffer.prototype.writeInt8 = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 1, 127, -128), Buffer.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), 0 > t && (t = 255 + t + 1), this[e] = 255 & t, e + 1
				}, Buffer.prototype.writeInt16LE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : objectWriteUInt16(this, t, e, !0), e + 2
				}, Buffer.prototype.writeInt16BE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 2, 32767, -32768), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : objectWriteUInt16(this, t, e, !1), e + 2
				}, Buffer.prototype.writeInt32LE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 4, 2147483647, -2147483648), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : objectWriteUInt32(this, t, e, !0), e + 4
				}, Buffer.prototype.writeInt32BE = function(t, e, r) {
					return t = +t, e = 0 | e, r || checkInt(this, t, e, 4, 2147483647, -2147483648), 0 > t && (t = 4294967295 + t + 1), Buffer.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : objectWriteUInt32(this, t, e, !1), e + 4
				}, Buffer.prototype.writeFloatLE = function(t, e, r) {
					return writeFloat(this, t, e, !0, r)
				}, Buffer.prototype.writeFloatBE = function(t, e, r) {
					return writeFloat(this, t, e, !1, r)
				}, Buffer.prototype.writeDoubleLE = function(t, e, r) {
					return writeDouble(this, t, e, !0, r)
				}, Buffer.prototype.writeDoubleBE = function(t, e, r) {
					return writeDouble(this, t, e, !1, r)
				}, Buffer.prototype.copy = function(t, e, r, n) {
					if (r || (r = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t.length), e || (e = 0), n > 0 && r > n && (n = r), n === r) return 0;
					if (0 === t.length || 0 === this.length) return 0;
					if (0 > e) throw new RangeError("targetStart out of bounds");
					if (0 > r || r >= this.length) throw new RangeError("sourceStart out of bounds");
					if (0 > n) throw new RangeError("sourceEnd out of bounds");
					n > this.length && (n = this.length), t.length - e < n - r && (n = t.length - e + r);
					var i, f = n - r;
					if (this === t && e > r && n > e)
						for (i = f - 1; i >= 0; i--) t[i + e] = this[i + r];
					else if (1e3 > f || !Buffer.TYPED_ARRAY_SUPPORT)
						for (i = 0; f > i; i++) t[i + e] = this[i + r];
					else t._set(this.subarray(r, r + f), e);
					return f
				}, Buffer.prototype.fill = function(t, e, r) {
					if (t || (t = 0), e || (e = 0), r || (r = this.length), e > r) throw new RangeError("end < start");
					if (r !== e && 0 !== this.length) {
						if (0 > e || e >= this.length) throw new RangeError("start out of bounds");
						if (0 > r || r > this.length) throw new RangeError("end out of bounds");
						var n;
						if ("number" == typeof t)
							for (n = e; r > n; n++) this[n] = t;
						else {
							var i = utf8ToBytes(t.toString()),
								f = i.length;
							for (n = e; r > n; n++) this[n] = i[n % f]
						}
						return this
					}
				}, Buffer.prototype.toArrayBuffer = function() {
					if ("undefined" != typeof Uint8Array) {
						if (Buffer.TYPED_ARRAY_SUPPORT) return new Buffer(this).buffer;
						for (var t = new Uint8Array(this.length), e = 0, r = t.length; r > e; e += 1) t[e] = this[e];
						return t.buffer
					}
					throw new TypeError("Buffer.toArrayBuffer not supported in this browser")
				};
				var BP = Buffer.prototype;
				Buffer._augment = function(t) {
					return t.constructor = Buffer, t._isBuffer = !0, t._set = t.set, t.get = BP.get, t.set = BP.set, t.write = BP.write, t.toString = BP.toString, t.toLocaleString = BP.toString, t.toJSON = BP.toJSON, t.equals = BP.equals, t.compare = BP.compare, t.indexOf = BP.indexOf, t.copy = BP.copy, t.slice = BP.slice, t.readUIntLE = BP.readUIntLE, t.readUIntBE = BP.readUIntBE, t.readUInt8 = BP.readUInt8, t.readUInt16LE = BP.readUInt16LE, t.readUInt16BE = BP.readUInt16BE, t.readUInt32LE = BP.readUInt32LE, t.readUInt32BE = BP.readUInt32BE, t.readIntLE = BP.readIntLE, t.readIntBE = BP.readIntBE, t.readInt8 = BP.readInt8, t.readInt16LE = BP.readInt16LE, t.readInt16BE = BP.readInt16BE, t.readInt32LE = BP.readInt32LE, t.readInt32BE = BP.readInt32BE, t.readFloatLE = BP.readFloatLE, t.readFloatBE = BP.readFloatBE, t.readDoubleLE = BP.readDoubleLE, t.readDoubleBE = BP.readDoubleBE, t.writeUInt8 = BP.writeUInt8, t.writeUIntLE = BP.writeUIntLE, t.writeUIntBE = BP.writeUIntBE, t.writeUInt16LE = BP.writeUInt16LE, t.writeUInt16BE = BP.writeUInt16BE, t.writeUInt32LE = BP.writeUInt32LE, t.writeUInt32BE = BP.writeUInt32BE, t.writeIntLE = BP.writeIntLE, t.writeIntBE = BP.writeIntBE, t.writeInt8 = BP.writeInt8, t.writeInt16LE = BP.writeInt16LE, t.writeInt16BE = BP.writeInt16BE, t.writeInt32LE = BP.writeInt32LE, t.writeInt32BE = BP.writeInt32BE, t.writeFloatLE = BP.writeFloatLE, t.writeFloatBE = BP.writeFloatBE, t.writeDoubleLE = BP.writeDoubleLE, t.writeDoubleBE = BP.writeDoubleBE, t.fill = BP.fill, t.inspect = BP.inspect, t.toArrayBuffer = BP.toArrayBuffer, t
				};
				var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {
			"base64-js": 2,
			"ieee754": 3,
			"is-array": 4
		}
	],
	2: [
		function(require, module, exports) {
			var lookup = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
			! function(t) {
				"use strict";

				function r(t) {
					var r = t.charCodeAt(0);
					return r === h || r === u ? 62 : r === c || r === f ? 63 : o > r ? -1 : o + 10 > r ? r - o + 26 + 26 : i + 26 > r ? r - i : A + 26 > r ? r - A + 26 : void 0
				}

				function e(t) {
					function e(t) {
						i[f++] = t
					}
					var n, h, c, o, A, i;
					if (t.length % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
					var u = t.length;
					A = "=" === t.charAt(u - 2) ? 2 : "=" === t.charAt(u - 1) ? 1 : 0, i = new a(3 * t.length / 4 - A), c = A > 0 ? t.length - 4 : t.length;
					var f = 0;
					for (n = 0, h = 0; c > n; n += 4, h += 3) o = r(t.charAt(n)) << 18 | r(t.charAt(n + 1)) << 12 | r(t.charAt(n + 2)) << 6 | r(t.charAt(n + 3)), e((16711680 & o) >> 16), e((65280 & o) >> 8), e(255 & o);
					return 2 === A ? (o = r(t.charAt(n)) << 2 | r(t.charAt(n + 1)) >> 4, e(255 & o)) : 1 === A && (o = r(t.charAt(n)) << 10 | r(t.charAt(n + 1)) << 4 | r(t.charAt(n + 2)) >> 2, e(o >> 8 & 255), e(255 & o)), i
				}

				function n(t) {
					function r(t) {
						return lookup.charAt(t)
					}

					function e(t) {
						return r(t >> 18 & 63) + r(t >> 12 & 63) + r(t >> 6 & 63) + r(63 & t)
					}
					var n, a, h, c = t.length % 3,
						o = "";
					for (n = 0, h = t.length - c; h > n; n += 3) a = (t[n] << 16) + (t[n + 1] << 8) + t[n + 2], o += e(a);
					switch (c) {
						case 1:
							a = t[t.length - 1], o += r(a >> 2), o += r(a << 4 & 63), o += "==";
							break;
						case 2:
							a = (t[t.length - 2] << 8) + t[t.length - 1], o += r(a >> 10), o += r(a >> 4 & 63), o += r(a << 2 & 63), o += "="
					}
					return o
				}
				var a = "undefined" != typeof Uint8Array ? Uint8Array : Array,
					h = "+".charCodeAt(0),
					c = "/".charCodeAt(0),
					o = "0".charCodeAt(0),
					A = "a".charCodeAt(0),
					i = "A".charCodeAt(0),
					u = "-".charCodeAt(0),
					f = "_".charCodeAt(0);
				t.toByteArray = e, t.fromByteArray = n
			}("undefined" == typeof exports ? this.base64js = {} : exports);


		}, {}
	],
	3: [
		function(require, module, exports) {
			exports.read = function(a, o, t, r, h) {
				var M, p, w = 8 * h - r - 1,
					f = (1 << w) - 1,
					e = f >> 1,
					i = -7,
					N = t ? h - 1 : 0,
					n = t ? -1 : 1,
					s = a[o + N];
				for (N += n, M = s & (1 << -i) - 1, s >>= -i, i += w; i > 0; M = 256 * M + a[o + N], N += n, i -= 8);
				for (p = M & (1 << -i) - 1, M >>= -i, i += r; i > 0; p = 256 * p + a[o + N], N += n, i -= 8);
				if (0 === M) M = 1 - e;
				else {
					if (M === f) return p ? NaN : (s ? -1 : 1) * (1 / 0);
					p += Math.pow(2, r), M -= e
				}
				return (s ? -1 : 1) * p * Math.pow(2, M - r)
			}, exports.write = function(a, o, t, r, h, M) {
				var p, w, f, e = 8 * M - h - 1,
					i = (1 << e) - 1,
					N = i >> 1,
					n = 23 === h ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
					s = r ? 0 : M - 1,
					u = r ? 1 : -1,
					l = 0 > o || 0 === o && 0 > 1 / o ? 1 : 0;
				for (o = Math.abs(o), isNaN(o) || o === 1 / 0 ? (w = isNaN(o) ? 1 : 0, p = i) : (p = Math.floor(Math.log(o) / Math.LN2), o * (f = Math.pow(2, -p)) < 1 && (p--, f *= 2), o += p + N >= 1 ? n / f : n * Math.pow(2, 1 - N), o * f >= 2 && (p++, f /= 2), p + N >= i ? (w = 0, p = i) : p + N >= 1 ? (w = (o * f - 1) * Math.pow(2, h), p += N) : (w = o * Math.pow(2, N - 1) * Math.pow(2, h), p = 0)); h >= 8; a[t + s] = 255 & w, s += u, w /= 256, h -= 8);
				for (p = p << h | w, e += h; e > 0; a[t + s] = 255 & p, s += u, p /= 256, e -= 8);
				a[t + s - u] |= 128 * l
			};


		}, {}
	],
	4: [
		function(require, module, exports) {
			var isArray = Array.isArray,
				str = Object.prototype.toString;
			module.exports = isArray || function(r) {
				return !!r && "[object Array]" == str.call(r)
			};


		}, {}
	],
	5: [
		function(require, module, exports) {
			(function(process) {
				function normalizeArray(r, t) {
					for (var e = 0, n = r.length - 1; n >= 0; n--) {
						var s = r[n];
						"." === s ? r.splice(n, 1) : ".." === s ? (r.splice(n, 1), e++) : e && (r.splice(n, 1), e--)
					}
					if (t)
						for (; e--; e) r.unshift("..");
					return r
				}

				function filter(r, t) {
					if (r.filter) return r.filter(t);
					for (var e = [], n = 0; n < r.length; n++) t(r[n], n, r) && e.push(r[n]);
					return e
				}
				var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
					splitPath = function(r) {
						return splitPathRe.exec(r).slice(1)
					};
				exports.resolve = function() {
					for (var r = "", t = !1, e = arguments.length - 1; e >= -1 && !t; e--) {
						var n = e >= 0 ? arguments[e] : process.cwd();
						if ("string" != typeof n) throw new TypeError("Arguments to path.resolve must be strings");
						n && (r = n + "/" + r, t = "/" === n.charAt(0))
					}
					return r = normalizeArray(filter(r.split("/"), function(r) {
						return !!r
					}), !t).join("/"), (t ? "/" : "") + r || "."
				}, exports.normalize = function(r) {
					var t = exports.isAbsolute(r),
						e = "/" === substr(r, -1);
					return r = normalizeArray(filter(r.split("/"), function(r) {
						return !!r
					}), !t).join("/"), r || t || (r = "."), r && e && (r += "/"), (t ? "/" : "") + r
				}, exports.isAbsolute = function(r) {
					return "/" === r.charAt(0)
				}, exports.join = function() {
					var r = Array.prototype.slice.call(arguments, 0);
					return exports.normalize(filter(r, function(r, t) {
						if ("string" != typeof r) throw new TypeError("Arguments to path.join must be strings");
						return r
					}).join("/"))
				}, exports.relative = function(r, t) {
					function e(r) {
						for (var t = 0; t < r.length && "" === r[t]; t++);
						for (var e = r.length - 1; e >= 0 && "" === r[e]; e--);
						return t > e ? [] : r.slice(t, e - t + 1)
					}
					r = exports.resolve(r).substr(1), t = exports.resolve(t).substr(1);
					for (var n = e(r.split("/")), s = e(t.split("/")), i = Math.min(n.length, s.length), o = i, u = 0; i > u; u++)
						if (n[u] !== s[u]) {
							o = u;
							break
						}
					for (var l = [], u = o; u < n.length; u++) l.push("..");
					return l = l.concat(s.slice(o)), l.join("/")
				}, exports.sep = "/", exports.delimiter = ":", exports.dirname = function(r) {
					var t = splitPath(r),
						e = t[0],
						n = t[1];
					return e || n ? (n && (n = n.substr(0, n.length - 1)), e + n) : "."
				}, exports.basename = function(r, t) {
					var e = splitPath(r)[2];
					return t && e.substr(-1 * t.length) === t && (e = e.substr(0, e.length - t.length)), e
				}, exports.extname = function(r) {
					return splitPath(r)[3]
				};
				var substr = "b" === "ab".substr(-1) ? function(r, t, e) {
						return r.substr(t, e)
					} : function(r, t, e) {
						return 0 > t && (t = r.length + t), r.substr(t, e)
					};


			}).call(this, require('_process'))
		}, {
			"_process": 6
		}
	],
	6: [
		function(require, module, exports) {
			function cleanUpNextTick() {
				draining = !1, currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1, queue.length && drainQueue()
			}

			function drainQueue() {
				if (!draining) {
					var e = setTimeout(cleanUpNextTick);
					draining = !0;
					for (var n = queue.length; n;) {
						for (currentQueue = queue, queue = []; ++queueIndex < n;) currentQueue && currentQueue[queueIndex].run();
						queueIndex = -1, n = queue.length
					}
					currentQueue = null, draining = !1, clearTimeout(e)
				}
			}

			function Item(e, n) {
				this.fun = e, this.array = n
			}

			function noop() {}
			var process = module.exports = {}, queue = [],
				draining = !1,
				currentQueue, queueIndex = -1;
			process.nextTick = function(e) {
				var n = new Array(arguments.length - 1);
				if (arguments.length > 1)
					for (var r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
				queue.push(new Item(e, n)), 1 !== queue.length || draining || setTimeout(drainQueue, 0)
			}, Item.prototype.run = function() {
				this.fun.apply(null, this.array)
			}, process.title = "browser", process.browser = !0, process.env = {}, process.argv = [], process.version = "", process.versions = {}, process.on = noop, process.addListener = noop, process.once = noop, process.off = noop, process.removeListener = noop, process.removeAllListeners = noop, process.emit = noop, process.binding = function(e) {
				throw new Error("process.binding is not supported")
			}, process.cwd = function() {
				return "/"
			}, process.chdir = function(e) {
				throw new Error("process.chdir is not supported")
			}, process.umask = function() {
				return 0
			};


		}, {}
	],
	7: [
		function(require, module, exports) {
			"use strict";

			function hasOwnProperty(r, e) {
				return Object.prototype.hasOwnProperty.call(r, e)
			}
			module.exports = function(r, e, t, n) {
				e = e || "&", t = t || "=";
				var o = {};
				if ("string" != typeof r || 0 === r.length) return o;
				var a = /\+/g;
				r = r.split(e);
				var s = 1e3;
				n && "number" == typeof n.maxKeys && (s = n.maxKeys);
				var p = r.length;
				s > 0 && p > s && (p = s);
				for (var y = 0; p > y; ++y) {
					var u, c, i, l, f = r[y].replace(a, "%20"),
						v = f.indexOf(t);
					v >= 0 ? (u = f.substr(0, v), c = f.substr(v + 1)) : (u = f, c = ""), i = decodeURIComponent(u), l = decodeURIComponent(c), hasOwnProperty(o, i) ? isArray(o[i]) ? o[i].push(l) : o[i] = [o[i], l] : o[i] = l
				}
				return o
			};
			var isArray = Array.isArray || function(r) {
					return "[object Array]" === Object.prototype.toString.call(r)
				};


		}, {}
	],
	8: [
		function(require, module, exports) {
			"use strict";

			function map(r, e) {
				if (r.map) return r.map(e);
				for (var t = [], n = 0; n < r.length; n++) t.push(e(r[n], n));
				return t
			}
			var stringifyPrimitive = function(r) {
				switch (typeof r) {
					case "string":
						return r;
					case "boolean":
						return r ? "true" : "false";
					case "number":
						return isFinite(r) ? r : "";
					default:
						return ""
				}
			};
			module.exports = function(r, e, t, n) {
				return e = e || "&", t = t || "=", null === r && (r = void 0), "object" == typeof r ? map(objectKeys(r), function(n) {
					var i = encodeURIComponent(stringifyPrimitive(n)) + t;
					return isArray(r[n]) ? map(r[n], function(r) {
						return i + encodeURIComponent(stringifyPrimitive(r))
					}).join(e) : i + encodeURIComponent(stringifyPrimitive(r[n]))
				}).join(e) : n ? encodeURIComponent(stringifyPrimitive(n)) + t + encodeURIComponent(stringifyPrimitive(r)) : ""
			};
			var isArray = Array.isArray || function(r) {
					return "[object Array]" === Object.prototype.toString.call(r)
				}, objectKeys = Object.keys || function(r) {
					var e = [];
					for (var t in r) Object.prototype.hasOwnProperty.call(r, t) && e.push(t);
					return e
				};


		}, {}
	],
	9: [
		function(require, module, exports) {
			"use strict";
			exports.decode = exports.parse = require("./decode"), exports.encode = exports.stringify = require("./encode");


		}, {
			"./decode": 7,
			"./encode": 8
		}
	],
	10: [
		function(require, module, exports) {
			(function(global) {
				"use strict";
				var path = require("path"),
					ua = require("./service/ua");
				require("es6-promise").polyfill(), require("./module/chat/index"), require("./module/contact/index"), require("./module/contact/friendRequest"), require("./module/login/auth"), require("./module/login/index"), require("./module/list/index"), require("./module/nocontent/nocontent"), require("./module/home/index"), require("./module/im/index"), require("./module/arch/index"), require("./directive/infiniteScroll"), require("./directive/log"), require("./filter/filter"), require("./directive/widget/preventDrag"), require("./service/goldlog/staylog"), require("./module/login/scanCodeLogin"), require("./service/app/nw.js"), require("./service/widget/screenshot.js"), require("./service/log/exceptionLog"), require("./service/toast/toast"), require("./service/appInit/init"), require("./directive/widget/avatar/avatar"), require("./directive/widget/breadcrumbs"), require("./directive/widget/hoverTip"), angular.module("ddWeb", ["ui.router", "ui.router.stateHelper", "ddWeb.contact", "ddWeb.chat", "ddWeb.home", "ddWeb.im", "ddWeb.list", "ddWeb.auth", "ddWeb.nocontent", "ddWeb.login", "ddWeb.filter", "ddWeb.infiniteScroll", "ddWeb.log", "ddWeb.scanCodeLogin", "ddWeb.friendRequest", "ddWeb.nw", "ddWeb.service.screenshot", "ddWeb.log.exceptionLog", "ddWeb.preventDrag", "ddWeb.goldlog.staylog", "ddWeb.widget.avatar", "ddWeb.widget.breadcrumbs", "ddWeb.widget.hoverTip", "ddWeb.appInit.init", "ddWeb.arch", require("./directive/widget/loading/loading"), require("./service/log/log"), require("./directive/widget/ddCopy"), require("./directive/widget/ddClickUrl"), require("./module/apiTest/apiTest"), require("./module/microApp/index"), require("./service/app/silentUpdate")]).config(["stateHelperProvider", "$compileProvider",
					function(n, e) {
						e.imgSrcSanitizationWhitelist(/^\s*((https?|ftp|file|blob|app):|data:image\/)/), n.setNestedState({
							name: "auth",
							controller: "auth as auth",
							template: '<div class="welcome">\n    <img ng-src="{{auth.welcomeImg}}" alt="">\n    <p>系统连接中，请稍等</p>\n</div>\n\n'
						}), n.setNestedState({
							name: "login",
							template: '<div id="header" class="login-header" ng-dblclick="login.onHeaderDblClick()"><!-- 此dom不可变更 -->\r\n    <window-operations></window-operations>\r\n</div>\r\n<div class="login-form tab login-tab">\r\n    <ul class="tab-items">\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.scanCodeLogin\'}" ui-sref=".scanCodeLogin">扫码登录</li>\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.passwordLogin\'}" ui-sref=".passwordLogin">密码登录</li>\r\n        <li class="tab-item" ng-class="{current:login.currentState===\'login.verLogin\'}" ui-sref=".verLogin">验证码登录</li>\r\n    </ul>\r\n    <div ui-view class="tab-contents"></div>\r\n</div>\r\n',
							controller: "login as login",
							children: [{
								name: "verLogin",
								template: '<div class="tab-content ver-login current">\n    <form id="verLoginForm" name="verLoginForm" ng-submit="verLoginForm.$valid && verLogin.submit()" novalidate>\n        <div class="avatar-halo" ng-show="verLogin.connecting"></div>\n        <div class="avatar biger border-thick" ng-if="(!verLogin.user.nick && !verLogin.user.avatarMediaId)||!verLogin.isCurrentUser">\n            <img src="https://gtms03.alicdn.com/tps/i3/TB1opXxHXXXXXahXpXXvBLt6FXX-230-230.png" class="country-img" alt="" />\n        </div>\n        <dd-avatar mediaid="verLogin.user.avatarMediaId" nick="verLogin.user.nick" class="biger border-thick" ng-if="(verLogin.user.nick || verLogin.user.avatarMediaId)&&verLogin.isCurrentUser"></dd-avatar>\n        <div class="clearfix">\n            <phone-input phone="verLogin.telephone" country-key="verLogin.countryKey" focus-on="verLogin.focusTelephone" on-change="verLogin.onPhoneChange(data)">\n            </phone-input>\n            <div class="send-form-button-wrapper">\n                <countdown count-from="verLogin.countFrom" on-timeout="verLogin.countTimeout()" ng-show="verLogin.countFrom > 0"></countdown>\n                <button type="button" ng-class="{disabled:verLogin.codedisable || !verLogin.phoneValid}"  ng-click="verLogin.phoneValid && verLogin.sendCode()" class="send-form-button">发送验证码</button>\n            </div>\n        </div>\n        <div class="clearfix">\n            <input form-number length="4" ng-change="verLogin.submitDisable=false" ng-model="verLogin.code"  focus="verLogin.focusTelephone" type="text" name="verification" placeholder="请输入验证码" class="fm-input ver-code" required>\n        </div>\n        <button type="submit" ng-class="{disabled:verLoginForm.$invalid || verLogin.submitDisable}"  class="blue big">登录</button>\n        <div class="toast warning" ng-click="verLogin.loginError.msg=\'\'"ng-if="verLogin.loginError.msg"><i class="iconfont">&#xe63d;</i>{{verLogin.loginError.msg}}</div>\n        <div class="auto-login-box" ng-if="verLogin.isNw" htitle="支持7天内的自动登录" htitle-direction="top" htitle-offset="left">\n            <input type="checkbox" id="auto-login-input" ng-model="loginState.isAutoLogin"/>\n            <label for="auto-login-input">自动登录</label>\n        </div>\n    </form>\n</div>\n',
								controller: "verLogin as verLogin"
							}, {
								name: "scanCodeLogin",
								template: '<div class="tab-content qrcode-login current" id="qrcode-login">\n    <div class="qrcode-wrapper">\n        <qrcode class="qrcode-img" data="{{scanCodeLogin.qrcodeOpt.data}}" size="{{scanCodeLogin.qrcodeOpt.size}}" version="{{scanCodeLogin.qrcodeOpt.version}}" error-correction-level="{{scanCodeLogin.qrcodeOpt.level}}" ng-show="scanCodeLogin.hasQrcode"></qrcode>\n        <div class="qr-mask" ng-if="scanCodeLogin.maskDisplay"></div>\n        <loading ng-if="scanCodeLogin.maskDisplay && !scanCodeLogin.errMsg"></loading>\n        <span class="err-info" ng-if="scanCodeLogin.maskDisplay && scanCodeLogin.errMsg">{{scanCodeLogin.errMsg}}</span>\n    </div>\n	<p class="rem">\n        <span>请使用钉钉扫描二维码登录</span>\n        <a ng-class="{\'refresh-disabled\':!scanCodeLogin.canRefresh}" class="refresh-qrcode" href="#" ng-click="scanCodeLogin.updateQrCode()"><i class="iconfont">&#xe636;</i><span>刷新</span></a>\n    </p>\n    <new-user-info></new-user-info>\n</div>\n',
								controller: "scanCodeLogin as scanCodeLogin"
							}, {
								name: "passwordLogin",
								template: '<div class="tab-content password-login current">\n    <form ng-submit="passwordLogin.submit()" name="passwordForm">\n        <div class="avatar-halo" ng-show="passwordLogin.connecting"></div>\n        <div class="avatar biger border-thick" ng-if="(!passwordLogin.user.nick && !passwordLogin.user.avatarMediaId)|| !passwordLogin.isCurrentUser">\n            <img src="https://gtms03.alicdn.com/tps/i3/TB1opXxHXXXXXahXpXXvBLt6FXX-230-230.png" class="country-img" alt="" />\n        </div>\n        <dd-avatar mediaid="passwordLogin.user.avatarMediaId" nick="passwordLogin.user.nick" class="biger border-thick" ng-if="(passwordLogin.user.nick || passwordLogin.user.avatarMediaId) && passwordLogin.isCurrentUser"></dd-avatar>\n        <div class="clearfix">\n            <phone-input phone="passwordLogin.telephone" country-key="passwordLogin.countryKey" focus-on="passwordLogin.focusPhone" on-change="passwordLogin.onPhoneChange(data)"></phone-input>\n        </div>\n        <div class="clearfix">\n            <input class="fm-input password" ng-change="passwordLogin.submitable=true" ng-minlength="4" ng-model="passwordLogin.password" focus="passwordLogin.focusPhone" type="password" name="verification" placeholder="请输入密码" ng-class="{disabled:!passwordLogin.phoneValid}" required>\n        </div>\n        <button type="submit" class="blue big" ng-class="{disabled:!passwordLogin.submitable|| !passwordLogin.phoneValid || passwordForm.$invalid}" >登录</button>\n        <div class="toast warning" ng-click="passwordLogin.loginError.msg=\'\'"ng-if="passwordLogin.loginError.msg"><i class="iconfont">&#xe63d;</i>{{passwordLogin.loginError.msg}}</div>\n        <new-user-info></new-user-info>\n        <div class="auto-login-box" ng-if="passwordLogin.isNw" htitle="支持7天内的自动登录" htitle-direction="top" htitle-offset="left">\n            <input type="checkbox" id="auto-login-input" ng-model="loginState.isAutoLogin"/>\n            <label for="auto-login-input">自动登录</label>\n        </div>\n    </form>\n    <div class="sms-verify shadow" ng-show="passwordLogin.needSmsVerify">\n        <form ng-submit="passwordLogin.verifySmsCode()">\n            <p class="desc">为了您的帐号安全，请输入手机上收到的验证码</p>\n            <div class="info-field clearfix">\n                <input class="fm-input phone" disabled="true" value="{{ passwordLogin.fullPhone }}" />\n                <div class="send-form-button-wrapper">\n                    <countdown count-from="passwordLogin.countFrom" on-timeout="passwordLogin.countTimeout()" ng-show="passwordLogin.countFrom > 0"></countdown>\n                    <button type="button" ng-class="{disabled:passwordLogin.sendCodeDisable}"  ng-click="passwordLogin.sendSmsCode()" class="send-form-button">发送验证码</button>\n                </div>\n            </div>\n            <input class="fm-input smscode" ng-change="passwordLogin.smsCodeChange()" placeholder="验证码" ng-model="passwordLogin.smsCode" />\n            <button type="submit" class="blue big" ng-disabled="passwordLogin.smsCodeSubmitDisabled">确认</button>\n            <div class="toast warning" ng-show="passwordLogin.smsCodeErrMsg" ng-click="passwordLogin.clearSendSmsErrMsg()"><i class="iconfont">&#xe63d;</i>{{passwordLogin.smsCodeErrMsg}}</div>\n        </form>\n    </div>\n</div>\n',
								controller: "passwordLogin as passwordLogin"
							}]
						}), n.setNestedState({
							name: "authorized",
							template: '<div id="layout-main">\n    <div id="header" ng-dblclick="home.onHeaderDblClick($event)">\n        <window-operations></window-operations>\n        <search-bar placeholder="搜索联系人，群组"></search-bar>\n    </div>\n    <div id="body">\n        <div id="menu-pannel"><!-- 此dom不可变更 -->\n            <div class="profile">\n                <div dd-avatar uid="home.$my.userProfileModel.uid" class="profile-big border-thick" is-show-modal="\'true\'"></div>\n                <p class="name" ng-bind-html="home.$my.userProfileModel.nick|emoj"></p>\n            </div>\n            <div class="connecting-bar" ng-if="home.login_state === 1">\n                <div class="connecting-icon error"></div>\n                <span class="connecting-tip">正在重连...</span>\n            </div>\n            <ul class="main-menus">\n                <li class="menu-item menu-message" ng-click="home.goState(\'authorized.im\')" ng-class="{selected:home.$state.includes(\'authorized.im\')}" ng-dblclick="home.scrollToUnReadConv()">\n                    <i class="iconfont menu-icon"></i>\n                    <span class="text">消息</span>\n                    <span class="unread-num" ng-if="home.unreadMsgCount>0"><em>{{home.unreadMsgCount}}</em></span>\n                </li>\n                <li class="menu-item menu-ding" ng-click="home.goState(\'authorized.ding\')" ng-class="{selected:home.$state.includes(\'authorized.ding\')}">\n                    <i class="iconfont menu-icon"></i>\n                    <span class="text">DING</span>\n                    <span class="unread-num" ng-if="home.receiveList.newCount!==0"><em>{{home.receiveList.newCount}}</em></span>\n                    <i ng-if="home.receiveList.newCount===0&&(home.receiveList.hasNewComment||home.sendList.hasNewComment)" class="iconfont unread-dot ding-unread-dot">&#xe608;</i>\n                </li>\n                <li class="menu-item menu-contact"\n                    ng-click="home.onContactClick()"\n                    ng-class="{selected:home.$state.includes(\'authorized.arch\') || home.$state.includes(\'authorized.contact\')}">\n                    <i class="iconfont menu-icon"></i>\n                    <span class="text">联系人</span>\n                </li>\n                <li class="menu-item menu-micro-app" ng-click="home.goState(\'authorized.microApp\')" ng-class="{selected:home.$state.includes(\'authorized.microApp\')}" ng-if="home.isShowMicroApp">\n                    <i class="iconfont menu-icon"></i>\n                    <span class="text">工作</span>\n                </li>\n            </ul>\n            <ul class="extra-options">\n                <cloud-disk></cloud-disk>\n                <org-email></org-email>\n                <li class="extra-item more-actions">\n                    <div function-menu></div>\n                </li>\n                <li class="extra-item settings" >\n                    <div setting-menu></div>\n                </li>\n            </ul>\n        </div>\n        <div ui-view id="menu-pannel-body"></div>\n    </div>\n</div>\n',
							controller: "home as home",
							children: [{
								name: "im",
								template: '<div id="sub-menu-pannel" class="conv-list-pannel">\n    <conv-list></conv-list>\n</div>\n<div ui-view id="content-pannel"></div>',
								controller: "im as im",
								children: [{
									name: "nocontent",
									template: '<div class="conv-detail-pannel">\n    <div class="nocontent-logo" >\n        <div>\n            <img ng-src="{{nocontent.welcomeImg}}" alt="欢迎">\n        </div>\n    </div>\n    <div class="nocontent-tips" >\n        <p ng-show="nocontent.timeType == \'morning\'"><img ng-src="{{nocontent.morningImg}}" alt="早上好"> 早上好，今天请继续加油！</p>\n        <p ng-show="nocontent.timeType == \'afternoon\'"><img ng-src="{{nocontent.afternoonImg}}" alt="下午好"> 下午好，喝杯茶吧，让精神抖擞起来。</p>\n        <p ng-show="nocontent.timeType == \'night\'"><img ng-src="{{nocontent.nightImg}}" alt="晚上好"> 晚上好，请注意休息。</p>\n    </div>\n\n</div>\n',
									controller: "nocontent as nocontent"
								}, {
									name: "chat",
									template: '<div class="conv-detail-pannel">\n    <div class="content-pannel-head">\n        <dd-avatar tag="convList.allConv[convId].baseConversation.tag"\n                   icon="chat.conv.baseConversation.icon"\n                   extension="chat.conv.baseConversation.extension"></dd-avatar>\n        <p class="head-title conv-title">\n            <span ng-bind-html="chat.conv.baseConversation.title|emoj"></span>        \n            <span ng-if="chat.conv.isShowTyping" class="conv-title-typing">({{chat.typingWords}})</span>\n        </p>\n        <i class="icon-company" ng-if="chat.conv.baseConversation.tag==chat.ConvType.COMPANY_GROUP" ng-class="{\'icon-dept-company\':chat.conv.baseConversation.extension.deptId}"></i>\n        <div class="head-operations conv-operations">\n            <i ng-if="chat.conv.baseConversation.type===2&&chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT" ng-click="chat.showGroupBulletinModal($event)" class="iconfont icon-group-announcement" htitle="群公告" htitle-offset="left">&#xe667;</i>\n            <i ng-if="chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY" ng-click="chat.goCloudDisk($event)" class="iconfont org-cloud-disk" htitle="{{chat.spaceText}}" htitle-offset="left">&#xe661;</i>\n            <i ng-click="chat.showGroupSettingModal($event)" class="iconfont icon-group-setting" htitle="群设置" ng-if="chat.conv.baseConversation.type===2&&chat.conv.baseConversation.tag!==chat.ConvType.ANNOUNCEMENT" htitle-offset="left" log="groupchat_setting">&#xe60d;</i>\n            <i ng-click="chat.addMember()" class="iconfont" htitle="添加新成员" htitle-offset="left" ng-if="chat.isSingle&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY&&chat.uid!==chat.myuid">&#xe631;</i>\n            <chat-call ng-if="chat.isSingle" uid=\'chat.uid\' nick="chat.conv.baseConversation.title" ></chat-call>\n            <i ng-click="chat.showProfile()" class="iconfont icon-profile" htitle="个人设置" htitle-offset="left" ng-if="chat.conv.baseConversation.type===1&&chat.conv.baseConversation.tag!==chat.ConvType.FILEHELPER&&chat.conv.baseConversation.tag!==chat.ConvType.SECRETARY">&#xe656;</i>\n        </div>\n    </div>\n    <div chat-box conv="chat.conv" class="content-pannel-body" id="chat-box"></div>\n    <div responsive-input conv="chat.conv" ng-if="!chat.conv.isOAConv"></div>\n</div>\n',
									controller: "chat as chat",
									params: ["id", "createdAt"]
								}, {
									name: "friendRequest",
									template: '<div class="friend-request-pannel"><!-- 根据不同场景使用不同的class -->\n    <div class="content-pannel-head"><!-- 此dom，结构不可变更，但可根据场景确定是否要引入它 -->\n        <p class="head-title group-name">新的好友</p>\n    </div>\n    <div class="content-pannel-body"><!-- 如果没有content-pannel-head，则此dom不需引用 -->\n       <loading ng-if="friendRequest.friendData.isLoading"></loading>\n        <ul class="list-with-avatar-and-info group-member-lists">\n            <li class="list-item group-member-item" ng-repeat="item in friendRequest.friendData.friendList" ng-click=\'item.showProfileModal()\'>\n                <dd-avatar class="profile" uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar> \n                <div class="info">\n                    <p class="name">\n                        <span ng-if="item.user.friendRequestModel.status == 1"><strong ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong>想加你为好友</span>\n                        <span ng-if="item.user.friendRequestModel.status == 3">你已添加<strong ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong>为好友</span>\n                        <span ng-if="item.user.friendRequestModel.status == 2||item.user.friendRequestModel.status == 4"><strong ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></strong></span>\n                    </p>\n                </div>  \n                <div class="info">\n                    <p class="title" ng-bind-html="item.remark|emoj"></p>\n                </div>\n                <div class="status">\n                    <button class="blue small" ng-if="item.user.friendRequestModel.status === 1" ng-click=\'item.user.acceptFriend($event)\'>接受</button>\n                    <span ng-if="item.user.friendRequestModel.status === 2">已发送</span>\n                    <a ng-if="item.user.friendRequestModel.status === 3" ng-click=\'item.showProfileModal($event)\' class="right floated view">查看/设置备注名</a>\n                    <button class="blue small" ng-if="item.user.friendRequestModel.status == 4" ng-click=\'item.showProfileModal(true,$event)\'>添加</button>\n                </div>              \n            </li>\n        </ul>\n    </div>\n</div>',
									controller: "friendRequest as friendRequest"
								}]
							}, {
								name: "contact",
								template: '<div id="sub-menu-pannel" class="contact-group-pannel">\n    <ul class="sub-menu-tab" ng-if="contact.isShowTab">\n        <li class="sub-menu-item" ng-click="contact.onArchClick()">架构</li>\n        <li class="sub-menu-item selected">关系</li>\n    </ul>\n    <ul class="list-with-icon-and-title contact-groups">\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.friend\'}" ui-sref=".friend" log=\'contact_myfriend_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont">&#xe627;</i>\n                <span class="item-title group-name">我的好友</span>\n            </div>\n        </li>\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.group\'}" ui-sref=".group" log=\'contact_group_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont">&#xe60d;</i>\n                <span class="item-title group-name">我的群组</span>\n            </div>\n        </li>\n        <li class="list-item contact-group-item" ng-class="{active:contact.currentState==\'authorized.contact.follow\'}" ui-sref=".follow" log=\'contact_group_button_click\'>\n            <div class="item-wrapper">\n                <i class="iconfont follow-icon">&#xe662;</i>\n                <span class="item-title group-name">特别关注</span>\n            </div>\n        </li>\n    </ul>\n</div>\n<div id="content-pannel" ui-view></div>\n',
								controller: "contact as contact",
								children: [{
									name: "friend",
									template: '<div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">我的好友</p>\n         <div class="head-operations contact-operations" log="mainpage_addfriend_click" ng-click="friendContact.searchFriend();">\n             <i class="iconfont icon-add-friend" htitle="添加好友" htitle-offset="left">&#xe631;</i>\n         </div>\n     </div>\n     <div class="content-pannel-body">\n        <loading ng-if="friendContact.friendData.isLoading"></loading>\n         <ul class="list-with-avatar-and-info group-member-lists" ng-if="friendContact.friendData.friendList.length!==0">\n             <li class="list-item group-member-item has-no-title" ng-repeat="item in friendContact.friendData.friendList" ng-click=\'item.showProfileModal()\' ng-if="item.user.friendRequestModel.status===3">\n                 <dd-avatar class="profile" uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar>\n                 <div class="info">\n                     <p class="name"><span ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></span></p>\n                 </div>                 \n             </li>\n         </ul>\n         <div class="empty-container" ng-if="friendContact.friendData.friendList.length===0&&!friendContact.friendData.hasMore">\n             <div class="sprite-empty empty-contact"></div>\n             <p class="empty-info">暂时没有好友</p>\n         </div>\n     </div>\n </div>',
									controller: "friendContact as friendContact"
								}, {
									name: "group",
									template: ' <div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">我的群组</p>\n     </div>\n     <div class="content-pannel-body">\n         <!--   -->\n         <group-list list-type = "ALL" click-type = "OPENCONV"></group-list>\n     </div>\n </div>\n\n',
									controller: "groupContact as groupContact"
								}, {
									name: "follow",
									template: '<div class="contact-group-member-pannel">\n     <div class="content-pannel-head">\n         <p class="head-title group-name">特别关注</p>\n         <!-- <div class="head-operations contact-operations" log="mainpage_addfriend_click" ng-click="friendContact.searchFriend();">\n             <i class="iconfont icon-add-friend" htitle="添加好友" htitle-offset="left">&#xe631;</i>\n         </div> -->\n     </div>\n     <div class="content-pannel-body">\n         <ul class="list-with-avatar-and-info group-member-lists" ng-if="followContact.followList.length!==0">\n             <li class="list-item group-member-item has-no-title" ng-repeat="item in followContact.followList" ng-click="followContact.showProfile(item)">\n                 <dd-avatar class="profile" uid="item.userProfileModel.uid" nick="item.userProfileModel.nick"></dd-avatar>\n                 <div class="info">\n                     <p class="name"><span ng-bind-html="(item.remarkNameObj.alias || item.userProfileModel.nick)|emoj"></span></p>\n                 </div>                 \n             </li>\n         </ul>\n         <div class="empty-container" ng-if="followContact.followList.length===0">\n             <div class="sprite-empty empty-contact"></div>\n             <p class="empty-info">暂时没有特别关注</p>\n         </div>\n     </div>\n </div>\n',
									controller: "followContact as followContact"
								}]
							}, {
								name: "ding",
								template: '<div id="sub-menu-pannel" class="ding-group-pannel">\n    <ul class="list-with-icon-and-title ding-groups">\n        <li class="list-item ding-group-item" ui-sref=".receive" ng-class="{\'active\':list.$state.is(\'authorized.ding.receive\')}" log=\'ding_tab_receive\'>\n            <div class="item-wrapper ding-group-wrapper">\n                <i class="iconfont my-received ding-list-icon">&#xe62c;</i>\n                <span class="item-title ding-group-name">我收到的</span>\n                <i  class="iconfont unread-dot ding-unread-dot" ng-if="list.receiveList.hasNewComment">&#xe608;</i>\n            </div>\n        </li>\n        <li class="list-item ding-group-item" ui-sref=".send" ng-class="{\'active\':list.$state.is(\'authorized.ding.send\')}" log=\'ding_tab_send\'>\n            <div class="item-wrapper ding-group-wrapper">\n                <i class="iconfont ding-list-icon">&#xe630;</i>\n                <span class="item-title ding-group-name">我发出的</span>\n                <i class="iconfont unread-dot ding-unread-dot" ng-if="list.sendList.hasNewComment">&#xe608;</i>\n            </div>\n        </li>\n    </ul>\n</div>\n<div ui-view id="content-pannel"></div>\n',
								controller: "list as list",
								children: [{
									name: "receive",
									template: '<div class="ding-list-pannel">\r\n    <div class="content-pannel-head">\r\n        <p class="head-title ding-group-name">我收到的DING</p>\r\n        <div class="head-operations ding-operations">\r\n            <i class="iconfont" ng-click="receive.showDingModal()" htitle="DING一下" htitle-offset="left">&#xe62a;</i>\r\n        </div>\r\n    </div>\r\n    <div class="content-pannel-body" infinite-scroll infinite-scroll-bottom="receive.loadMore()">\r\n        <loading ng-if="receive.dingstate === 0"></loading>\r\n    	<ul class="ding-lists" ng-if="receive.dingstate === 2">\r\n    		<div ding-item ng-repeat="ding in receive.receiveList.showItems" ng-if="!ding.EOF" ding="ding"></div>\r\n    	</ul>\r\n        <div class="empty-container" ng-if="receive.dingstate === 1">\r\n            <div class="sprite-empty empty-ding"></div>\r\n            <p class="empty-info">暂时没有收到任何钉</p>\r\n        </div>\r\n        <loading ng-if="!receive.isOver&&receive.isLoading&&receive.dingstate==2" position="\'bottom\'" class="bottom-loading"></loading>\r\n    </div>\r\n</div>',
									controller: "receive as receive"
								}, {
									name: "send",
									template: '<div class="ding-list-pannel">\r\n    <div class="content-pannel-head">\r\n        <p class="head-title ding-group-name">我发出的DING</p>\r\n        <div class="head-operations ding-operations">\r\n            <i class="iconfont" ng-click="send.showDingModal()" htitle="DING一下" htitle-offset="left">&#xe62a;</i>\r\n        </div>\r\n    </div>\r\n    <div class="content-pannel-body" infinite-scroll infinite-scroll-bottom="send.loadMore()">\r\n        <loading ng-if="send.dingstate === 0"></loading>\r\n        <ul class="ding-lists" ng-if="send.dingstate === 2">\r\n    		<div ding-item ng-repeat="ding in send.sendList.showItems" ng-if="!ding.EOF" ding="ding"></div>\r\n    	</ul>\r\n        <div class="empty-container" ng-if="send.dingstate === 1">\r\n            <div class="sprite-empty empty-ding"></div>\r\n            <p class="empty-info">暂时没有发过任何钉</p>\r\n        </div>\r\n        <loading ng-if="!send.isOver&&send.isLoading&&send.dingstate===2" position="\'bottom\'" class="bottom-loading"></loading>\r\n    </div>\r\n</div>',
									controller: "send as send"
								}]
							}, {
								name: "arch",
								template: '<div id="sub-menu-pannel" class="org-list-pannel">\n    <ul class="sub-menu-tab">\n        <li class="sub-menu-item selected">架构</li>\n        <li class="sub-menu-item" ng-click="arch.onContactClick()">关系</li>\n    </ul>\n    <div class="sub-menu-list">\n        <loading ng-if="arch.isGettingMyProfile"></loading>\n        <organization-list current-org-data="arch.currentOrgData" current-dept="arch.currentDept" org-employees="arch.orgEmployees"></organization-list>\n    </div>\n</div>\n<div id="content-pannel"><!-- 此dom不可变更 -->\n    <div class="org-detail-pannel"><!-- 根据不同场景使用不同的class -->\n        <div class="content-pannel-head"><!-- 此dom，结构不可变更，但可根据场景确定是否要引入它 -->\n            <p class="head-title org-name">{{arch.currentOrgData.orgName}}</p>\n            <div class="head-operations contact-operations" ng-if="arch.leavePermission === true" ng-click="arch.onQuitClick()">\n                <span class="operation">\n                    <i class="iconfont" htitle="{{arch.btnText}}" htitle-offset="left">&#xe645;</i>\n                </span>\n            </div>\n        </div>\n        <org-list current-dept="arch.currentDept" class="content-pannel-body"></org-list>\n    </div>\n</div>\n',
								controller: "arch as arch"
							}, {
								name: "apiTest",
								template: '<div id="sub-menu-pannel">\n    <h4>API Test</h4>\n    <!--<form ng-submit="apiTest.submitTestUrl()" style="padding:12px">-->\n    <input type="text" ng-model="apiTest.testUrl" style="margin-bottom:8px" />\n    <button class="button small" ng-click="apiTest.submitTestUrl();">打开</button>\n    <!--</form>-->\n</div>\n<div id="content-pannel">\n    <micro-app-container container-id="apiTest.containerId" app-url="apiTest.resultUrl"></micro-app-container>\n</div>\n',
								controller: "apiTestCtrl as apiTest"
							}, {
								name: "microApp",
								template: '<div id="sub-menu-pannel" class="micro-app-list-pannel" >\n\n                <dd-drop-down\n                    class="micro-app-selector"\n                    repeat-data="microApp.orgList"\n                    on-select="microApp.onOrgSelect"\n                    ng-model="microApp.currentOrg"\n                    ng-if="!microApp.isOnlyOneOrg">\n                    <dd-drop-down-match class="eye selected-country">\n                        <i class="iconfont title-icon">&#xe62e;</i>\n                        <span class="selector-panel-org-name">{{$selectItem.orgName}}</span>\n                        <i class="iconfont tri arrow">&#xe633;</i>\n                    </dd-drop-down-match>\n                    <dd-drop-down-choices>\n                        <span>{{$repeatItem.orgName}}</span>\n                    </dd-drop-down-choices>\n                </dd-drop-down>\n\n    <ul class="list-with-icon-and-title micro-app-list" ng-class="{\'only-one-org\': microApp.isOnlyOneOrg}">\n        <div class="list-item">\n            <li class="list-item icro-app-item sub-list-item" ng-if="microApp.apps.length !== 0" ng-class="{\'active\': microApp.currentApp.agent === app.agent}" ng-repeat="app in microApp.apps" ng-click="microApp.onAppClick(app)" >\n                <div class="item-wrapper micro-app-wrapper">\n                    <img class="micro-app-icon-img" ng-src="{{app.iconUrl}}" />\n                    <span class="item-title micro-app-name">{{app.name}}</span>\n                </div>\n            </li>\n            <li class="micro-app-empty" ng-if="microApp.apps.length === 0">该企业暂无PC端支持的微应用</li>\n        </div>\n    </ul>\n\n</div>\n<div id="content-pannel">\n    <micro-app-container ng-if="!microApp.showDefaultPage" container-id="microApp.containerId" app-url="microApp.resultUrl"></micro-app-container>\n    <div class="content-pannel-body" ng-if="microApp.showDefaultPage">\n        <div class="micro-app-default-page">\n            <div class="micro-app-default-icon"></div>\n            <p class="micro-app-default-text">\n                <span>欢迎使用微应用，更多应用持续开发中，敬请期待！</span>\n            </p>\n        </div>\n    </div>\n</div>\n',
								controller: "microAppSelector as microApp"
							}]
						})
					}
				]).run(["$rootScope", "$state", "nw", "screenshotService", "exceptionLog", "staylog", "$appInit", "silentUpdate",
					function(n, e, i, t, o, s, a, r) {
						o.init(), e.go("auth"), s.init(), a.init(), ua.isNw && r.init()
					}
				]), window._isNodeWebkit && global.isLoading === !0 ? (window.checkUpdate(), global.isLoading = !1) : angular.bootstrap(document, ["ddWeb"]);
			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {
			"./directive/infiniteScroll": 62,
			"./directive/log": 63,
			"./directive/widget/avatar/avatar": 85,
			"./directive/widget/breadcrumbs": 89,
			"./directive/widget/ddClickUrl": 95,
			"./directive/widget/ddCopy": 96,
			"./directive/widget/hoverTip": 104,
			"./directive/widget/loading/loading": 105,
			"./directive/widget/preventDrag": 107,
			"./filter/filter": 116,
			"./module/apiTest/apiTest": 124,
			"./module/arch/index": 125,
			"./module/chat/index": 126,
			"./module/contact/friendRequest": 129,
			"./module/contact/index": 131,
			"./module/home/index": 132,
			"./module/im/index": 133,
			"./module/list/index": 134,
			"./module/login/auth": 137,
			"./module/login/index": 138,
			"./module/login/scanCodeLogin": 140,
			"./module/microApp/index": 142,
			"./module/nocontent/nocontent": 143,
			"./service/app/nw.js": 161,
			"./service/app/silentUpdate": 163,
			"./service/appInit/init": 168,
			"./service/goldlog/staylog": 240,
			"./service/log/exceptionLog": 258,
			"./service/log/log": 260,
			"./service/toast/toast": 378,
			"./service/ua": 390,
			"./service/widget/screenshot.js": 416,
			"es6-promise": 462,
			"path": 5
		}
	],
	11: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				$my = require("../../service/user/my"),
				mediaIdFactory = require("@ali/ding-mediaid");
			require("../../service/tool/multiOrgTool"), require("../../service/org/OrgTree"), angular.module("ddWeb.arch.organizationList", ["ddWeb.service.multiOrgTool", "ddWeb.org.OrgTree"]).directive("organizationList", ["multiOrgTool", "OrgTree",
				function(e, r) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							currentOrgData: "=currentOrgData",
							currentDept: "=currentDept",
							orgEmployees: "=orgEmployees"
						},
						controller: ["$scope",
							function(t) {
								function i(e) {
									return e && e.length > 0 && e.forEach(function(e) {
										var r = e.orgDetail.logoMediaId;
										r && 0 === r.indexOf("@") && (e.orgDetail.logoMediaId = mediaIdFactory.mid2Url(r, {
											imageSize: "thumb"
										}))
									}), e
								}

								function o(i, o) {
									a.currentDeptIndex = o;
									var n = new r($my.getOrgByOid(i.orgDetail.orgId));
									n.changeDeptByIndex(o), t.currentDept = n.currentTreeNode, a.currentOrgData.orgName = i.orgDetail.orgName, a.currentOrgData.oid = i.orgDetail.orgId, e.setCurrentOrgData(a.currentOrgData)
								}
								var a = this;
								a.currentOrgData = t.currentOrgData, a.changeOrg = o, t.$watchCollection("orgEmployees", function(e) {
									a.orgEmployees = i(e)
								})
							}
						],
						controllerAs: "organizationList",
						link: function(e, r, t) {},
						template: '<ul class="list-with-icon-and-title org-lists">\n    <li class="list-item org-item" ng-repeat="orgItem in organizationList.orgEmployees" ng-class="{\'active\':organizationList.currentOrgData.oid == orgItem.orgDetail.orgId}">\n        <div class="item-wrapper org-item-wrapper" ng-click="organizationList.changeOrg(orgItem,-1)">\n            <i ng-if="!orgItem.orgDetail.logoMediaId" class="iconfont">&#xe648;</i>\n            <img class="item-org-icon" ng-if="orgItem.orgDetail.logoMediaId" img-error-log ng-if="hasUrl" ng-src="{{ orgItem.orgDetail.logoMediaId }}" />\n            <span class="item-title org-name" htitle-direction="top" htitle="{{orgItem.orgDetail.orgName}}">{{orgItem.orgDetail.orgName}}</span>\n        </div>\n        <ul class="list-with-icon-and-title sub-items sub-org-lists">\n            <li class="list-item sub-list-item sub-org-item" ng-repeat="orgSubItem in orgItem.orgEmployeeModel.depts" ng-class="{\'active\':organizationList.currentOrgData.oid == orgItem.orgDetail.orgId && organizationList.currentDeptIndex == $index}">\n                <div class="item-wrapper org-item-wrapper" ng-click="organizationList.changeOrg(orgItem,$index)">\n                    <i class="iconfont">&#xe65a;</i>\n                    <span class="item-title org-name" htitle-direction="top" htitle="{{orgSubItem.deptName}}">{{orgSubItem.deptName}}</span>\n                </div>\n            </li>\n        </ul>\n    </li>\n</ul>\n'
					}
				}
			]);


		}, {
			"../../service/org/OrgTree": 338,
			"../../service/tool/multiOrgTool": 382,
			"../../service/user/my": 400,
			"@ali/ding-mediaid": 456,
			"path": 5
		}
	],
	12: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.chatBox",
				path = require("path");
			require("./input/responsiveInput"), require("./imgPreview"), require("../../service/chatCompileService"), require("../../service/file/fileTypes"), require("../../service/log/log");
			var $my = require("../../service/user/my");
			require("../../filter/filter");
			var _ = require("lodash"),
				SuperGroupStatus = require("../../service/conversation/SuperGroupStatus"),
				ConvType = require("../../service/conversation/ConvType"),
				ConvExtensionType = require("../../service/conversation/convExtensionType"),
				app = angular.module(moduleName, ["ddWeb.chat.responsiveInput", "ddWeb.chatCompileService", "ddWeb.chat.imgPreview", "ddWeb.file.fileTypes", "ddWeb.log.log", require("../../service/events"), require("../../service/toast/toast"), "ddWeb.filter"]);
			app.directive("chatBox", ["$rootScope", "$interval", "$timeout", "chatCompileService", "$fileTypes", "log", "EVENTS", "toastService",
				function(e, n, i, o, t, r, s, a) {
					var l = !1,
						c = !1;
					return {
						restrict: "AE",
						scope: {
							conv: "=conv"
						},
						controller: ["$scope",
							function(e) {
								function n(n) {
									e.conv.sendSpaceFileMsg(n)
								}

								function i(n) {
									e.conv.sendImgMsg(n)
								}
								this.inputBottom = 0, this.sendFileMsgV2 = $.proxy(e.conv.sendFileMsgV2, e.conv), this.sendSpaceFileMsg = $.proxy(e.conv.sendSpaceFileMsg, e.conv), this.isCompanyGroup = e.conv.baseConversation.tag === ConvType.COMPANY_GROUP ? !0 : !1, this.updateToRead = $.proxy(e.conv.updateToRead, e.conv), this.upload = function(e) {
									var o = e.file,
										r = t.getTypeByName(o.name),
										s = t.isImg(r);
									s ? i(o) : n(o)
								}, l = !1, c = !1
							}
						],
						link: function(n, i, t, l) {
							function d(e) {
								var i = e.baseMessage,
									o = {
										content: e.getContent(),
										time: i.createdAt,
										mid: i.messageId || i.uuid,
										isSysInfo: 2 == i.creatorType ? !0 : !1,
										type: i.content.contentType,
										updateAudioToRead: l.updateToRead,
										isCompanyGroup: h.isCompanyGroup,
										msg: e,
										orgId: _.get(n.conv, "baseConversation.extension.id"),
										isSuperGroup: n.conv.baseConversation.superGroup
									};
								if (o.isSingleChat = !0, 1 !== n.conv.baseConversation.type && (o.isSingleChat = !1), e.senderMessageStatus && (o.unreadCnt = e.senderMessageStatus.unReadCount), 2 === i.memberTag && (o.dingId = i.memberExtension.dingId), o.uid = i.openIdEx.openId, o.position = i.openIdEx.openId == $my.uid ? !1 : !0, o.isSpecialConv = !1, (E || B) && (o.isSpecialConv = !0), o.isSendToMyself = !1, o.isSingleChat) {
									var t = i.conversationId.split(":");
									t[0] == t[1] && (o.isSendToMyself = !0)
								}
								return o.isOAConv = n.conv.isOAConv, o
							}

							function p() {
								for (; 0 != q.length;) {
									var e = q.shift(),
										n = O[e.mid];
									n ? n.preMid && n.preMid !== e.preMid || I ? (O[e.preMid] || (r.info("chatBox After 1: preMid:" + e.preMid + "| mid:" + e.mid + " |index:" + e.index), r.info("chatBox After messages:" + JSON.stringify(M)), r.info("chatBox After existEle preId:" + n.preMid + "| isReOrder:" + I)), n.remove(), O[e.preMid].after(e.element), I = !0) : n.replaceWith(e.element) : e.preMid ? (O[e.preMid] || r.info("chatBox After 2: preMid:" + e.preMid + "| mid:" + e.mid), O[e.preMid].after(e.element), e.index === M.length - 1 && (h.newMsg = !0)) : b.prepend(e.element), O[e.mid] = e.element, O[e.mid].preMid = e.preMid
								}
							}

							function u(e, n, i) {
								if (0 !== n)
									if (0 !== n && i[n - 1].EOF !== !0) {
										var o = Math.abs(parseInt(i[n].baseMessage.createdAt) - parseInt(i[n - 1].baseMessage.createdAt));
										6e5 > o && (e.time = null)
									} else e.time = null
							}

							function v() {
								var e = b.prop("scrollHeight");
								c && (b.scrollTop(e - k + w + 10), c = !1), H ? h.newMsg === !0 && (h.scrollBtn = !0, h.newMsg = !1) : f(), k = b.prop("scrollHeight"), n.conv.baseConversation.superGroup !== SuperGroupStatus.SUPER && S > b.prop("scrollHeight") && 0 != M.length && h.updateToRead(M[0], M[M.length - 1])
							}

							function f() {
								b.scrollTop(b.scrollTop() + 9999999), H = !1, h.scrollBtn = !1, h.newMsg = !1
							}

							function g(e, n) {
								var i = e.baseMessage,
									o = i.uuid || i.messageId,
									t = y[o],
									r = !1;
								return t ? t.preMid !== n && (t = y[o] = {
									preMid: n
								}, r = !0) : (t = y[o] = {
									preMid: n
								}, r = !0), r
							}

							function m(e, n) {
								var o = null,
									t = null,
									s = null,
									a = i.find(".chat-item");
								r.info("updateReadStatus:", "top:" + e, "bottom" + n);
								for (var l = a.length - 1; l >= 0; l--)
									if (a[l] && a[l].offsetTop) {
										var c = a[l].offsetTop;
										if (n >= c) {
											if (s = a[l].getAttribute("msg-id"), !s) continue;
											o = l;
											break
										}
									}
								for (var l = o; l >= 0; l--)
									if (a[l] && a[l].offsetTop) {
										var c = a[l].offsetTop;
										if (e > c) {
											if (t = a[l].getAttribute("msg-id"), !t) continue;
											break
										}
									}
								r.info("updateReadStatus:", "topId:" + t, "bottomId" + s), h.updateToRead(t, s)
							}
							var h = n.chatBox;
							h.scrollBtn = !1, h.newMsg = !1;
							var M, T = {}, y = {}, b = i.find(".main-chat"),
								S = b.height(),
								C = S / 2,
								I = !1,
								x = !0,
								E = n.conv.baseConversation.tag === ConvType.FILEHELPER,
								B = n.conv.baseConversation.tag === ConvType.SECRETARY,
								A = ['<span class="loading">', '<div class="bounce1"></div>', '<div class="bounce2"></div>', '<div class="bounce3"></div>', "</span>"].join(""),
								R = angular.element(A);
							b.prepend(R);
							var w = R.outerHeight(),
								G = !1;
							h.pullHistory = function() {
								G || (n.conv.pullHistory(), c = !0, b.prepend(R))
							}, n.$on("uploadFile:send", function(e, i) {
								if (i && i.file && i.file.mediaId) {
									var o = {
										mediaId: i.file.mediaId,
										type: 1
									};
									try {
										n.conv.sendImgMsg(null, o)
									} catch (t) {
										console.log(t)
									}
								} else l.upload(i)
							}), n.$on("spaceFile:send", function(e, n) {
								n && n.files && n.files.length && n.files.forEach(function(e) {
									try {
										e.orgId = n.orgId, e.spaceId = n.spaceId, h.sendSpaceFileMsg(null, e)
									} catch (i) {
										console.log(i), r.error("send space file error : " + i.toString())
									}
								})
							});
							var q = [],
								F = null;
							n.$watch(function() {
								return n.conv.messages
							}, function(e) {
								var t = e.map(function(e) {
									return e.baseMessage.uuid || e.baseMessage.messageId
								});
								if (M && Array.isArray(M)) {
									var r = M.filter(function(e) {
										return -1 === t.indexOf(e)
									});
									r.forEach(function(e) {
										O[e] && O[e].remove()
									})
								}
								M = t;
								e.forEach(function(i, t) {
									if (I = !1, i.EOF) G = !0;
									else {
										if (0 !== t && e[t - 1].EOF !== !0) var r = e[t - 1].baseMessage.uuid || e[t - 1].baseMessage.messageId;
										else var r = void 0;
										var s = i.baseMessage.uuid || i.baseMessage.messageId;
										if (g(i, r)) {
											var a = d(i);
											u(a, t, e);
											var l = {
												info: a,
												index: t,
												mid: s,
												preMid: r,
												element: o.createDom(a, n)
											};
											q.filter(function(e) {
												return e.mid !== l.mid
											}), q.push(l), F = setTimeout(function() {
												q && (p(), v(), clearTimeout(F))
											})
										}
									}
								}), i.find(".loading").remove()
							});
							var O = {}, H = !1,
								k = 0;
							n.$on(s.SENDMSG_SCROLLTOBOTTOM, function(e) {
								f()
							});
							var N = null,
								W = 9999999,
								P = -9999999,
								D = null;
							b.on("scroll", function(e) {
								var i = b.scrollTop(),
									o = b.prop("scrollHeight"),
									t = o - i - S;
								t > C ? H = !0 : (H = !1, h.scrollBtn && (h.scrollBtn = !1, D = setTimeout(function() {
									n.$apply()
								}, 10))), n.conv.baseConversation.superGroup !== SuperGroupStatus.SUPER && (W = i > W ? W : i, P = P > i ? P : i, N && (clearTimeout(N), N = null), N = setTimeout(function() {
									x && (x = !1, W = P), m(W, P + S), W = 9999999, P = -9999999
								}, 500))
							}), b.on("click", "i.icon-resend", function(e) {
								e.preventDefault();
								var i = $(this).closest("div.chat-item").attr("msg-id");
								n.conv.reSend(i)
							}), h.scrollToBottom = function() {
								b.scrollTop(b.scrollTop() + 9999999), h.scrollBtn = !1, h.newMsg = !1
							};
							var L = $(".conv-detail-pannel"),
								U = i.find(".drag-to-upload-pop");
							L.bind("dragover", function(e) {
								e.preventDefault(), U.css("display", "block")
							}).bind("dragleave", function(e) {
								e.preventDefault(), U.css("display", "none")
							}).bind("drop", function(n) {
								n.preventDefault(), U.css("display", "none");
								for (var i = n.originalEvent.dataTransfer.files, o = [], t = !1, r = n.originalEvent.dataTransfer.items.length, s = 0; r > s; s++) {
									var l = n.originalEvent.dataTransfer.items[s];
									if (l.webkitGetAsEntry) {
										var c = l.webkitGetAsEntry();
										if (!c) return;
										c.isFile ? o.push(i[s]) : t = !0
									} else o.push(i[s])
								}
								t && a.show("目前只能上传文件", {
									type: "error"
								}), o.length > 0 && e.$broadcast("uploadFile:drag", {
									files: o
								})
							}), i.on("$destroy", function() {
								b.unbind(), L.unbind(), O = null, T = null, y = null, M = null, q = null, clearTimeout(F), clearTimeout(D), clearTimeout(N)
							})
						},
						controllerAs: "chatBox",
						template: '<div class="main-chat chat-items" img-preview ng-style="{\'bottom\':chatBox.inputBottom}" infinite-scroll infinite-scroll-top="chatBox.pullHistory();" infinite-scroll-threshold=\'120\'></div>  \r\n<div class="drag-to-upload-pop" style="display:none;">\r\n    <div class="article">\r\n        <i class="iconfont">&#xe621;</i>\r\n        <span>拖拽文件到此上传</span>\r\n    </div>\r\n</div>\r\n<a href="javascript:;" class="new-chat-reminder" ng-show="chatBox.scrollBtn" ng-click="chatBox.scrollToBottom()">\r\n    <span>您有新消息</span>\r\n</a>\r\n\r\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../filter/filter": 116,
			"../../service/chatCompileService": 179,
			"../../service/conversation/ConvType": 184,
			"../../service/conversation/SuperGroupStatus": 190,
			"../../service/conversation/convExtensionType": 191,
			"../../service/events": 221,
			"../../service/file/fileTypes": 225,
			"../../service/log/log": 260,
			"../../service/toast/toast": 378,
			"../../service/user/my": 400,
			"./imgPreview": 14,
			"./input/responsiveInput": 18,
			"lodash": 470,
			"path": 5
		}
	],
	13: [
		function(require, module, exports) {
			require("../../../service/chat/chatCallService"), require("../../../service/events"), require("../../../service/user/userManager");
			var app = angular.module("ddWeb.chat.chatCall", ["ddWeb.service.chaCallService", "ddWeb.events", "ddWeb.user.userManager"]);
			app.directive("chatCall", ["chatCallService", "EVENTS", "$rootScope", "userManager",
				function(e, a, l, t) {
					return {
						restrict: "AE",
						template: '<i ng-show="chatCall.isShowCall"  class="iconfont effect-jagoda chat-call-link" htitle-offset="left" ng-class="chatCall.hasUsedClass" htitle="拨打钉钉免费电话" ng-click="chatCall.createCall()">&#xe658;</i>',
						scope: {
							uid: "=uid",
							nick: "=nick"
						},
						link: function(s, c, n) {
							function i() {
								d.removeClass("calling"), d.removeClass("effect-animate")
							}

							function r() {
								d.addClass("calling"), d.addClass("effect-animate")
							}

							function o() {
								var a = {
									calleeUid: S
								};
								e.setCallUseState(h.CLICK), e.createCall(a, s.nick).then(function(e) {
									r()
								}, function(e) {})
							}
							var C = s.chatCall,
								d = c.find("i.chat-call-link");
							C.isShowCall = !1, t.getUserWithExt(s.uid, null).then(function(e) {
								e && e.userPermissionModel && e.userPermissionModel.canBeSendConference && (C.isShowCall = !0, setTimeout(function() {
									c.find("i").addClass("fade-in")
								}, 500))
							});
							var u = e.chatCallStates;
							c.on("mouseover", function() {
								C.hasUsedClass = "", e.setCallUseState(h.MOUSEOVER), s.$digest()
							});
							var h = e.chatCallUseStates,
								f = e.getCallUseState();
							f === h.MOUSEOVER ? C.hasUsedClass = "" : f !== h.UNWATCH && f || (C.hasUsedClass = "animate-phone-call");
							var S = s.uid,
								v = l.$on(a.CHANGE_CALL_STATE, function(e, a) {
									a === u.UNCALL ? i() : a === u.CALLSUCCESS && r()
								});
							e.checkCallState() ? i() : r(), C.createCall = o, c.on("$destroy", function() {
								v(), c.off("mouseover")
							})
						},
						controllerAs: "chatCall",
						controller: ["$scope",
							function(e) {}
						]
					}
				}
			]);


		}, {
			"../../../service/chat/chatCallService": 173,
			"../../../service/events": 221,
			"../../../service/user/userManager": 404
		}
	],
	14: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.imgPreview";
			require("../../service/mediaId/mediaId"), require("../../service/conversation/conversation");
			var SENDSTATUS = require("../../service/conversation/SendStatus"),
				app = angular.module(moduleName, ["ddWeb.mediaId", "ddWeb.conversation", require("../../service/img/imgPreviewService"), require("../../service/img/Rotate")]);
			app.directive("imgPreview", ["mediaId", "conversation", "imgPreviewService", "Rotate",
				function(e, t, n, o) {
					return {
						restrict: "A",
						link: function(e, t, i) {
							function s(e) {
								return $(e).closest(".chat-item").attr("msg-id")
							}

							function a(e) {
								return e.baseMessage.content.photoContent.mediaId
							}

							function r(e) {
								return e.baseMessage.content.photoContent.picSize
							}

							function c(e) {
								return 1 === e.baseMessage.content.photoContent.type
							}
							t.on("click", ".chat-img", function(t) {
								var i = s(this);
								if (i) {
									var d = e.conv.getMsgById(i);
									if (d.sendStatus !== SENDSTATUS.SENDING && d.sendStatus !== SENDSTATUS.SENDING_WITH_PROGRESS) {
										var g = {
											msgId: i,
											mediaId: a(d),
											picSize: r(d),
											rotate: 1 !== d.baseMessage.content.photoContent.type ? 0 : o(d.baseMessage.content.photoContent.orientation),
											isOriginalPic: c(d)
										};
										n.preview(g, function(t) {
											var n = e.conv.imgMsgList.getPre(t.msgId);
											return null == n ? !1 : {
												msgId: n.baseMessage.messageId,
												mediaId: n.baseMessage.content.photoContent.mediaId,
												picSize: n.baseMessage.content.photoContent.picSize,
												rotate: 1 !== n.baseMessage.content.photoContent.type ? 0 : o(n.baseMessage.content.photoContent.orientation),
												isOriginalPic: c(n)
											}
										}, function(t) {
											var n = e.conv.imgMsgList.getNext(t.msgId);
											return null == n ? !1 : {
												msgId: n.baseMessage.messageId,
												mediaId: n.baseMessage.content.photoContent.mediaId,
												picSize: n.baseMessage.content.photoContent.picSize,
												rotate: 1 !== n.baseMessage.content.photoContent.type ? 0 : o(n.baseMessage.content.photoContent.orientation),
												isOriginalPic: c(n)
											}
										})
									}
								}
							}), t.on("$destroy", function() {
								t.off("click")
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/conversation/SendStatus": 189,
			"../../service/conversation/conversation": 193,
			"../../service/img/Rotate": 244,
			"../../service/img/imgPreviewService": 245,
			"../../service/mediaId/mediaId": 267
		}
	],
	15: [
		function(require, module, exports) {
			require("../../../service/user/userManager"), require("../../../service/widget/avatar"), require("../../../service/safe/safe"), require("../../../service/chat/textCellService");
			var $my = require("../../../service/user/my"),
				emoji = require("../../../service/emoji/emoji"),
				app = angular.module("ddWeb.chat.atInput", ["ddWeb.user.userManager", "ddWeb.service.avatar", "ddWeb.safe", "ddWeb.service.textCellService", require("../../../service/search/search/LocalSearch/getLocalSearchResult")]);
			app.directive("atInput", ["$timeout", "$q", "userManager", "$compile", "avatarService", "safe", "textCellService", "getLocalSearchResult",
				function(e, t, i, r, n, a, c, o) {
					"use strict";
					return {
						restrict: "AE",
						require: "^responsiveInput",
						controller: ["$scope",
							function(e) {}
						],
						link: function(t, r, s) {
							function u() {
								var e = r[0];
								return {
									st: e.selectionStart,
									ed: e.selectionEnd
								}
							}

							function l(e, r) {
								var s = M.val(),
									u = c.filterAtCell(s).filterCellMap;
								t.conv.getMembers(function(t) {
									var c = t.map(function(e) {
										return e.openIdEx.openId
									});
									i.getUsers(c).then(function(t) {
										var i = [],
											c = [];
										c = e ? o(e, t, k) : t.slice(0, k), c = c.filter(function(e) {
											return e.userProfileModel.uid !== h && !u[e.userProfileModel.uid]
										}), i = c.map(function(e) {
											var t = e.userProfileModel;
											return {
												nick: a.escapeHTML(t.nick),
												nickWithEmoji: emoji.parse(a.escapeHTML(t.nick)),
												avatarMediaId: t.avatarMediaId,
												uid: t.uid,
												avatar: t.avatarMediaId ? n.createImgDomString(t.avatarMediaId) : n.createNickDomString(t.nick, t.name)
											}
										}), e || i.sort(function(e, t) {
											var i = m.indexOf(e.uid),
												r = m.indexOf(t.uid);
											return -1 === i && (i = Number.MAX_VALUE), -1 === r && (r = Number.MAX_VALUE), i - r
										}), r(i)
									})
								})
							}

							function f(e) {
								var t = c.createCell({
									replaceText: "@" + e.uid + " ",
									toReplaceText: "@" + e.nick + " "
								});
								return t
							}

							function d(e, t) {
								var i = {};
								return i.uid = t.attr("uid"), i.nick = t.attr("nick"), f(i)
							}

							function v() {
								r.atwho({
									at: "@",
									tpl: '<li class="clearfix" data-value="${atwho-at}${nick}" uid="${uid}" nick="${nick}">${avatar}<span class="at-nick">${nickWithEmoji}</span></li>',
									search_key: "nick",
									start_with_space: !1,
									delay: 120,
									callbacks: {
										remote_filter: l,
										before_insert: d,
										sorter: function(e, t, i) {
											return t
										}
									},
									limit: k,
									suffix: ""
								}), r.on("shown.atwho", function() {
									t.input.isAtOpen = !0, $(".atwho-view").scrollTop(0)
								}), r.on("hidden.atwho", function() {
									e(function() {
										t.input.isAtOpen = !1
									}, 0)
								}), r.on("inserted.atwho", function(e, t) {
									var i = t.attr("uid"),
										r = t.attr("nick"),
										n = {};
									n.uid = i, n.nick = r
								}), r.on("reposition.atwho", function(e, t) {
									var i = $(".atwho-view"),
										r = t.top,
										n = t.left,
										a = i.height();
									r > 600 && i.css({
										top: r - a - 40,
										left: n
									})
								})
							}
							var p = {}, h = $my.uid,
								m = t.conv.recentAtUids,
								k = 100;
							t.input.isAtOpen = !1, p.isAtUsable = !1;
							var A = t.conv;
							if (A) {
								if (A.isSingleChat) return p.isAtUsable = !1, t.isAtUsable = p.isAtUsable, !1;
								p.isAtUsable = !0, t.isAtUsable = p.isAtUsable
							}
							t.input.beforeSendMsg(function(e) {
								if (t.input.isAtOpen) return !1;
								var i = e.textContent.text,
									r = c.filterAtCell(i);
								return e.textContent.text = r.filterMsg, A && !A.isSingleChat && (e.atOpenIds = r.filterCellMap, b(r.filterCellMap)), e
							});
							var M = r,
								b = function(e) {
									Object.keys(e).forEach(function(e) {
										var t = parseInt(e),
											i = m.indexOf(t); - 1 !== i && m.splice(i, 1), m.unshift(t)
									})
								};
							v(), t.addAt = function() {
								M.focus(), t.insertText("@", 1), w()
							};
							var w = function() {
								r.atwho("run")
							};
							t.$on("add-at", function(e, i) {
								var r = (u(), M.val()),
									n = c.filterAtCell(r).filterCellMap;
								if (!n[i.uid + ""]) {
									var a = f(i);
									t.insertText(a)
								}
							}), r.on("$destroy", function() {
								r.atwho("destroy"), r.off("show.atwho"), r.off("hidden.atwho"), c.reset()
							})
						}
					}
				}
			]);


		}, {
			"../../../service/chat/textCellService": 176,
			"../../../service/emoji/emoji": 218,
			"../../../service/safe/safe": 341,
			"../../../service/search/search/LocalSearch/getLocalSearchResult": 349,
			"../../../service/user/my": 400,
			"../../../service/user/userManager": 404,
			"../../../service/widget/avatar": 409
		}
	],
	16: [
		function(require, module, exports) {
			require("../../../service/chat/textCellService");
			var app = angular.module("ddWeb.chat.cursorAdjust", ["ddWeb.service.textCellService"]);
			app.directive("cursorAdjust", ["$timeout", "textCellService",
				function(t, e) {
					return {
						restrict: "AE",
						link: function(t, s, r) {
							function o() {
								return {
									st: f.selectionStart,
									ed: f.selectionEnd
								}
							}

							function n(t) {
								f.selectionStart = t, f.selectionEnd = t
							}

							function i(t, e) {
								e ? f.selectionStart = t : f.selectionEnd = t
							}

							function u(t, e, s) {
								var r = t.substr(0, e.st) + s + t.substr(e.ed, t.length - e.ed + 1);
								return pointer = e.st + s.length, {
									msg: r,
									pointer: pointer
								}
							}

							function d(t, e, s, r, o) {
								var u, d = t.length,
									c = !1,
									f = 0,
									a = !1,
									v = 0;
								for (v = o ? e.st : e.ed, u = 0; d > u; u++) {
									var A = t.charCodeAt(u);
									if (A == l.START && v > u) c = !0, f = u;
									else if (A == l.END) {
										if (c && u >= v) {
											s ? r ? o ? i(f, s) : i(f, !s) : n(f) : r ? o ? i(u + 1, !s) : i(u + 1, s) : n(u + 1), a = !0;
											break
										}
										c = !1
									}
								}
							}
							var c = s,
								f = c[0],
								a = !1,
								l = e.FLAG_CODE,
								v = {
									LEFT: 37,
									RIGHT: 39,
									UP: 38,
									DOWN: 40,
									BACKSPACE: 8,
									PGUP: 33,
									PGDN: 34,
									DEL: 46
								}, A = {
									st: 0,
									ed: 0
								}, g = {
									st: 0,
									ed: 0
								};
							c.on("cursor", function(t, s, r, o) {
								var n = c.val();
								if (o.st === o.ed && r.st === r.ed) o.st > r.st ? d(n, o, !1, !1, !0) : o.st < r.st && d(n, o, !0, !1, !0);
								else if (o.st === r.st && o.ed > r.ed) d(n, o, !1, !0, !1);
								else if (o.st === r.st && o.ed < r.ed) d(n, o, !0, !0, !1);
								else if (o.ed === r.ed && o.st > r.st) d(n, o, !1, !0, !0);
								else if (o.ed === r.ed && o.st < r.st) d(n, o, !0, !0, !0);
								else {
									var i = e.strictCell(n, o);
									f.selectionStart = i.st, f.selectionEnd = i.ed
								}
							}), c.on("keydown.cursorAdjust", function(t) {
								var e = t.which,
									s = o();
								c.val();
								if (A = s, !t.metaKey && !t.ctrlKey) {
									if (A.st !== A.ed) return;
									e == v.BACKSPACE ? (g.st = A.st - 1, g.ed = A.ed, (g.st != A.st || g.ed != A.ed) && c.trigger("cursor", [t, A, g])) : e === v.DEL && (g.st = A.st, g.ed = A.ed + 1, (g.st != A.st || g.ed != A.ed) && c.trigger("cursor", [t, A, g]))
								}
							}), c.on("keyup.cursorAdjust", function(t) {
								var e = t.which,
									s = o(),
									r = c.val();
								g = s, e != v.BACKSPACE && e != v.DEL && ((g.st != A.st || g.ed != A.ed) && c.trigger("cursor", [t, A, g]), (e == v.UP || e == v.DOWN) && (a || d(r, s, !0, t.shiftKey)))
							}), c.on("mousedown.cursorAdjust", function(t) {
								var e = o();
								A = e, "Range" === window.getSelection().type && 0 == t.button && (f.selectionStart = e.st, f.selectionEnd = e.st)
							}), c.on("mouseup.cursorAdjust", function(t) {
								var e = o();
								g = e;
								var s = c.val();
								return g.st === g.ed ? void d(s, e, !0, !1, !0) : void((g.st != A.st || g.ed != A.ed) && c.trigger("cursor", [t, A, g]))
							}), s.on("shown.atwho", function() {
								a = !0
							}), s.on("hidden.atwho", function() {
								a = !1
							}), s.on("paste.cursorAdjust", function(t) {
								var s = t.originalEvent.clipboardData,
									r = s.getData("text/plain");
								if (1 === s.items.length) {
									void 0 === r && (r = "");
									var i = e.trimFlag(r),
										d = o(),
										f = c.val(),
										a = u(f, d, i);
									setTimeout(function() {
										c.val(a.msg), n(a.pointer)
									}, 0)
								}
							}), s.on("$destroy", function() {
								c.off("keydown.cursorAdjust"), c.off("click.cursorAdjust"), s.off("shown.atwho"), s.off("hidden.atwho"), c.off("keyup.cursorAdjust"), c.off("cut.cursorAdjust"), s.off("paste.cursorAdjust"), c.off("cursor"), c.off("mousedown.cursorAdjust"), c.off("mouseup.cursorAdjust")
							})
						}
					}
				}
			]);


		}, {
			"../../../service/chat/textCellService": 176
		}
	],
	17: [
		function(require, module, exports) {
			var ua = require("../../../service/ua");
			require("../../../service/modal/uploadFile"), require("../../../service/api/nwFileOperator"), require("../../../service/file/fileHelper"), require("../../../service/mediaId/mediaId"), require("../../../service/file/fileTypes"), angular.module("ddWeb.chat.ddPaste", ["ddWeb.modal.uploadFile", "ddWeb.api.nwFileOperator", "ddWeb.file.fileHelper", "ddWeb.mediaId", "ddWeb.file.fileTypes"]).directive("ddPaste", ["$uploadFilePreview", "$rootScope", "$nwFileOperator", "$fileHelper", "mediaId", "$fileTypes",
				function(e, i, r, a, t, n) {
					return {
						restrict: "A",
						link: function(d, l, f) {
							function o(d) {
								var l = Array.prototype.slice.call(d.items),
									f = l.map(function(e) {
										return e.type
									});
								if (1 === f.length && "text/plain" === f[0]) return !1;
								var o = f.indexOf("text/rtf");
								if (-1 !== o) return !1;
								var u = -1 !== f.indexOf("mediaid");
								if (u && ua.isNw) {
									var c = d.getData("mediaid"),
										p = {};
									if (p.size = 0, p.imgSrc = t.mid2Url(c, {
										imageSize: "origin"
									}), p.mediaId = c, p.imgSrc === c) return !1;
									p.name = "粘贴图片." + n.getTypeByName(p.imgSrc);
									var s = {
										isMediaId: !0
									};
									return e(p, s).then(function() {
										i.$broadcast("uploadFile:send", {
											file: p
										})
									}), !0
								}
								var m = f.indexOf("image/png");
								if (-1 !== m) {
									try {
										var p = d.items[m].getAsFile()
									} catch (v) {
										var p = null
									}
									if (p && p.size > 0) return p.name = "粘贴图片.png", e(p).then(function(e) {
										i.$broadcast("uploadFile:send", {
											file: e
										})
									}), !0;
									if (ua.isNw) {
										var g = f.indexOf("text/html");
										return -1 !== g && d.items[g].getAsString(function(t) {
											fpath = t.match(/src="(.+)"/m)[1], fpath = fpath.replace("file:///", ""), fpath && r.transToDataURI(fpath, function(r) {
												try {
													var t = a.b64ToFile(r.base64, r.mime);
													t.name = "粘贴图片.png", t && t.size > 0 && e(t).then(function(e) {
														i.$broadcast("uploadFile:send", {
															file: e
														})
													})
												} catch (n) {
													console.log(n)
												}
											})
										}), !0
									}
									return !1
								}
								return !1
							}
							l.on("paste", function(e) {
								var i = e.originalEvent.clipboardData,
									r = o(i);
								r && e.preventDefault()
							}), l.one("$destroy", function() {
								l.off("paste")
							})
						}
					}
				}
			]);


		}, {
			"../../../service/api/nwFileOperator": 149,
			"../../../service/file/fileHelper": 224,
			"../../../service/file/fileTypes": 225,
			"../../../service/mediaId/mediaId": 267,
			"../../../service/modal/uploadFile": 300,
			"../../../service/ua": 390
		}
	],
	18: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../widget/focus"), require("../../../service/safe/safe"), require("../../../service/toast/toast");
			var ua = require("../../../service/ua"),
				LoginStatusCode = require("../../../service/login/LoginStatusCode");
			require("./atInput"), require("./ddPaste"), require("../../widget/updateInfo"), require("./cursorAdjust"), require("../../../service/chat/textCellService"), require("../toolBar/toolBar");
			var storage = require("../../../service/storage/storage"),
				app = angular.module("ddWeb.chat.responsiveInput", ["ddWeb.safe", "ddWeb.widget.focus", "ddWeb.chat.ddPaste", "ddWeb.chat.atInput", "ddWeb.toast", "ddWeb.widget.updateInfo", "ddWeb.chat.cursorAdjust", "ddWeb.service.textCellService", "ddWeb.chat.toolBar", require("../../../service/events"), require("./typing"), require("../../../service/microApp/space"), require("../../../service/login/loginStatus")]);
			app.directive("responsiveInput", ["$rootScope", "safe", "$timeout", "toastService", "textCellService", "EVENTS", "spaceApp", "loginStatus", "ddStorage",
				function(u, F, A, B, D, C, e, t, E) {
					return {
						restrict: "AE",
						scope: {
							conv: "=conv"
						},
						controller: ["$scope",
							function(u) {
								var F = this;
								this.isMac = ua.isMac, this.isNw = ua.isNw, this.msgInputFocus = !0, this.beforeSendMsgCallbacks = [], this.beforeSendMsg = function(u) {
									F.beforeSendMsgCallbacks.push(u)
								}, F.conv = u.conv, F._saveDraft = $.proxy(u.conv.saveDraft, F.conv), F.draft = u.conv.draft, F.isShowInputTip = "secTip" === storage.local.getItem("newUserState"), e.hasPermission().then(function(u) {
									F.showSelectFileBtn = u
								}), F.spaceId = null, F.conv.getIMSpaceId().then(function(u) {
									F.spaceId = u
								})
							}
						],
						link: function(u, A, e, n) {
							function r() {
								b = E.getItem("sendMessageShortcut");
								var F = function() {
									i()
								}, A = function() {
										c("\n")
									};
								"Ctrl+Enter" === b ? (S.enter = A, S.ctrlAndEnter = F, u.hintText = "Enter 换行 , Ctrl+Enter 发送") : (S.enter = F, S.ctrlAndEnter = A, u.hintText = "Enter 发送 , Ctrl+Enter 换行")
							}

							function i() {
								var F = p.val();
								if (l.isFaceOpen = !1, 0 !== F.trim().length) {
									if (F.length > 5e3) return void B.show("您的文字消息过长，请调整至5000字以内再发送", {
										type: "error"
									});
									for (var A = {
										contentType: 1,
										textContent: {
											text: F
										}
									}, C = 0; C < l.beforeSendMsgCallbacks.length; C++) {
										var e = l.beforeSendMsgCallbacks[C](A);
										if (!e) return;
										A = e
									}
									A.textContent.text = D.filterFaceCell(A.textContent.text), D.reset(), u.conv.sendTextMsg(A.textContent.text, {
										atOpenIds: A.atOpenIds
									}).then(function() {}), t.getLoginStatus() === LoginStatusCode.LOGINED && (p.val(""), p.trigger("input"))
								}
							}

							function s() {
								var u = F.escapeHTML(p.val());
								u = u.replace(/\n/g, "<br>") + "z", v.html(u);
								var A;
								A = v.outerHeight(), m != A && (p.outerHeight(A), m = A, g.css("line-height", A + h + x + "px"))
							}

							function a() {
								var u = o(p.val().trim());
								0 === u.length ? g.addClass("disabled") : g.removeClass("disabled")
							}

							function o(u) {
								var F = /^[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+/g,
									A = /[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+$/g;
								return u.replace(F, "").replace(A, "")
							}

							function c(u, F) {
								var A = p[0],
									B = u,
									D = A.selectionStart,
									C = A.selectionEnd,
									e = A.value,
									F = F || u.length;
								A.value = e.substring(0, D) + B + e.substring(C, e.length), p.focus(), A.selectionStart = A.selectionEnd = C + F, p.trigger("input")
							}

							function d(u) {
								l.conv.sendImgMsg(null, u)
							}
							var l = u.input,
								v = A.find(".hidden-msg-box"),
								p = A.find(".input-msg-box"),
								g = A.find(".send-message-button"),
								f = A.find(".input-area"),
								h = 33,
								x = parseInt(v.css("margin-bottom")),
								b = null,
								S = {
									enter: null,
									ctrlAndEnter: null
								};
							r(), u.$on(C.SETTING_MODAL_CLOSE, r), p.on("keydown", function(F) {
								var A = F.which,
									B = 13 === A;
								B && !u.input.isAtOpen && (F.preventDefault(), !F.shiftKey && !F.altKey || F.ctrlKey ? !F.ctrlKey || F.shiftKey || F.altKey ? S.enter() : S.ctrlAndEnter() : c("\n")), (8 == F.which || 46 == F.which) && s()
							}), p.on("input", function() {
								s(), a()
							}), f.on("click", function() {
								p.focus()
							}), g.on("click", i), l.draft && (p.val(l.conv.draft), p.trigger("input"), l._saveDraft(""));
							var m = v.outerHeight();
							u.insertText = c, l.insertText = c, l.sendImgMsg = d, A.on("$destroy", function() {
								var u = p.val();
								l._saveDraft(u), g.off("click"), f.off("click"), p.off("keydown"), p.off("input")
							})
						},
						controllerAs: "input",
						template: '<div class="send-msg-box-wrapper">\n    <div class="input-area">\n        <div tool-bar></div>\n        <span class="user-guide" ng-if="!input.isShowInputTip">{{ hintText }}</span>\n        <div class="msg-box">\n            <textarea class="textarea input-msg-box" dd-paste ng-trim="false" at-input cursor-adjust typing focus="input.msgInputFocus"></textarea>\n            <div class="hidden-msg-box"></div>\n        </div>\n    </div>\n    <div class="action-area">\n        <a href="javascript:;" class="send-message-button disabled">发送</a>\n    </div>\n</div>\n'
					}
				}
			]);


		}, {
			"../../../service/chat/textCellService": 176,
			"../../../service/events": 221,
			"../../../service/login/LoginStatusCode": 264,
			"../../../service/login/loginStatus": 266,
			"../../../service/microApp/space": 273,
			"../../../service/safe/safe": 341,
			"../../../service/storage/storage": 373,
			"../../../service/toast/toast": 378,
			"../../../service/ua": 390,
			"../../widget/focus": 100,
			"../../widget/updateInfo": 112,
			"../toolBar/toolBar": 43,
			"./atInput": 15,
			"./cursorAdjust": 16,
			"./ddPaste": 17,
			"./typing": 19,
			"path": 5
		}
	],
	19: [
		function(require, module, exports) {
			var moduleName = "ddWeb.chat.typing",
				app = angular.module(moduleName, [require("../../../service/chat/typingType")]);
			app.directive("typing", ["typingType",
				function(n) {
					return {
						restrict: "AE",
						require: "^responsiveInput",
						link: function(e, i, t) {
							function u() {
								return e.conv.canSendTyping && !p
							}

							function o() {
								p && (clearTimeout(p), p = null)
							}
							var r = e.conv.isSingleChat;
							if (r) {
								var p = null,
									c = 5e3,
									a = !1;
								i.on("input.typing", function(t) {
									var r = i.val();
									r ? (a = !1, u() && (e.conv.sendTyping(n.TYPING), p = setTimeout(function() {
										o()
									}, c))) : (a || e.conv.sendTyping(n.CANCELTYPING), o())
								}), e.input.beforeSendMsg(function(n) {
									return a = !0, n
								}), i.on("$destroy", function() {
									o(), i.off("input.typing")
								})
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/chat/typingType": 178
		}
	],
	20: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgBox",
				SendStatus = require("../../service/conversation/SendStatus"),
				_ = require("lodash");
			angular.module(moduleName, [require("../../service/conversation/ContentType"), require("./msgContent/msgContent"), require("./profile"), require("./msgMenu/msgMenu"), require("../../service/user/userManager"), require("../../service/chat/colorTransfer"), require("./msgStatus/unConfirmCount"), require("./msgStatus/unreadCount")]).directive("msgBox", ["ContentType", "userManager", "colorTransfer",
				function(s, e, i) {
					return {
						restrict: "AE",
						scope: {
							info: "="
						},
						replace: !0,
						controller: ["$scope",
							function(e) {
								this.info = e.info, e.ContentType = s, e.SendStatus = SendStatus, e.isShowMsgMenu = !1, e.isShowTime = !1, this.isShowImgMsgTri = this.info.type === s.IMG, this.isShowAttachmentMsgTri = this.info.type === s.FILE || this.info.type === s.ORG_SPACE_FILE || this.info.type === s.IM_SPACE_FILE || this.info.type === s.CARD || this.info.type === s.SHARE || this.info.type === s.MAIL, this.isShowGAMsgTri = this.info.type === s.GROUP_ANNOUNCE, this.isShowOAMsgTri = this.info.type === s.OA, this.triStyle = null, this.info.type === s.OA && this.info.msg.isSupport2Show() && _.has(this.info, "content.attachments[0].extension.h_bg") && (this.triStyle = {
									"background-color": i(this.info.content.attachments[0].extension.h_bg)
								})
							}
						],
						link: function(s, e, i) {
							function n() {
								e.find(".chat-item").attr("msg-id", t.baseMessage.messageId), s.$digest()
							}
							var t = s.info.msg;
							1 === t.baseMessage.creatorType && (e.delegate("div.msg-bubble-box", "mouseleave", function(e) {
								e.preventDefault(), e.stopPropagation(), s.isShowMsgMenu = !1, s.isShowTime = !1, s.$digest()
							}), e.delegate("div.msg-bubble-box", "mouseenter", function(e) {
								e.preventDefault(), e.stopPropagation(), s.isShowMsgMenu = !0, s.isShowTime = !0, s.$digest()
							})), t.on(t.EventsName.SEND_SUCCESS, n), e.one("$destroy", function() {
								s.info.msg.off(s.info.msg.EventsName.SEND_SUCCESS, n), 1 === t.baseMessage.creatorType && (e.undelegate("div.msg-bubble-box", "mouseleave"), e.undelegate("div.msg-bubble-box", "mouseenter"))
							})
						},
						controllerAs: "msg",
						template: '<div>\n    <!-- 普通消息 -->\n    <div class="chat-item" ng-if="msg.info.msg.baseMessage.creatorType===1" ng-class="{\'me\':!msg.info.position, \'not-me\':msg.info.position}" msg-id="{{msg.info.mid}}">\n        <!-- OA消息，不显示chat-time -->\n        <div class="chat-status" ng-if="msg.info.time && msg.info.type!==ContentType.OA">{{msg.info.time | dateTime:true}}</div>\n        <div class="chat-profile-info clearfix">\n            <profile ng-if="!msg.info.isOAConv" uid="msg.info.uid" is-single-chat="msg.info.isSingleChat" is-chat-from="msg.info.position" is-company-group="msg.info.isCompanyGroup" oid="msg.info.orgId"></profile>\n            <span class="chat-time" ng-show="isShowTime" ng-class="{\'oa-chat-time\':msg.info.isOAConv}">{{msg.info.msg.baseMessage.createdAt | dateTime:true:true}}</span>\n        </div>\n        <div class="clearfix">\n            <dd-avatar uid="msg.info.uid" class="avatar chat-detail" is-show-modal="\'true\'"></dd-avatar>\n            <div class="msg-bubble-box">\n                <div class="msg-bubble-area">\n                    <!-- 气泡的箭头各种消息有所差异(以后可以统一) -->\n                    <div class="msg-bubble-tri" ng-class="{\'oa-msg-bubble-tri\':msg.isShowOAMsgTri,\'img-msg-bubble-tri\':msg.isShowImgMsgTri,\'attachment-msg-bubble-tri\':msg.isShowAttachmentMsgTri,\'group-announce-msg-bubble-tri\': msg.isShowGAMsgTri}" ng-style="msg.triStyle"></div>\n                    <msg-content info="msg.info"></msg-content>\n                    <!-- 消息菜单 -->\n                    <msg-menu msg="msg.info.msg" ng-show="msg.info.msg.sendStatus===SendStatus.SENDED&&!msg.info.position&&!msg.info.isSpecialConv&&isShowMsgMenu&&msg.info.msg.isSupport2Show()"></msg-menu>\n                    <!-- 普通消息有未读状态 -->\n                    <unread-count msg="msg.info.msg" ng-if="!msg.info.isSuperGroup && msg.info.msg.baseMessage.memberTag!==2&&!msg.info.isSpecialConv&&!msg.info.isSendToMyself"></unread-count>\n                    <!-- ding消息有确认状态 -->\n                    <un-confirm-count msg="msg.info.msg" ng-if="msg.info.msg.baseMessage.memberTag===2&&!msg.info.position"></un-confirm-count>\n                    <!-- 重发按钮 -->\n                    <a href="javascript:;" ng-if="msg.info.msg.sendStatus===SendStatus.SENDFAIL"><i class="iconfont icon-resend">&#xe63c;</i></a>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- 系统消息 -->\n    <div ng-if="msg.info.msg.baseMessage.creatorType===2" class="chat-status chat-system-notice" ng-bind-html="msg.info.msg.getContent().textContent.text|emoj"></div>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/chat/colorTransfer": 174,
			"../../service/conversation/ContentType": 182,
			"../../service/conversation/SendStatus": 189,
			"../../service/user/userManager": 404,
			"./msgContent/msgContent": 34,
			"./msgMenu/msgMenu": 35,
			"./msgStatus/unConfirmCount": 36,
			"./msgStatus/unreadCount": 37,
			"./profile": 38,
			"lodash": 470,
			"path": 5
		}
	],
	21: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.dingText";
			require("../../../../service/modal/profileModal.js"), require("../../../../filter/msgfilter"), require("../../../../service/ding/dinglist");
			var $my = require("../../../../service/user/my");
			angular.module(moduleName, ["ddWeb.filter.msgfilter", "ddWeb.service.profileModal", require("../../../../service/unPopModal/dingDetail"), "ddWeb.ding"]).directive("dingText", ["profileModalService", "openDingDetail", "dinglist",
				function(i, e, n) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								var o = this;
								this.info = e.info, this.msgModel = this.info.msg, n.getDingById(this.msgModel.baseMessage.memberExtension.dingId, function(i) {
									o.dingModel = i
								}), this.confirmDing = function(i, e) {
									e.preventDefault(), e.stopPropagation(), o.isConfirming = !0, o.dingModel.confirm(function(i) {
										o.dingModel.confirmStatus = 1, o.isConfirming = !1
									})
								}, this.onPeopleClick = function(e) {
									i(e)
								}
							}
						],
						link: function(i, n, o) {
							function d(n) {
								n.target.href || (n.preventDefault(), n.stopPropagation()), e(t), i.$apply()
							}
							var s = i.ding,
								t = {
									uid: s.msgModel.baseMessage.openIdEx.openId,
									dingId: s.msgModel.baseMessage.memberExtension.dingId,
									isMyDing: s.msgModel.baseMessage.openIdEx.openId == $my.uid
								};
							n.on("click", d), n.on("$destroy", function() {
								n.off()
							})
						},
						controllerAs: "ding",
						template: '<div class="msg-bubble text-msg ding-type">\n    <pre class="text" ng-bind-html="ding.msgModel.getContent().textContent.text|msgfilter"></pre>\n    <div class="icon-ding-wrapper">\n        <i class="iconfont icon-ding"></i>\n    </div>\n    <p class="ding-confirm" ng-class="{\'confirmed\':ding.dingModel.confirmStatus!==0||ding.isConfirming}" ng-show="ding.dingModel.isReceive||(ding.dingModel.isMy&&ding.dingModel.confirmStatus===0)">\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===1">已确认</a>\n        <a href="javascript:;" ng-if="ding.isConfirming">确定中</a>\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===0&&!ding.isConfirming" ng-click="ding.confirmDing(ding.msgModel.baseMessage.memberExtension.dingId,$event)" log="ding_confirm_click">确认收到</a>\n    </p>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"../../../../service/ding/dinglist": 216,
			"../../../../service/modal/profileModal.js": 289,
			"../../../../service/unPopModal/dingDetail": 392,
			"../../../../service/user/my": 400,
			"path": 5
		}
	],
	22: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.dingVoice";
			require("../../../../service/mediaId/mediaId"), require("../../../../service/modal/profileModal.js"), require("../../../../service/ding/dinglist");
			var $my = require("../../../../service/user/my");
			angular.module(moduleName, ["ddWeb.mediaId", "ddWeb.service.profileModal", require("../../../../service/unPopModal/dingDetail"), "ddWeb.ding"]).directive("dingVoice", ["mediaId", "$timeout", "$rootScope", "profileModalService", "$state", "openDingDetail", "dinglist",
				function(i, e, n, o, d, s, a) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(i) {
								var e = this;
								this.info = i.info, this.msgModel = this.info.msg, this.audioDuration = parseInt(this.msgModel.baseMessage.content.audioContent.duration / 1e3), a.getDingById(this.msgModel.baseMessage.memberExtension.dingId, function(i) {
									e.dingModel = i
								}), this.confirmDing = function(i, n) {
									n.preventDefault(), n.stopPropagation(), e.isConfirming = !0, e.dingModel.confirm(function(i) {
										e.dingModel.confirmStatus = 1, e.isConfirming = !1
									})
								}, this.onPeopleClick = function(i) {
									o(i)
								}
							}
						],
						link: function(i, e, n) {
							function o(e) {
								e.preventDefault(), e.stopPropagation(), s(a), i.$apply()
							}
							var d = i.ding,
								a = {
									uid: d.msgModel.baseMessage.openIdEx.openId,
									dingId: d.msgModel.baseMessage.memberExtension.dingId,
									isMyDing: d.msgModel.baseMessage.openIdEx.openId == $my.uid
								};
							e.on("click", o), e.on("$destroy", function() {
								e.off()
							})
						},
						controllerAs: "ding",
						template: '<div class="msg-bubble audio-msg ding-type">\n    <audio-player audio-media-id="ding.msgModel.baseMessage.content.audioContent.mediaId" audio-duration="ding.audioDuration" log="ding_voice_play"></audio-player>\n    <div class="icon-ding-wrapper">\n        <i class="iconfont icon-ding"></i>\n    </div>\n    <p class="ding-confirm" ng-class="{\'confirmed\':ding.dingModel.confirmStatus!==0||ding.isConfirming}" ng-show="ding.dingModel.isReceive||(ding.dingModel.isMy&&ding.dingModel.confirmStatus===0)">\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===1">已确认</a>\n        <a href="javascript:;" ng-if="ding.isConfirming">确定中</a>\n        <a href="javascript:;" ng-if="ding.dingModel.confirmStatus===0&&!ding.isConfirming" ng-click="ding.confirmDing(ding.msgModel.baseMessage.memberExtension.dingId,$event)" log="ding_confirm_click">确认收到</a>\n    </p>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/ding/dinglist": 216,
			"../../../../service/mediaId/mediaId": 267,
			"../../../../service/modal/profileModal.js": 289,
			"../../../../service/unPopModal/dingDetail": 392,
			"../../../../service/user/my": 400,
			"path": 5
		}
	],
	23: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgCard";
			require("../../../../filter/msgfilter"), require("../../../../service/modal/profileModal"), angular.module(moduleName, ["ddWeb.filter.msgfilter", "ddWeb.service.profileModal"]).directive("msgCard", ["profileModalService",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(a) {
								this.info = a.info, this.msgModel = this.info.msg;
								var s = this.msgModel.getContent();
								s && s.attachments && s.attachments[0] && s.attachments[0].extension && (this.card = s.attachments[0].extension), this.showProfile = function() {
									this.card && this.card.uid && e(this.card.uid, null, null, null, null, this.card)
								}
							}
						],
						link: function(e, a, s) {},
						controllerAs: "msg",
						template: '<div class="msg-bubble card-msg" ng-click="msg.showProfile()">\n    <div class="card-msg-detail clearfix">\n        <dd-avatar mediaid="msg.card.avatarMediaId" name="msg.card.name" class="card-msg-detail-avatar"></dd-avatar>\n        <pre class="card-msg-name"><span ng-bind-html="msg.card.name|emoj" ></span></pre>\n    </div>\n    <div class="card-msg-type">名片</div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"../../../../service/modal/profileModal": 289,
			"path": 5
		}
	],
	24: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgErr";
			angular.module(moduleName, [require("../../../../service/conversation/ContentType")]).directive("msgErr", ["ContentType",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(t) {
								this.info = t.info, this.msgModel = this.info.msg;
								var n = this.msgModel.getContent();
								this.msgTypeTitle = "消息", n.contentType === e.OA && n.attachments.length && n.attachments[0].extension && n.attachments[0].extension.h_tl ? this.msgTypeTitle = n.attachments[0].extension.h_tl : n.contentType === e.MAIL && (this.msgTypeTitle = "邮件")
							}
						],
						link: function(e, t, n) {},
						controllerAs: "msg",
						template: '<div class="msg-bubble">\n    <i class="iconfont msg-err-icon">&#xe63c;</i>\n    <span>本{{msg.msgTypeTitle}}暂时不支持显示，请在手机上查看</span>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/conversation/ContentType": 182,
			"path": 5
		}
	],
	25: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgFile",
				ua = require("../../../../service/ua"),
				SendStatus = require("../../../../service/conversation/SendStatus"),
				uriResolve = require("../../../../service/uriResolve/resolve");
			require("../../../../service/mediaId/mediaId"), require("../../../../service/file/fileTypes"), require("../../../../service/app/download/openFile"), angular.module(moduleName, ["ddWeb.mediaId", require("../../../../service/file/fileHelper"), "ddWeb.file.fileTypes", "ddWeb.download.openFile", require("../../../../service/microApp/space"), require("../../../../service/app/download/LocalCache"), require("../../../../service/app/download/fileFactory"), require("../../../../service/modal/spaceFileModal")]).directive("msgFile", ["mediaId", "$fileHelper", "$fileTypes", "openFileService", "spaceApp", "DLLocalCache", "fileFactory", "spaceFileModal",
				function(e, i, s, n, l, o, a, t) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(s) {
								var n = this;
								this.info = s.info, this.msgModel = this.info.msg, this.mid = this.msgModel.baseMessage.messageId, this.content = this.msgModel.getContent(), this.fileSrc = e.mid2Url(this.content.fileContent.mediaId), this.fileSize = i.formatFileSize(this.content.fileContent.fileSize), l.hasPermission().then(function(e) {
									n.showSaveFileBtn = e
								}), this.savingFile = !1, this.saveFile = function() {
									var e = {
										fileName: i.escapeFileName(n.content.fileContent.fileName),
										url: uriResolve.assetsResolve(this.fileSrc)
									};
									t.showModal({
										dialogType: "2",
										file: e,
										onSelect: function() {
											n.savingFile = !0
										},
										onSuccess: function() {
											n.savingFile = !1
										},
										onError: function() {
											n.savingFile = !1
										}
									})
								}
							}
						],
						link: function(e, i, l) {
							var o = e.msg,
								t = o.content.fileContent.fileType;
							e.fileIconClass = s.getFileIconByType(t), o.isNw = ua.isNw;
							var f = function() {
								e.$digest()
							};
							o.file = a.getFileObj(o.fileSrc, o.msgModel.getContent().fileContent.fileName), o.file.proxy.on(o.file.EVENTS.STRAT, f), o.file.proxy.on(o.file.EVENTS.PROGRESS, f), o.file.proxy.on(o.file.EVENTS.FINISH, f), i.delegate("a[download]", "click", function(e) {
								ua.isNw && (event.preventDefault(), o.msgModel.sendStatus === SendStatus.SENDED && o.file.download())
							}), i.find(".msg-open-file-link").click(function(e) {
								n.open({
									url: o.file.url
								}).then(function() {}, function() {
									o.file.reset()
								})
							}), i.on("$destroy", function() {
								i.find(".msg-open-file-link").unbind(), i.delegate("a[download]", "click"), o.file.proxy && (o.file.proxy.off(o.file.EVENTS.STRAT, f), o.file.proxy.off(o.file.EVENTS.PROGRESS, f), o.file.proxy.off(o.file.EVENTS.FINISH, f))
							})
						},
						controllerAs: "msg",
						template: '<div class="msg-bubble file-msg">\n    <a href="{{msg.fileSrc}}" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" mid="{{msg.mid}}"><div class="file-icon" ng-class="fileIconClass"></div></a>\n    <p class="file-name"><a href="{{msg.fileSrc}}" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" mid="{{msg.mid}}">{{msg.content.fileContent.fileName}}</a></p>\n    <p class="file-size">({{msg.fileSize}})</p>\n    <a href="{{msg.fileSrc}}" class="download-file-btn" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" ng-show="!msg.file.isActive&&!msg.file.isFinish&&!msg.file.isError" mid="{{msg.mid}}">下载文件</a>\n    <a href="{{msg.fileSrc}}" class="download-file-btn" download="{{msg.content.fileContent.fileName}}" nwdirectory nwsaveas="{{msg.content.fileContent.fileName}}" ng-show="msg.file.isError" mid="{{msg.mid}}">重新下载</a>\n    <a href="javascript:;" class="download-file-btn msg-open-file-link" mid="{{msg.mid}}" ng-show="msg.isNw&&msg.file.isFinish">打开文件夹</a>\n    <a href="javascript:;" class="download-span" ng-show="msg.file.isActive&&!msg.file.isFinish">正在下载</a>\n    <a href="javascript:;" target="_blank" class="save-file-btn" ng-show="msg.showSaveFileBtn && !msg.savingFile" mid="{{msg.mid}}" ng-click="msg.saveFile()">转存钉盘</a>\n    <a href="javascript:;" class="save-span" ng-show="msg.savingFile">正在转存</a>\n    <div progress-bar progress="msg.file.progress" ng-if="msg.file.isActive"></div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/app/download/LocalCache": 157,
			"../../../../service/app/download/fileFactory": 159,
			"../../../../service/app/download/openFile": 160,
			"../../../../service/conversation/SendStatus": 189,
			"../../../../service/file/fileHelper": 224,
			"../../../../service/file/fileTypes": 225,
			"../../../../service/mediaId/mediaId": 267,
			"../../../../service/microApp/space": 273,
			"../../../../service/modal/spaceFileModal": 295,
			"../../../../service/ua": 390,
			"../../../../service/uriResolve/resolve": 397,
			"path": 5
		}
	],
	26: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				_ = require("lodash"),
				moduleName = "ddWeb.chat.msgGroupAnnounce";
			angular.module(moduleName, [require("../../../../service/unPopModal/groupAnnounce"), require("../../../../filter/msgfilter")]).directive("groupAnnounce", ["groupAnnounceService",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(n) {
								this.info = n.info, this.msgModel = this.info.msg, this.showGroupBulletinModal = function(n) {
									n.preventDefault(), n.stopPropagation(), e.open({
										cid: _.get(this.msgModel, "baseMessage.conversationId")
									})
								}
							}
						],
						link: function(e, n, o) {
							e.msg
						},
						controllerAs: "msg",
						template: '<div class="msg-bubble group-announce-msg">\n    <pre class="text" ng-bind-html="msg.msgModel.getContent().attachments[0].extension.text|msgfilter"></pre>\n    <a class="msg-tips" ng-click="msg.showGroupBulletinModal($event)">群公告</a>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"../../../../service/unPopModal/groupAnnounce": 393,
			"lodash": 470,
			"path": 5
		}
	],
	27: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgImg",
				_ = require("lodash"),
				SendStatus = require("../../../../service/conversation/SendStatus");
			require("../../../../service/mediaId/mediaId"), angular.module(moduleName, ["ddWeb.mediaId", "ddWeb.service.ImgType", require("../../../../service/img/Rotate"), require("../../../log/imgErrorLog")]).directive("msgImg", ["mediaId", "Rotate",
				function(e, t) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info, this.msgModel = this.info.msg
							}
						],
						link: function(o, s, i) {
							function r() {
								try {
									o.$digest()
								} catch (e) {
									console.log(e)
								}
							}

							function m(e, t, o, s) {
								if (t > a) {
									var i = t / a;
									t = a, o /= i
								}
								e && (d.width(o).height(t), g.css({
									"margin-top": (t - o) / 2 + "px",
									"margin-left": (o - t) / 2 + "px"
								})), g.width(t).height(o), g.css("-webkit-transform", "rotate(" + s + "deg)")
							}
							var n = o.msg,
								g = $(s.find(".chat-img")),
								d = $(s),
								a = 230,
								l = 0;
							n.SendStatus = SendStatus;
							var c = null,
								u = function() {
									var o = n.msgModel.getContent(),
										s = !1;
									o.photoContent.mediaId ? (n.imgSrc = e.mid2Url(o.photoContent.mediaId), "local" === c && g[0].removeAttribute("src"), c = "mediaId") : (n.imgSrc = _.get(n.msgModel, "_local.localURI"), c = "local", s = !0), l = 1 !== o.photoContent.type ? 0 : t(o.photoContent.orientation);
									var i = 90 === l || 270 === l;
									if (s) g && g.length > 0 && (g[0].onload = function() {
										m(i, this.width, this.height, l)
									});
									else {
										var r = /_([0-9]+)_([0-9]+)\./.exec(n.imgSrc);
										if (!r) return;
										var d = r[1],
											a = r[2];
										m(i, d, a, l)
									}
								};
							n.msgModel.on(n.msgModel.EventsName.SEND_SUCCESS, u), n.msgModel.on(n.msgModel.EventsName.PROGRESS_UPDATE, r), u(), o.$on("$destroy", function() {
								n.msgModel.off(n.msgModel.EventsName.SEND_SUCCESS, u), n.msgModel.off(n.msgModel.EventsName.PROGRESS_UPDATE, r)
							})
						},
						controllerAs: "msg",
						template: '<div class="msg-bubble img-msg">\n    <img img-error-log class="chat-img" ng-src="{{msg.imgSrc}}" alt="图片" log="chat_image_view_big" msg-id="{{msg.msgModel.baseMessage.messageId}}">\n    <!-- 上传中并且不是自定义表情 -->\n    <div progress-bar progress="msg.msgModel.uploadProgress" ng-if="msg.msgModel.sendStatus === msg.SendStatus.SENDING_WITH_PROGRESS "></div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/conversation/SendStatus": 189,
			"../../../../service/img/Rotate": 244,
			"../../../../service/mediaId/mediaId": 267,
			"../../../log/imgErrorLog": 64,
			"lodash": 470,
			"path": 5
		}
	],
	28: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgMail",
				_ = require("lodash"),
				Uri = require("jsuri");
			require("../../../../filter/msgfilter"), require("../../../../service/mediaId/mediaId");
			var uriResolve = require("../../../../service/uriResolve/resolve");
			angular.module(moduleName, ["ddWeb.filter.msgfilter", "ddWeb.mediaId", require("../../../../service/widget/emailOpenService")]).directive("msgMail", ["mediaId", "emailOpenService",
				function(e, t) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info, this.msgModel = this.info.msg
							}
						],
						link: function(e, n, s) {
							var a = e.msg;
							if (a.linkImgSrc = uriResolve.assetsResolve("app/img/notification/mail.jpg"), a.hasAttachments = !1, a.content = a.msgModel.getContent(), _.has(a, "content.attachments[0].extension.file_count")) {
								var i = parseInt(a.content.attachments[0].extension.file_count);
								!isNaN(i) && i > 0 && (a.hasAttachments = !0)
							}
							a.contentText = "此邮件中没有内容", _.has(a, "content.attachments[0].extension.content") && !_.isEmpty(a.content.attachments[0].extension.content) && (a.contentText = a.content.attachments[0].extension.content), a.openEmail = function() {
								var e = null;
								if (_.has(a, "content.attachments[0].extension.mail_message_id")) {
									var n = new Uri("/forwardLink/goMailDetail").addQueryParam("messageId", a.content.attachments[0].extension.mail_message_id).toString();
									e = {
										redirect_url: n
									}
								}
								t.openEmail(e)
							}
						},
						controllerAs: "msg",
						template: '<div class="msg-bubble share-msg mail-msg" ng-click="msg.openEmail();">\n    <span class="iconfont mail-msg-attachment" ng-if="msg.hasAttachments">&#xe621;</span>\n    <p class="share-title">\n        <a ng-if="msg.content.attachments[0].extension.title.length!==0"><span ng-if="msg.content.attachments[0].extension.tl">{{msg.content.attachments[0].extension.tl}}</span><span ng-if="!msg.content.attachments[0].extension.tl">无主题</span></a>\n    </p>\n    <div class="share-detail">\n        <div class="share-img-wrapper mail-wrapper">\n            <a><img class="share-img" ng-src="{{msg.linkImgSrc}}" alt="图片" /></a>\n        </div>\n        <a class="share-content">{{msg.contentText}}</a>\n    </div>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"../../../../service/mediaId/mediaId": 267,
			"../../../../service/uriResolve/resolve": 397,
			"../../../../service/widget/emailOpenService": 413,
			"jsuri": 469,
			"lodash": 470,
			"path": 5
		}
	],
	29: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				_ = require("lodash"),
				ua = require("../../../../service/ua"),
				moduleName = "ddWeb.chat.msgOA";
			angular.module(moduleName, [require("../../../../service/mediaId/mediaId"), require("../../../../service/frameContainer/slidePanel"), require("../../../../service/chat/colorTransfer"), require("../../../../service/log/log")]).directive("msgOa", ["mediaId", "openSlidePanelContainer", "colorTransfer", "log",
				function(n, t, e, s) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(t) {
								function a() {
									var n = t.info.position ? _.get(o.msgModel, "baseMessage.extension.receiverAction") : _.get(o.msgModel, "baseMessage.extension.senderAction");
									if (n) {
										var s = null;
										try {
											s = JSON.parse(n)
										} catch (a) {
											s = null
										}
										s && Array.isArray(s) && s.forEach(function(n) {
											n.bg && (n._bgColor = e(n.bg))
										}), o.actionStatus = s
									}
								}
								var o = this;
								if (o.info = t.info, o.msgModel = o.info.msg, o.content = o.msgModel.getContent(), o.headBgColor = null, o.imgSrc = null, o.showFile = !1, _.has(o.content, "attachments[0].extension") && (o.headBgColor = e(o.content.attachments[0].extension.h_bg), o.imgSrc = n.mid2Url(o.content.attachments[0].extension.media_id || ""), o.showFile = o.content.attachments[0].extension.b_file_count && 0 != o.content.attachments[0].extension.b_file_count), o.extensionForms = [], _.has(o.content, "attachments[0].extension.b_form")) {
									try {
										JSON.parse(o.content.attachments[0].extension.b_form).forEach(function(n) {
											o.extensionForms.push(n)
										})
									} catch (i) {
										s.info("msgOA JSON.parse err: " + o.content.attachments[0].extension.b_form)
									}
								}
								a(), o.msgModel.on(o.msgModel.EventsName.UPDATE_EXTENSION, a), t.$on("$destroy", function() {
									o.msgModel.off(o.msgModel.EventsName.UPDATE_EXTENSION, a)
								})
							}
						],
						link: function(n, e, s) {
							var a = "";
							n.content = n.info.msg.getContent(), _.has(n.content, "attachments[0].url") && (a = n.content.attachments[0].url);
							var o = "";
							_.has(n.content, "attachments[0].extension.b_tl") && (o = n.content.attachments[0].extension.b_tl);
							var i = !1,
								c = ["日志", "公告", "审批"];
							_.has(n.content, "attachments[0].extension.h_tl") && _.indexOf(c, n.content.attachments[0].extension.h_tl) >= 0 && (i = !0), 22683484 === _.get(n.info.msg, "baseMessage.openIdEx.openId") && "用户社区" === _.get(n.content, "attachments[0].extension.h_tl") && (i = !0);
							var m = _.get(n.content, "attachments[0].extension.pc_msg_url");
							m && (ua.isNw ? !0 : "https://" === m.slice(0, 8)) && (i = !0, a = m), n.openOAMsg = function(n) {
								n.preventDefault(), n.stopPropagation(), t({
									url: a,
									title: o,
									showAppPage: i
								})
							}
						},
						controllerAs: "msgOA",
						template: '<div class="msg-bubble oa-msg">\n    <div class="msg-head" ng-style="{\'background-color\':msgOA.headBgColor}">{{msgOA.content.attachments[0].extension.h_tl}}</div>\n    <div class="msg-body">\n        <h4 class="msg-title" ng-if="msgOA.content.attachments[0].extension.b_tl">{{msgOA.content.attachments[0].extension.b_tl}}</h4>\n        <div class="msg-img-wrp" ng-if="msgOA.imgSrc">\n            <img ng-src="{{msgOA.imgSrc}}" class="msg-img" alt="" />\n        </div>\n        <div class="msg-content" ng-if="msgOA.content.attachments[0].extension.b_content">{{msgOA.content.attachments[0].extension.b_content}}</div>\n        <div class="msg-form" ng-if="msgOA.content.attachments[0].extension.b_form">\n            <div class="msg-form-item clr" ng-repeat="item in msgOA.extensionForms">\n                <span class="msg-form-key">{{item.k}}</span>\n                <span class="msg-form-val">{{item.v}}</span>\n            </div>\n        </div>\n        <div class="msg-attachment" ng-if="msgOA.showFile">\n            <i class="iconfont">&#xe621;</i>\n            <span>{{msgOA.content.attachments[0].extension.b_file_count}}个附件</span>\n        </div>\n        <div class="msg-info" ng-if="msgOA.content.attachments[0].extension.author">\n            <span class="msg-author">{{msgOA.content.attachments[0].extension.author}}</span>\n            <span class="msg-date">{{msgOA.content.attachments[0].extension.date | dateTime:true}}</span>\n        </div>\n        <div ng-if="msgOA.actionStatus && msgOA.actionStatus.length">\n            <span ng-repeat="action in msgOA.actionStatus" class="msg-receiveraction" ng-if="action.tp===\'txt\'" ng-style="{\'color\':action._bgColor}">{{action.txt}}</span>\n        </div>\n        <div class="msg-action" ng-click="openOAMsg($event)">\n            <a href="javascript:;">查看详情</a>\n        </div>\n    </div>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/chat/colorTransfer": 174,
			"../../../../service/frameContainer/slidePanel": 231,
			"../../../../service/log/log": 260,
			"../../../../service/mediaId/mediaId": 267,
			"../../../../service/ua": 390,
			"lodash": 470,
			"path": 5
		}
	],
	30: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgShare",
				uriResolve = require("../../../../service/uriResolve/resolve");
			require("../../../../filter/msgfilter"), require("../../../../service/mediaId/mediaId"), angular.module(moduleName, ["ddWeb.filter.msgfilter", "ddWeb.mediaId"]).directive("msgShare", ["mediaId", "$sce",
				function(e, t) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info, this.msgMoodel = this.info.msg, this.content = this.msgMoodel.getContent()
							}
						],
						link: function(t, n, s) {
							var a = t.msg;
							_.has(a, "content.attachments[0].extension.picUrl") ? a.linkImgSrc = e.mid2Url(a.content.attachments[0].extension.picUrl) : a.linkImgSrc = uriResolve.assetsResolve("app/img/filelogo/share.png")
						},
						controllerAs: "msg",
						template: '<div class="msg-bubble share-msg">\n    <p class="share-title">\n        <a href="{{msg.content.attachments[0].url}}"  target="_blank" ng-if="msg.content.attachments[0].extension.title.length!==0">{{msg.content.attachments[0].extension.title}}</a>\n    </p>\n    <div class="share-detail">\n        <div class="share-img-wrapper">\n            <a href="{{msg.content.attachments[0].url}}"  target="_blank"><img class="share-img" ng-src="{{msg.linkImgSrc}}" alt="图片" /></a>\n        </div>\n        <a href="{{msg.content.attachments[0].url}}"  target="_blank" class="share-content">{{msg.content.attachments[0].extension.text}}</a>\n    </div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"../../../../service/mediaId/mediaId": 267,
			"../../../../service/uriResolve/resolve": 397,
			"path": 5
		}
	],
	31: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgSpaceFile",
				fileTypes = require("@ali/ding-filetypes"),
				_ = require("lodash"),
				spaceFileHelper = require("../../../../service/file/spaceFileHelper"),
				previewFileConfig = require("../../../../service/file/previewFileConfig"),
				SendStatus = require("../../../../service/conversation/SendStatus"),
				ua = require("../../../../service/ua"),
				$my = require("../../../../service/user/my");
			angular.module(moduleName, [require("../../../../service/file/fileHelper"), require("../../../../service/app/download/openFile"), require("../../../../service/microApp/space"), require("../../../../service/modal/spaceFileModal"), require("../../../../service/app/download/fileFactory"), require("../../../../service/app/download/LocalCache"), require("../../../../service/unPopModal/groupFileList"), require("../../../../service/modal/previewFileModal")]).directive("msgSpaceFile", ["$fileHelper", "openFileService", "spaceApp", "spaceFileModal", "fileFactory", "DLLocalCache", "openGroupFileList", "previewFileModal",
				function(e, i, s, n, a, t, l, o) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info
							}
						],
						link: function(t, r, c) {
							var f = t.info.msg;
							t.msg = f, t.isMine = f.baseMessage.openIdEx.openId === $my.uid, t.messageId = f.baseMessage.messageId;
							var d = function() {
								t.$digest()
							};
							if (f.baseMessage.content && f.baseMessage.content.attachments && f.baseMessage.content.attachments[0]) {
								var p = f.baseMessage.content.attachments[0];
								t.fileName = p.extension.f_name, t.fileSize = p.extension.f_size, t.fileSizeFormatted = e.formatFileSize(t.fileSize), t.fileIconClass = fileTypes.getFileIconByType(p.extension.f_type), t.isNw = ua.isNw, f.sendStatus === SendStatus.SENDED || void 0 === f.sendStatus ? t.fileUri = spaceFileHelper.getFileUri(p.extension) : t.fileUri = "javascript:;"
							}
							t.SendStatus = SendStatus, f.on(t.msg.EventsName.PROGRESS_UPDATE, d);
							var g = function() {
								var e = f.baseMessage.content.attachments[0];
								t.messageId = f.baseMessage.messageId, t.file.name = t.fileName = e.extension.f_name, t.file.url = t.fileUri = spaceFileHelper.getFileUri(e.extension), t.$digest()
							};
							f.on(t.msg.EventsName.SEND_SUCCESS, g), t.file = a.getFileObj(t.fileUri, t.fileName), t.file.proxy.on(t.file.EVENTS.STRAT, d), t.file.proxy.on(t.file.EVENTS.PROGRESS, d), t.file.proxy.on(t.file.EVENTS.FINISH, d), r.delegate("a[download]", "click", function(e) {
								f.updateSpaceFileMsgToRead(), ua.isNw && (event.preventDefault(), f.sendStatus === SendStatus.SENDED && t.file.download())
							}), r.on("click", ".msg-open-file-link", function(e) {
								e.preventDefault(), i.open({
									url: t.file.url
								}).then(function() {}, function() {
									t.file.reset()
								})
							}), s.hasPermission().then(function(e) {
								t.showSaveFileBtn = e
							}), t.savingFile = !1, t.saveFile = function() {
								if (_.has(f, "baseMessage.content.attachments[0].extension")) {
									var e = f.baseMessage.content.attachments[0].extension,
										i = {
											orgId: e.oid && "0" !== e.oid ? e.oid : "",
											spaceId: e.s_id,
											path: e.path,
											fileName: e.f_name,
											id: e.f_id
										};
									n.showModal({
										dialogType: "2",
										file: i,
										onSelect: function() {
											t.savingFile = !0
										},
										onSuccess: function() {
											t.savingFile = !1
										},
										onError: function() {
											t.savingFile = !1
										}
									})
								}
							}, t.openFileList = function(e) {
								if (e.stopPropagation(), e.preventDefault(), _.has(f, "baseMessage.content.attachments[0].extension")) {
									var i = f.baseMessage.content.attachments[0].extension;
									l({
										cid: f.baseMessage.conversationId,
										orgId: i.oid ? i.oid : t.info.orgId,
										spaceId: i.s_id
									})
								}
							}, t.preview = function() {
								t.msg.sendStatus === t.SendStatus.SENDED && spaceFileHelper.getPreviewUri(_.get(f, "baseMessage.content.attachments[0].extension"), previewFileConfig.iframe_width, previewFileConfig.iframe_height).then(function(e) {
									e.isUnsupport || f.updateSpaceFileMsgToRead(), o(_.assign(e, {
										onDownload: function() {
											f.updateSpaceFileMsgToRead()
										}
									}))
								})
							}, r.one("$destroy", function() {
								r.off("click", ".msg-open-file-link"), r.off("click", "a.disabled"), r.undelegate("a[download]", "click"), f.off(t.msg.EventsName.PROGRESS_UPDATE, d), f.off(t.msg.EventsName.SEND_SUCCESS, g), t.file.proxy && (t.file.proxy.off(t.file.EVENTS.STRAT, d), t.file.proxy.off(t.file.EVENTS.PROGRESS, d), t.file.proxy.off(t.file.EVENTS.FINISH, d))
							})
						},
						controllerAs: "content",
						template: '<div class="msg-bubble file-msg">\n    <div class="file-icon" ng-class="fileIconClass" ng-click="preview()"></div>\n    <p class="file-name">\n        <span ng-click="preview()">{{fileName}}</span>\n    </p>\n    <p class="file-size">({{fileSizeFormatted}})</p>\n    <a href="{{fileUri}}" target="_blank" class="download-file-btn" download="{{fileName}}" nwdirectory nwsaveas="{{fileName}}" ng-show="!file.isActive&&!file.isFinish&&!file.isError&&(msg.sendStatus === SendStatus.SENDED || msg.sendStatus === undefined)" mid="{{messageId}}">下载文件</a>\n    <a href="{{fileUri}}" target="_blank" class="download-file-btn" download="{{fileName}}" nwdirectory nwsaveas="{{fileName}}" ng-show="file.isError" mid="{{messageId}}">重新下载</a>\n    <a href="javascript:;" class="download-file-btn msg-open-file-link" mid="{{messageId}}" ng-show="isNw&&file.isFinish">打开文件夹</a>\n    <a href="javascript:;" class="download-span" ng-show="file.isActive&&!file.isFinish">正在下载</a>\n    <span class="waiting-upload" ng-if="msg.sendStatus === SendStatus.WAITING_SEND">等待上传</span>\n    <a href="javascript:;" target="_blank" class="save-file-btn" ng-show="(msg.sendStatus === SendStatus.SENDED || msg.sendStatus === undefined) && showSaveFileBtn && !savingFile" mid="{{messageId}}" ng-click="saveFile()">转存钉盘</a>\n    <a href="javascript:;" class="save-span" ng-show="savingFile">正在转存</a>\n    <a href="javascript:;" class="preview-span" ng-if="msg.sendStatus === SendStatus.SENDED" ng-click="preview()">预览</a>\n    <div progress-bar progress="file.progress" ng-if="file.isActive"></div>\n    <div progress-bar progress="msg.uploadProgress" ng-if="msg.sendStatus === SendStatus.SENDING"></div>\n    <div class="msg-tips" ng-if="!info.isSingleChat&&msg.sendStatus===SendStatus.SENDED&&!file.isActive" ng-click="openFileList($event)">群文件</div>\n    <a href="#" class="cancel-sending" ng-click="msg.cancelSending();" ng-if="msg.sendStatus === SendStatus.SENDING || msg.sendStatus === SendStatus.WAITING_SEND">取消发送</a>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../service/app/download/LocalCache": 157,
			"../../../../service/app/download/fileFactory": 159,
			"../../../../service/app/download/openFile": 160,
			"../../../../service/conversation/SendStatus": 189,
			"../../../../service/file/fileHelper": 224,
			"../../../../service/file/previewFileConfig": 226,
			"../../../../service/file/spaceFileHelper": 229,
			"../../../../service/microApp/space": 273,
			"../../../../service/modal/previewFileModal": 288,
			"../../../../service/modal/spaceFileModal": 295,
			"../../../../service/ua": 390,
			"../../../../service/unPopModal/groupFileList": 394,
			"../../../../service/user/my": 400,
			"@ali/ding-filetypes": 455,
			"lodash": 470,
			"path": 5
		}
	],
	32: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgText";
			angular.module(moduleName, [require("../../../../filter/msgfilter")]).directive("msgText", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info, this.msgModel = this.info.msg
							}
						],
						link: function(e, t, n) {},
						controllerAs: "msg",
						template: '<div class="msg-bubble">\n    <pre class="text" ng-bind-html="msg.msgModel.getContent().textContent.text|msgfilter"></pre>    \n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../../filter/msgfilter": 117,
			"path": 5
		}
	],
	33: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgVoice";
			angular.module(moduleName, [require("../../../player/audioPlayer")]).directive("msgVoice", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "="
						},
						controller: ["$scope",
							function(e) {
								var o = this;
								this.info = e.info, this.msgModel = this.info.msg, this.audioDuration = parseInt(this.msgModel.baseMessage.content.audioContent.duration / 1e3), this.onPlayStart = function() {
									o.msgModel.updateAudioMsgToRead()
								}
							}
						],
						link: function(e, o, t) {},
						controllerAs: "msg",
						template: '<div class="msg-bubble audio-msg">\n    <audio-player audio-media-id="msg.msgModel.getContent().audioContent.mediaId" audio-duration="msg.audioDuration" on-play-start="msg.onPlayStart()"></audio-player>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../player/audioPlayer": 71,
			"path": 5
		}
	],
	34: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.chat.msgContent";
			angular.module(moduleName, [require("../../../service/conversation/ContentType"), require("./content/msgText"), require("./content/msgImg"), require("./content/msgVoice"), require("./content/msgFile"), require("./content/msgShare"), require("./content/msgErr"), require("./content/dingText"), require("./content/dingVoice"), require("./content/msgSpaceFile"), require("./content/msgCard"), require("./content/msgMail"), require("./content/msgGroupAnnounce"), require("./content/msgOA")]).directive("msgContent", ["ContentType",
				function(n) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							info: "=info"
						},
						controller: ["$scope",
							function(e) {
								this.info = e.info, this.ContentType = n, e.baseMsg = this.info.msg.baseMessage
							}
						],
						link: function(n, e, t) {},
						controllerAs: "content",
						template: '<div>\n    <!-- 文字内容 -->\n    <msg-text ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.TEXT" info="content.info"></msg-text>\n    <!-- 图片内容 -->\n    <msg-img ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.IMG" info="content.info"></msg-img>\n    <!-- 语音内容 -->\n    <msg-voice ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.AUDIO" info="content.info"></msg-voice>\n    <!-- 普通文件内容(旧数据) -->\n    <msg-file ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.FILE" info="content.info"></msg-file>\n    <!-- 分享内容 -->\n    <msg-share ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.SHARE" info="content.info"></msg-share>\n    <!-- 名片内容 -->\n    <msg-card ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.CARD" info="content.info"></msg-card>\n    <!-- 邮件内容 -->\n    <msg-mail ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.MAIL" info="content.info"></msg-mail>\n    <!-- 云盘内容 -->\n    <msg-space-file ng-if="baseMsg.memberTag !== 2 && (content.info.type === content.ContentType.ORG_SPACE_FILE || content.info.type === content.ContentType.IM_SPACE_FILE)" info="content.info"></msg-space-file>\n    <!-- 不支持消息内容 -->\n    <msg-err info="content.info" ng-if="!content.info.msg.isSupport2Show()"></msg-err>\n    <!-- OA消息 -->\n    <msg-oa ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.OA && content.info.msg.isSupport2Show()" info="content.info"></msg-oa>\n    <!-- ding文字内容 -->\n    <ding-text ng-if="baseMsg.memberTag === 2 && content.info.type === content.ContentType.TEXT" info="content.info"></ding-text>\n    <!-- ding语音内容 -->\n    <ding-voice ng-if="baseMsg.memberTag === 2 && content.info.type === content.ContentType.AUDIO" info="content.info"></ding-voice>\n    <!-- 群公告 -->\n    <group-announce ng-if="baseMsg.memberTag !== 2 && content.info.type === content.ContentType.GROUP_ANNOUNCE" info="content.info"></group-announce>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/conversation/ContentType": 182,
			"./content/dingText": 21,
			"./content/dingVoice": 22,
			"./content/msgCard": 23,
			"./content/msgErr": 24,
			"./content/msgFile": 25,
			"./content/msgGroupAnnounce": 26,
			"./content/msgImg": 27,
			"./content/msgMail": 28,
			"./content/msgOA": 29,
			"./content/msgShare": 30,
			"./content/msgSpaceFile": 31,
			"./content/msgText": 32,
			"./content/msgVoice": 33,
			"path": 5
		}
	],
	35: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.msgMenu",
				path = require("path"),
				SendStatus = require("../../../service/conversation/SendStatus"),
				_ = require("lodash"),
				$my = require("../../../service/user/my");
			angular.module(moduleName, [require("../../../service/conversation/conversation"), require("../../../service/modal/sendDingModal"), require("../../../service/conversation/ContentType")]).directive("msgMenu", ["conversation", "sendDingModalService", "ContentType",
				function(e, t, n) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							msg: "=msg"
						},
						controller: ["$scope",
							function(e) {
								e.SendStatus = SendStatus, this.msg = e.msg
							}
						],
						link: function(s, i, o) {
							function a() {
								c.baseMessage.conversationId && c.baseMessage.messageId && e.getConvById(c.baseMessage.conversationId, function(e) {
									e && e.getMembers(function(s) {
										var i, o;
										if (e.isSingleChat) {
											var a;
											a = e.isToMySelf ? s[0].openIdEx.openId : s[0].openIdEx.openId !== $my.uid ? s[0].openIdEx.openId : s[1].openIdEx.openId, i = [a]
										}
										o = s.map(function(e) {
											return e.openIdEx.openId
										});
										var r, u = c.getContent(),
											g = "";
										u.contentType === n.TEXT && (r = c.baseMessage.messageId, g = _.get(u, "textContent.text") || ""), u.contentType === n.GROUP_ANNOUNCE && (r = "", g = _.get(u, "attachments[0].extension.text") || ""), t.showModal({
											msgId: r,
											content: g,
											selectedUids: i,
											customUids: o,
											disableEdit: !0
										})
									})
								})
							}
							var r = s.msgMenu,
								r = s.msgMenu,
								c = r.msg,
								u = 18e5,
								g = {
									withdraw: 1,
									ding: 2
								}, d = {
									withDraw: {
										isShow: function() {
											var e = (new Date).getTime() - c.baseMessage.createdAt,
												t = e > 0 && u >= e;
											return 2 !== c.baseMessage.memberTag && t && c.baseMessage.content.contentType !== n.OA
										},
										text: "撤回",
										type: g.withdraw,
										click: function() {
											c.withDraw()
										}
									},
									msgToDing: {
										isShow: function() {
											return 0 === r.msg.baseMessage.memberTag && r.msg.baseMessage.content.contentType === n.TEXT || r.msg.baseMessage.content.contentType === n.GROUP_ANNOUNCE
										},
										text: "DING一下",
										type: g.ding,
										click: function() {
											a()
										}
									}
								};
							r.Menu = [], d.msgToDing.isShow() && r.Menu.push(d.msgToDing), d.withDraw.isShow() && r.Menu.push(d.withDraw);
							var m = u - ((new Date).getTime() - c.baseMessage.createdAt),
								p = null;
							m > 0 && u >= m && (p = setTimeout(function() {
								r.Menu = r.Menu.filter(function(e) {
									return e.type !== g.withdraw
								}), s.$digest()
							}, m)), i.on("$destroy", function() {
								clearTimeout(p)
							})
						},
						controllerAs: "msgMenu",
						template: '<div class="msg-menu-box">\n    <a href="javascript:;" ng-repeat="item in msgMenu.Menu" ng-click="item.click()">{{item.text}}</a>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/conversation/ContentType": 182,
			"../../../service/conversation/SendStatus": 189,
			"../../../service/conversation/conversation": 193,
			"../../../service/modal/sendDingModal": 293,
			"../../../service/user/my": 400,
			"lodash": 470,
			"path": 5
		}
	],
	36: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.unConfirmCount",
				path = require("path");
			angular.module(moduleName, [require("../../../service/ding/dinglist"), require("../../../service/modal/msgReceiverListModal")]).directive("unConfirmCount", ["dinglist", "msgReceiverListModalService",
				function(n, e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							msg: "=msg"
						},
						template: '<div log=\'chat_unread_user_click\' ng-show="dataReady">\n    <a href="javascript:;" class="read-status confirm-list" ng-if="ding.unConfirmCount>0&&!isSingleChat">{{ding.unConfirmCount}}人未确认</a>\n    <a href="javascript:;" class="read-status confirm-list" ng-if="ding.unConfirmCount>0&&isSingleChat">未确认</a>\n    <span class="read-status all-read" ng-if="ding.unConfirmCount===0">全部确认</span>\n</div>\n',
						link: function(i, a, t) {
							var s = i.msg,
								r = s.baseMessage.memberExtension.dingId;
							i.dataReady = !1;
							var o = s.baseMessage.conversationId,
								d = !1;
							o.indexOf(":") > 0 && (d = !0), i.isSingleChat = d, i.ding = null, n.getDingById(r, function(n) {
								i.ding = n, i.dataReady = !0
							}), a.on("click", ".confirm-list", function(n) {
								n.preventDefault(), e.showModal(s, !1)
							}), a.one("$destroy", function() {
								a.off("click", ".confirm-list")
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/ding/dinglist": 216,
			"../../../service/modal/msgReceiverListModal": 285,
			"path": 5
		}
	],
	37: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.unreadCount",
				path = require("path"),
				$my = require("../../../service/user/my");
			angular.module(moduleName, [require("../../../service/modal/msgReceiverListModal"), require("../../../service/conversation/ContentType")]).directive("unreadCount", ["msgReceiverListModalService", "ContentType",
				function(e, a) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							msg: "=msg"
						},
						template: '<div ng-show="shouldShow">\n    <div ng-show="msg.senderMessageStatus.unReadCount > 0" log=\'chat_unread_user_click\'>\n        <a href="#" class="read-status unreadlist" ng-show="isSingleChat">{{ ::text.unread }}</a>\n        <a href="#" class="read-status unreadlist" ng-show="!isSingleChat">{{ msg.senderMessageStatus.unReadCount }}{{ ::text.groupUnread }}{{ state.isSingleChat }}</a>\n    </div>\n    <div ng-show="msg.senderMessageStatus.unReadCount === 0">\n        <span class="read-status all-read" ng-show="!isSingleChat">{{ ::text.allReaded }}</span>\n        <span class="read-status all-read" ng-show="isSingleChat">{{ ::text.readed }}</span>\n    </div>\n</div>\n',
						link: function(s, n, t) {
							var d = s.msg;
							d.baseMessage.openIdEx ? s.isMine = d.baseMessage.openIdEx.openId === $my.uid : s.isMine = !0;
							var r = d.baseMessage.conversationId,
								i = !1,
								u = !1;
							if (r.indexOf(":") > 0 && (i = !0), i) {
								var o = r.split(":").map(function(e) {
									return parseInt(e)
								});
								o[0] === $my.uid && o[1] === $my.uid && (u = !0)
							}
							var l = d.baseMessage.content.contentType,
								c = {
									spaceFile: {
										unread: "未查收",
										groupUnread: "人未查收",
										readed: "已查收",
										allReaded: "全部已查收"
									},
									"default": {
										unread: "未读",
										groupUnread: "人未读",
										readed: "已读",
										allReaded: "全部已读"
									}
								};
							l === a.IM_SPACE_FILE || l === a.ORG_SPACE_FILE ? s.text = c.spaceFile : s.text = c["default"], s.isSingleChat = i, s.shouldShow = s.isMine && !u, n.on("click", ".unreadlist", function(a) {
								a.preventDefault(), e.showModal(d, !0)
							}), n.one("$destroy", function() {
								n.off("click", ".unreadlist")
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/conversation/ContentType": 182,
			"../../../service/modal/msgReceiverListModal": 285,
			"../../../service/user/my": 400,
			"path": 5
		}
	],
	38: [
		function(require, module, exports) {
			var moduleName = "ddWeb.chat.profile",
				path = require("path"),
				moduleName = "ddWeb.chat.profile";
			require("../../service/user/userManager"), require("../../service/modal/profileModal"), require("../../service/log/log");
			var app = angular.module(moduleName, ["ddWeb.service.profileModal", "ddWeb.user.userManager", "ddWeb.log.log"]);
			app.directive("profile", ["userManager", "profileModalService", "$rootScope", "log",
				function(a, e, r, s) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							uid: "=uid",
							isSingleChat: "=isSingleChat",
							isChatFrom: "=isChatFrom",
							isCompanyGroup: "=isCompanyGroup",
							oid: "=oid"
						},
						controller: ["$scope",
							function(o) {
								var i = this;
								i.uid = o.uid, i.isCompanyGroup = o.isCompanyGroup, i.isSingleChat = o.isSingleChat, i.isChatFrom = o.isChatFrom, i.oid = o.oid, i.user = {}, a.getUsers([o.uid]).then(function(a) {
									a[0] ? (i.user = a[0], i.oid && i.user.getUserEmployeeInfo(i.oid)) : (console.log("获取人员失败"), s.info("get users ", i.uid))
								}), i.showProfile = function(a) {
									a.preventDefault(), a.stopPropagation(), e(o.uid)
								}, i.addAt = function() {
									if (i.isChatFrom && !i.isSingleChat) {
										var a = {
											nick: i.user.userProfileModel.nick,
											uid: o.uid
										};
										r.$broadcast("add-at", a)
									}
								}
							}
						],
						link: function(a, e, r) {},
						controllerAs: "avatar",
						template: '<span class="profile-wrp">\n    <span class="name clearfix" ng-if="avatar.isChatFrom&&!avatar.isSingleChat">\n        <span ng-if="avatar.user.followObj.status === 0 || avatar.user.followObj.status === 2" class="follow-tag">特别关注</span>\n        <a href="javascript:;" ng-click="avatar.addAt()" class="profile-name">\n            <span class="name-text" ng-if="avatar.isCompanyGroup" ng-bind-html="(avatar.user.employeeBaseModel[avatar.oid].name||avatar.user.userProfileModel.name)+\'(\'+(avatar.user.remarkNameObj.alias||avatar.user.userProfileModel.nick)+\')\'|emoj"></span>\n            <span class="name-text" ng-if="!avatar.isCompanyGroup" ng-bind-html="(avatar.user.remarkNameObj.alias ||avatar.user.userProfileModel.nick)|emoj"></span>\n            <span class="at">@</span>\n        </a>\n    </span>\n    <span class="name" ng-if="!avatar.isChatFrom||avatar.isSingleChat">\n        <span class="name-text" ng-if="avatar.isCompanyGroup" ng-bind-html="(avatar.user.employeeBaseModel[avatar.oid].name||avatar.user.userProfileModel.name)+\'(\'+(avatar.user.remarkNameObj.alias||avatar.user.userProfileModel.nick)+\')\'|emoj" ></span>\n        <span class="name-text" ng-if="!avatar.isCompanyGroup" ng-bind-html="(avatar.user.remarkNameObj.alias ||avatar.user.userProfileModel.nick)|emoj"></span>\n    </span>\n</span>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/log/log": 260,
			"../../service/modal/profileModal": 289,
			"../../service/user/userManager": 404,
			"path": 5
		}
	],
	39: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				app = angular.module("ddWeb.chat.at", []);
			app.directive("at", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						require: "^toolBar",
						link: function(t, e, a) {},
						template: '<i class="iconfont tool-icon" ng-click="addAt()">&#xe625;</i>',
						controllerAs: "at"
					}
				}
			]);


		}, {
			"path": 5
		}
	],
	40: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../../service/face/default"), require("../../../service/chat/textCellService"), require("../../../service/face/emotionCollectService"), require("../../infiniteScroll");
			var app = angular.module("ddWeb.chat.face", ["ddWeb.faces_default", "ddWeb.service.textCellService", "ddWeb.service.emotionCollect", "ddWeb.infiniteScroll"]).directive("face", ["faces_default", "textCellService", "emotionCollectService",
				function(e, n, i) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							isFaceOpen: "=isFaceOpen",
							insertText: "=insertText",
							beforeSendMsg: "=beforeSendMsg",
							sendImgMsg: "=sendImgMsg"
						},
						controller: ["$scope",
							function(n) {
								var i = this;
								this.isFaceOpen = n.isFaceOpen, this.emotionGroup = e, this.activeItem = "default", i.emotionLoading = !0
							}
						],
						link: function(t, o, a) {
							var c = t.emotionPanel;
							c.toggleOpen = function() {
								c.isFaceOpen = !c.isFaceOpen, c.mode = "display"
							}, c.checkEmotionsCacheEmpty = function() {
								return "default" !== c.activeItem ? i.getEmpty() : !1
							}, c.changeEmotion = function(n) {
								"default" === n ? (c.emotionLoading = !1, c.activeItem = "default", c.emotionGroup = e, c.mode = "display") : "custom" === n && (c.activeItem = "custom", c.emotionLoading = !0, c.emotionGroup = [], c.mode = "display", i.initEmotionList().then(function(e) {
									"custom" == c.activeItem && (c.emotionLoading = !1, c.emotionGroup = e)
								}))
							}, c.pullMoreEmotion = function() {
								"edit" != c.mode && (c.emotionLoading = !0, i.pullEmotions().then(function() {
									c.emotionLoading = !1
								}, function() {
									c.emotionLoading = !1
								}))
							}, c.editEmotion = function() {
								"display" == c.mode ? c.mode = "edit" : c.mode = "display"
							}, c.removeEmotion = function(e) {
								i.rmEmotion(e)
							}, $(document).on("click.face", function(i) {
								var a = o.find(i.target).length > 0;
								if (a || c.isFaceOpen) {
									!a && c.isFaceOpen && (c.isFaceOpen = !1);
									var l = $(i.target),
										m = l.attr("data-index"),
										s = l.closest(".emotion-remove-btn");
									if (s.length > 0) var m = s.prev().attr("data-index");
									if (void 0 != m)
										if (i.preventDefault(), m = parseInt(m), "default" === c.activeItem) {
											var r = null;
											e.forEach(function(e) {
												e.index == m && (r = e.name)
											}), t.insertText(n.createCell("[" + r + "]")), c.isFaceOpen = !1
										} else
									if ("custom" === c.activeItem) {
										var d = null,
											u = null;
										c.emotionGroup.forEach(function(e) {
											e.index == m && (d = e.emotionMediaId, u = e.emotionMediaSize)
										});
										var f = {
											mediaId: d,
											picSize: u
										};
										"edit" === c.mode ? c.removeEmotion(m) : (t.sendImgMsg(f), c.isFaceOpen = !1)
									}
									t.$digest()
								}
							}), o.on("$destroy", function() {
								$(document).off("click.face")
							})
						},
						template: '<div id="J-face">\n    <i class="iconfont tool-icon" ng-click="emotionPanel.toggleOpen();" htitle="表情">&#xe626;</i>\n    <div class="emotion-container tab shadow" ng-if="emotionPanel.isFaceOpen">\n        <ul class="tab-items">\n            <li class="tab-item" ng-class="{\'current\':emotionPanel.activeItem ===\'default\'}" ng-click="emotionPanel.changeEmotion(\'default\')">默认表情</li>\n            <li class="tab-item" ng-class="{\'current\':emotionPanel.activeItem ===\'custom\'}" ng-click="emotionPanel.changeEmotion(\'custom\')">自定义表情</li>\n        </ul>\n        <div class="tab-contents">\n            <div class="tab-content" ng-class="{\'current\':emotionPanel.activeItem ===\'default\'}">\n                <ul class="emotions">\n                    <li class="emotion" ng-repeat="item in emotionPanel.emotionGroup"><img ng-src="{{item.src}}" data-index="{{item.index}}" title="{{item.name}}" alt="{{item.name}}"></li>\n                </ul>\n            </div>\n            <div class="tab-content user-emotion-tab-content" ng-class="{\'current\':emotionPanel.activeItem ===\'custom\'}">\n                <loading ng-if="emotionPanel.emotionLoading"></loading>\n                <ul class="user-emotions" ng-class="{\'editing\':emotionPanel.mode === \'edit\'}" infinite-scroll infinite-scroll-bottom="emotionPanel.pullMoreEmotion()" ng-if="emotionPanel.emotionGroup.length!==0">\n                    <li class="user-emotion" ng-repeat="item in emotionPanel.emotionGroup">\n                        <img class="emotion-img" ng-src="{{item.src}}" alt="" data-index="{{item.index}}"/>\n                        <i class="iconfont emotion-remove-btn">&#xe607;</i>\n                    </li>\n                </ul>\n                <div class="user-emotions" ng-if="emotionPanel.emotionGroup.length===0">\n                    <div class="user-emotion-emtpy">\n                        查看大图后，点击“收藏表情”<br/>（仅支持1M以内图片）\n                    </div>\n                </div>\n                <div class="action-wrapper">\n                    <a href="javascript:;" ng-show="emotionPanel.mode === \'edit\'" ng-click="emotionPanel.editEmotion()">完成</a>\n                    <a href="javascript:;" ng-show="emotionPanel.mode === \'display\' && emotionPanel.emotionGroup.length!==0" ng-click="emotionPanel.editEmotion()">管理表情</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',
						controllerAs: "emotionPanel"
					}
				}
			]);


		}, {
			"../../../service/chat/textCellService": 176,
			"../../../service/face/default": 222,
			"../../../service/face/emotionCollectService": 223,
			"../../infiniteScroll": 62,
			"path": 5
		}
	],
	41: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				ua = require("../../../service/ua");
			require("../../../service/widget/screenshot");
			var app = angular.module("ddWeb.chat.screenshot", ["ddWeb.service.screenshot", "ddWeb.service.alertMsgModal", require("../../../service/app/nw"), require("../../../service/log/log")]);
			app.directive("screenshot", ["screenshotService", "nw", "log",
				function(e, r, t) {
					return {
						restrict: "E",
						controller: [
							function() {
								function e(e) {
									return !e.startCapture
								}

								function r() {
									if (ua.isWin) {
										var r = $("#screenshotPlugin")[0];
										return !r || e(r) ? (t.error("windows screenshot file not install well"), !1) : !0
									}
									if (ua.isMac) {
										try {
											_nwrequire("@ali/mac-screen-capture")
										} catch (n) {
											if (n) return t.error("mac screenshot not install well", JSON.stringify(n)), !1
										}
										return !0
									}
								}
								this.isScreenShortCanUse = r()
							}
						],
						link: function(r, t, n) {
							var s = t.find(".screenshot-btn");
							s.on("click", function(r) {
								e.startCapture(!1, !r.shiftKey)
							}), t.on("$destroy", function() {
								s.off("click")
							})
						},
						template: '<i class="iconfont tool-icon screenshot-btn" ng-show="screenshotCtrl.isScreenShortCanUse">&#xe622;</i>\n',
						controllerAs: "screenshotCtrl"
					}
				}
			]);


		}, {
			"../../../service/app/nw": 161,
			"../../../service/log/log": 260,
			"../../../service/ua": 390,
			"../../../service/widget/screenshot": 416,
			"path": 5
		}
	],
	42: [
		function(require, module, exports) {
			var moduleName = "ddWeb.chat.selectSpaceFile",
				_ = require("lodash"),
				$my = require("../../../service/user/my"),
				ConvType = require("../../../service/conversation/ConvType");
			angular.module(moduleName, [require("../../../service/modal/spaceFileModal"), require("../../../service/user/userManager"), require("../../../service/log/log")]).directive("selectSpaceFile", ["spaceFileModal", "$rootScope", "userManager", "log",
				function(e, o, r, i) {
					return {
						restrict: "E",
						replace: !0,
						require: "^responsiveInput",
						link: function(n, t, s) {
							var a = null;
							n.conv.baseConversation.tag === ConvType.COMPANY_GROUP && _.has(n.conv.baseConversation, "extension.id") && (a = n.conv.baseConversation.extension.id);
							var c = n.input.spaceId,
								l = function(r) {
									e.showModal({
										dialogType: "1",
										orgId: a,
										targetSpaceId: c,
										targetUserOrgList: r && r.targetUserOrgIdList ? r.targetUserOrgIdList : [],
										onSuccess: function(e) {
											o.$broadcast("spaceFile:send", {
												files: e,
												orgId: a,
												spaceId: c
											})
										},
										onError: function() {}
									})
								};
							t.on("click", function(e) {
								if (n.conv.isSingleChat) {
									var o = [],
										t = n.conv.convId,
										s = t.split(":").filter(function(e) {
											return e != $my.uid
										});
									r.getUserWithExt(s[0]).then(function(e) {
										e.orgEmployees.map(function(e) {
											e.orgEmployeeModel && e.orgEmployeeModel.orgId && o.push(e.orgEmployeeModel.orgId)
										}), l({
											targetUserOrgIdList: o
										})
									}, function(e) {
										i.info("toolbar spaceFile getUserWithExt err", JSON.stringify(e)), l()
									})
								} else l()
							}), t.on("$destroy", function() {
								t.off("click")
							})
						},
						template: '<i class="iconfont tool-icon select-file-btn">&#xe664;</i>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/conversation/ConvType": 184,
			"../../../service/log/log": 260,
			"../../../service/modal/spaceFileModal": 295,
			"../../../service/user/my": 400,
			"../../../service/user/userManager": 404,
			"lodash": 470
		}
	],
	43: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("./face"), require("./upload"), require("./at"), require("./screenshot");
			var ua = require("../../../service/ua"),
				app = angular.module("ddWeb.chat.toolBar", ["ddWeb.chat.face", "ddWeb.chat.upload", "ddWeb.chat.at", "ddWeb.chat.screenshot", require("./selectSpaceFile")]);
			app.directive("toolBar", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						require: "^responsiveInput",
						controller: ["$scope",
							function(e) {
								var t = "截图（按住shift键可显示钉钉窗口）";
								this.screenshotTip = t
							}
						],
						link: function(e, t, i) {},
						template: '<ul class="tool-bar">\n    <li class="tool-item">\n        <upload htitle="附件"></upload>\n    </li>\n    <li class="tool-item">\n        <face insert-text="input.insertText" is-face-open="input.isFaceOpen" before-send-msg = "input.beforeSendMsg" send-img-msg="input.sendImgMsg" ></face>\n    </li>\n    <li class="tool-item" ng-if="!conv.isSingleChat">\n        <at htitle="试试直接输入@"></at>\n    </li>\n    <li class="tool-item" ng-if="input.showSelectFileBtn && input.spaceId">\n        <select-space-file htitle="选择钉盘文件"></select-space-file>\n    </li>\n    <li class="tool-item" ng-if="input.isNw">\n        <screenshot htitle="{{toolBar.screenshotTip}}"></screenshot>\n    </li>\n</ul>\n',
						controllerAs: "toolBar"
					}
				}
			]);


		}, {
			"../../../service/ua": 390,
			"./at": 39,
			"./face": 40,
			"./screenshot": 41,
			"./selectSpaceFile": 42,
			"./upload": 44,
			"path": 5
		}
	],
	44: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.upload",
				path = require("path"),
				ua = require("../../../service/ua");
			require("../../widget/angular-file-upload"), require("../../../service/modal/multiFileUploadPreview"), require("../../../service/modal/uploadFile"), require("../../../service/toast/toast");
			var fileTypes = require("../../../service/file/fileTypes"),
				app = angular.module(moduleName, ["angularFileUpload", "ddWeb.modal.multiFileUpload", "ddWeb.modal.uploadFile", "ddWeb.toast", require("../../../service/file/fileHelper")]);
			app.directive("upload", ["FileUploader", "$multiFileUpload", "$uploadFilePreview", "toastService", "$rootScope", "$fileHelper",
				function(e, l, i, o, r, a) {
					function t() {
						u.clearQueue(), u.cancelAll()
					}

					function n(e) {
						r.$broadcast("uploadFile:send", {
							file: e
						})
					}
					var u = new e;
					return {
						restrict: "AE",
						require: "^responsiveInput",
						replace: !0,
						controller: ["$scope",
							function(e) {
								this.uploader = u
							}
						],
						link: function(e, r, u) {
							function d(e) {
								var l = a.checkFileV2(e);
								return t(), l[0] === !0 ? (i(e).then(function(e) {
									n(e)
								}), !0) : void o.show(l[2], {
									type: "error"
								})
							}
							e.upload.uploader.onAfterAddingAll = function(e) {
								if (0 !== e.length)
									if (1 === e.length) d(e[0]._file);
									else {
										var i = e.map(function(e) {
											return e._file
										}),
											o = l.open(i);
										t(), o.then(function(e) {
											e.forEach(function(e) {
												n(e)
											})
										})
									}
							}, e.$on("uploadFile:drag", function(e, i) {
								var o = i.files;
								if (1 === o.length) d(o[0]);
								else {
									var r = l.open(o);
									r.then(function(e) {
										e.forEach(function(e) {
											n(e)
										})
									})
								}
							})
						},
						controllerAs: "upload",
						template: '<div>\n    <i class="iconfont tool-icon" >&#xe621;</i>\n    <input type="file" class="file-input" title=" " class="upload-btn" multiple nv-file-select="" uploader="upload.uploader"/>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/file/fileHelper": 224,
			"../../../service/file/fileTypes": 225,
			"../../../service/modal/multiFileUploadPreview": 286,
			"../../../service/modal/uploadFile": 300,
			"../../../service/toast/toast": 378,
			"../../../service/ua": 390,
			"../../widget/angular-file-upload": 84,
			"path": 5
		}
	],
	45: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.directive.convList",
				path = require("path");
			require("../../service/conversation/conversation"), require("../../service/modal/confirm");
			var ConvExtensionType = require("../../service/conversation/convExtensionType");
			require("../../service/modal/profileModal"), require("../../service/unPopModal/groupSetting"), require("../../directive/widget/contextMenu");
			var $my = require("../../service/user/my");
			require("../../service/events"), require("../../service/user/userManager");
			var ConvType = require("../../service/conversation/ConvType"),
				SuperGroupStatus = require("../../service/conversation/SuperGroupStatus");
			angular.module(moduleName, ["ddWeb.conversation", "ddWeb.modal.confirm", "ddWeb.service.profileModal", "ddWeb.unPopModal.groupSetting", "ddWeb.widget.contextMenu", "ddWeb.events", "ddWeb.user.userManager", require("../../service/modal/groupAddMembersModal")]).directive("convList", ["$rootScope", "conversation", "$confirm", "profileModalService", "groupSettingService", "EVENTS", "userManager", "groupAddMembersModalService",
				function(n, e, o, t, i, s, r, a) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {},
						controllerAs: "convList",
						controller: ["$scope",
							function(s) {
								function r() {
									var n = [];
									f.showType.forEach(function(e) {
										f.convListObj[e] && f.convListObj[e].forEach(function(e) {
											n.push(f.allConv[e])
										})
									}), f.convList = n
								}

								function c(n) {
									return 1 === n.baseConversation.isKicked || 1 === n.baseConversation.isDisband
								}

								function v(n, t) {
									o({
										title: "确认消息",
										content: "你已被移出此群，是否删除该对话入口？"
									}).then(function() {
										e.deleteConv(n)
									}, function() {
										e.activeConv(n).then(function() {
											t && t(n)
										})
									})
								}

								function u(n, t) {
									o({
										title: "确认消息",
										content: "该群组已经被解散了，是否删除该对话入口？"
									}).then(function() {
										e.deleteConv(n)
									}, function() {
										e.activeConv(n).then(function() {
											t && t(n)
										})
									})
								}

								function d(n) {
									a.showModal(n).then(function(o) {
										o = o.concat(parseInt(n.lockedIds[0] != $my.uid ? n.lockedIds[0] : n.lockedIds[1])), e.createConversation(o, null, {
											isOrg: !1
										}, function(n, e) {
											n && p(e)
										})
									})
								}

								function l(n, o) {
									a.showModal(o).then(function(o) {
										e.addMembers(n, o, function() {
											p(n)
										})
									})
								}

								function p(e) {
									n.$broadcast("leftpannel.openChatByGroup", {
										conversationId: e
									})
								}
								var f = this,
									g = [];
								f.convList = [], f.showType = ["pinOrder", "order"], f.ConvType = ConvType, f.convListObj = e.getConvList(), f.allConv = e.getAllConv(), f.SuperGroupStatus = SuperGroupStatus, f.showType.forEach(function(n) {
									var e = s.$watchCollection(function() {
										return f.convListObj[n]
									}, function(n) {
										n && r()
									});
									g.push(e)
								}), this.activeConv = function(n, o) {
									var t = e.getConvObj(n);
									t && c(t) ? 1 === t.baseConversation.isKicked && (1 === t.baseConversation.isDisband ? u(n, o) : v(n, o)) : e.activeConv(n).then(function() {
										o && o(n)
									})
								}, this.convListObj.activeConvId !== this.convListObj.lastActiveConvId && this.activeConv(this.convListObj.lastActiveConvId), this.hideConv = function(n, o) {
									e.hideConv(n, !0), o.stopPropagation()
								};
								var m = {
									del: {
										type: "del",
										text: "删除会话"
									},
									groupSetting: {
										type: "group-setting",
										text: "群设置"
									},
									profile: {
										type: "profile",
										text: "个人信息"
									},
									addNewMember: {
										type: "addNewMember",
										text: "添加新成员"
									},
									clearMsg: {
										type: "clearMsg",
										text: "清空聊天记录"
									}
								};
								this.getMenuItem = function(n) {
									var o = e.getConvObj(n).baseConversation,
										t = o.sort > 0;
									if (m.pin = {
										type: "pin",
										text: t ? "取消置顶" : "置顶会话"
									}, o.extension && o.extension.type === ConvExtensionType.FILESHELPER) return [m.pin, m.del];
									if (o.extension && o.extension.type === ConvExtensionType.FRIEND) return [m.del];
									if (o.tag === ConvType.SECRETARY) return [m.pin, m.del];
									if (o.tag === ConvType.ANNOUNCEMENT) return [m.pin, m.groupSetting, m.del];
									if (2 === o.type) return [m.pin, m.groupSetting, m.del, m.addNewMember, m.clearMsg];
									if (1 === o.type) {
										var i = o.conversationId.split(":");
										return i[0] == $my.uid && i[1] == $my.uid ? [m.pin, m.profile, m.del, m.clearMsg] : [m.pin, m.profile, m.del, m.addNewMember, m.clearMsg]
									}
									return []
								}, this.onMenuItemClick = function(n, s) {
									var r = e.getConvObj(n),
										a = r.baseConversation;
									switch (s) {
										case "del":
											e.hideConv(n);
											break;
										case "pin":
											var c = a.sort > 0;
											e.getConvObj(n).setTop(!c, function(n) {});
											break;
										case "profile":
											var v = a.conversationId.split(":");
											t(v[0] != $my.uid ? v[0] : v[1]);
											break;
										case "group-setting":
											f.activeConv(n, function(n) {
												i.open(null, {
													cid: n
												})
											});
											break;
										case "addNewMember":
											var u = {
												isCompanyGroup: !1,
												oid: null,
												orgName: null,
												lockedIds: []
											};
											f.activeConv(n, function() {
												if (1 === a.type) u.lockedIds = a.conversationId.split(":").map(function(n) {
													return parseInt(n)
												}), d(u);
												else if (2 === a.type) {
													if (r.baseConversation.tag === ConvType.COMPANY_GROUP && (u.isCompanyGroup = !0, r.baseConversation.extension && r.baseConversation.extension.id)) {
														u.oid = r.baseConversation.extension.id;
														var n = $my.getOrgByOid(u.oid);
														n && (u.orgName = n.orgEmployeeModel.orgName)
													}
													r.getMembers(function(n) {
														u.lockedIds = n.map(function(n) {
															return n.openIdEx.openId
														}), l(a.conversationId, u)
													})
												}
											});
											break;
										case "clearMsg":
											o({
												title: "清空聊天记录",
												content: "确定清空此会话聊天记录？"
											}).then(function() {
												r.clearMsg()
											})
									}
								}, s.$on("$destroy", function() {
									g.forEach(function(n) {
										n()
									})
								})
							}
						],
						link: function(n, e, o) {
							function t() {
								c || (c = e.find(".conv-item").outerHeight() || v), u = parseInt(a.scrollTop() / c), a.stop();
								var n = i(u + 1, r.convList.length); - 1 !== n ? a.animate({
									scrollTop: n * c
								}, d) : a.animate({
									scrollTop: 0
								}, d), u = n
							}

							function i(n, e) {
								for (var o = n; e > o; o++)
									if (0 !== r.convList[o].newMsg) return o;
								for (var o = 0; n > o; o++)
									if (0 !== r.convList[o].newMsg) return o;
								return -1
							}
							var r = n.convList,
								a = e,
								c = null,
								v = 55,
								u = 0,
								d = 100;
							n.$on(s.SCROLL_TO_UNREAD_CONV, function() {
								t()
							})
						},
						template: '<div class="conv-lists-box">\n    <ul class="list-with-avatar-and-info conv-lists">\n        <li class="list-item conv-item context-menu" ng-repeat="conv in convList.convList" ng-class="{\'active\':conv.convId === convList.convListObj.activeConvId,\'pin\':conv.baseConversation.sort > 0,\'notice-mute\': conv.baseConversation.superGroup === convList.SuperGroupStatus.SUPER || conv.hasNewMsgButNotNotify,\'conv-item-company\':conv.baseConversation.tag===convList.ConvType.COMPANY_GROUP}" ng-click="convList.activeConv(conv.convId);" con-id="{{conv.convId}}" context-menu menu-data="{{conv.convId}}" menu-item-get="convList.getMenuItem" menu-item-click="convList.onMenuItemClick">\n            <dd-avatar tag="conv.baseConversation.tag"\n                       icon=\'conv.baseConversation.icon\'\n                       extension="conv.baseConversation.extension"></dd-avatar>\n            <div class="info">\n                <p class="name" ng-bind-html="conv.baseConversation.title|emoj"></p>\n                <i class="icon-company" ng-class="{\'icon-dept-company\':conv.baseConversation.extension.deptId}"></i>\n            </div>\n            <div class="info">\n                <p class="latest-msg">\n                    <span ng-if="conv.lastMessageType" class="highlight">{{conv.lastMessageType}}</span>\n                    <span ng-if="conv.lastMessageAuthor" ng-bind-html="(conv.lastMessageAuthor.remarkNameObj.alias||conv.lastMessageAuthor.userProfileModel.nick)+\':\'|emoj"></span>\n                    <span ng-bind-html="conv.lastMessageContent|emoj"></span>\n                </p>\n            </div>\n            <span class="unread-num" ng-if="conv.newMsg">\n                <em ng-if="conv.baseConversation.superGroup !== convList.SuperGroupStatus.SUPER && !conv.hasNewMsgButNotNotify">{{conv.newMsg}}</em>\n                <em ng-if="conv.baseConversation.superGroup === convList.SuperGroupStatus.SUPER || conv.hasNewMsgButNotNotify"></em>\n            </span>\n            <i class="iconfont icon-mute" ng-if="conv.notificationOff">&#xe605;</i>\n\n            <span class="time">{{conv.updateTime|dateTime}}</span>\n            <i class="iconfont icon-delete-conv" htitle="删除会话" htitle-direction="left" ng-click="convList.hideConv(conv.convId,$event)">&#xe632;</i>\n        </li>\n    </ul>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/widget/contextMenu": 92,
			"../../service/conversation/ConvType": 184,
			"../../service/conversation/SuperGroupStatus": 190,
			"../../service/conversation/convExtensionType": 191,
			"../../service/conversation/conversation": 193,
			"../../service/events": 221,
			"../../service/modal/confirm": 280,
			"../../service/modal/groupAddMembersModal": 282,
			"../../service/modal/profileModal": 289,
			"../../service/unPopModal/groupSetting": 395,
			"../../service/user/my": 400,
			"../../service/user/userManager": 404,
			"path": 5
		}
	],
	46: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.dingInfo.dingContent";
			require("../../service/user/userManager");
			var app = angular.module(moduleName, [require("./dingInfoFileList"), "ddWeb.user.userManager", require("../player/audioPlayer")]);
			app.directive("dingContent", ["userManager",
				function(n) {
					return {
						restrict: "AE",
						replace: !0,
						template: '<div class="ding-content-box">\r\n	<div class="ding-info-profile">\r\n		<dd-avatar uid="dingContent.info.uid" mediaid="dingContent.info.user.userProfileModel.avatarMediaId" nick="dingContent.info.user.userProfileModel.nick" class="chat-avatar" is-show-modal="\'true\'" ></dd-avatar>\r\n		<div class="ding-info-name" ng-bind-html="(dingContent.info.user.remarkNameObj.alias || dingContent.info.user.userProfileModel.nick)|emoj"></div>\r\n	</div>\r\n	<div class="ding-info-content-box">\r\n		<div class="time-line">\r\n			{{dingContent.dingDetail.createAt|dateTime:true}}\r\n		</div>\r\n		<!-- <div class="ding-info-content" ng-switch on="selection">\r\n			{{dingContent.dingDetail.dingEntity.data.textContent.text}}\r\n		</div> -->\r\n		<div class="ding-info-content">\r\n			<pre ng-if="dingContent.dingDetail.dingEntity.data.contentType===1" ng-bind-html="dingContent.dingDetail.dingEntity.data.textContent.text|msgfilter">\r\n			</pre>\r\n			<div ng-if="dingContent.dingDetail.dingEntity.data.contentType===2" class="ding-info-audio-box">\r\n				<div class="ding-info-audio-content">\r\n					<audio-player audio-media-id="dingContent.audio.mediaId" audio-duration="dingContent.audio.duration" log="ding_voice_play"></audio-player>\r\n				</div>\r\n			</div>\r\n		</div>\r\n\r\n		<ding-info-file-list file-list = "dingContent.dingDetail.dingAttachments"></ding-info-file-list>\r\n\r\n	</div>\r\n</div>\r\n',
						scope: {
							info: "=info",
							dingDetail: "=dingDetail",
							createParticipants: "=createParticipants"
						},
						controller: ["$scope",
							function(i) {
								var t = this;
								this.info = i.info, this.dingDetail = i.dingDetail, n.getUsers([this.info.uid]).then(function(n) {
									0 !== n.length && (t.info.user = n[0])
								}), 2 == this.dingDetail.dingEntity.data.contentType && (this.audio = {}, this.audio.mediaId = this.dingDetail.dingEntity.data.audioContent.mediaId, this.audio.duration = parseInt(this.dingDetail.dingEntity.data.audioContent.duration / 1e3))
							}
						],
						link: function(n, i, t) {},
						controllerAs: "dingContent"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/user/userManager": 404,
			"../player/audioPlayer": 71,
			"./dingInfoFileList": 49,
			"path": 5
		}
	],
	47: [
		function(require, module, exports) {
			angular.module("ddWeb.dingInfo.dingInfoAttachmentType", []).value("dingInfoAttachmentType", {
				IMAGE: 3,
				FILE: 4,
				LINK: 5
			});


		}, {}
	],
	48: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.dingInfo.fileItem";
			require("../../service/file/fileHelper"), require("../../service/file/fileTypes"), require("../../service/mediaId/mediaId"), require("../../service/img/imgPreviewService"), require("./dingInfoAttachmentType");
			var _ = require("lodash"),
				Uri = require("jsuri"),
				mediaId = require("@ali/ding-mediaid"),
				spaceFileHelper = require("../../service/file/spaceFileHelper"),
				app = angular.module(moduleName, ["ddWeb.file.fileHelper", "ddWeb.file.fileTypes", require("../../service/widget/emailOpenService"), "ddWeb.mediaId", "ddWeb.service.imgPreviewService", "ddWeb.dingInfo.dingInfoAttachmentType", require("../../service/conversation/ContentType")]);
			app.directive("dingInfoFileItem", ["$timeout", "$fileHelper", "$fileTypes", "mediaId", "imgPreviewService", "dingInfoAttachmentType", "emailOpenService", "ContentType",
				function(i, e, n, t, l, a, d, s) {
					return {
						restrict: "AE",
						replace: !0,
						template: '<div class="ding-info-file-item">\n	<div class="clearfix" ng-if="dingInfoFileItem.isFile">\n		<a class="ding-file-icon" ng-class="dingInfoFileItem.fileIconClass" href="{{dingInfoFileItem.downloadUrl}}" download="{{dingInfoFileItem.fileName}}" nwsaveas="{{dingInfoFileItem.fileName}}" nwdirectory></a>\n		<div class="ding-file-name">\n			<a href="{{dingInfoFileItem.downloadUrl}}" download="{{dingInfoFileItem.fileName}}" nwsaveas="{{dingInfoFileItem.fileName}}" nwdirectory>{{dingInfoFileItem.fileName}}</a>\n			<div class="ding-info-file-size">({{dingInfoFileItem.fileSize}})</div>\n		</div>\n	</div>\n	<div class="ding-info-file-image" ng-if="dingInfoFileItem.type === dingInfoFileItem.dingInfoAttachmentType.IMAGE" ng-click="dingInfoFileItem.showDetail()" ng-style="{\'background-image\':\'url(\'+dingInfoFileItem.thumbUrl+\')\'}">\n	</div>\n\n    <!-- <div class="ding-info-link-mail clearfix" ng-if="dingInfoFileItem.linkContent && dingInfoFileItem.linkContent.type === dingInfoFileItem.ContentType.MAIL">\n        <div class="ding-info-link-mail-icon" ng-style="{\'background-image\':\'url({{dingInfoFileItem.linkImgSrc}})\'}" ng-click="dingInfoFileItem.openEmail();">\n        </div>\n        <div class="ding-info-link-mail-detail">\n            <p class="ding-info-link-mail-title">\n            <span ng-if="dingInfoFileItem.linkContent.title">{{dingInfoFileItem.linkContent.title}}</span>\n            <span ng-if="!dingInfoFileItem.linkContent.title">无主题</span>\n            </p>\n            <p class="ding-info-link-mail-content" ng-if="dingInfoFileItem.linkContent.text">{{dingInfoFileItem.linkContent.text}}</p>\n        </div>\n    </div> -->\n    <div class="attachment" ng-if="dingInfoFileItem.type === dingInfoFileItem.dingInfoAttachmentType.LINK && dingInfoFileItem.linkContent.type === dingInfoFileItem.ContentType.OA">\n        <a ng-href="{{dingInfoFileItem.linkContent.linkUrl}}" target="_blank" class="ding-attachment-image" ng-if="dingInfoFileItem._imageUrl" ng-style="{\'background-image\':\'url(\'+dingInfoFileItem._imageUrl+\')\'}"></a>\n        <a ng-href="{{dingInfoFileItem.linkContent.linkUrl}}" target="_blank" class="ding-attachment-image share-icon" ng-if="!dingInfoFileItem._imageUrl"></a>\n        <div class="ding-attachment-link-content" ng-if="dingInfoFileItem.linkContent">\n            <div class="ding-attachment-link">\n                <div class="ding-attachment-link-wrapper">\n                    <a ng-href="{{dingInfoFileItem.linkContent.linkUrl}}" target="_blank">{{dingInfoFileItem.linkContent.title}}</a>\n                </div>\n            </div>\n            <div class="ding-attachment-desc" ng-if="dingInfoFileItem.linkContent.text">\n                <div class="ding-attachment-desc-wrapper">\n                    <span>{{dingInfoFileItem.linkContent.text}}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="dingInfoFileItem.isErrAttachment" class="ding-info-err-attachment">\n        <i class="iconfont err-icon">&#xe63c;</i>\n        <span>本{{dingInfoFileItem.msgTypeTitle}}暂时不支持显示，请在手机上查看</span>\n    </div>\n</div>\n',
						scope: {
							fileItem: "=fileItem"
						},
						controller: ["$scope",
							function(i) {
								var d = this,
									o = "https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png";
								if ($.extend(!0, this, i.fileItem), this.dingInfoAttachmentType = a, this.isErrAttachment = !1, this.ContentType = s, this.isFile = !1, this.type === a.FILE || this.type === a.IMAGE) {
									try {
										this.downloadUrl = t.mid2Url(this.mediaId, {
											imageSize: "origin"
										})
									} catch (r) {}
									try {
										this.thumbUrl = t.mid2Url(this.mediaId)
									} catch (r) {}
									this.fileSize = e.formatFileSize(this.size)
								}
								if (this.type === a.FILE) {
									var g = n.getTypeByName(this.fileName);
									this.fileIconClass = n.getFileIconByType(g), this.isFile = !0
								}
								if (this.type === a.IMAGE) {
									var m = new Image;
									m.onerror = function() {
										d.thumbUrl = o, i.$digest()
									}, m.src = d.thumbUrl
								}
								if (this.type !== a.FILE && this.type !== a.IMAGE) {
									if (this.isErrAttachment = !0, this.type === a.LINK && _.get(this, "linkContent.type") === s.ORG_SPACE_FILE || _.get(this, "linkContent.type") === s.IM_SPACE_FILE) {
										var f = _.get(this, "linkContent.extension");
										if (f) {
											this.isErrAttachment = !1, this.fileName = f.f_name, this.fileSize = e.formatFileSize(f.f_size);
											var g = n.getTypeByName(f.f_name);
											this.fileIconClass = n.getFileIconByType(g), this.downloadUrl = spaceFileHelper.getFileUri(f), this.isFile = !0
										}
									}
									if (this.type === a.LINK && _.get(this, "linkContent.type") === s.OA) {
										if (this.isErrAttachment = !1, _.get(this, "linkContent.picMediaId")) try {
											this._imageUrl = t.mid2Url(_.get(this, "linkContent.picMediaId"), {
												imageOrigin: "thumb"
											})
										} catch (r) {}
										var m = new Image;
										m.onerror = function() {
											d._imageUrl = "", i.$digest()
										}, m.src = d._imageUrl
									}
								}
								this.showDetail = function(i) {
									l.preview(d)
								}, this.msgTypeTitle = "消息", this.linkContent && this.linkContent.type === s.MAIL ? this.msgTypeTitle = "邮件" : this.linkContent && this.linkContent.type === s.OA && this.linkContent.title && (this.msgTypeTitle = this.linkContent.title)
							}
						],
						controllerAs: "dingInfoFileItem",
						link: function(i, e, n) {}
					}
				}
			]);


		}, {
			"../../service/conversation/ContentType": 182,
			"../../service/file/fileHelper": 224,
			"../../service/file/fileTypes": 225,
			"../../service/file/spaceFileHelper": 229,
			"../../service/img/imgPreviewService": 245,
			"../../service/mediaId/mediaId": 267,
			"../../service/widget/emailOpenService": 413,
			"./dingInfoAttachmentType": 47,
			"@ali/ding-mediaid": 456,
			"jsuri": 469,
			"lodash": 470,
			"path": 5
		}
	],
	49: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dingInfo.fileList",
				path = require("path");
			require("./dingInfoFileItem"), require("../chat/imgPreview");
			var app = angular.module(moduleName, ["ddWeb.dingInfo.fileItem", "ddWeb.chat.imgPreview"]);
			app.directive("dingInfoFileList", ["$timeout",
				function(i) {
					return {
						restrict: "AE",
						template: '<div class="ding-info-file-list">\n	<div ng-repeat="fileItem in dingInfoFileList.fileList"> \n		<ding-info-file-item file-item = \'fileItem\'></ding-info-file-item>\n	</div>\n</div>',
						scope: {
							fileList: "=fileList"
						},
						controller: ["$scope",
							function(i) {
								this.fileList = i.fileList
							}
						],
						controllerAs: "dingInfoFileList",
						link: function(i, e, t) {}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../chat/imgPreview": 14,
			"./dingInfoFileItem": 48,
			"path": 5
		}
	],
	50: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.dingInfo.dingParticipator";
			require("../../service/modal/profileModal");
			var _ = require("lodash"),
				app = angular.module(moduleName, ["ddWeb.service.profileModal", require("../../service/ding/DingSendStatus"), require("../../service/modal/sendDingModal"), require("../../service/toast/toast")]);
			app.directive("dingParticipator", ["profileModalService", "DingSendStatus", "sendDingModalService", "toastService",
				function(i, n, t, r) {
					return {
						restrict: "AE",
						replace: !0,
						template: '<div class="ding-participator">\n    <div class="ding-info-action-row">\n		<span class="ding-info-show-group" ng-click="dingPartCtrl.showParticipator($event)">\n			查看参与人\n			<i class="icon iconfont open-part-icon" ng-show="dingPartCtrl.isPartOpen">&#xe633;</i>\n			<i class="icon iconfont colse-part-icon" ng-show="!dingPartCtrl.isPartOpen">&#xe633;</i>\n			<i class="icon iconfont loop-loading" ng-if="dingPartCtrl.isLoadingParticipator">&#xe657;</i>\n		</span>\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.dingDetail.confirmStatus===1&&!dingPartCtrl.info.isMyDing">已确认</span>\n        <!-- 我发出的ding -->\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.unConfirmCount!==0&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.SENT">{{dingPartCtrl.dingDetail.unConfirmCount}}人未确认</span>\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.unConfirmCount===0&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.SENT">全部确认</span>\n        <span class="ding-info-confirmed" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.sendStatus===dingPartCtrl.DingSendStatus.NOTSEND">待发送</span>\n    </div>\n    <div class="participator-box" ng-class="{\'box-open\':dingPartCtrl.isPartOpen}">\n        <div class="unconfirm-box" ng-if="dingPartCtrl.dingDetail.receiverList.unConfirmList.length!==0">\n            <div class="ding-comfirm-box-title">\n                <span>\n                    未确认({{dingPartCtrl.dingDetail.receiverList.unConfirmList.length}})\n                </span>\n                <a class="ding-confirm-box-ding-again" ng-click="dingPartCtrl.dingAgain()" ng-if="dingPartCtrl.info.isMyDing&&dingPartCtrl.dingDetail.sendStatus!==dingPartCtrl.DingSendStatus.NOTSEND">再次提醒</a>\n            </div>\n            <div class="ding-participator-box">\n                <div class="ding-participator-item" ng-repeat="item in dingPartCtrl.dingDetail.receiverList.unConfirmList"  content="item.user.userProfileModel.nick">\n                    <div class="ding-participator-avatar-box" ng-if="item.status" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}{{item.status}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick" class="smaller" ng-click=\'dingPartCtrl.showProfile(item.user.userProfileModel.uid);\'></dd-avatar>\n                        <div class="unconfirm-loading-box" ng-if="item.statusCode < 10 && dingPartCtrl.info.isMyDing">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                    </div>\n                    <div class="ding-participator-avatar-box" ng-if="!item.status" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick" class="smaller" ng-click=\'dingPartCtrl.showProfile(item.user.userProfileModel.uid);\'></dd-avatar>\n                        <div class="unconfirm-loading-box" ng-if="item.statusCode < 10 && dingPartCtrl.info.isMyDing">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="confirm-box" ng-if="dingPartCtrl.dingDetail.receiverList.confirmList.length!==0">\n            <div class="ding-comfirm-box-title">\n                已确认({{dingPartCtrl.dingDetail.receiverList.confirmList.length}})\n            </div>\n            <div class="ding-participator-box">\n                <div class="ding-participator-item" ng-repeat="item in dingPartCtrl.dingDetail.receiverList.confirmList" content="item.user.userProfileModel.nick" htitle="{{item.user.remarkNameObj.alias||item.user.userProfileModel.nick}}">\n                    <div class="ding-participator-avatar-box">\n                        <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick" class="smaller" ng-click=\'dingPartCtrl.showProfile(item.user.userProfileModel.uid);\'></dd-avatar>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',
						scope: {
							dingDetail: "=dingDetail",
							info: "=info"
						},
						controller: ["$scope",
							function(r) {
								var e = this;
								this.dingDetail = r.dingDetail, this.info = r.info, this.isPartOpen = !1, this.DingSendStatus = n, this.showProfile = function(n) {
									n && i(n)
								}, this.showParticipator = function(i) {
									i.preventDefault(), i.stopPropagation(), e.isPartOpen ? e.isPartOpen = !1 : (e.isLoadingParticipator = !0, e.dingDetail.getReceiverList(function(i) {
										e.dingDetail.unConfirmCount !== i.unConfirmList.length && (e.dingDetail.unConfirmCount = i.unConfirmList.length), setTimeout(function() {
											e.isPartOpen = !0, e.isLoadingParticipator = !1
										})
									}))
								}, this.dingAgain = function() {
									t.dingAgain(e.dingDetail.dingId)
								}
							}
						],
						controllerAs: "dingPartCtrl"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/ding/DingSendStatus": 212,
			"../../service/modal/profileModal": 289,
			"../../service/modal/sendDingModal": 293,
			"../../service/toast/toast": 378,
			"lodash": 470,
			"path": 5
		}
	],
	51: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dingInfo.dingReplyFoot",
				path = require("path"),
				app = angular.module(moduleName, [require("./dingResponseInput"), require("../../service/ding/DingSendStatus")]);
			app.directive("dingReplyFoot", function() {
				return {
					restrict: "AE",
					template: '<div>\r\n	<button class="ding-reply-comfirm-btn" ng-if="dingReplyFoot.dingDetail.confirmStatus===0&&(!dingReplyFoot.dingDetail.isSent)" ng-click="dingReplyFoot.confirmDing()">确定并回复</button>\r\n	<div ding-response-input="dingReplyFoot.inputOption" ng-if="dingReplyFoot.dingDetail.confirmStatus===1||dingReplyFoot.dingDetail.isSent"></div>\r\n</div>\r\n',
					scope: {
						dingDetail: "=dingDetail",
						info: "=info",
						inputOption: "=inputOption",
						confirmDing: "=confirmDing"
					},
					controller: ["$scope", "DingSendStatus",
						function(i, n) {
							var t = this;
							this.dingDetail = i.dingDetail, this.inputOption = i.inputOption, this.info = i.info, this.DingSendStatus = n;
							var e = i.$watch(function() {
								return i.confirmDing
							}, function(i) {
								t.confirmDing = i, e()
							})
						}
					],
					controllerAs: "dingReplyFoot"
				}
			}), module.exports = moduleName;


		}, {
			"../../service/ding/DingSendStatus": 212,
			"./dingResponseInput": 55,
			"path": 5
		}
	],
	52: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dingInfo.dingReplyList",
				path = require("path");
			require("./dingReplyTextItem"), require("./dingReplyVoiceItem");
			var app = angular.module(moduleName, ["ddWeb.dingInfo.dingReplyTextItem", "ddWeb.dingInfo.dingReplyVoiceItem"]);
			app.directive("dingReplyList", function() {
				return {
					restrict: "AE",
					replace: !0,
					template: '<div class="ding-reply-list">\r\n	<div ng-repeat="comment in dingReplyList.dingDetail.comments.commentList.showItems" ng-switch  on="comment.data.commentContentModel.type">\r\n		<div ding-reply-text-item comment="comment" ng-switch-when="1"></div>\r\n		<div ding-reply-voice-item comment="comment" ng-switch-when="2"></div>\r\n	</div>\r\n\r\n    <loading ng-if="dingReplyList.info.status.isLoading" position="\'bottom\'" class="ding-info-reply-loading"></loading>\r\n</div>	\r\n\r\n\r\n\r\n',
					scope: {
						dingDetail: "=dingDetail",
						info: "=info"
					},
					controller: ["$scope",
						function(e) {
							this.dingDetail = e.dingDetail, this.info = e.info
						}
					],
					link: function(e, i, n) {
						e.dingReplyList
					},
					controllerAs: "dingReplyList"
				}
			}), module.exports = moduleName;


		}, {
			"./dingReplyTextItem": 53,
			"./dingReplyVoiceItem": 54,
			"path": 5
		}
	],
	53: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/user/userManager");
			var app = angular.module("ddWeb.dingInfo.dingReplyTextItem", ["ddWeb.user.userManager"]);
			app.directive("dingReplyTextItem", ["userManager",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							comment: "=comment"
						},
						template: '<div class="ding-reply-item">\r\n	<div class="avatar-wrap">\r\n		<dd-avatar uid="dingReplyTextItem.comment.commenterUidEx.uid" class="chat-avatar" is-show-modal="\'true\'"></dd-avatar>\r\n	</div>\r\n	<div class="ding-reply-item-info">\r\n		<div class="ding-reply-name" ng-bind-html="(dingReplyTextItem.user.remarkNameObj.alias ||dingReplyTextItem.user.userProfileModel.nick)|emoj">\r\n			\r\n		</div>\r\n		<pre class="ding-reply-content" ng-bind-html="dingReplyTextItem.content|msgfilter">\r\n		\r\n		</pre>\r\n		<div class="ding-replay-time">{{dingReplyTextItem.comment.createAt|dateTime:true}}</div>\r\n	</div>\r\n</div>',
						controller: ["$scope",
							function(t) {
								var n = this,
									r = this.comment = t.comment.data,
									i = r.commenterUidEx.uid;
								e.getUsers([i]).then(function(e) {
									0 != e.length && (n.user = e[0])
								}), this.content = t.comment.data.commentContentModel.textContent.textContent
							}
						],
						link: function(e, t, n) {},
						controllerAs: "dingReplyTextItem"
					}
				}
			]);


		}, {
			"../../service/user/userManager": 404,
			"path": 5
		}
	],
	54: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dingInfo.dingReplyVoiceItem";
			require("../../service/user/userManager");
			var path = require("path"),
				app = angular.module(moduleName, ["ddWeb.user.userManager", require("../player/audioPlayer")]);
			app.directive("dingReplyVoiceItem", ["userManager",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							comment: "=comment"
						},
						template: '<div class="ding-reply-item">\r\n    <div class="avatar-wrap">\r\n        <dd-avatar uid="dingReplyVoiceItem.comment.commenterUidEx.uid" class="chat-avatar" is-show-modal="\'true\'"></dd-avatar>\r\n    </div>\r\n    <div class="ding-reply-item-info">\r\n        <div class="ding-reply-name" ng-bind-html="(dingReplyVoiceItem.user.remarkNameObj.alias ||dingReplyVoiceItem.user.userProfileModel.nick)|emoj">\r\n\r\n        </div>\r\n        <div class="ding-reply-content" >\r\n            <div class="ding-info-audio-box">\r\n                <audio-player audio-media-id="dingReplyVoiceItem.audio.mediaId" audio-duration="dingReplyVoiceItem.audio.duration" log="ding_voice_play"></audio-player>\r\n            </div>\r\n        </div>\r\n        <div class="ding-replay-time">{{dingReplyVoiceItem.comment.createAt|dateTime:true}}</div>\r\n    </div>\r\n</div>',
						controller: ["$scope",
							function(i) {
								var d = this,
									n = this.comment = i.comment.data,
									a = n.commenterUidEx.uid;
								e.getUsers([a]).then(function(e) {
									0 != e.length && (d.user = e[0])
								}), this.audio = {}, this.audio.duration = parseInt(n.commentContentModel.audioContent.duration / 1e3), this.audio.mediaId = n.commentContentModel.audioContent.mediaId
							}
						],
						link: function(e, i, d) {},
						controllerAs: "dingReplyVoiceItem"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/user/userManager": 404,
			"../player/audioPlayer": 71,
			"path": 5
		}
	],
	55: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dingInfo.dingResponseInput";
			require("../../service/safe/safe");
			var path = require("path"),
				app = angular.module(moduleName, ["ddWeb.safe", "ddWeb.toast"]);
			app.directive("dingResponseInput", ["safe", "toastService",
				function(u, F) {
					return {
						restrict: "AE",
						replace: !0,
						template: '<div>\r\n	<p class="ding-info-input-error-tips">\r\n		<i class="iconfont">&#xe63c;</i>\r\n		<span>回复内容过长，请缩减至140字以内</span>\r\n	</p>\r\n	<div class="ding-input-box">\r\n		<textarea class="textarea ding-reply-input"></textarea>\r\n		<div class="ding-hidden-input-box"></div>\r\n		<button class="ding-send-reply-btn" ng-click="input.sendMsg()" disabled="true">发送</button>\r\n	</div>\r\n</div>',
						scope: {
							dingResponseInput: "=dingResponseInput"
						},
						controller: ["$scope",
							function(u) {
								var F = this,
									A = u.dingResponseInput || {};
								F._width = A.initWidth || 150, F._height = A.initHeight || 35, F._maxLength = A.maxLength || 9999, F._preSend = A.preSend || function() {}, F._sendMsg = A.sendMsg || function() {}
							}
						],
						link: function(F, A, B) {
							function D(u) {
								0 === u.trim().length || u.trim().length > 140 || (t._sendMsg(u), o[0].value = "", n())
							}

							function C() {
								var A = u.escapeHTML(o.val());
								A = A.replace(/\n/g, "<br>") + "z", d.html(A);
								var B = d.outerHeight();
								p != B && (o.outerHeight(B), p = B, "$apply" != F.$root.$$phase && "$digest" != F.$root.$$phase && F.$apply())
							}

							function E(u) {
								var F = /^[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+/g,
									A = /[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFC\uFFFE\uFFFF]+$/g;
								return u.replace(F, "").replace(A, "")
							}

							function n() {
								var u = !0,
									A = !1,
									B = o.val().trim();
								B = E(B), 0 !== B.length && B.length <= t._maxLength ? u = !1 : B.length > t._maxLength && (A = !0), s != u && (s = u, l.attr("disabled", s)), A !== a && (a = A, A ? r.css("display", "block") : r.css("display", "none"), "$apply" != F.$root.$$phase && "$digest" != F.$root.$$phase && F.$apply()), C()
							}

							function e(u, F) {
								var A = o[0],
									B = u,
									D = A.selectionStart,
									C = A.selectionEnd,
									E = A.value,
									F = F || u.length;
								A.value = E.substring(0, D) + B + E.substring(C, E.length), o.focus(), A.selectionStart = A.selectionEnd = C + F, o.trigger("input")
							}
							var t = F.input,
								i = F.dingResponseInput || {}, r = A.find(".ding-info-input-error-tips"),
								a = !1,
								s = !0,
								p = 0;
							t._maxLenWarning = i._maxLenWarning || function() {};
							var o = A.find(".ding-reply-input"),
								d = A.find(".ding-hidden-input-box"),
								l = A.find(".ding-send-reply-btn");
							t.sendMsg = function() {
								D(o.val())
							}, o.on("keydown", function(u) {
								var F = u.which;
								(u.ctrlKey || u.altKey) && 13 == F ? (u.preventDefault(), e("\n")) : 13 == F && (u.preventDefault(), D(o.val()))
							}), o.on("input", function(u) {
								n()
							})
						},
						controllerAs: "input"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/safe/safe": 341,
			"path": 5
		}
	],
	56: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.dinglist.dingItem";
			require("./dingItemContent"), require("../../service/conversation/conversation"), require("../../service/ding/dinglist");
			var $my = require("../../service/user/my");
			require("../../service/user/userManager"), require("../../service/modal/profileModal");
			var app = angular.module(moduleName, ["ddWeb.dinglist.dingItemContent", "ddWeb.conversation", require("../../service/unPopModal/dingDetail"), "ddWeb.ding", "ddWeb.user.userManager", "ddWeb.service.profileModal", require("../../service/user/UserType"), require("../../service/ding/DingSendStatus")]);
			app.directive("dingItem", ["conversation", "openDingDetail", "dinglist", "userManager", "profileModalService", "UserType", "$state", "DingSendStatus",
				function(n, i, e, t, d, s, a, g) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							ding: "=ding"
						},
						controller: ["$scope", "$rootScope",
							function(o, r) {
								var m = this;
								this.ding = o.ding, this.$state = a, this.info = {}, this.isConfirming = !1, this.DingSendStatus = g, t.getUsers([m.ding.senderUidEx.uid]).then(function(n) {
									m.user = n[0]
								}), this.ding.dingEntity.extInfo && this.ding.dingEntity.extInfo.cid && n.getConvById(m.ding.dingEntity.extInfo.cid, function(n) {
									m.info.isSingleChat = !0, 1 !== n.baseConversation.type && (m.info.isSingleChat = !1)
								}), m.dingDetail = {}, e.getDingById(this.ding.dingId, function(n) {
									m.dingDetail = n
								}), this.confirmDing = function(n) {
									n.preventDefault(), n.stopPropagation(), m.isConfirming = !0, m.dingDetail.confirm(function(n) {
										m.dingDetail.confirmStatus = 1, m.isConfirming = !1
									})
								}, this.showProfileModal = function(n) {
									m.user.userProfileModel.type === s.ORDINARY_USER && d(n)
								}, this.openDingDetail = function(n) {
									n.preventDefault(), n.stopPropagation(), i({
										uid: m.ding.senderUidEx.uid,
										dingId: m.ding.dingId,
										isMyDing: m.ding.senderUidEx.uid == $my.uid
									})
								}
							}
						],
						link: function(n, i, e) {},
						controllerAs: "dingItem",
						template: '<li class="ding-item" ng-class="{\'not-confirm\':dingItem.dingDetail.confirmStatus===0&&dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&(dingItem.dingDetail.isReceive||dingItem.dingDetail.isMy),\'me-sent\':dingItem.$state.is(\'authorized.ding.send\')}">\n    <p class="name"><a href="javascript:;" ng-bind-html="(dingItem.user.remarkNameObj.alias ||dingItem.user.userProfileModel.nick)|emoj" ng-click="dingItem.showProfileModal(dingItem.user.userProfileModel.uid)"></a></p>\n    <span class="attachment-and-time">\n        <i class="iconfont attachment-icon" ng-if="dingItem.ding.dingAttachments && dingItem.ding.dingAttachments.length!==0" htitle="附件">&#xe621;</i>\n        <span class="time">{{dingItem.ding.sendAt|dateTime:true}}</span>\n    </span>\n    <div ding-item-content ding="dingItem.ding" open-ding-detail="dingItem.openDingDetail"></div>\n    <div class="status-bar" ng-class="{\'has-new-reply\':dingItem.ding.comments.commentList.newCount!==0&&dingItem.ding.comments.totalCount!==0}">\n        <!-- 验证状态的div -->\n        <div class="status-bar-border" ng-if="dingItem.dingDetail.confirmStatus===0&&dingItem.dingDetail.sendStatus===0&&(dingItem.dingDetail.isReceive||dingItem.dingDetail.isMy)">\n            <a href="javascript:;" class="action-wrapper" ng-if="!dingItem.isConfirming" ng-click="dingItem.confirmDing($event)" log="ding_confirm_click">\n                <i class="iconfont">&#xe628;</i>\n                <span class="status-article">确认收到</span>\n            </a>\n            <span class="status-article" ng-if="dingItem.isConfirming">确认中</span>\n        </div>\n        <!-- 确认状态 -->\n        <div ng-click="dingItem.openDingDetail($event)" ng-if="dingItem.$state.is(\'authorized.ding.send\')">\n            <a href="javascript:;" class="unconfirmed-member-num" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&dingItem.dingDetail.unConfirmCount!==0">{{dingItem.dingDetail.unConfirmCount}}人未确认</a>\n            <a href="javascript:;" class="unconfirmed-member-num all-comfirm" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.SENT&&dingItem.dingDetail.unConfirmCount===0">全部确认</a>\n            <a href="javascript:;" class="unconfirmed-member-num all-comfirm" ng-if="dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.NOTSEND">待发送</a>\n        </div>\n        <!-- 回复信息的div -->\n        <div class="status-bar-border" ng-if="dingItem.dingDetail.confirmStatus===1||dingItem.dingDetail.isSent||(dingItem.dingDetail.isMy&&dingItem.dingDetail.sendStatus===dingItem.DingSendStatus.NOTSEND)">\n            <a class="action-wrapper" ng-click="dingItem.openDingDetail($event)">\n                <i class="iconfont">&#xe629;</i>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount===0&&dingItem.ding.comments.totalCount===0">点击到详情页回复</span>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount===0&&dingItem.ding.comments.totalCount!==0">共有{{dingItem.ding.comments.totalCount}}条回复</span>\n                <span class="status-article" ng-if="dingItem.ding.comments.commentList.newCount!==0&&dingItem.ding.comments.totalCount!==0">有{{dingItem.ding.comments.commentList.newCount}}条新回复</span>\n            </a>\n        </div>\n    </div>\n</li>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/conversation/conversation": 193,
			"../../service/ding/DingSendStatus": 212,
			"../../service/ding/dinglist": 216,
			"../../service/modal/profileModal": 289,
			"../../service/unPopModal/dingDetail": 392,
			"../../service/user/UserType": 399,
			"../../service/user/my": 400,
			"../../service/user/userManager": 404,
			"./dingItemContent": 57,
			"path": 5
		}
	],
	57: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.dinglist.dingItemContent",
				path = require("path");
			require("../../service/mediaId/mediaId"), require("../../service/api/trans"), require("../../service/log/log");
			var app = angular.module(moduleName, ["ddWeb.mediaId", "ddWeb.api.trans", "ddWeb.log.log"]);
			app.directive("dingItemContent", ["$sce", "mediaId", "trans", "log",
				function(n, i, t, e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							ding: "=ding",
							openDingDetail: "=openDingDetail"
						},
						controller: ["$scope",
							function(n) {
								var i = this;
								if (this.ding = n.ding, i.ding.dingEntity.data && 2 === i.ding.dingEntity.data.contentType) {
									var t = i.ding.dingEntity.data;
									i.audio = {}, i.audio.duration = parseInt(t.audioContent.duration / 1e3), i.audio.mediaId = t.audioContent.mediaId
								}
								i.ding.dingEntity.data || e.error("拉ding错误，ding数据为：" + JSON.stringify(i.ding))
							}
						],
						link: function(n, i, t) {},
						controllerAs: "dingContent",
						template: '<div class="ding-content" ng-class="{\'text\':dingContent.ding.dingEntity.data.contentType===1}">\n    <pre ng-if="dingContent.ding.dingEntity.data.contentType===1" ng-bind-html="dingContent.ding.dingEntity.data.textContent.text|msgfilter" ng-click="openDingDetail($event)"></pre>\n    <div class="audio" ng-if="dingContent.ding.dingEntity.data.contentType===2">\n        <audio-player audio-media-id="dingContent.audio.mediaId" audio-duration="dingContent.audio.duration" log="ding_voice_play" ng-click="openDingDetail($event)"></audio-player>\n    </div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/api/trans": 151,
			"../../service/log/log": 260,
			"../../service/mediaId/mediaId": 267,
			"path": 5
		}
	],
	58: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.group.fileList",
				path = require("path"),
				cspacePlugin = require("@ali/space-plugin");
			angular.module(moduleName, [require("../../service/spacePlugin/config")]).directive("groupFileList", ["spacePluginConfig",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							cid: "=cid",
							orgId: "=orgId",
							spaceId: "=spaceId",
							containerId: "=containerId"
						},
						link: function(i, r, n) {
							e();
							var a = window.location.origin,
								c = JSON.stringify({
									hostOrigin: a,
									containerId: i.containerId
								});
							cspacePlugin.renderCommonFileList({
								orgId: i.orgId,
								spaceId: i.spaceId,
								container: r[0],
								iframeParam: {
									name: c,
									nwdisable: !0
								}
							})
						},
						template: '<div class="file-list-container"></div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/spacePlugin/config": 370,
			"@ali/space-plugin": 459,
			"path": 5
		}
	],
	59: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.group.convList",
				ConvType = require("../../service/conversation/ConvType"),
				$my = require("../../service/user/my");
			angular.module(moduleName, [require("../../service/conversation/conversation"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).directive("groupConvList", ["conversation", "selectedItemFactory", "selectedItemType",
				function(e, t, n) {
					return {
						restrict: "AE",
						controller: ["$scope",
							function(i) {
								function s(e) {
									if (e.isSingleChat) var i = e.convId.split(":"),
									s = parseInt(i[0]) === $my.uid ? parseInt(i[1]) : parseInt(i[0]), o = {
										model: {
											uid: s
										},
										text: e.baseConversation.nick
									}, c = t.genSelectedItem(n.USER, o);
									else var c = t.genSelectedItem(n.GROUP, e);
									return c
								}

								function o() {
									i.selectedList.EventEmitter.on("selectedItems", m), i.selectedList.EventEmitter.on("unselectedItems", u), i.$watch(function() {
										return r.convList
									}, function() {
										r.convList && r.convList.forEach(function(e) {
											var t = s(e);
											i.selectedList.hasItem(t) || i.selectedList.isLocked(t) ? e.isSelected = !0 : e.isSelected = !1
										})
									})
								}

								function c(e) {
									return e.baseConversation.tag !== ConvType.JUMP && e.baseConversation.tag !== ConvType.ANNOUNCEMENT ? !0 : !1
								}

								function l() {
									o(), d.forEach(function(e) {
										a[e] && a[e].forEach(function(e) {
											v[e] && c(v[e]) && r.convList.push(v[e])
										})
									})
								}
								var r = this,
									a = e.getConvList(),
									v = e.getAllConv(),
									d = ["pinOrder", "order"];
								r.convList = [], r.ConvType = ConvType;
								var m = function(e) {
									r.isAllSelected = !0, r.convList.forEach(function(t) {
										var n = s(t);
										e.forEach(function(e) {
											e.id === n.id && (t.isSelected = !0)
										}), t.isSelected || (r.isAllSelected = !1)
									});
									try {
										i.$digest()
									} catch (t) {}
								}, u = function(e) {
										r.isAllSelected = !0, r.convList.forEach(function(t) {
											var n = s(t);
											e.forEach(function(e) {
												e.id === n.id && (t.isSelected = !1, r.isAllSelected = !1)
											})
										});
										try {
											i.$digest()
										} catch (t) {}
									};
								l(), r.onItemClick = function(e) {
									var t = s(e);
									i.selectedList.toggleItem(t)
								}, i.$on("$destroy", function() {
									i.selectedList.EventEmitter.off("selectedItems", m), i.selectedList.EventEmitter.off("unselectedItems", u)
								})
							}
						],
						link: function(e, t, n, i) {},
						controllerAs: "groupConvListCtrl",
						template: '<loading ng-if="groupConvListCtrl.isLoading"></loading>\n<ul class="list-with-avatar-and-info group-member-lists" ng-if="groupConvListCtrl.groups.length!==0">\n    <!--<li class="checkbox-item" >-->\n        <!--<select-all-box link-data-list="groupConvListCtrl.groups" selected-list="selectedList" is-all-selected="groupConvListCtrl.isAllSelected" ng-if="groupConvListCtrl.groups&&groupConvListCtrl.groups.length > 0 && groupConvListCtrl.isMultiple" selected-type="groupConvListCtrl.selectedType"></select-all-box>-->\n    <!--</li>-->\n    <li class="list-item" ng-class="{\'checked\':item.isSelected,\'group-member-item\':!item.isSingleChat,\'member-item\':item.isSingleChat || item.baseConversation.memberCount===1}" conversation-id="item.baseConversation.conversationId" ng-repeat="item in groupConvListCtrl.convList" ng-click=\'groupConvListCtrl.onItemClick(item);\'>\n        <dd-avatar tag="item.baseConversation.tag" icon=\'item.baseConversation.icon\' extension="item.baseConversation.extension"></dd-avatar>\n        <div class="content" ng-class="{\'one-person-conv\' : item.baseConversation.memberCount===1}">\n            <div class="info">\n                <p class="name" ng-if="item.isSingleChat"><span ng-bind-html="item.baseConversation.nick|emoj"></span></p>\n                <p class="name" ng-if="!item.isSingleChat">\n                    <span class="conv-title" ng-bind-html="item.baseConversation.title|emoj"></span>\n                    <i class="icon-company" ng-if="item.baseConversation.tag===groupConvListCtrl.ConvType.COMPANY_GROUP" ng-class="{\'icon-dept-company\':item.baseConversation.extension.deptId}"></i>\n                </p>\n            </div>\n            <div class="info" ng-if="!item.isSingleChat">\n                <p class="title">{{item.baseConversation.memberCount}} 人</p>\n            </div>\n        </div>\n    </li>\n</ul>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/conversation/ConvType": 184,
			"../../service/conversation/conversation": 193,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/user/my": 400,
			"path": 5
		}
	],
	60: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.group.groupList",
				ConvType = require("../../service/conversation/ConvType"),
				groupSupportType = require("../../service/groupSupportType/groupSupportType"),
				app = angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLConversation, require("../../service/selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType"), require("../../service/toast/toast")]);
			app.directive("groupList", ["IDLConversation", "$q", "$rootScope", "SelectedList", "selectedItemFactory", "selectedItemType", "toastService",
				function(e, t, n, i, o, s, r) {
					return {
						restrict: "AE",
						template: '<loading ng-if="groupList.isLoading"></loading>\n<ul class="list-with-avatar-and-info group-member-lists" ng-if="groupList.groups.length!==0">\n    <li class="checkbox-item" ng-if="groupList.isSelectPanel">\n        <select-all-box link-data-list="groupList.groups" selected-list="selectedList" is-all-selected="groupList.isAllSelected" ng-if="groupList.groups&&groupList.groups.length > 0 && groupList.isMultiple" selected-type="groupList.selectedType"></select-all-box>\n    </li>\n    <li class="list-item group-member-item" conversation-id="item.baseConversation.conversationId" ng-repeat="item in groupList.groups" ng-click=\'groupList.onItemClick(item);\' ng-if="item.baseConversation.type == 2" ng-class="{\'checked\':item.isSelected}">\n        <dd-avatar tag="item.baseConversation.tag"\n                   icon=\'item.baseConversation.icon\'\n                   extension="item.baseConversation.extension"></dd-avatar>\n        <div class="content">\n            <div class="info">\n                <p class="name"><span ng-bind-html="item.baseConversation.newTitle|emoj"></span></p>\n                <i class="icon-company" ng-if="item.baseConversation.tag==groupList.ConvType.COMPANY_GROUP" ng-class="{\'icon-dept-company\':item.baseConversation.extension.deptId}"></i>\n            </div>      \n            <div class="info">\n                <p class="title">{{item.baseConversation.memberCount}} 人</p>\n            </div>  \n        </div>         \n    </li>\n</ul>\n<div class="empty-container" ng-if="groupList.groups.length===0">\n    <div class="sprite-empty empty-group"></div>\n    <p class="empty-info">暂时没有群组</p>\n</div>\n',
						controller: ["$scope",
							function(e) {
								this.isMultiple = void 0 === e.isMultiple ? !0 : e.isMultiple
							}
						],
						scope: {
							selectedList: "=",
							isMultiple: "="
						},
						controllerAs: "groupList",
						link: function(i, c, l) {
							function a(n, i) {
								var o = t.defer();
								return e.listGroup(n, i, function(e) {
									200 === e.code ? o.resolve(e.body) : o.reject(e.code)
								}), o.promise
							}

							function u() {
								var n = t.defer();
								return e.listGroupByTags([ConvType.COMPANY_GROUP], function(e) {
									200 === e.code ? n.resolve(e.body) : n.reject(e.code)
								}), n.promise
							}

							function p(e) {
								return e.filter(function(e) {
									if (!e || !e.baseConversation) return !1;
									if (e.baseConversation.extension && "0" === e.baseConversation.extension.show_in_web) return !1;
									var t = e.baseConversation.tag;
									return -1 === C.indexOf(t) ? !1 : !0
								})
							}

							function d(e) {
								_.each(e, function(e) {
									var t = e.baseConversation.title;
									e.baseConversation.newTitle = t
								})
							}

							function g(e) {
								y ? b.SELECT(e) : b.OPENCONV(e)
							}

							function v() {
								S[L](), f.onItemClick = g, y && m()
							}

							function m() {
								i.selectedList.EventEmitter.on("selectedItems", h), i.selectedList.EventEmitter.on("unselectedItems", I), i.$watch(function() {
									return f.groups
								}, function() {
									f.groups && f.groups.forEach(function(e) {
										var t = o.genSelectedItem(s.GROUP, e);
										i.selectedList.hasItem(t) || i.selectedList.isLocked(t) ? e.isSelected = !0 : e.isSelected = !1
									})
								})
							}
							var f = i.groupList;
							f.isLoading = !0;
							var L = l.listType,
								y = "true" === l.isSelectPanel;
							f.isAllSelected = !1, f.selectedType = s.GROUP, f.ConvType = ConvType, f.isSelectPanel = y;
							var C = groupSupportType.myGroup.fullSupportGroupType,
								S = {
									ALL: function() {
										a(0, 1e3).then(function(e) {
											f.groups = p(e), f.isLoading = !1, d(f.groups)
										}, function() {
											r.show("加载群组失败", {
												type: "error"
											})
										})
									},
									COMPANY: function() {
										u().then(function(e) {
											f.groups = p(e), f.isLoading = !1, d(f.groups)
										}, function() {
											r.show("加载群组失败", {
												type: "error"
											})
										})
									}
								}, b = {
									OPENCONV: function(e) {
										var t = e.baseConversation.conversationId;
										n.$broadcast("leftpannel.openChatByGroup", {
											conversationId: t
										})
									},
									SELECT: function(e) {
										var t = o.genSelectedItem(s.GROUP, e);
										i.selectedList.toggleItem(t)
									}
								}, h = function(e) {
									f.isAllSelected = !0, f.groups.forEach(function(t) {
										var n = o.genSelectedItem(s.GROUP, t);
										e.forEach(function(e) {
											e.id === n.id && (t.isSelected = !0)
										}), t.isSelected || (f.isAllSelected = !1)
									});
									try {
										i.$digest()
									} catch (t) {}
								}, I = function(e) {
									f.isAllSelected = !0, f.groups.forEach(function(t) {
										var n = o.genSelectedItem(s.GROUP, t);
										e.forEach(function(e) {
											e.id === n.id && (t.isSelected = !1, f.isAllSelected = !1)
										})
									});
									try {
										i.$digest()
									} catch (t) {}
								};
							v(), i.$on("$destroy", function() {
								y && (i.selectedList.EventEmitter.off("selectedItems", h), i.selectedList.EventEmitter.off("unselectedItems", I))
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/conversation/ConvType": 184,
			"../../service/groupSupportType/groupSupportType": 241,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/selectorPanel/selected/selectedList": 367,
			"../../service/toast/toast": 378,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	61: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.imgPreview",
				path = require("path"),
				ua = require("../../service/ua"),
				_ = require("lodash");
			require("../../service/chat/ImgOperator"), require("../../service/chat/ImgSwitcher"), require("../../service/mediaId/mediaId"), require("../../service/face/emotionCollectService");
			var app = angular.module(moduleName, ["ddWeb.service.ImgOperator", "ddWeb.service.ImgSwitcher", "ddWeb.mediaId", "ddWeb.service.emotionCollect", require("../../service/app/download/fileFactory")]);
			app.directive("imgPreviewDirective", ["ImgOperator", "ImgSwitcher", "mediaId", "emotionCollectService", "fileFactory",
				function(e, i, t, n, a) {
					return {
						restrict: "A",
						template: '<div>\n<div class="image-dimmer">\n  <div class="image-loader" ng-show="isImageLoading">\n  	<div class="spinner">\n  	  <div class="bounce1"></div>\n  	  <div class="bounce2"></div>\n  	  <div class="bounce3"></div>\n  	</div>\n  </div>\n  <div class="img-wrap">\n\n  </div>\n</div>\n<div class="dimmer-btns">\n  <a class="dimmer-img-zoomin-btn"><i class="iconfont" title="放大">&#xe655;</i><span>放大</span></a>\n  <a class="dimmer-img-zoomout-btn"><i class="iconfont" title="缩小">&#xe654;</i><span>缩小</span></a>\n  <a class="dimmer-img-rotate-btn"><i class="iconfont icon-translate" title="旋转">&#xe650;</i><span>旋转</span></a>\n  <a nwdirectory class="dimmer-img-download-btn" ng-if="localState.isOriginalPic&&isShowDownloadBtn" ><i class="iconfont" title="下载原图">&#xe653;</i><span>下载原图</span></a>\n  <a nwdirectory class="dimmer-img-download-btn" ng-if="!localState.isOriginalPic&&isShowDownloadBtn"><i class="iconfont" title="下载图片">&#xe653;</i><span>下载图片</span></a>\n  <a class="dimmer-img-collect-btn" ng-show="isShowSaveEmotion"><i class="iconfont" ng-class="{\'dimmer-img-collected\':collectedState ==1}" title="收藏">&#xe618;</i><span ng-if="collectedState!=1">收藏表情</span>\n  <span ng-if="collectedState ==1" class="dimmer-img-collected">已收藏</span></a>\n\n</div>\n\n<i class="iconfont close dimmer-btns-close" title="关闭">&#xe632;</i>\n\n<div class="dimmer-img-prev-btn" ng-if="hasPrevImg()">\n    <a><i class="iconfont" title="前一张"  ng-click="goPrev($event);">&#xe659;</i></a>\n</div>\n<div class="dimmer-img-next-btn"  ng-if="hasNextImg()">\n    <a><i class="iconfont" title="后一张" ng-click="goNext($event);">&#xe65b;</i></a>\n</div>\n\n</div>\n',
						replace: !0,
						link: function(o, c, l) {
							function r(e) {
								e && _.isString(e) && "@" === e.charAt(0) && n.checkEmotionExist(o.localState.mediaId, function(e) {
									e ? o.collectedState = N.COLLECTED : o.collectedState = N.UNCOLLECTED
								})
							}

							function d() {
								function a() {
									o.isImageLoading = !0, o.$digest()
								}

								function c() {
									o.isImageLoading = !1, o.$digest()
								}

								function l(e) {
									return e.relatedTarget ? "IMG" === e.target.tagName && "HTML" === e.relatedTarget.tagName : !1
								}
								try {
									var r = t.mid2Url(o.localState.mediaId, {
										imageSize: "origin"
									})
								} catch (d) {}
								p.show(), b = e.create(I, c);
								var s = {};
								o.localState.rotate && (s.rotate = o.localState.rotate), b.init(r, s), E = i.create(b, a, c), x.on("click", function(e) {
									if (o.collectedState === N.UNCOLLECTED) {
										if (o.localState.picSize && 0 != o.localState.picSize && !n.checkMediaSize(o.localState.picSize)) return void n.showErrorMsg("OVER_LIMIT");
										var i = {
											name: "",
											emotionMediaId: o.localState.mediaId,
											emotionMediaSize: o.localState.picSize
										};
										n.pushEmotion(i).then(function(e) {
											o.collectedState = N.COLLECTED
										}, function(e) {})
									}
								}), S.on("click", function(e) {
									b.rotate()
								}), u.on("click", function(e) {
									b.zoomIn()
								}), v.on("click", function(e) {
									b.zoomOut()
								}), I.on("mousedown", function(e) {
									b.startDrag(e)
								}), g.on("mouseup", function() {
									b.endDrag()
								}), g.on("mouseout", function(e) {
									l(e) && b.endDrag()
								}), g.on("mousewheel", function(e) {
									e.preventDefault(), b.rollToZoom(e)
								}), g.on("mousemove", function(e) {
									e.preventDefault(), b.moveImgWrapDiv(e)
								}), I.on("click", function(e) {
									o.closePreview()
								})
							}

							function s() {
								m(), b.dispose(), E.dispose()
							}

							function m() {
								S.off("click"), v.off("click"), u.off("click"), f.off("click"), h.off("click"), w.off("click"), x.off("click"), g.off()
							}
							var g = c,
								f = c.find(".dimmer-img-close-btn"),
								u = c.find(".dimmer-img-zoomin-btn"),
								v = c.find(".dimmer-img-zoomout-btn"),
								S = c.find(".dimmer-img-rotate-btn"),
								p = c.find(".image-dimmer .image-loader"),
								h = c.find(".dimmer-img-prev-btn"),
								w = c.find(".dimmer-img-next-btn"),
								I = c.find(".img-wrap"),
								b = null,
								E = null,
								x = c.find(".dimmer-img-collect-btn");
							d(), o.isShowSaveEmotion = !o.conf.hideSaveEmotion, o.isShowDownloadBtn = !o.conf.hideDownloadBtn, o.getPrevStateFunc = o.getPrevStateFunc || function() {}, o.getNextStateFunc = o.getNextStateFunc || function() {}, c.one("$destroy", function() {
								s()
							});
							var N = {
								CHECKING: 0,
								COLLECTED: 1,
								UNCOLLECTED: 2
							};
							o.collectedState = N.CHECKING;
							var k = !1;
							o.localState.mediaId && _.isString(o.localState.mediaId) && "@" === o.localState.mediaId.charAt(0) && (k = !0), o.isShowSaveEmotion = o.isShowSaveEmotion && k, r(o.localState.mediaId), o.closePreview = function() {
								o.modalInstance.close("ok")
							}, o.goPrev = function(e) {
								o.localState = o.getPrevStateFunc(o.localState), E.goPrev(o.localState), r(o.localState.mediaId), e.stopPropagation()
							}, o.goNext = function(e) {
								o.localState = o.getNextStateFunc(o.localState), E.goNext(o.localState), r(o.localState.mediaId), e.stopPropagation()
							}, o.isImageLoading = !0, o.hasPrevImg = function() {
								return !!this.getPrevStateFunc(o.localState)
							}, o.hasNextImg = function() {
								return !!this.getNextStateFunc(o.localState)
							}, c.delegate("a[download]", "click", function(e) {
								if (ua.isNw) {
									event.preventDefault();
									var i = this,
										t = a.create({
											url: i.href,
											name: i.download
										});
									t.download()
								}
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/app/download/fileFactory": 159,
			"../../service/chat/ImgOperator": 171,
			"../../service/chat/ImgSwitcher": 172,
			"../../service/face/emotionCollectService": 223,
			"../../service/mediaId/mediaId": 267,
			"../../service/ua": 390,
			"lodash": 470,
			"path": 5
		}
	],
	62: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.infiniteScroll";
			angular.module(moduleName, []).directive("infiniteScroll", ["$window",
				function(i) {
					return {
						scope: {
							infiniteScrollTop: "&infiniteScrollTop",
							infiniteScrollThreshold: "=infiniteScrollThreshold",
							infiniteDisabled: "=infiniteDisabled",
							infiniteScrollBottom: "&infiniteScrollBottom"
						},
						link: function(i, l, o) {
							var n = parseInt(i.infiniteScrollThreshold) || 0,
								e = l[0];
							l.bind("scroll", function() {
								var l = e.scrollTop + e.offsetHeight >= e.scrollHeight - n,
									o = e.scrollTop <= n;
								l && i.infiniteScrollBottom(), o && i.infiniteScrollTop()
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	63: [
		function(require, module, exports) {
			require("../service/log/lwlog.js"), angular.module("ddWeb.log", ["ddWeb.log.lwlog"]).directive("log", ["lwlog",
				function(l) {
					return {
						link: function(o, e, g) {
							var i = g.log,
								n = g.logKey;
							e.bind("click", function(o) {
								l.commLog(i, n)
							})
						}
					}
				}
			]);


		}, {
			"../service/log/lwlog.js": 262
		}
	],
	64: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.log.imgErrorLog",
				statLog = require("../../service/log/statLog"),
				fileTypes = require("@ali/ding-filetypes");
			angular.module(moduleName, []).directive("imgErrorLog", [
				function() {
					return {
						restrict: "A",
						link: function(e, r) {
							var o = function(e) {
								var r = e.srcElement.src,
									o = r.split("/").pop(),
									t = fileTypes.getIdByType(fileTypes.getTypeByName(o));
								statLog.writeFileDownloadLog(t, 0, 0, !0)
							};
							r[0].addEventListener("error", o), r.one("$destroy", function() {
								r[0].removeEventListener("error", o)
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/log/statLog": 263,
			"@ali/ding-filetypes": 455
		}
	],
	65: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.login.newUserInfo";
			angular.module(moduleName, [require("../../service/modal/alert")]).directive("newUserInfo", ["$alert",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						controller: ["$scope",
							function() {
								this.showInfo = function() {
									e({
										title: "新用户注册",
										content: '<span>新用户首次登录请点击验证码登录；或<a target="_blank" href="http://www.dingtalk.com/?gotoDownload=true">下载手机版钉钉</a>，设置初始密码和昵称等个人信息<span>'
									})
								}
							}
						],
						controllerAs: "newUserInfo",
						template: '<a class="new-user-info" href="#" ng-click="newUserInfo.showInfo()"><span>新用户注册</span></a>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/modal/alert": 278,
			"path": 5
		}
	],
	66: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.mainMenu.functionMenu";
			require("../../service/modal/switchOrgModal"), require("../../service/modal/sendDingModal");
			var $my = require("../../service/user/my"),
				env = require("../../service/env/env");
			angular.module(moduleName, ["ddWeb.service.switchOrgModal", require("../../service/modal/createGroup"), "ddWeb.modal.sendDingModal", require("../../service/modal/addFriend"), require("../../service/modal/transferMsg"), require("../../service/frameContainer/slidePanel"), require("../../service/modal/addFriendByUid")]).directive("functionMenu", ["switchOrgModalService", "createGroupModalService", "sendDingModalService", "$addFriend", "$state", "openSlidePanelContainer", "transferMsg", "$addFriendByUid",
				function(e, n, i, t, o, s, r, d) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {},
						template: '<div>\n    <div class="extra-item-box" ng-click="menu.openFunctionMenu()">\n        <i class="iconfont">&#xe624;</i><span class="font" ng-if="isShowFont">创建</span>\n    </div>\n    <div class="tip-menu" ng-show="menu.isOpen">\n        <div class="tri">\n            <div class="tri-border tb-border"></div>\n            <div class="tri-border tb-back"></div>\n        </div>\n        <ul class="menus">\n            <li class="menu-item" ng-click="menu.showCreateGrouopModal()">发起聊天</li>\n            <li class="menu-item" ng-if="menu.isShowCreateOrgChat" ng-click="menu.showSwitchOrgModal()">企业群聊天</li>\n            <li class="menu-item" ng-click="menu.showSendDingModal()">DING一下</li>\n            <li class="menu-item" ng-click="menu.addFriend()">添加好友</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.showApiTest()">API Test</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.testSlidePanel($event)">SlidePanel Test</li>\n            <li class="menu-item" ng-if="!menu.isProductEnv" ng-click="menu.addFriendByUid($event)">addFriendByUid</li>\n        </ul>\n    </div>\n</div>\n',
						link: function(e, n, i) {
							var t = e.menu;
							t.isOpen = !1, $(document).on("click.functionMenu", function(i) {
								var o = n.find(i.target).length > 0;
								!o && t.isOpen && (t.isOpen = !1, e.$digest())
							}), n.find(".menu-item").on("click", function() {
								t.isOpen = !1, e.$digest()
							}), n.on("$destroy", function() {
								n.find(".menu-item").off("click"), $(document).off("click.functionMenu")
							}), e.isShowFont = !0
						},
						controller: [
							function() {
								var c = this;
								this.openFunctionMenu = function() {
									this.isOpen = !this.isOpen
								}, this.showSwitchOrgModal = function() {
									e.showModal($my).then(function(e) {
										c.showCreateGrouopModal(e)
									})
								}, this.showCreateGrouopModal = function(e) {
									n.showModal(e)
								}, this.showSendDingModal = function() {
									i.showModal()
								}, this.addFriend = function() {
									t()
								}, this.isShowCreateOrgChat = $my.orgEmployees && $my.orgEmployees.length > 0, this.isProductEnv = env.isProductEnv, this.showApiTest = function() {
									o.go("authorized.apiTest")
								}, this.transfer = function() {
									r()
								}, this.testSlidePanel = function(e) {
									e.stopPropagation();
									var n = window.prompt("url");
									s({
										appUrl: n
									})
								}, this.addFriendByUid = d
							}
						],
						controllerAs: "menu"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/env/env": 219,
			"../../service/frameContainer/slidePanel": 231,
			"../../service/modal/addFriend": 276,
			"../../service/modal/addFriendByUid": 277,
			"../../service/modal/createGroup": 281,
			"../../service/modal/sendDingModal": 293,
			"../../service/modal/switchOrgModal": 296,
			"../../service/modal/transferMsg": 298,
			"../../service/user/my": 400,
			"path": 5
		}
	],
	67: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.mainMenu.settingMenu",
				ua = require("../../service/ua");
			require("../../service/modal/settingModal"), require("../../service/modifyPassword/pwdModify"), require("../../service/api/Login"), require("../../service/app/nw"), angular.module(moduleName, ["ddWeb.modal.settingModal", "ddWeb.service.pwdModify", require("../../service/modal/confirm"), "ddWeb.api.Login", require("../../service/globalUrl"), "ddWeb.nw"]).directive("settingMenu", ["settingModal", "pwdModify", "$confirm", "Login", "globalURL", "nw",
				function(n, i, e, o, t, s) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {},
						template: '<div>\n    <div class="extra-item-box" ng-click="menu.openSettingMenu()">\n        <i class="iconfont">&#xe623;</i><span class="font" ng-if="isShowFont">设置</span>\n    </div>\n    <div class="tip-menu" ng-show="menu.isOpen">\n        <div class="tri">\n            <div class="tri-border tb-border"></div>\n            <div class="tri-border tb-back"></div>\n        </div>\n        <ul class="menus">\n            <li class="menu-item" ng-click="menu.showSettingModal()">设置</li>\n            <li class="menu-item" ng-click="menu.showPwdModifyModal()">修改密码</li>\n            <li class="menu-item" ng-click="menu.goDownload()">下载应用</li>\n            <li class="menu-item" ng-click="menu.logout()">退出登录</li>\n        </ul>\n    </div>\n</div>\n',
						link: function(n, i, e) {
							var o = n.menu;
							o.isOpen = !1, $(document).on("click.settingMenu", function(e) {
								var t = i.find(e.target).length > 0;
								!t && o.isOpen && (o.isOpen = !1, n.$digest())
							}), i.find(".menu-item").on("click", function() {
								o.isOpen = !1, n.$digest()
							}), i.on("$destroy", function() {
								i.find(".menu-item").off("click"), $(document).off("click.settingMenu")
							}), n.isShowFont = !0
						},
						controller: [
							function() {
								var l = this;
								this.isNw = ua.isNw, this.downloadDestUrl = t.DOWNLOAD_URL, this.openSettingMenu = function() {
									this.isOpen = !this.isOpen
								}, this.showPwdModifyModal = function() {
									i().then(function(n) {
										n && o.logout()
									})
								}, this.showSettingModal = function() {
									n()
								}, this.goDownload = function() {
									ua.isNw ? s.openExternal(l.downloadDestUrl) : window.open(l.downloadDestUrl)
								}, this.logout = function() {
									e({
										title: "退出登录",
										content: "您确定退出登录么？",
										isWarning: !0
									}).then(function() {
										ua.isNw ? s.removeAllCookies().then(function(n) {
											o.logout()
										}) : o.logout()
									})
								}
							}
						],
						controllerAs: "menu"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/api/Login": 145,
			"../../service/app/nw": 161,
			"../../service/globalUrl": 238,
			"../../service/modal/confirm": 280,
			"../../service/modal/settingModal": 294,
			"../../service/modifyPassword/pwdModify": 302,
			"../../service/ua": 390,
			"path": 5
		}
	],
	68: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.container",
				path = require("path"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../widget/progressBar"), require("../../service/ddPrivateApi/event")]).directive("microAppContainer", ["_ddPrivateApiEvent",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							appUrl: "=appUrl",
							containerId: "=containerId"
						},
						template: '<div class="micro-app-container">\n    <div class="frame-container"></div>\n    <progress-bar progress="progress" class="app-load-progress" is-hide-after-finish="true"></progress-bar>\n</div>\n',
						link: function(r, t, n) {
							var i = r.containerId || null,
								a = t.find(".frame-container")[0];
							r.progress = 0;
							var o = null,
								s = r.$watch(function() {
									return r.appUrl
								}, function(e, t) {
									var n = e;
									i = r.containerId;
									var s = document.createElement("iframe"),
										c = window.location.origin;
									r.progress = 0, s.setAttribute("name", JSON.stringify({
										hostOrigin: c,
										containerId: i
									})), s.setAttribute("src", n), s.setAttribute("nwdisable", "true"), s.style.width = "100%", s.style.height = "100%", o = setInterval(function() {
										r.progress <= 90 ? (r.progress += 10, r.$digest()) : clearInterval(o)
									}, 100), s.addEventListener("load", function(e) {
										r.progress = 100;
										try {
											r.$digest()
										} catch (t) {}
										clearInterval(o)
									}), a.innerHTML = "", a.appendChild(s)
								}),
								c = r.$watch("containerId", function() {
									r.containerId && e.init(r.containerId, "*", function(e) {
										$(a).trigger(e)
									})
								});
							r.$on("$destroy", function() {
								s(), c(), clearInterval(o)
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/ddPrivateApi/event": 205,
			"../widget/progressBar": 108,
			"@ali/frame-talk/host": 457,
			"path": 5
		}
	],
	69: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/modal/profileModal"), require("../../service/events"), require("../../service/widget/selectorBar/selectorBarTool"), require("../../service/toast/toast"), angular.module("ddWeb.org.orgItemDirective", ["ddWeb.service.profileModal", "ddWeb.events", "ddWeb.service.selectorBarTool"]).directive("orgItem", ["profileModalService", "$rootScope", "EVENTS", "selectorBarTool", "toastService",
				function(e, t, i, a, r) {
					return {
						restrict: "AE",
						scope: {
							orgItemData: "=orgItemData",
							changeDept: "=changeDept",
							isCurrentDept: "=isCurrentDept",
							isSelectPanel: "=isSelectPanel",
							setItemSelected: "=setItemSelected"
						},
						controller: ["$scope",
							function(t) {
								function i(e) {
									a.nodeType = e.detail.nodeType, a.isCurrentDept = !! t.isCurrentDept, a.detail = e.detail, 1 === a.nodeType && (a.isCurrentMaster = e.isCurrentMaster)
								}
								var a = this;
								a.isCurrentDept = !1, i(t.orgItemData), a.isCurrentDept && t.$watch(function() {
									return t.orgItemData
								}, function(e) {
									i(e)
								}), this.changeDept = function(e) {
									e.stopPropagation(), e.preventDefault(), t.changeDept(t.orgItemData)
								}, this.showDetail = function() {
									if (t.orgItemData.detail.permission && t.orgItemData.detail.permission.unableClickReason) return void r.show(t.orgItemData.detail.permission.unableClickReason, {
										type: "information"
									});
									var i = a.detail.employee;
									e(i.uid, i.orgStaffId, i.orgId)
								}, this.onItemClick = function() {
									a.detail.employee, a.detail.user;
									return t.isSelectPanel ? void(t.setItemSelected && t.setItemSelected(t.orgItemData)) : void this.showDetail()
								}
							}
						],
						link: function(e, t, i) {},
						template: '<li class="list-item member-item" ng-if="orgItem.nodeType === 1" ng-click=\'orgItem.onItemClick();\' ng-class="{\'checked\':orgItemData.isSelected,\'has-no-title\':!orgItem.detail.employee.orgTitle}">\n    <dd-avatar uid="orgItem.detail.userProfile.uid" nick="orgItem.detail.employee.orgNickName" name="orgItem.detail.employee.orgUserName"></dd-avatar>\n\n    <div class="info">\n        <p class="name">\n            <span ng-if="!orgItem.detail.user.remarkNameObj.alias">\n                <span ng-bind-html="orgItem.detail.employee.orgUserName|emoj"></span>\n                <span ng-if="orgItem.detail.employee.orgNickName">\n                          (<span ng-bind-html="(orgItem.detail.employee.orgNickName)|emoj"></span>)\n                </span>\n            </span>\n            <span ng-if="orgItem.detail.user.remarkNameObj.alias">\n                <span ng-bind-html="orgItem.detail.user.remarkNameObj.alias|emoj"></span>\n            </span>\n        </p>\n    </div>\n     <div class="info"><p class="title">{{orgItem.detail.employee.orgTitle}}</p></div>\n     <a href="javascript:;" class="see-team" ng-if="orgItem.detail.employee.hasSubordinate && !orgItem.isCurrentDept" ng-click="orgItem.changeDept($event)">查看团队</a>\n </li>\n\n <li class="list-item member-item team-item" ng-if="orgItem.nodeType === 0" ng-click="orgItem.changeDept($event)">\n     <div class="info">\n        <p class="name">{{orgItem.detail.dept.deptName}}</p>\n    </div>\n     <div class="info"><p class="title">{{orgItem.detail.dept.memberCount||0}} 人</p></div>\n </li>\n',
						controllerAs: "orgItem"
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/modal/profileModal": 289,
			"../../service/toast/toast": 378,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"path": 5
		}
	],
	70: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("./orgItem"), require("../widget/breadcrumbs"), require("../../service/events"), require("../infiniteScroll"), require("../../service/org/OrgCacheFactory"), require("../../service/widget/selectorBar/selectorBarTool"), require("../widget/checkbox"), angular.module("ddWeb.org.orgListDirective", ["ddWeb.org.orgItemDirective", "ddWeb.widget.breadcrumbs", "ddWeb.events", "ddWeb.infiniteScroll", "ddWeb.org.OrgCacheFactory", "ddWeb.service.selectorBarTool", "ddWeb.widget.checkbox", require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).directive("orgList", ["EVENTS", "$rootScope", "$timeout", "OrgCacheFactory", "selectorBarTool", "selectedItemFactory", "selectedItemType",
				function(e, t, i, r, n, l, c) {
					return {
						restrict: "AE",
						scope: {
							currentDept: "=currentDept",
							myTreeNode: "=myTreeNode",
							isSelectPanel: "=isSelectPanel",
							selectedList: "=selectedList",
							isMultiple: "=isMultiple"
						},
						controller: ["$scope",
							function(e) {
								function t() {
									v.masterNodeList = v.currentDept.getNodeList().concat(v.currentDept)
								}

								function i() {
									v.isLoading = !0, v.currentDept.active(function() {
										v.isLoading = !1
									})
								}

								function n() {
									function n() {
										e.$watchCollection(function() {
											return v.currentDept ? v.currentDept.children : void 0
										}, function(t) {
											t && t.length >= 0 && (v.isLoading = !1), a(), e.isSelectPanel && (v.isAllSelected = p())
										})
									}
									e.$watch(function() {
										return v.currentDept
									}, function(e) {
										if (e) {
											var l = r.getOrgCacheByOid(v.currentDept.oid);
											b !== l && (b && b.deactive(), b = l, b.active()), t(), i(), n()
										}
									}), D = e.$watch("currentDept", function(e) {
										v.currentDept = e
									})
								}

								function o(t) {
									e.currentDept = t
								}

								function s() {
									!v.isLoading && v.currentDept.hasMore && (v.isLoading = !0, v.currentDept.showMore(function() {
										v.isLoading = !1
									}), e.$digest())
								}

								function d(e) {
									return v.currentDept ? (e || (e = $.extend(!0, [], v.currentDept.children), e.push(v.currentDept)), e = e.filter(function(e) {
										return 1 == e.detail.nodeType && !e.detail.isRoot
									})) : []
								}

								function a() {
									if (v.isAllSelectedCheckboxShow = !1, v.currentDept && v.currentDept.children)
										if (0 != v.currentDept.children.length) {
											var e = !1;
											v.currentDept.children.forEach(function(t) {
												1 === t.detail.nodeType && (e = !0)
											}), e ? v.isAllSelectedCheckboxShow = !0 : v.currentDept.hasMore ? v.isAllSelectedCheckboxShow = !0 : v.isAllSelectedCheckboxShow = !1
										} else v.isAllSelectedCheckboxShow = !1
								}

								function u(e) {
									var t = d(e),
										i = [];
									return t.forEach(function(e) {
										var t = h(e);
										i.push(t)
									}), i
								}

								function g() {
									v.isSelectAllLoading || (v.isSelectAllLoading = !0, v.isLoading = !0, v.currentDept.showAll(function(t) {
										if (t) {
											var i = u(t);
											e.selectedList.addItems(i)
										}
										v.isSelectAllLoading = !1, v.isLoading = !1
									}))
								}

								function f() {
									var t = u();
									e.selectedList.removeItems(t)
								}

								function p() {
									if (v.currentDept.hasMore) return !1;
									var t = d(),
										i = !0;
									return t.forEach(function(t) {
										var r = h(t);
										e.selectedList.hasItem(r) || e.selectedList.isLocked(r) ? t.isSelected = !0 : t.isSelected = !1, t.isSelected || (i = !1)
									}), i
								}

								function h(e) {
									var t = e.detail.user;
									e.detail.user || (t = {
										model: e.detail.employee,
										text: e.detail.employee.orgUserName
									});
									var i = e.detail.employee || {};
									t.employee = i;
									var r = l.genSelectedItem(c.USER, t);
									return r
								}

								function m(t) {
									if (!v.isSelectAllLoading) {
										var i = h(t);
										e.selectedList.toggleItem(i)
									}
								}

								function S(e, t) {
									var i = d();
									v.isAllSelected = !0, i.forEach(function(i) {
										if (1 === i.detail.nodeType) {
											var r = h(i);
											t.forEach(function(t) {
												r.id === t.id && (i.isSelected = e)
											}), i.isSelected || (v.isAllSelected = !1)
										}
									})
								}

								function L() {
									e.isSelectPanel && (v.isAllSelected = !1, e.selectedList.EventEmitter.on("selectedItems", A), e.selectedList.EventEmitter.on("unselectedItems", y)), v.orgItems = null, v.hasNoNode = !1, v.myTreeNode = e.myTreeNode, v.isMultiple = e.isMultiple, v.isSelectAllLoading = !1, v.isSelectPanel = e.isSelectPanel, v.isAllSelectedCheckboxShow = !1, n(), v.changeDept = o, v.loadMore = s, v.selectAll = g, v.unSelectAll = f, v.setItemSelected = m
								}
								var v = this,
									b = null,
									D = null,
									A = function(e) {
										S(!0, e)
									}, y = function(e) {
										S(!1, e)
									};
								L(), e.$on("$destroy", function() {
									b && b.deactive(), e.isSelectPanel && (e.selectedList.EventEmitter.off("selectedItems", A), e.selectedList.EventEmitter.off("unselectedItems", y))
								})
							}
						],
						link: function(e, t, i) {
							if (e.isSelectPanel) {
								var r = e.orgList,
									n = t.find(".checkbox-item");
								n.on("mousedown.selectAllRatio", function() {
									r.isAllSelected ? r.unSelectAll() : r.selectAll(), e.$digest()
								}), e.$watch(function() {
									return r.isAllSelected
								}, function(e) {
									t.find("input[type=checkbox]").prop("checked", e)
								}), t.on("$destroy", function() {
									n.off("mousedown.selectAllRatio")
								})
							}
						},
						template: '<div infinite-scroll infinite-scroll-bottom="orgList.loadMore();" class="org-member-inner">\n<loading ng-if="orgList.isLoading"></loading>\n<div breadcrumbs master-list="orgList.masterNodeList" change-dept="orgList.changeDept"></div>\n<ul class="list-with-avatar-and-info member-lists" >\n    <li class="checkbox-item" ng-show="orgList.isSelectPanel && orgList.isAllSelectedCheckboxShow && orgList.isMultiple">\n        <div class="checkbox">\n            <input type="checkbox" />\n            <label for="select-all-friend"><span class="select-all-label">全选</span><i class="iconfont loop-loading" ng-if="orgList.isSelectAllLoading">&#xe657;</i></label>\n\n        </div>\n    </li>\n    <org-item org-item-data="orgList.currentDept" ng-if="orgList.currentDept.detail.nodeType === 1 && !orgList.currentDept.detail.isRoot" is-current-dept="true"  is-select-panel="orgList.isSelectPanel" set-item-selected="orgList.setItemSelected"></org-item>\n    <org-item ng-repeat="item in orgList.currentDept.children" org-item-data="item" change-dept="orgList.changeDept"  is-select-panel="orgList.isSelectPanel" set-item-selected="orgList.setItemSelected"></org-item>                \n</ul>\n</div>\n',
						controllerAs: "orgList"
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/org/OrgCacheFactory": 337,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"../infiniteScroll": 62,
			"../widget/breadcrumbs": 89,
			"../widget/checkbox": 90,
			"./orgItem": 69,
			"path": 5
		}
	],
	71: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.audioPlayer",
				path = require("path"),
				mediaId = require("@ali/ding-mediaid"),
				app = angular.module(moduleName, [require("../../service/api/trans"), require("../../service/events"), require("../../service/log/log")]);
			app.directive("audioPlayer", ["trans", "$sce", "EVENTS", "$rootScope", "log",
				function(a, e, i, o, r) {
					var d = 0;
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							audioMediaId: "=audioMediaId",
							audioDuration: "=audioDuration",
							onPlayStart: "&onPlayStart"
						},
						template: '<div class="audio-wrapper audio-player">\n    <i class="iconfont play-icon"></i>\n    <span class="video-duration">{{audioDuration}}\'\'</span>\n    <audio ng-src="{{audioSrc}}"></audio>\n    <div class="audio-progress"></div>\n</div>\n',
						link: function(n, t, u) {
							function s(a) {
								a.preventDefault(), a.stopPropagation(), m.readyState > 0 && (0 === m.currentTime || m.paused === !0) ? (n.onPlayStart && n.onPlayStart(), o.$broadcast(i.AUDIO_START_PLAY, {
									audioId: c
								}), l.addClass("playing"), m.play(), f.animate({
									width: p
								}, 1e3 * m.duration - 1e3 * m.currentTime, function() {
									$(this).css("width", 0)
								})) : (l.removeClass("playing"), m.pause(), f.stop())
							}
							var c = d++;
							a.amrToMp3(n.audioMediaId, function(a) {
								if (200 !== a.code) return void console.log("error occur in amrToMp3");
								var i = {};
								try {
									i.src = mediaId.mid2Url(a.body.url)
								} catch (o) {
									r.error(o.toString + " | scene: decode mp3 mediaId, data:" + a.body.url), i.src = ""
								}
								i.type = "audio/mp3", n.audioSrc = e.trustAsResourceUrl(i.src)
							});
							var l = t,
								p = parseInt($(t).outerWidth()) || 122,
								m = t.find("audio")[0],
								f = t.find(".audio-progress"),
								v = t.find(".play-icon"),
								y = t.find(".video-duration"),
								g = n.$on(i.AUDIO_START_PLAY, function(a, e) {
									e.audioId !== c && (m.readyState > 0 && (m.pause(), f.stop()), l.removeClass("playing"))
								});
							$(m).on("ended", function() {
								m.currentTime = 0, l.removeClass("playing")
							}), v.on("click", s), y.on("click", s), t.on("$destroy", function() {
								g(), $(m).off("ended"), v.off("click"), y.off("click")
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/api/trans": 151,
			"../../service/events": 221,
			"../../service/log/log": 260,
			"@ali/ding-mediaid": 456,
			"path": 5
		}
	],
	72: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.previewFile.previewFile",
				path = require("path"),
				app = angular.module(moduleName, [require("../img/imgPreviewDirective")]);
			app.directive("previewFile", ["$sce",
				function(i) {
					return {
						restrict: "AE",
						template: '<div>\n    <div loading ng-if="!option.isImg" ng-show="!isLoaded"></div>\n    <div img-preview-directive ng-if="option.isImg"></div>\n</div>\n',
						scope: {
							option: "=option"
						},
						replace: !0,
						link: function(i, e, o) {
							if (i.isLoaded = !1, i.option.isImg) i.localState = {
								mediaId: i.option.preview_url
							}, i.conf = {
								hideSaveEmotion: !0,
								hideDownloadBtn: !0
							};
							else {
								var d = $("<iframe>", {
									id: "preview-frame"
								}).css("visibility", "hidden").appendTo(e);
								d.load(function() {
									i.isLoaded = !0, i.$digest(), d.css("visibility", "visible")
								}), d.attr("src", i.option.preview_url)
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../img/imgPreviewDirective": 61,
			"path": 5
		}
	],
	73: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/tool/tool"), require("../../service/events"), require("../../service/widget/selectorBar/selectorBarTool"), require("../../service/toast/toast"), require("../../service/org/OrgTree");
			var $my = require("../../service/user/my");
			require("../org/orgList");
			var _ = require("lodash");
			angular.module("ddWeb.selectorPanel.company", ["ddWeb.service.tool", "ddWeb.events", "ddWeb.service.selectorBarTool", "ddWeb.toast", "ddWeb.org.OrgTree", "ddWeb.org.orgListDirective", require("../../service/user/userManager"), require("../../service/log/log")]).directive("company", ["tool", "EVENTS", "selectorBarTool", "toastService", "OrgTree", "userManager", "log",
				function(e, r, t, o, i, l, s) {
					return {
						restrict: "A",
						controller: ["$scope", "$rootScope",
							function(e, r) {
								function t() {
									var r = $my.getOrgByOid(e.currentOrgData.oid);
									r ? (n.currentOrgEmployees = r, n.orgDetail = n.currentOrgEmployees.orgDetail) : console.log("未在任何企业")
								}

								function o() {
									var e = _.get(n, "currentOrgEmployees.orgEmployeeModel.depts.length", 0) > 0,
										r = -1;
									e && (r = 0);
									var t = new i(n.currentOrgEmployees);
									t.changeDeptByIndex(r), n.currentDept = t.currentTreeNode, n.myTreeNode = t.myTreeNode
								}
								var n = this;
								this.isSelectPanel = !0, this.isMultiple = void 0 === e.isMultiple ? !0 : e.isMultiple, this.isGettingMyProfile = !0, l.getUserWithExt($my.uid).then(function() {
									t(), o(), n.isGettingMyProfile = !1
								}, function() {
									t(), o(), n.isGettingMyProfile = !1, s.error("get my profile error")
								})
							}
						],
						link: function(e, r, t) {},
						controllerAs: "company",
						template: '<loading ng-if="company.isGettingMyProfile"></loading>\n<org-list current-dept="company.currentDept"  is-select-panel="company.isSelectPanel" selected-list="selectedList" my-tree-node="company.myTreeNode" class="org-member-wrapper" is-multiple="company.isMultiple"></org-list>\n'
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/log/log": 260,
			"../../service/org/OrgTree": 338,
			"../../service/toast/toast": 378,
			"../../service/tool/tool": 384,
			"../../service/user/my": 400,
			"../../service/user/userManager": 404,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"../org/orgList": 70,
			"lodash": 470,
			"path": 5
		}
	],
	74: [
		function(require, module, exports) {
			var moduleName = "ddWeb.selectorPanel.conv",
				path = require("path");
			require("./selectAll");
			var app = angular.module(moduleName, ["ddWeb.selectorPanel.selectAll", require("../group/groupConvList")]);
			app.directive("convListPanel", [
				function() {
					return {
						restrict: "A",
						replace: !0,
						controller: ["$scope",
							function(e) {}
						],
						link: function(e, l, o, r) {},
						controllerAs: "conv",
						template: '<div class="tab-content current group-conv-list">\n    <group-conv-list class=""></group-conv-list>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../group/groupConvList": 59,
			"./selectAll": 78,
			"path": 5
		}
	],
	75: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/events"), require("../../service/selectorPanel/CustomList"), require("../../service/widget/selectorBar/selectorBarTool"), require("./selectAll");
			var app = angular.module("ddWeb.selectorPanel.custom", ["ddWeb.events", "ddWeb.service.CustomList", "ddWeb.service.selectorBarTool", "ddWeb.selectorPanel.selectAll", require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]);
			app.directive("custom", ["$rootScope", "CustomList", "selectorBarTool", "selectedItemFactory", "selectedItemType",
				function(e, t, s, i, l) {
					return {
						restrict: "A",
						replace: !0,
						controller: ["$scope", "EVENTS", "CustomList",
							function(e, t, s) {
								var c = this;
								c.customList = null, $.extend(this, new s), c.selectedType = l.USER, this.isMultiple = void 0 === e.isMultiple ? !0 : e.isMultiple, this.showCompanyNameConf = e.showCompanyNameConf, this.init(e.customUids || []), this.onPeopleClick = function(t, s) {
									t.stopPropagation();
									var c = i.genSelectedItem(l.USER, s.user);
									e.selectedList.toggleItem(c)
								}, e.$watchCollection(function() {
									return c.customList
								}, function(t) {
									Array.isArray(c.customList) && (c.isAllSelected = !0, c.customList.forEach(function(t) {
										t.isDisabled = !1;
										var s = i.genSelectedItem(l.USER, t.user);
										e.selectedList.hasItem(s) ? t.isSelected = !0 : t.isSelected = !1, e.selectedList.isDisabledItem(s) && (t.isDisabled = !0), t.isSelected || (c.isAllSelected = !1)
									}))
								});
								var o = function(t) {
									if (Array.isArray(c.customList)) {
										c.isAllSelected = !0, c.customList.forEach(function(e) {
											var s = i.genSelectedItem(l.USER, e.user);
											t.forEach(function(t) {
												s.id === t.id && (e.isSelected = !0)
											}), e.isSelected || (c.isAllSelected = !1)
										});
										try {
											e.$digest()
										} catch (s) {}
									}
								}, r = function(t) {
										if (Array.isArray(c.customList)) {
											c.isAllSelected = !0, c.customList.forEach(function(e) {
												var s = i.genSelectedItem(l.USER, e.user);
												t.forEach(function(t) {
													s.id === t.id && (e.isSelected = !1, c.isAllSelected = !1)
												})
											});
											try {
												e.$digest()
											} catch (s) {}
										}
									};
								e.selectedList.EventEmitter.addListener("selectedItems", o), e.selectedList.EventEmitter.addListener("unselectedItems", r), e.$on("$destroy", function() {
									e.selectedList.EventEmitter.off("selectedItems", o), e.selectedList.EventEmitter.off("unselectedItems", r)
								})
							}
						],
						link: function(e, t, s) {},
						controllerAs: "custom",
						template: '<div class="tab-content friend-member-lists current">\n    <ul class="list-with-avatar-and-info member-lists">\n        <li class="checkbox-item">\n            <select-all-box link-data-list="custom.customList" selected-list="selectedList" is-all-selected="custom.isAllSelected" ng-if="custom.customList&&custom.customList.length > 0&&custom.isMultiple" selected-type="custom.selectedType"></select-all-box>\n        </li>\n        <li class="list-item member-item" ng-repeat="item in custom.customList" ng-click=\'custom.onPeopleClick($event, item)\' ng-class="{\'checked\':item.isSelected,\'disabled\' : item.isDisabled}">\n            <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar>\n            <div class="info">\n                <p class="name" ng-if="!custom.showCompanyNameConf.isShow" ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n                <p class="name" ng-if="custom.showCompanyNameConf.isShow" ng-bind-html="(item.user.employeeBaseModel[custom.showCompanyNameConf.orgId].name || item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n            </div>\n        </li>\n    </ul>\n</div>\n'
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/selectorPanel/CustomList": 360,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"./selectAll": 78,
			"path": 5
		}
	],
	76: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/friend/FriendFactory"), require("../../service/events"), require("../../service/widget/selectorBar/selectorBarTool"), require("./selectAll"), angular.module("ddWeb.selectorPanel.friend", ["ddWeb.events", "ddWeb.service.selectorBarTool", "ddWeb.selectorPanel.selectAll", "ddWeb.friend.FriendFactory", require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).directive("friend", ["EVENTS", "selectorBarTool", "FriendFactory", "selectedItemFactory", "selectedItemType",
				function(e, t, i, l, r) {
					return {
						restrict: "AE",
						replace: !0,
						controller: ["$scope", "$rootScope", "$q",
							function(e, t, s) {
								var n = this;
								n.friendData = i.getFriendList(), n.isAllSelected = !0, n.selectedType = r.USER, this.isMultiple = void 0 === e.isMultiple ? !0 : e.isMultiple;
								var d = function(t) {
									n.isAllSelected = !0, n.friendData.friendList.forEach(function(e) {
										var i = l.genSelectedItem(r.USER, e.user);
										t.forEach(function(t) {
											i.id === t.id && (e.isSelected = !0)
										}), e.isSelected || (n.isAllSelected = !1)
									});
									try {
										e.$digest()
									} catch (i) {}
								}, c = function(t) {
										n.isAllSelected = !0, n.friendData.friendList.forEach(function(e) {
											var i = l.genSelectedItem(r.USER, e.user);
											t.forEach(function(t) {
												i.id === t.id && (e.isSelected = !1, n.isAllSelected = !1)
											})
										});
										try {
											e.$digest()
										} catch (i) {}
									};
								e.selectedList.EventEmitter.addListener("selectedItems", d), e.selectedList.EventEmitter.addListener("unselectedItems", c), e.$watchCollection(function() {
									return n.friendData.friendList
								}, function(t) {
									n.isAllSelected = !0, n.friendData.friendList.forEach(function(t) {
										var i = l.genSelectedItem(r.USER, t.user);
										e.selectedList.hasItem(i) || e.selectedList.isLocked(i) ? t.isSelected = !0 : t.isSelected = !1, t.isSelected || (n.isAllSelected = !1)
									})
								}), this.onPeopleClick = function(t, i) {
									t.stopPropagation();
									var s = l.genSelectedItem(r.USER, i.user);
									e.selectedList.toggleItem(s)
								}, e.$on("$destroy", function() {
									i.destoryFriendList(), e.selectedList.EventEmitter.off("selectedItems", d), e.selectedList.EventEmitter.off("unselectedItems", c)
								})
							}
						],
						link: function(e, t, i) {
							e.friend
						},
						controllerAs: "friend",
						template: '<div class="tab-content friend-member-lists current">\n    <ul class="list-with-avatar-and-info member-lists">\n        <li class="checkbox-item" >\n            <select-all-box link-data-list="friend.friendData.friendList" selected-list="selectedList" is-all-selected="friend.isAllSelected" ng-if="friend.friendData.friendList&&friend.friendData.friendList.length > 0 && friend.isMultiple" selected-type="friend.selectedType"></select-all-box>\n        </li>\n        <li class="list-item member-item has-no-title" ng-repeat="item in friend.friendData.friendList" ng-click=\'friend.onPeopleClick($event, item)\' ng-class="{\'checked\':item.isSelected}">\n            <dd-avatar uid="item.user.userProfileModel.uid" nick="item.user.userProfileModel.nick"></dd-avatar>\n            <div class="info"><p class="name" ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p></div>\n        </li>\n    </ul>\n</div>\n'
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/friend/FriendFactory": 232,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"./selectAll": 78,
			"path": 5
		}
	],
	77: [
		function(require, module, exports) {
			require("../../service/events");
			var moduleName = "ddWeb.selectorPanel.group",
				path = require("path");
			require("./selectAll");
			var app = angular.module(moduleName, ["ddWeb.events", "ddWeb.selectorPanel.selectAll", require("../group/index")]);
			app.directive("group", [
				function() {
					return {
						restrict: "A",
						replace: !0,
						controller: ["$scope", "EVENTS",
							function(e, t) {
								var l = this;
								l.isMultiple = void 0 === e.isMultiple ? !0 : e.isMultiple
							}
						],
						link: function(e, t, l, i) {
							var r = i,
								s = l.type;
							r.type = s || "ALL"
						},
						controllerAs: "group",
						template: '<div class="tab-content current">\n    <group-list list-type = "ALL" is-select-panel="true" selected-list="selectedList" is-multiple="group.isMultiple" ng-if="group.type === \'ALL\'"></group-list>\n    <group-list list-type = "COMPANY" is-select-panel="true" selected-list="selectedList" is-multiple="group.isMultiple" ng-if="group.type === \'COMPANY\'"></group-list>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/events": 221,
			"../group/index": 60,
			"./selectAll": 78,
			"path": 5
		}
	],
	78: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/events"), require("../../service/widget/selectorBar/selectorBarTool"), angular.module("ddWeb.selectorPanel.selectAll", ["ddWeb.events", "ddWeb.service.selectorBarTool", require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).directive("selectAllBox", ["EVENTS", "selectorBarTool", "selectedItemFactory", "selectedItemType",
				function(e, t, l, c) {
					return {
						restrict: "AE",
						scope: {
							linkDataList: "=linkDataList",
							selectedList: "=",
							isAllSelected: "=",
							selectedType: "="
						},
						controller: ["$scope", "$rootScope",
							function(e, t) {
								this.selectAll = function() {
									var t = [];
									e.linkDataList.forEach(function(s) {
										if (e.selectedType === c.USER) var r = l.genSelectedItem(e.selectedType, s.user);
										else if (e.selectedType === c.GROUP) var r = l.genSelectedItem(e.selectedType, s);
										t.push(r)
									}), e.selectedList.addItems(t)
								}, this.unSelectAll = function() {
									var t = [];
									e.linkDataList.forEach(function(s) {
										if (e.selectedType === c.USER) var r = l.genSelectedItem(e.selectedType, s.user);
										else if (e.selectedType === c.GROUP) var r = l.genSelectedItem(e.selectedType, s);
										t.push(r)
									}), e.selectedList.removeItems(t)
								}
							}
						],
						link: function(e, t, l) {
							var c = e.selectAllCtrl,
								s = t.find(".select-all-ratio"),
								r = t.find("input[type=checkbox]");
							s.on("mousedown.selectAllRatio", function() {
								r.prop("checked") ? c.unSelectAll() : c.selectAll(), e.$digest()
							}), e.$watch(function() {
								return e.isAllSelected
							}, function(e) {
								r.prop("checked", e)
							}), t.on("$destroy", function() {
								s.off("mousedown.selectAllRatio")
							})
						},
						template: '<div class="checkbox select-all-ratio">\n    <input type="checkbox" >\n    <label for="select-all-friend">全选</label>\n</div>',
						controllerAs: "selectAllCtrl"
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"path": 5
		}
	],
	79: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.selectorPanel";
			require("../../service/selectorPanel/builder"), require("./company"), require("./friend"), require("./custom"), require("../../service/tool/tool"), require("../../service/tool/multiOrgTool"), require("../../service/toast/toast"), require("../../service/selectorPanel/PanelType");
			var _ = require("lodash"),
				app = angular.module(moduleName, ["ddWeb.service.selectorPanelBuilder", "ddWeb.selectorPanel.company", "ddWeb.selectorPanel.friend", "ddWeb.selectorPanel.custom", "ddWeb.service.tool", "ddWeb.service.multiOrgTool", "ddWeb.toast", "ddWeb.service.PanelType", require("./group"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType"), require("./conv")]);
			app.directive("selectorPanel", ["selectorPanelBuilder", "tool", "multiOrgTool", "toastService", "PanelType", "selectedItemFactory", "selectedItemType",
				function(e, r, t, l, n, a, o) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							menuData: "=",
							customUids: "=",
							selectedList: "=",
							isMultiple: "=",
							showCompanyNameConf: "="
						},
						controller: ["$scope",
							function(e) {
								e.currentOrgData = null, this.PanelType = n
							}
						],
						link: function(r, l, a, o) {
							function c(e) {
								return e.sort(function(e, r) {
									return e - r
								}), e
							}
							var i = l.children(".tab-items"),
								s = l.children(".tab-contents"),
								u = r.customUids;
							o.go = function(t, l) {
								o.currentPanelType = l, l === n.ORG && t && t.stopPropagation(), e.buildContainer(r, l, s, u)
							}, o.switchOrg = function(e, l, n) {
								t.setCurrentOrgData(n), r.currentOrgData = n, o.go(e, l)
							}, o.onSelect = function(e) {
								o.switchOrg(null, 0, e)
							}, o.isCurrentOrg = function(e) {
								return t.isOrgDataEqual(r.currentOrgData, e)
							}, r.$watch(function() {
								return r.menuData
							}, function(l) {
								l && (l.panelTypeArr = c(l.panelTypeArr), l.orgDataArr && (r.currentOrgData = t.getCurrentOrgData(l.orgDataArr[0], l.orgDataArr)), r.menuData = l, e.buildMenu(r, r.currentOrgData, l, i), o.go(null, l.panelTypeArr[0]))
							})
						},
						controllerAs: "selectorPanelController",
						template: '<div class="tab selector-panel-box">\n    <ul class="tab-items"></ul>\n    <div class="tab-contents"></div>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/selectorPanel/PanelType": 361,
			"../../service/selectorPanel/builder": 362,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/toast/toast": 378,
			"../../service/tool/multiOrgTool": 382,
			"../../service/tool/tool": 384,
			"./company": 73,
			"./conv": 74,
			"./custom": 75,
			"./friend": 76,
			"./group": 77,
			"lodash": 470,
			"path": 5
		}
	],
	80: [
		function(require, module, exports) {
			var path = require("path"),
				moment = require("moment"),
				dateTimePicker = "ddWeb.sendDing.dateTimePicker";
			require("../../service/toast/toast"), require("@ali/datetimepicker"), angular.module(dateTimePicker, ["ddWeb.toast"]).directive("dateTimePicker", ["toastService",
				function(e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							time: "=",
							onDtPickerShow: "&",
							onDtPickerClose: "&"
						},
						template: '<div class="datetime-input-box">\n    <input type="text" class="datepicker-input" data-field="datetime" name="datetime"  readonly="readonly" ng-model="time">\n    <div id="dtBox"></div>\n</div>',
						link: function(t, i, o) {
							t.time || (t.time = moment().format("YYYY-MM-DD HH:mm")), i.find("#dtBox").DateTimePicker({
								mode: "datetime",
								defaultDate: new Date,
								titleContentDateTime: "",
								isPopup: !0,
								dateTimeFormat: "yyyy-mm-dd hh:mm:ss",
								formatHumanDate: function(e) {
									return e.yyyy + "-" + e.monthShort + "-" + e.dd
								},
								shortMonthNames: ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"],
								setButtonContent: "确定",
								buttonsToDisplay: ["HeaderCloseButton", "SetButton"],
								beforeShow: function() {},
								afterShow: function() {
									t.onDtPickerShow && t.onDtPickerShow(), t.$digest()
								},
								afterHide: function() {
									t.onDtPickerClose && t.onDtPickerClose(), t.$digest()
								},
								buttonClicked: function(e) {}
							}), i.find(".datepicker-input").trigger("focus"), t.$watch(function() {
								return t.time
							}, function(i) {
								if (i) {
									var o = moment().startOf("minute").valueOf();
									o > moment(i, "YYYY-MM-DD HH:mm").valueOf() && (t.time = moment(o).format("YYYY-MM-DD HH:mm"), e.show("发DING时间不能早于现在时间", {
										type: "information"
									}))
								}
							})
						}
					}
				}
			]), module.exports = dateTimePicker;


		}, {
			"../../service/toast/toast": 378,
			"@ali/datetimepicker": 425,
			"moment": 472,
			"path": 5
		}
	],
	81: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.sendDing.dingAttachment",
				directiveName = "dingAttachment",
				_ = require("lodash"),
				mediaId = require("@ali/ding-mediaid");
			angular.module(moduleName, [require("../../service/ding/DingAttachmentType")]).directive(directiveName, ["DingAttachmentType",
				function(t) {
					return {
						restrict: "AE",
						scope: {
							attachment: "="
						},
						controller: ["$scope",
							function(n) {
								var e = n.attachment,
									a = t;
								this.DING_ATTACHMENT_TYPE = a;
								var i = "https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png";
								if (e.type === a.IMAGE && e.mediaId) {
									try {
										e._imageUrl = mediaId.mid2Url(e.mediaId, {
											imageSize: "thumb"
										})
									} catch (c) {}
									var d = new Image;
									d.onerror = function() {
										e._imageUrl = i, n.$digest()
									}, d.src = e._imageUrl
								}
								if (e.type === a.LINK && _.get(e, "linkContent.picMediaId")) {
									try {
										e._imageUrl = mediaId.mid2Url(_.get(e, "linkContent.picMediaId"))
									} catch (c) {}
									var d = new Image;
									d.onerror = function() {
										e._imageUrl = "", n.$digest()
									}, d.src = e._imageUrl
								}
								this.attachment = e
							}
						],
						controllerAs: "dingAttachment",
						template: '<!--目前只有一个-->\n<div ng-if="dingAttachment.attachment.type === dingAttachment.DING_ATTACHMENT_TYPE.IMAGE ||\n            dingAttachment.attachment.type === dingAttachment.DING_ATTACHMENT_TYPE.LINK" class="attachment">\n    <div class="ding-attachment-image" ng-if="dingAttachment.attachment._imageUrl" ng-style="{\'background-image\':\'url(\'+dingAttachment.attachment._imageUrl+\')\'}"></div>\n    <div class="ding-attachment-image" ng-class="{\'share-icon\':dingAttachment.attachment.type === dingAttachment.DING_ATTACHMENT_TYPE.LINK,\'pic-icon\':dingAttachment.attachment.type === dingAttachment.DING_ATTACHMENT_TYPE.IMAGE}" ng-if="!dingAttachment.attachment._imageUrl"></div>\n    <div class="ding-attachment-link-content" ng-if="dingAttachment.attachment.linkContent">\n        <div class="ding-attachment-link">\n            <div class="ding-attachment-link-wrapper">\n                <a ng-href="{{dingAttachment.attachment.linkContent.linkUrl}}" target="_blank">{{dingAttachment.attachment.linkContent.title}}</a>\n            </div>\n        </div>\n        <div class="ding-attachment-desc" ng-if="dingAttachment.attachment.linkContent.text">\n            <div class="ding-attachment-desc-wrapper">\n                <span>{{dingAttachment.attachment.linkContent.text}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/ding/DingAttachmentType": 208,
			"@ali/ding-mediaid": 456,
			"lodash": 470,
			"path": 5
		}
	],
	82: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../widget/angular-file-upload"), require("../../service/toast/toast"), require("../../service/file/fileTypes"), require("../../service/api/Upload"), require("../../directive/widget/progressBar");
			var app = angular.module("ddWeb.sendDing.dingFileUploader", ["angularFileUpload", "ddWeb.toast", "ddWeb.file.fileTypes", "ddWeb.api.Upload", "ddWeb.progressBar"]);
			app.directive("dingFileUploader", ["$timeout", "FileUploader", "toastService", "$fileTypes", "Upload",
				function(e, i, l, n, a) {
					return {
						restrict: "AE",
						replace: !0,
						controller: ["$scope",
							function(e) {
								function d(e) {
									return e && 0 !== e.size ? e.size > 31457280 ? U.overSize : n.isValid(n.getTypeByName(e.name)) ? U.success : U.errType : U.fileNull
								}

								function s() {
									v.clearQueue(), v.cancelAll()
								}

								function t(e) {
									return n.isImg(e) ? h.IMAGE : h.FILE
								}

								function o(e, i, l) {
									a.upload(e.fileModel.file, i).then(l)["catch"](function(e) {
										l(e)
									})
								}

								function r(e, i, l, n) {
									return {
										type: e,
										mediaId: l,
										size: i.size,
										fileName: i.name,
										detailType: n
									}
								}

								function p(e, i) {
									e.uploadState = 1, e.uploadProgress = 100 * i
								}

								function f(e, i, l, n) {
									var a, d, s = l.fileModel.fileType,
										o = t(s);
									a = o == h.IMAGE && i.body.hd ? i.body.hd : i.body.uri, d = r(o, l.fileModel.file, a, s), e.sendDing.dingFileModelList[n] = d, l.uploadState = 2, e.sendDing.isUploadFinish = e.dingFileUploader._checkAllFileUploadFinished()
								}

								function c(e, i, l) {
									e.sendDing.dingFileModelList[l] = null, i.uploadState = 3
								}

								function g(e, i) {
									var l, a, d;
									for (var s in i) l = i[s], d = n.getTypeByName(l._file.name), l.iconClass = n.getFileIconByType(d), l.uploadState = 0, a = {
										file: l._file,
										fileType: d
									}, l.fileModel = a,
									function(i) {
										l.itemIndex = i, e.sendDing.isUploadFinish = e.dingFileUploader._checkAllFileUploadFinished(), p(l, 0), o(l, function(i) {
											p(l, i), e.$digest()
										}, function(n) {
											200 === n.code ? f(e, n, l, i) : c(e, l, i), e.$digest()
										})
									}(s)
								}

								function u(i) {
									var n = [],
										a = d(i[0]._file);
									return -1 != a ? void l.show(m[a], {
										type: "error"
									}) : (n.push(i[0]), I.isUploadable = !1, e.sendDing.filesList = I.filesList = i, void g(e, i))
								}
								var U = {
									success: -1,
									fileNull: 0,
									overSize: 1,
									errType: 2
								}, m = {
										0: "文件为空",
										1: "文件过大",
										2: "暂不支持上传此类型文件，请压缩后再上传"
									}, h = {
										TEXT: 1,
										AUDIO: 2,
										IMAGE: 3,
										FILE: 4
									}, v = new i,
									F = 1,
									I = this;
								I.disableUpload = e.sendDing.disableUpload, I.filesList = e.sendDing.filesList, I._checkAllFileUploadFinished = function() {
									var e = !0;
									return I.filesList.forEach(function(i) {
										2 != i.uploadState && (e = !1)
									}), e && 0 !== I.filesList.length
								}, I.reUpload = function(i) {
									var l = I.filesList[i];
									l.uploadState = 1, p(l, 0), o(l, function(e) {
										p(l, e)
									}, function(n) {
										200 == n.code ? f(e, n, l, i) : c(e, l, i)
									})
								}, this.removeFile = function(e) {
									I.filesList.splice(e, 1), I.isUploadable = !0
								}, this.uploader = v, this.isUploadable = !0, v.onAfterAddingAll = function(e) {
									e.length > F || 0 === e.length || (s(), u(e))
								}
							}
						],
						link: function(e, i, l) {},
						template: '<div>\n    <!-- 上传附件 -->\n    <div class="attachments-action" ng-show="dingFileUploader.filesList.length===0 && !dingFileUploader.disableUpload">\n        <i class="iconfont">&#xe621;</i>\n        <a class="add-attachment" href="javascript:;">添加附件</a>\n        <span class="rem">（支持添加单个附件）</span>\n        <input type="file" nv-file-select="" uploader="dingFileUploader.uploader">\n    </div>\n    <!-- 如果上传了一个附件，则隐藏上面dom、显示下面dom -->\n    <div class="attachments-wrapper" ng-if="dingFileUploader.filesList.length!==0" ng-repeat="fileItem in dingFileUploader.filesList">\n        <img src="https://g.alicdn.com/dingding/web/0.3.5/img/filelogo/pic.png" alt="" class="icon" />\n        <span class="file-name" ng-class="{\'long-file-name\':dingFileUploader.disableUpload}">{{fileItem.file.name||\'附件\'}}</span>\n        <div ng-if="!dingFileUploader.disableUpload">\n            <div progress-bar progress="fileItem.uploadProgress"></div>\n        </div>\n        <span class="upload-info" ng-if="!dingFileUploader.disableUpload">\n            <span ng-if="fileItem.uploadState === 1">正在上传</span>\n            <span ng-if="fileItem.uploadState === 2">上传成功</span>\n            <span ng-if="fileItem.uploadState === 3">上传失败</span>\n        </span>\n        <a href="javascript:;" class="del-file" ng-if="fileItem.uploadState !== 3 && !dingFileUploader.disableUpload" ng-click="dingFileUploader.removeFile(fileItem.itemIndex)">删除</a>\n        <a href="" class="del-file" ng-click="dingFileUploader.reUpload(fileItem.itemIndex)" ng-if="fileItem.uploadState == 3 && !dingFileUploader.disableUpload">重发</a>\n    </div>\n</div>\n',
						controllerAs: "dingFileUploader"
					}
				}
			]);


		}, {
			"../../directive/widget/progressBar": 108,
			"../../service/api/Upload": 148,
			"../../service/file/fileTypes": 225,
			"../../service/toast/toast": 378,
			"../widget/angular-file-upload": 84,
			"path": 5
		}
	],
	83: [
		function(require, module, exports) {
			var moduleName = "ddWeb.uploadFile.uploadFileContent",
				path = require("path"),
				$fileTypes = require("@ali/ding-filetypes"),
				limitConfig = require("../../service/limitConfig");
			angular.module(moduleName, [require("../../service/file/fileHelper"), require("../../service/img/Rotate")]).directive("uploadFileContent", ["$fileHelper", "Rotate",
				function(i, e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							file: "=",
							options: "="
						},
						controller: [
							function() {}
						],
						link: function(l, s, a) {
							var n = l.UploadFile,
								o = l.file,
								t = l.options,
								r = $fileTypes.getTypeByName(o.name);
							n.isImg = $fileTypes.isImg(r), n.fname = o.name, n.showSize = i.formatFileSize(o.size), o.size > limitConfig.IMAGE_READ_B64_SIZE_LIMIT && (n.isImg = !1), n.isImg ? t.isMediaId ? n.imgSrc = o.imgSrc : i.readFile(o, function() {
								n.imgSrc = o.dataURI;
								var i = e(o.orientation) || 0,
									a = 90 === i || 270 === i,
									t = $(s.find(".file-img")),
									r = $(s.find(".file-area-box"));
								t.css("visibility", "hidden"), t && t.length > 0 && (t[0].onload = function() {
									if (a) {
										var e = t.height(),
											s = t.width();
										r.height(s), t.css({
											"margin-top": (s - e) / 2 + "px"
										})
									}
									t.css("-webkit-transform", "rotate(" + i + "deg)"), t.css("visibility", "visible"), l.$digest()
								})
							}) : n.iconClass = $fileTypes.getFileIconByType(r)
						},
						template: '<div class="file-area">\n    <div class="file-area-box">\n        <div class="file-icon" ng-if="!UploadFile.isImg" ng-class="UploadFile.iconClass"></div>\n        <img class="file-img" ng-if="UploadFile.isImg" ng-src="{{UploadFile.imgSrc}}">\n    </div>\n    <p class="file-info-item file-name">{{UploadFile.fname}}</p>\n    <p class="file-info-item file-size" ng-if="file.size!=0">{{UploadFile.showSize}}</p>\n</div>\n',
						controllerAs: "UploadFile"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/file/fileHelper": 224,
			"../../service/img/Rotate": 244,
			"../../service/limitConfig": 254,
			"@ali/ding-filetypes": 455,
			"path": 5
		}
	],
	84: [
		function(require, module, exports) {
			var module = angular.module("angularFileUpload", []);
			module.value("fileUploaderOptions", {
				url: "/",
				alias: "file",
				headers: {},
				queue: [],
				progress: 0,
				autoUpload: !1,
				removeAfterUpload: !1,
				method: "POST",
				filters: [],
				formData: [],
				queueLimit: Number.MAX_VALUE,
				withCredentials: !1
			}).factory("FileUploader", ["fileUploaderOptions", "$rootScope", "$http", "$window", "$compile",
				function(e, t, o, r, n) {
					function i(t) {
						var o = angular.copy(e);
						angular.extend(this, o, t, {
							isUploading: !1,
							_nextIndex: 0,
							_failFilterIndex: -1,
							_directives: {
								select: [],
								drop: [],
								over: []
							}
						}), this.filters.unshift({
							name: "queueLimit",
							fn: this._queueLimitFilter
						}), this.filters.unshift({
							name: "folder",
							fn: this._folderFilter
						})
					}

					function s(e) {
						var t = angular.isElement(e),
							o = t ? e.value : e,
							r = angular.isString(o) ? "FakePath" : "Object",
							n = "_createFrom" + r;
						this[n](o)
					}

					function a(e, t, o) {
						var r = angular.isElement(t),
							n = r ? angular.element(t) : null,
							s = r ? null : t;
						angular.extend(this, {
							url: e.url,
							alias: e.alias,
							headers: angular.copy(e.headers),
							formData: angular.copy(e.formData),
							removeAfterUpload: e.removeAfterUpload,
							withCredentials: e.withCredentials,
							method: e.method
						}, o, {
							uploader: e,
							file: new i.FileLikeObject(t),
							isReady: !1,
							isUploading: !1,
							isUploaded: !1,
							isSuccess: !1,
							isCancel: !1,
							isError: !1,
							progress: 0,
							index: null,
							_file: s,
							_input: n
						}), n && this._replaceNode(n)
					}

					function p(e) {
						angular.extend(this, e), this.uploader._directives[this.prop].push(this), this._saveLinks(), this.bind()
					}

					function l(e) {
						l.super_.apply(this, arguments), this.uploader.isHTML5 || this.element.removeAttr("multiple"), this.element.prop("value", null)
					}

					function u(e) {
						u.super_.apply(this, arguments)
					}

					function d(e) {
						d.super_.apply(this, arguments)
					}
					return i.prototype.isHTML5 = !(!r.File || !r.FormData), i.prototype.addToQueue = function(e, t, o) {
						var r = this.isArrayLikeObject(e) ? e : [e],
							n = this._getFilters(o),
							s = this.queue.length,
							a = [];
						angular.forEach(r, function(e) {
							var o = new i.FileLikeObject(e);
							if (this._isValidFile(o, n, t)) {
								var r = new i.FileItem(this, e, t);
								a.push(r), this.queue.push(r), this._onAfterAddingFile(r)
							} else {
								var s = this.filters[this._failFilterIndex];
								this._onWhenAddingFileFailed(o, s, t)
							}
						}, this), this.queue.length !== s && (this._onAfterAddingAll(a), this.progress = this._getTotalProgress()), this._render(), this.autoUpload && this.uploadAll()
					}, i.prototype.removeFromQueue = function(e) {
						var t = this.getIndexOfItem(e),
							o = this.queue[t];
						o.isUploading && o.cancel(), this.queue.splice(t, 1), o._destroy(), this.progress = this._getTotalProgress()
					}, i.prototype.clearQueue = function() {
						for (; this.queue.length;) this.queue[0].remove();
						this.progress = 0
					}, i.prototype.uploadItem = function(e) {
						var t = this.getIndexOfItem(e),
							o = this.queue[t],
							r = this.isHTML5 ? "_xhrTransport" : "_iframeTransport";
						o._prepareToUploading(), this.isUploading || (this.isUploading = !0, this[r](o))
					}, i.prototype.cancelItem = function(e) {
						var t = this.getIndexOfItem(e),
							o = this.queue[t],
							r = this.isHTML5 ? "_xhr" : "_form";
						o && o.isUploading && o[r].abort()
					}, i.prototype.uploadAll = function() {
						var e = this.getNotUploadedItems().filter(function(e) {
							return !e.isUploading
						});
						e.length && (angular.forEach(e, function(e) {
							e._prepareToUploading()
						}), e[0].upload())
					}, i.prototype.cancelAll = function() {
						var e = this.getNotUploadedItems();
						angular.forEach(e, function(e) {
							e.cancel()
						}), this._directives.select.forEach(function(e) {
							e.element.val("")
						})
					}, i.prototype.isFile = function(e) {
						var t = r.File;
						return t && e instanceof t
					}, i.prototype.isFileLikeObject = function(e) {
						return e instanceof i.FileLikeObject
					}, i.prototype.isArrayLikeObject = function(e) {
						return angular.isObject(e) && "length" in e
					}, i.prototype.getIndexOfItem = function(e) {
						return angular.isNumber(e) ? e : this.queue.indexOf(e)
					}, i.prototype.getNotUploadedItems = function() {
						return this.queue.filter(function(e) {
							return !e.isUploaded
						})
					}, i.prototype.getReadyItems = function() {
						return this.queue.filter(function(e) {
							return e.isReady && !e.isUploading
						}).sort(function(e, t) {
							return e.index - t.index
						})
					}, i.prototype.destroy = function() {
						angular.forEach(this._directives, function(e) {
							angular.forEach(this._directives[e], function(e) {
								e.destroy()
							}, this)
						}, this)
					}, i.prototype.onAfterAddingAll = function(e) {}, i.prototype.onAfterAddingFile = function(e) {}, i.prototype.onWhenAddingFileFailed = function(e, t, o) {}, i.prototype.onBeforeUploadItem = function(e) {}, i.prototype.onProgressItem = function(e, t) {}, i.prototype.onProgressAll = function(e) {}, i.prototype.onSuccessItem = function(e, t, o, r) {}, i.prototype.onErrorItem = function(e, t, o, r) {}, i.prototype.onCancelItem = function(e, t, o, r) {}, i.prototype.onCompleteItem = function(e, t, o, r) {}, i.prototype.onCompleteAll = function() {}, i.prototype._getTotalProgress = function(e) {
						if (this.removeAfterUpload) return e || 0;
						var t = this.getNotUploadedItems().length,
							o = t ? this.queue.length - t : this.queue.length,
							r = 100 / this.queue.length,
							n = (e || 0) * r / 100;
						return Math.round(o * r + n)
					}, i.prototype._getFilters = function(e) {
						if (angular.isUndefined(e)) return this.filters;
						if (angular.isArray(e)) return e;
						var t = e.split(/\s*,/);
						return this.filters.filter(function(e) {
							return -1 !== t.indexOf(e.name)
						}, this)
					}, i.prototype._render = function() {}, i.prototype._folderFilter = function(e) {
						return !(!e.size && !e.type)
					}, i.prototype._queueLimitFilter = function() {
						return this.queue.length < this.queueLimit
					}, i.prototype._isValidFile = function(e, t, o) {
						return this._failFilterIndex = -1, t.length ? t.every(function(t) {
							return this._failFilterIndex++, t.fn.call(this, e, o)
						}, this) : !0
					}, i.prototype._isSuccessCode = function(e) {
						return e >= 200 && 300 > e || 304 === e
					}, i.prototype._transformResponse = function(e) {
						return angular.forEach(o.defaults.transformResponse, function(t) {
							e = t(e)
						}), e
					}, i.prototype._parseHeaders = function(e) {
						function t(e) {
							return e.replace(/^\s+/, "").replace(/\s+$/, "")
						}

						function o(e) {
							return e.toLowerCase()
						}
						var r, n, i, s = {};
						return e ? (angular.forEach(e.split("\n"), function(e) {
							i = e.indexOf(":"), r = o(t(e.substr(0, i))), n = t(e.substr(i + 1)), r && (s[r] = s[r] ? s[r] + ", " + n : n)
						}), s) : s
					}, i.prototype._xhrTransport = function(e) {
						var t = e._xhr = new XMLHttpRequest,
							o = new FormData,
							r = this;
						r._onBeforeUploadItem(e), angular.forEach(e.formData, function(e) {
							angular.forEach(e, function(e, t) {
								o.append(t, e)
							})
						}), o.append(e.alias, e._file, e.file.name), t.upload.onprogress = function(t) {
							var o = Math.round(t.lengthComputable ? 100 * t.loaded / t.total : 0);
							r._onProgressItem(e, o)
						}, t.onload = function() {
							var o = r._parseHeaders(t.getAllResponseHeaders()),
								n = r._transformResponse(t.response),
								i = r._isSuccessCode(t.status) ? "Success" : "Error",
								s = "_on" + i + "Item";
							r[s](e, n, t.status, o), r._onCompleteItem(e, n, t.status, o)
						}, t.onerror = function() {
							var o = r._parseHeaders(t.getAllResponseHeaders()),
								n = r._transformResponse(t.response);
							r._onErrorItem(e, n, t.status, o), r._onCompleteItem(e, n, t.status, o)
						}, t.onabort = function() {
							var o = r._parseHeaders(t.getAllResponseHeaders()),
								n = r._transformResponse(t.response);
							r._onCancelItem(e, n, t.status, o), r._onCompleteItem(e, n, t.status, o)
						}, t.open(e.method, e.url, !0), t.withCredentials = e.withCredentials, angular.forEach(e.headers, function(e, o) {
							t.setRequestHeader(o, e)
						}), t.send(o), this._render()
					}, i.prototype._iframeTransport = function(e) {
						var t = angular.element('<form style="display: none;" />'),
							o = angular.element('<iframe name="iframeTransport' + Date.now() + '">'),
							r = e._input,
							n = this;
						e._form && e._form.replaceWith(r), e._form = t, n._onBeforeUploadItem(e), r.prop("name", e.alias), angular.forEach(e.formData, function(e) {
							angular.forEach(e, function(e, o) {
								t.append(angular.element('<input type="hidden" name="' + o + '" value="' + e + '" />'))
							})
						}), t.prop({
							action: e.url,
							method: "POST",
							target: o.prop("name"),
							enctype: "multipart/form-data",
							encoding: "multipart/form-data"
						}), o.bind("load", function() {
							try {
								var t = o[0].contentDocument.body.innerHTML
							} catch (r) {}
							var i = {
								response: t,
								status: 200,
								dummy: !0
							}, s = n._transformResponse(i.response),
								a = {};
							n._onSuccessItem(e, s, i.status, a), n._onCompleteItem(e, s, i.status, a)
						}), t.abort = function() {
							var i, s = {
									status: 0,
									dummy: !0
								}, a = {};
							o.unbind("load").prop("src", "javascript:false;"), t.replaceWith(r), n._onCancelItem(e, i, s.status, a), n._onCompleteItem(e, i, s.status, a)
						}, r.after(t), t.append(r).append(o), t[0].submit(), this._render()
					}, i.prototype._onWhenAddingFileFailed = function(e, t, o) {
						this.onWhenAddingFileFailed(e, t, o)
					}, i.prototype._onAfterAddingFile = function(e) {
						this.onAfterAddingFile(e)
					}, i.prototype._onAfterAddingAll = function(e) {
						this.onAfterAddingAll(e)
					}, i.prototype._onBeforeUploadItem = function(e) {
						e._onBeforeUpload(), this.onBeforeUploadItem(e)
					}, i.prototype._onProgressItem = function(e, t) {
						var o = this._getTotalProgress(t);
						this.progress = o, e._onProgress(t), this.onProgressItem(e, t), this.onProgressAll(o), this._render()
					}, i.prototype._onSuccessItem = function(e, t, o, r) {
						e._onSuccess(t, o, r), this.onSuccessItem(e, t, o, r)
					}, i.prototype._onErrorItem = function(e, t, o, r) {
						e._onError(t, o, r), this.onErrorItem(e, t, o, r)
					}, i.prototype._onCancelItem = function(e, t, o, r) {
						e._onCancel(t, o, r), this.onCancelItem(e, t, o, r)
					}, i.prototype._onCompleteItem = function(e, t, o, r) {
						e._onComplete(t, o, r), this.onCompleteItem(e, t, o, r);
						var n = this.getReadyItems()[0];
						return this.isUploading = !1, angular.isDefined(n) ? void n.upload() : (this.onCompleteAll(), this.progress = this._getTotalProgress(), void this._render())
					}, i.isFile = i.prototype.isFile, i.isFileLikeObject = i.prototype.isFileLikeObject, i.isArrayLikeObject = i.prototype.isArrayLikeObject, i.isHTML5 = i.prototype.isHTML5, i.inherit = function(e, t) {
						e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.super_ = t
					}, i.FileLikeObject = s, i.FileItem = a, i.FileDirective = p, i.FileSelect = l, i.FileDrop = u, i.FileOver = d, s.prototype._createFromFakePath = function(e) {
						this.lastModifiedDate = null, this.size = null, this.type = "like/" + e.slice(e.lastIndexOf(".") + 1).toLowerCase(), this.name = e.slice(e.lastIndexOf("/") + e.lastIndexOf("\\") + 2)
					}, s.prototype._createFromObject = function(e) {
						this.lastModifiedDate = angular.copy(e.lastModifiedDate), this.size = e.size, this.type = e.type, this.name = e.name
					}, a.prototype.upload = function() {
						this.uploader.uploadItem(this)
					}, a.prototype.cancel = function() {
						this.uploader.cancelItem(this)
					}, a.prototype.remove = function() {
						this.uploader.removeFromQueue(this)
					}, a.prototype.onBeforeUpload = function() {}, a.prototype.onProgress = function(e) {}, a.prototype.onSuccess = function(e, t, o) {}, a.prototype.onError = function(e, t, o) {}, a.prototype.onCancel = function(e, t, o) {}, a.prototype.onComplete = function(e, t, o) {}, a.prototype._onBeforeUpload = function() {
						this.isReady = !0, this.isUploading = !0, this.isUploaded = !1, this.isSuccess = !1, this.isCancel = !1, this.isError = !1, this.progress = 0, this.onBeforeUpload()
					}, a.prototype._onProgress = function(e) {
						this.progress = e, this.onProgress(e)
					}, a.prototype._onSuccess = function(e, t, o) {
						this.isReady = !1, this.isUploading = !1, this.isUploaded = !0, this.isSuccess = !0, this.isCancel = !1, this.isError = !1, this.progress = 100, this.index = null, this.onSuccess(e, t, o)
					}, a.prototype._onError = function(e, t, o) {
						this.isReady = !1, this.isUploading = !1, this.isUploaded = !0, this.isSuccess = !1, this.isCancel = !1, this.isError = !0, this.progress = 0, this.index = null, this.onError(e, t, o)
					}, a.prototype._onCancel = function(e, t, o) {
						this.isReady = !1, this.isUploading = !1, this.isUploaded = !1, this.isSuccess = !1, this.isCancel = !0, this.isError = !1, this.progress = 0, this.index = null, this.onCancel(e, t, o)
					}, a.prototype._onComplete = function(e, t, o) {
						this.onComplete(e, t, o), this.removeAfterUpload && this.remove()
					}, a.prototype._destroy = function() {
						this._input && this._input.remove(), this._form && this._form.remove(), delete this._form, delete this._input
					}, a.prototype._prepareToUploading = function() {
						this.index = this.index || ++this.uploader._nextIndex, this.isReady = !0
					}, a.prototype._replaceNode = function(e) {
						var t = n(e.clone())(e.scope());
						t.prop("value", null), e.css("display", "none"), e.after(t)
					}, p.prototype.events = {}, p.prototype.bind = function() {
						for (var e in this.events) {
							var t = this.events[e];
							this.element.bind(e, this[t])
						}
					}, p.prototype.unbind = function() {
						for (var e in this.events) this.element.unbind(e, this.events[e])
					}, p.prototype.destroy = function() {
						var e = this.uploader._directives[this.prop].indexOf(this);
						this.uploader._directives[this.prop].splice(e, 1), this.unbind()
					}, p.prototype._saveLinks = function() {
						for (var e in this.events) {
							var t = this.events[e];
							this[t] = this[t].bind(this)
						}
					}, i.inherit(l, p), l.prototype.events = {
						$destroy: "destroy",
						change: "onChange"
					}, l.prototype.prop = "select", l.prototype.getOptions = function() {}, l.prototype.getFilters = function() {}, l.prototype.isEmptyAfterSelection = function() {
						return !!this.element.attr("multiple")
					}, l.prototype.onChange = function() {
						var e = this.uploader.isHTML5 ? this.element[0].files : this.element[0],
							t = this.getOptions(),
							o = this.getFilters();
						this.uploader.isHTML5 || this.destroy(), this.uploader.addToQueue(e, t, o), this.isEmptyAfterSelection() && this.element.prop("value", null)
					}, i.inherit(u, p), u.prototype.events = {
						$destroy: "destroy",
						drop: "onDrop",
						dragover: "onDragOver",
						dragleave: "onDragLeave"
					}, u.prototype.prop = "drop", u.prototype.getOptions = function() {}, u.prototype.getFilters = function() {}, u.prototype.onDrop = function(e) {
						var t = this._getTransfer(e);
						if (t) {
							var o = this.getOptions(),
								r = this.getFilters();
							this._preventAndStop(e), angular.forEach(this.uploader._directives.over, this._removeOverClass, this), this.uploader.addToQueue(t.files, o, r)
						}
					}, u.prototype.onDragOver = function(e) {
						var t = this._getTransfer(e);
						this._haveFiles(t.types) && (t.dropEffect = "copy", this._preventAndStop(e), angular.forEach(this.uploader._directives.over, this._addOverClass, this))
					}, u.prototype.onDragLeave = function(e) {
						e.target === this.element[0] && (this._preventAndStop(e), angular.forEach(this.uploader._directives.over, this._removeOverClass, this))
					}, u.prototype._getTransfer = function(e) {
						return e.dataTransfer ? e.dataTransfer : e.originalEvent.dataTransfer
					}, u.prototype._preventAndStop = function(e) {
						e.preventDefault(), e.stopPropagation()
					}, u.prototype._haveFiles = function(e) {
						return e ? e.indexOf ? -1 !== e.indexOf("Files") : e.contains ? e.contains("Files") : !1 : !1
					}, u.prototype._addOverClass = function(e) {
						e.addOverClass()
					}, u.prototype._removeOverClass = function(e) {
						e.removeOverClass()
					}, i.inherit(d, p), d.prototype.events = {
						$destroy: "destroy"
					}, d.prototype.prop = "over", d.prototype.overClass = "nv-file-over", d.prototype.addOverClass = function() {
						this.element.addClass(this.getOverClass())
					}, d.prototype.removeOverClass = function() {
						this.element.removeClass(this.getOverClass())
					}, d.prototype.getOverClass = function() {
						return this.overClass
					}, i
				}
			]).directive("nvFileSelect", ["$parse", "FileUploader",
				function(e, t) {
					return {
						link: function(o, r, n) {
							var i = o.$eval(n.uploader);
							if (!(i instanceof t)) throw new TypeError('"Uploader" must be an instance of FileUploader');
							var s = new t.FileSelect({
								uploader: i,
								element: r
							});
							s.getOptions = e(n.options).bind(s, o), s.getFilters = function() {
								return n.filters
							}
						}
					}
				}
			]).directive("nvFileDrop", ["$parse", "FileUploader",
				function(e, t) {
					return {
						link: function(o, r, n) {
							var i = o.$eval(n.uploader);
							if (!(i instanceof t)) throw new TypeError('"Uploader" must be an instance of FileUploader');
							if (i.isHTML5) {
								var s = new t.FileDrop({
									uploader: i,
									element: r
								});
								s.getOptions = e(n.options).bind(s, o), s.getFilters = function() {
									return n.filters
								}
							}
						}
					}
				}
			]).directive("nvFileOver", ["FileUploader",
				function(e) {
					return {
						link: function(t, o, r) {
							var n = t.$eval(r.uploader);
							if (!(n instanceof e)) throw new TypeError('"Uploader" must be an instance of FileUploader');
							var i = new e.FileOver({
								uploader: n,
								element: o
							});
							i.getOverClass = function() {
								return r.overClass || this.overClass
							}
						}
					}
				}
			]);


		}, {}
	],
	85: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.widget.avatar",
				localLog = require("../../../service/log/localLog");
			require("./avatarGroup"), require("./avatarSingle"), require("../../../service/widget/avatar"), require("../../../service/user/userManager"), require("../../../service/modal/profileModal");
			var app = angular.module(moduleName, ["ddWeb.widget.avatarGroup", "ddWeb.widget.avatarSingle", "ddWeb.service.avatar", "ddWeb.user.userManager", "ddWeb.service.profileModal", require("../../../service/user/UserType"), require("../../../service/widget/avatarExplainer"), require("../../../service/widget/groupAvatarExplainer")]);
			app.directive("ddAvatar", ["avatarService", "userManager", "profileModalService", "UserType", "avatarExplainer", "groupAvatarExplainer",
				function(i, e, n, r, a, o) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							mediaid: "=mediaid",
							uid: "=uid",
							icon: "=icon",
							extension: "=?extension",
							nick: "=nick",
							name: "=name",
							tag: "=tag",
							isShowModal: "=isShowModal"
						},
						link: function(i, d, t) {
							function c(e) {
								i.isSingle = e, i.isGroup = !e
							}
							i._uid = void 0, i._nick = void 0, i._name = void 0, i._mediaid = void 0, i._icon = void 0, i._groupIcon = void 0, i.isSingle = !1, i.isGroup = !1, (i.mediaid || i.nick || i.name) && c(!0);
							var u = a;
							i.$watch("icon", function(n) {
								if (n) {
									var r = u.getUids(n);
									e.getUsers(r).then(function(e) {
										if (1 === e.length) {
											if (c(!0), i._uid = r[0], !e[0]) {
												var a = u.getIcons(n);
												i._mediaid = a[0].mediaId, i._nick = a[0].nick, localLog.error("get user fail :" + JSON.stringify(r) + ":" + JSON.stringify(e))
											}
										} else c(!1), i._icon = r, localLog.error("get user fail :" + JSON.stringify(r) + ":" + JSON.stringify(e))
									}, function(i) {
										console.log(i)
									})
								}
							}), i.$watch(function() {
								return i.uid || i.nick || i.name || i.mediaid
							}, function(e) {
								e && (c(!0), i._uid = i.uid, i._nick = i.nick, i._name = i.name, i._mediaid = i.mediaid)
							}), i.$watch(function() {
								return i.extension = i.extension || {}, i.extension.icon + i.extension.use_enterprise_icon
							}, function() {
								i._groupIcon = o.getGroupAvatarByGroupExtension(i.extension)
							}), i.isShowModal && i.uid && d.on("click", function() {
								e.getUsers([i.uid]).then(function(e) {
									e[0].userProfileModel.type === r.ORDINARY_USER && n(i.uid)
								})
							}), d.on("$destroy", function() {
								d.off("click")
							})
						},
						template: '<div class="avatar" ng-class="{\'single-chat\' : isSingle, \'group\' : !isSingle, \'three\':!isSingle && _icon.length===3}">\n	<!-- 单人头像 -->\n	<div dd-avatar-single mediaid="_mediaid" uid="_uid" name="_name" nick="_nick" ng-if="isSingle"></div>\n	<!-- 多人头像 -->\n	<div dd-avatar-group icon="_icon" tag="tag" group-icon="_groupIcon" ng-if="isGroup"></div>\n</div>\n'
					}
				}
			]);


		}, {
			"../../../service/log/localLog": 259,
			"../../../service/modal/profileModal": 289,
			"../../../service/user/UserType": 399,
			"../../../service/user/userManager": 404,
			"../../../service/widget/avatar": 409,
			"../../../service/widget/avatarExplainer": 410,
			"../../../service/widget/groupAvatarExplainer": 414,
			"./avatarGroup": 86,
			"./avatarSingle": 87,
			"path": 5
		}
	],
	86: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.widget.avatarGroup";
			require("../../../service/widget/avatar"), require("../../../service/user/userManager");
			var app = angular.module(moduleName, ["ddWeb.service.avatar", "ddWeb.user.userManager", require("../../log/imgErrorLog")]);
			app.directive("ddAvatarGroup", ["avatarService", "userManager",
				function(r, e) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							icon: "=icon",
							tag: "=tag",
							groupIcon: "=groupIcon"
						},
						link: function(a, o, n) {
							function i(e) {
								a.users = e.map(function(e) {
									var a = e ? r.getShowName(e.userProfileModel.nick, e.userProfileModel.name) : "";
									return {
										user: e,
										showName: a,
										bgColor: {
											"background-color": r.getColor(a)
										}
									}
								})
							}
							a.users = [];
							var t = null,
								u = a.$watch("icon", function(r) {
									r && e.getUsers(a.icon).then(function(r) {
										t = a.$watch(function() {
											return r
										}, function(r) {
											r && i(r)
										}, !0)
									})
								});
							o.on("$destroy", function() {
								u && u(), t && t()
							})
						},
						template: '<div>\n    <div class="avatar group-avatar" ng-if="groupIcon">\n        <img img-error-log ng-src="{{ groupIcon }}">\n    </div>\n    <div class="avatar group-member" ng-repeat="item in users" ng-style="item.bgColor" ng-if="!groupIcon">\n        <div class="avatar-text" ng-if="!item.user.userProfileModel.avatarUrl" ng-bind-html="item.showName|emoj"></div>\n        <img img-error-log ng-src="{{item.user.userProfileModel.avatarUrl}}">\n    </div>\n</div>\n',
						controllerAs: "avatar"
					}
				}
			]);


		}, {
			"../../../service/user/userManager": 404,
			"../../../service/widget/avatar": 409,
			"../../log/imgErrorLog": 64,
			"path": 5
		}
	],
	87: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.widget.avatarSingle";
			require("../../../service/widget/avatar"), require("../../../service/user/userManager"), require("../../../service/mediaId/mediaId");
			var app = angular.module(moduleName, ["ddWeb.service.avatar", "ddWeb.user.userManager", "ddWeb.mediaId", require("../../log/imgErrorLog")]);
			app.directive("ddAvatarSingle", ["avatarService", "userManager", "mediaId",
				function(e, r, i) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							mediaid: "=mediaid",
							uid: "=uid",
							nick: "=nick",
							name: "=name"
						},
						link: function(a, d, n) {
							function l() {
								if (a.uid) r.getUsers([a.uid]).then(function(e) {
									if (0 !== e.length && e[0]) {
										var r = e[0];
										u = a.$watch(function() {
											return r.userProfileModel.avatarUrl || r.userProfileModel.nick || r.userProfileModel.name
										}, function(e) {
											e && o({
												url: r.userProfileModel.avatarUrl,
												nick: r.userProfileModel.nick,
												name: r.userProfileModel.name
											})
										})
									}
								});
								else {
									var e = a.mediaid ? i.mid2Url(a.mediaid, {
										imageSize: "thumb"
									}) : void 0;
									o({
										url: e,
										nick: a.nick,
										name: a.name
									})
								}
							}

							function o(r) {
								r.url ? (a.hasUrl = !0, a.url = r.url) : (a.hasUrl = !1, a.showName = e.getShowName(r.nick, r.name), a.style = {
									"background-color": e.getColor(a.showName)
								})
							}
							a.style = {}, a.hasUrl = !1, a.showName = "", a.url = "";
							var u = void 0;
							if (a.mediaid || a.nick || a.name) {
								var t = a.mediaid ? i.mid2Url(a.mediaid, {
									imageSize: "thumb"
								}) : void 0;
								o({
									url: t,
									nick: a.nick,
									name: a.name
								})
							}
							a.$watch("uid", function(e) {
								l()
							}), d.on("$destroy", function() {
								u && u()
							})
						},
						template: '<div ng-style="style">\n    <img img-error-log ng-if="hasUrl" ng-src="{{url}}" />\n    <div ng-if="!hasUrl" ng-bind-html="showName|emoj" class="avatar-text"></div>\n</div>',
						controllerAs: "avatar"
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../service/mediaId/mediaId": 267,
			"../../../service/user/userManager": 404,
			"../../../service/widget/avatar": 409,
			"../../log/imgErrorLog": 64,
			"path": 5
		}
	],
	88: [
		function(require, module, exports) {
			angular.module("ddWeb.widget.bindFocus", [require("../../service/events")]).directive("bindFocus", ["$rootScope", "EVENTS",
				function(i, n) {
					return {
						restrict: "AE",
						link: function(c, e, o) {
							var t = null;
							e.on("click", function() {
								t || (t = e.find(".select2-input.ui-select-search"), e.animate({
									width: 272
								}, 200, function() {
									e.css("overflow", "visible")
								}), t.on("focus", function() {
									e.animate({
										width: 272
									}, 200, function() {
										e.css("overflow", "visible")
									})
								}), t.on("blur", function(i) {
									"block" === $(".ui-select-choices").css("display") ? setTimeout(function() {
										e.animate({
											width: 204
										}, 200, function() {
											e.css("overflow", "hidden")
										})
									}, 300) : e.animate({
										width: 204
									}, 200, function() {
										e.css("overflow", "hidden")
									})
								}), t.focus())
							}), i.$on(n.SEARCH_ACTIVE, function() {
								t ? t.focus() : e.click()
							})
						}
					}
				}
			]);


		}, {
			"../../service/events": 221
		}
	],
	89: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/events"), require("../../filter/departNameFilter");
			var app = angular.module("ddWeb.widget.breadcrumbs", ["ddWeb.events", "ddWeb.filter.departNameFilter"]);
			app.directive("breadcrumbs", ["$rootScope", "EVENTS",
				function(e, t) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							masterList: "=masterList",
							changeDept: "=changeDept"
						},
						controller: ["$scope",
							function(e) {
								function t() {
									r.masterNodeList = e.masterList
								}
								var r = this;
								t(), this.changeDept = function(t) {
									e.changeDept(t)
								}, e.$watch(function() {
									return e.masterList
								}, function(e) {
									r.masterNodeList = e
								})
							}
						],
						link: function(e, t, r) {},
						controllerAs: "breadcrumbs",
						template: '<ul class="breadcrumb-wrapper">\r\n    <li class="breadcrumb" ng-repeat="item in breadcrumbs.masterNodeList">\r\n        <a ng-if="!$last && item.detail.nodeType==1" href="#" ng-click=\'breadcrumbs.changeDept(item);\'>{{item.detail.employee.orgUserName}}</a>\r\n      <span ng-if="$last && item.detail.nodeType==1">{{item.detail.employee.orgUserName}}</span>\r\n      <a ng-if="!$last && item.detail.nodeType==0" href="#" ng-click=\'breadcrumbs.changeDept(item);\'>{{item.detail.dept.deptName|departNameFilter}}</a>\r\n      <span ng-if="$last &&item.detail.nodeType==0">{{item.detail.dept.deptName|departNameFilter}}</span>\r\n    </li>\r\n</ul>\r\n'
					}
				}
			]);


		}, {
			"../../filter/departNameFilter": 114,
			"../../service/events": 221,
			"path": 5
		}
	],
	90: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.checkbox";
			angular.module(moduleName, []).directive("ddCheckbox", function() {
				return {
					restrict: "A",
					scope: {
						model: "=ngModel",
						checked: "=checked",
						unchecked: "=unchecked"
					},
					link: function(e, c, d, o) {
						function n() {
							e.model ? c.addClass("checked") : c.removeClass("checked")
						}
						c.on("click", function() {
							e.$apply(function() {
								1 == e.model ? (e.unchecked && e.unchecked(), e.model = !1) : (e.checked && e.checked(), e.model = !0)
							}), n()
						}), e.$watch("model", function(e) {
							n()
						}), e.$on("$destroy", function() {
							c.off("click")
						})
					}
				}
			}), module.exports = moduleName;


		}, {}
	],
	91: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.cloudDisk",
				localLog = require("../../service/log/localLog"),
				app = angular.module(moduleName, [require("../../service/microApp/space"), require("../../service/microApp/appList"), require("../../service/openWindow/openWindow"), require("@ali/ding-api")["interface"].AlimeiTicket]);
			app.directive("cloudDisk", ["spaceApp", "$OpenWindow", "AlimeiTicket", "appList",
				function(e, i, o, c) {
					return {
						restrict: "E",
						replace: !0,
						link: function(s, t, r) {
							e.hasPermission().then(function(e) {
								s.isShowCloudDisk = e
							}), t.on("click", ".extra-item-box", function() {
								var e = new i;
								o.getLink(c.space.id + "", "", function(i) {
									200 === i.code ? (e.resolve(i.body), localLog.info("get space ticket success ")) : localLog.error("get space ticket failure : " + JSON.stringify(i))
								})
							}), s.isShowFont = !0
						},
						template: ['<li class="cloud-drive extra-item" ng-show="isShowCloudDisk" log="tab_space_click">', '<div class="extra-item-box"><i class="iconfont">&#xe660;</i><span class="font" ng-if="isShowFont">钉盘</span></div>', "</li>"].join("")
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/log/localLog": 259,
			"../../service/microApp/appList": 268,
			"../../service/microApp/space": 273,
			"../../service/openWindow/openWindow": 335,
			"@ali/ding-api": 453
		}
	],
	92: [
		function(require, module, exports) {
			require("../../service/widget/contextMenu"), require("../../service/events"), angular.module("ddWeb.widget.contextMenu", ["ddWeb.service.contextMenu", "ddWeb.events"]).directive("contextMenu", ["$rootScope", "$compile", "$document", "contextMenuService", "EVENTS",
				function(e, t, n, u, m) {
					return {
						restrict: "AE",
						scope: {
							menuData: "@",
							menuItems: "@",
							menuItemGet: "=",
							menuItemClick: "=",
							menuItemDisabled: "@"
						},
						link: function(t, n, m) {
							n.addClass("context-menu"), n.bind("contextmenu", function(i) {
								t.menuItemDisabled || (i.preventDefault(), i.stopPropagation(), e.$apply(function() {
									u.show({
										element: n,
										attrs: m,
										eventObj: i,
										menuData: t.menuData,
										menuItems: t.menuItems,
										menuItemGet: t.menuItemGet,
										menuItemClick: t.menuItemClick,
										menuItemDisabled: t.menuItemDisabled
									})
								}))
							}), t.$on("$destroy", function() {
								n.unbind("contextmenu")
							})
						}
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/widget/contextMenu": 411
		}
	],
	93: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.countdown",
				app = angular.module(moduleName, []);
			app.directive("countdown", ["$interval", "$parse",
				function(e, t) {
					return {
						restrict: "E",
						replace: !0,
						scope: {
							countFrom: "=countFrom",
							onTimeout: "&onTimeout"
						},
						template: '<div class="send-form-button-mask">{{timeout}} s</div>',
						controller: ["$scope",
							function(t) {
								var o = null;
								t.$watch("countFrom", function(n) {
									if (n && !isNaN(parseInt(n))) {
										var u = parseInt(n);
										t.timeout = u, e.cancel(o), o = e(function() {
											t.timeout--, 0 === t.timeout && (e.cancel(o), t.onTimeout())
										}, 1e3)
									} else t.timeout = 0
								}), t.$on("$destroy", function() {
									e.cancel(o)
								})
							}
						]
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	94: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.dd-dropdown",
				ddDropDown = angular.module(moduleName, []);
			ddDropDown.directive("ddDropDownChoices", ["$compile",
				function(e) {
					return {
						restrict: "AE",
						transclude: !0,
						replace: !0,
						require: "^ddDropDown",
						template: '<div class="dd-dropdown-choices"><div class="tri"><div class="tri-border tb-border"></div><div class="tri-border tb-back"></div></div><ul class="menus"><li class="dd-dropdown-choices-row menu"><div class="dd-dropdown-choices-row-inner"></div></li></ul></div>',
						controller: ["$scope",
							function(e) {}
						],
						controllerAs: "ddDropDownChoices",
						compile: function(o, n) {
							return function(o, n, t, d, r) {
								o.ddDropDownCtrl = d;
								var c = o.ddDropDownChoices;
								c.onSelect = function(e, o) {
									e.stopPropagation(), d.open = !d.open, d.$selectItem = o, d.onSelect && d.onSelect(o)
								};
								var l = n.querySelectorAll(".dd-dropdown-choices-row"),
									i = n.querySelectorAll(".dd-dropdown-choices-row-inner");
								l.attr("ng-repeat", "$repeatItem in ddDropDownCtrl.repeatData").attr("ng-click", "ddDropDownChoices.onSelect($event,$repeatItem)"), r(o, function(e) {
									i.append(e), o.$on("$destroy", function() {
										e.remove()
									})
								}), e(n, r)(o)
							}
						}
					}
				}
			]).directive("ddDropDownMatch", ["$compile",
				function(e) {
					return {
						restrict: "AE",
						transclude: !0,
						replace: !0,
						require: "^ddDropDown",
						template: '<div class="dd-dropdown-match"></div>',
						controller: ["$scope",
							function(e) {}
						],
						controllerAs: "ddDropDownMatch",
						compile: function(e, o) {
							return function(e, o, n, t, d) {
								e.ddDropDownMatch;
								d(e, function(e) {
									o.append(e)
								});
								var r = n.toOpenEl,
									c = null;
								r ? (c = o.find(".to-open-el"), o.on("click.toOpenEl", function() {
									t.onSelect && t.onSelect(t.$selectItem);
									try {
										e.$digest()
									} catch (o) {}
								})) : c = o, c.on("click.ddDropDownMatch", function() {
									t.open = !t.open;
									try {
										e.$digest()
									} catch (o) {}
									return !1
								}), e.$on("$destroy", function() {
									c.off("click"), o.off("click")
								}), e.$watch(function() {
									return t.$selectItem
								}, function(o) {
									e.$selectItem = o
								})
							}
						}
					}
				}
			]).directive("ddDropDown", ["$document",
				function(e) {
					return {
						restrict: "AE",
						transclude: !0,
						replace: !0,
						template: '<div class="dd-dropdown dropdown" ng-class="{\'active\':ddDropDownCtrl.open}"><div class="dd-dropdown-match"></div><div class="dd-dropdown-choices"></div></div>',
						controller: ["$scope",
							function(e) {
								this.open = !1
							}
						],
						controllerAs: "ddDropDownCtrl",
						scope: {
							repeatData: "=repeatData",
							onSelect: "=onSelect",
							ngModel: "=ngModel"
						},
						compile: function(o, n) {
							return function(o, n, t, d, r) {
								var c = o.ddDropDownCtrl;
								c.repeatData = o.repeatData, c.onSelect = o.onSelect, c.$selectItem = o.ngModel, r(o, function(e) {
									var o = angular.element("<div>").append(e),
										t = o.querySelectorAll(".dd-dropdown-match");
									n.querySelectorAll(".dd-dropdown-match").replaceWith(t);
									var d = o.querySelectorAll(".dd-dropdown-choices");
									n.querySelectorAll(".dd-dropdown-choices").replaceWith(d)
								}), e.on("click.ddDropdown", function(e) {
									var t = $(e.target);
									0 === t.closest(n).length && (c.open = !1), o.$digest()
								}), o.$on("$destroy", function() {
									e.off("click.ddDropdown")
								}), o.$watch(function() {
									return c.$selectItem
								}, function(e) {
									o.ngModel = e
								})
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	95: [
		function(require, module, exports) {
			var moduleName = "ddWeb.widget.ddClickUrl",
				directiveName = "ddClickUrl",
				ua = require("../../service/ua");
			angular.module(moduleName, []).directive(directiveName, [
				function() {
					return {
						restrict: "AE",
						link: function(e, t) {
							var r = function(e, t) {
								if (ua.isNw && !(!e instanceof HTMLAnchorElement)) {
									var r = $(e).attr("href"),
										i = $(e).attr("download");
									if (!r || "http" !== r.slice(0, 4) && "//" !== r.slice(0, 2) && "mailto:" !== r.slice(0, 7)) return void t.preventDefault();
									if (!i && r) {
										t.preventDefault();
										var a = _nwrequire("nw.gui");
										a.Shell.openExternal(r)
									}
								}
							};
							t[0] && t[0].addEventListener("click", function(e) {
								if (e.target)
									if (e.target instanceof HTMLAnchorElement) r(e.target, e);
									else {
										var t = $(e.target),
											i = t.closest("a");
										i && i[0] && r(i[0], e)
									}
							}, !1)
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/ua": 390
		}
	],
	96: [
		function(require, module, exports) {
			var moduleName = "ddWeb.widget.ddCopy",
				ua = require("../../service/ua"),
				app = angular.module(moduleName, [require("../../service/mediaId/mediaId")]);
			app.directive("ddCopy", ["mediaId",
				function(e) {
					return {
						restrict: "AE",
						link: function(t, a, i) {
							$(document).on("copy.ddCopy", function(t) {
								var a = t.target;
								if ("IMG" === a.nodeName) {
									if (ua.isNw) {
										var i = $(a).attr("src"),
											r = i.split("/").pop(),
											d = e.url2Mid(i),
											o = d && "@" === d[0];
										o && e !== r && (t.preventDefault(), t.originalEvent.clipboardData.setData("mediaid", d), t.originalEvent.clipboardData.setData("text/html", '<img src="https:' + i + '"/>'))
									}
								} else ua.isNw && setTimeout(function() {
									var e = _nwrequire("nw.gui"),
										t = e.Clipboard.get(),
										a = t.get("text");
									t.clear(), t.set(a, "text")
								}, 10)
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/mediaId/mediaId": 267,
			"../../service/ua": 390
		}
	],
	97: [
		function(require, module, exports) {
			angular.module("ddWeb.widget.dropdown", []).directive("semanticDropdown", ["$timeout",
				function(n) {
					return {
						restrict: "A",
						scope: {
							action: "@"
						},
						link: function(t, o, i) {
							n(function() {
								o.dropdown({
									action: t.action || "activate"
								})
							}, 0)
						}
					}
				}
			]);


		}, {}
	],
	98: [
		function(require, module, exports) {
			var path = require("path");
			require("../../service/toast/toast"), require("../../filter/emoj"), angular.module("ddWeb.widget.editBar", ["ddWeb.toast", "ddWeb.filter.emoj"]).directive("editBar", ["$timeout", "toastService",
				function(t, i) {
					return {
						restrict: "AE",
						scope: {
							customValue: "=customValue",
							saveAction: "=saveAction",
							defaultValue: "=defaultValue",
							isEditBarOpen: "=isEditBarOpen"
						},
						controller: ["$scope",
							function(t) {}
						],
						link: function(e, a, n) {
							function s() {
								var a = {};
								if (!l.isSaving) {
									if (l.toEditValue.length > 20) return void i.show("备注名不能超过20个字符", {
										type: "error"
									});
									l.isSaving = !0, a.value = l.toEditValue, e.saveAction ? e.saveAction(a).then(function() {
										l.isSaving = !1, t(function() {
											l.isEdit = !1, e.isEditBarOpen = !1
										}, 0)
									}, function() {
										l.isSaving = !1
									}) : (l.isEdit = !1, l.isSaving = !1)
								}
							}

							function r() {
								l.isEdit = !0, e.isEditBarOpen = !0
							}
							var l = e.editBarCtrl;
							l.isEdit = !1, l.shownValue = "", l.isSaving = !1, e.defaultValue && (l.toEditValue = e.defaultValue), e.customValue && (l.shownValue = e.customValue, l.toEditValue = e.customValue), l.saveAction = s, l.editAction = r, e.$watch(function() {
								return e.customValue
							}, function(t) {
								l.shownValue = t
							})
						},
						controllerAs: "editBarCtrl",
						template: '<span class="alias" ng-bind-html="editBarCtrl.shownValue|emoj" ng-if="!editBarCtrl.isEdit"></span>\n<a href="javascript:;" ng-click="editBarCtrl.editAction($event)" ng-if="!editBarCtrl.isEdit"><i class="iconfont icon-modify-alias">&#xe62a;</i></a>\n<input ng-if="editBarCtrl.isEdit" type="text" class="input alias-input" ng-model="editBarCtrl.toEditValue"  focus="\'true\'">\n<button class="small alias-button edit-bar-confirm-btn" ng-click="editBarCtrl.saveAction($event)" ng-if="editBarCtrl.isEdit"><span ng-if="editBarCtrl.isSaving">确认中</span><span ng-if="!editBarCtrl.isSaving">确认</span>\n</button>\n'
					}
				}
			]);


		}, {
			"../../filter/emoj": 115,
			"../../service/toast/toast": 378,
			"path": 5
		}
	],
	99: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.email",
				ua = require("../../service/ua");
			require("../../service/app/nw");
			var path = require("path");
			angular.module(moduleName, ["ddWeb.nw", require("../../service/microApp/appList"), require("../../service/events"), require("../../service/widget/emailOpenService"), require("@ali/ding-api")["interface"].UserI]).directive("orgEmail", ["nw", "appList", "EVENTS", "emailOpenService", "UserI",
				function(e, i, n, a, o) {
					return {
						restrict: "E",
						replace: !0,
						scope: {},
						link: function(e, i, r) {
							function s() {
								o.isSubscribeEmail(function(i) {
									200 === i.code ? e.isShowEmail = i.body : e.isShowEmail = !1
								})
							}
							e.emailConv = null, s(), e.$on(n.SHOW_EMAIL, function(i, n) {
								e.emailConv = n
							}), i.on("click", ".extra-item-box", function() {
								a.openEmail(), e.emailConv && (e.emailConv.active(), e.emailConv.deactive()), e.$digest()
							}), i.one("$destroy", function() {
								i.off()
							}), e.isShowFont = !0
						},
						template: '<li ng-show="isShowEmail" class="extra-item org-email" log="tab_mail_click">\n    <div class="extra-item-box">\n        <i class="iconfont">&#xe64c;</i><span class="unread-num" ng-if="emailConv.newMsg > 0 "><em>{{emailConv.newMsg}}</em></span><span class="font" ng-if="isShowFont">钉邮</span>\n    </div>\n</li>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/app/nw": 161,
			"../../service/events": 221,
			"../../service/microApp/appList": 268,
			"../../service/ua": 390,
			"../../service/widget/emailOpenService": 413,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	100: [
		function(require, module, exports) {
			var app = angular.module("ddWeb.widget.focus", []);
			app.directive("focus", ["$parse", "$timeout",
				function(n, t) {
					return {
						restrict: "A",
						scope: {
							focus: "=focus"
						},
						link: function(n, o, u) {
							n.$watch(function(n) {
								return n.focus
							}, function(n) {
								n && t(function() {
									o[0].focus();
									var n = o.val().length;
									o[0].setSelectionRange(n, n)
								}, 20)
							}, !0), o.bind("blur", function() {
								n.focus = !1, setTimeout(function() {
									n.$digest()
								})
							}), n.$on("$destroy", function() {
								o.off("blur")
							})
						}
					}
				}
			]);


		}, {}
	],
	101: [
		function(require, module, exports) {
			var INTEGER_REGEXP = /^\-?\d+$/,
				app = angular.module("ddWeb.widget.formValidation", []);
			app.directive("formNumber", function() {
				return {
					restrict: "A",
					require: "^ngModel",
					link: function(t, e, i, n) {
						var r = 1 * i.length;
						n.$parsers.unshift(function(t) {
							return t.length != r ? n.$setValidity("length", !1) : n.$setValidity("length", !0), INTEGER_REGEXP.test(t) ? (n.$setValidity("number", !0), t) : void n.$setValidity("number", !1)
						})
					}
				}
			});


		}, {}
	],
	102: [
		function(require, module, exports) {
			"use strict";
			require("./hoverTip");
			var path = require("path"),
				moduleName = "ddWeb.widget.hotkey",
				ua = require("../../service/ua"),
				app = angular.module(moduleName, ["ddWeb.widget.hoverTip", require("../../service/widget/hotkeyManager")]);
			app.directive("hotkey", ["hotkeyManager",
				function(e) {
					return {
						restrict: "E",
						scope: {
							identifier: "@",
							hotkeySetting: "="
						},
						controller: [
							function() {
								this.hintText = "请定义快捷键"
							}
						],
						link: function(t, n, o, i) {
							function r(e) {
								return e[0].toUpperCase() + e.slice(1)
							}

							function l(e) {
								var t = e.ctrlKey || e.altKey || e.shiftKey;
								return ua.isMac ? u(e) || t : t
							}

							function u(e) {
								return e.metaKey && !e.ctrlKey
							}

							function a(e) {
								return e.ctrlKey
							}
							var c = {
								33: "pageup",
								34: "pagedown",
								35: "end",
								36: "home",
								37: "left",
								38: "up",
								39: "right",
								40: "down",
								45: "insert",
								46: "delete",
								48: "0",
								49: "1",
								50: "2",
								51: "3",
								52: "4",
								53: "5",
								54: "6",
								55: "7",
								56: "8",
								57: "9",
								65: "a",
								66: "b",
								67: "c",
								68: "d",
								69: "e",
								70: "f",
								71: "g",
								72: "h",
								73: "i",
								74: "j",
								75: "k",
								76: "l",
								77: "m",
								78: "n",
								79: "o",
								80: "p",
								81: "q",
								82: "r",
								83: "s",
								84: "t",
								85: "u",
								86: "v",
								87: "w",
								88: "x",
								89: "y",
								90: "z"
							}, h = function(e) {
									return !l(e) && !c[e.keyCode]
								}, y = function(e) {
									return c[e.keyCode] && !l(e)
								}, f = function(e) {
									var t = "";
									return a(e) ? t += "Ctrl+" : u(e) && (t += "Command+"), e.altKey && (t += "Alt+"), e.shiftKey && (t += "Shift+"), c[e.keyCode] && (t += r(c[e.keyCode])), t
								}, s = function(e) {
									return e && e.length > 0 && "+" !== e.slice(-1)
								}, k = n.find("input"),
								d = t.identifier,
								p = e.getHotkey(d);
							i.hotkey = p, i.hasKey = function() {
								return k.val().length > 0
							}, i.clear = function() {
								t.hotkeySetting = ""
							}, i.setHotkey = function(e) {
								var n = p.value;
								t.hotkeySetting = "", k.on("keydown.hotkey", function(e) {
									e.preventDefault(), h(e) || y(e) || (t.hotkeySetting = f(e), t.$apply())
								}), k.on("keyup.hotkey", function(e) {
									e.preventDefault(), s(t.hotkeySetting) || (t.hotkeySetting = n), t.$apply()
								})
							}, i.finish = function() {
								k.off("keydown.hotkey"), k.off("keyup.hotkey")
							}
						},
						controllerAs: "hotkeyController",
						template: '<div class="setting-item active-window-item">\n    <span class="rem" >{{hotkeyController.hotkey.keyInfo}}</span>\n    <div class="cleaning-input">\n        <input identifier="{{identifier}}" class="input window-shortcuts" placeholder="{{hotkeyController.hintText}}" ng-model="hotkeySetting" ng-focus="hotkeyController.setHotkey($event)" ng-blur="hotkeyController.finish();"/>\n        <a href="javascript:;"><i class="iconfont icon-clean-input"  htitle="清空快捷键" htitle-offset="left" ng-show="hotkeyController.hasKey()" ng-click="hotkeyController.clear()">&#xe632;</i></a>\n    </div>\n</div>\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/ua": 390,
			"../../service/widget/hotkeyManager": 415,
			"./hoverTip": 104,
			"path": 5
		}
	],
	103: [
		function(require, module, exports) {
			var app = angular.module("ddWeb.hoverAnimate", []);
			app.directive("hoverAnimate", ["$timeout",
				function(e) {
					return {
						restrict: "AE",
						link: function(e, t, n) {
							var i = n.hoverAnimate,
								o = $(i),
								c = null,
								u = null;
							t.hover(function() {
								clearTimeout(u), o.css({
									zIndex: 10
								}), c = setTimeout(function() {
									o.css({
										left: -220,
										opacity: 1
									})
								}, 120)
							}, function() {
								clearTimeout(c), o.css({
									left: -150,
									opacity: 0
								}), u = setTimeout(function() {
									o.css({
										zIndex: -2
									})
								}, 500)
							})
						}
					}
				}
			]);


		}, {}
	],
	104: [
		function(require, module, exports) {
			angular.module("ddWeb.widget.hoverTip", []).directive("htitle", ["$filter",
				function(t) {
					return {
						restrict: "A",
						link: function(e, i, r) {
							var o = (r.htitileshow, {
								formatter: function(e) {
									return t("emoj")(e.$target.attr("htitle"))
								},
								horiOffset: r.htitleOffset ? r.htitleOffset : "right"
							});
							r.htitleDirection && (o.direction = r.htitleDirection), i.tipper(o);
							var n = e.$watch(r.htitleshow, function(t) {
								t === !1 && i.tipper("destroy"), n()
							});
							i.one("$destroy", function() {
								i.tipper("destroy")
							})
						}
					}
				}
			]);


		}, {}
	],
	105: [
		function(require, module, exports) {
			var moduleName = "ddWeb.widget.loading",
				path = require("path");
			angular.module(moduleName, []).directive("loading", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							position: "=position"
						},
						link: function(o, n, e) {},
						controllerAs: "loading",
						template: '<span class="loading" ng-class="{\'on-top\':position===\'top\',\'on-bottom\':position===\'bottom\'}">\n    <div class="bounce1"></div>\n    <div class="bounce2"></div>\n    <div class="bounce3"></div>\n</span>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"path": 5
		}
	],
	106: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.widget.phoneInput";
			require("./dd-dropdown/dd-dropdown"), require("../../service/widget/countryService"), require("./focus");
			var app = angular.module(moduleName, ["ddWeb.widget.dd-dropdown", "ddWeb.service.countryService", "ddWeb.widget.focus"]);
			app.directive("phoneInput", ["$timeout", "countryService",
				function(n, e) {
					return {
						restrict: "AE",
						scope: {
							phone: "=phone",
							focusOn: "=focusOn",
							countryKey: "=countryKey",
							onChange: "&onChange"
						},
						link: function(n, e, o, t) {
							var r = e.find("input");
							r.on("blur.phoneInput", function() {
								t.triggerChange(), n.$apply()
							}), r.on("input.phoneInput", function(e) {
								t.triggerChange(), n.$apply()
							}), e.on("$destroy", function() {
								r.off("blur.phoneInput"), r.off("input.phoneInput")
							})
						},
						controller: ["$scope",
							function(n) {
								n.countdownstart = void 0 === n.countdownstart ? !1 : n.countdownstart;
								var o = this;
								o.telephone = n.phone, o.focusOn = !! n.focusOn, o.countryData = e.getAllCountryData(), n.countryKey ? o.currentCountry = e.getCountryByNameOrCode(n.countryKey) : o.currentCountry = o.countryData[0], o.onSelect = function(e) {
									n.countryKey = e.countryKey, o.triggerChange()
								}, o.triggerChange = function() {
									n.phone = o.telephone;
									var t = isValidNumber(e.getCodeByName(n.countryKey) + "-" + n.phone);
									n.onChange({
										data: {
											phone: n.phone,
											countryKey: n.countryKey,
											isValid: t
										}
									})
								}
							}
						],
						controllerAs: "phoneInput",
						template: '<dd-drop-down\r\n    class="select-country"\r\n    repeat-data="phoneInput.countryData"\r\n    on-select="phoneInput.onSelect"\r\n    ng-model="phoneInput.currentCountry"\r\n    >\r\n    <dd-drop-down-match class="eye selected-country">\r\n        <img ng-src="{{$selectItem.flagSrc}}" class="country-img" alt="" />\r\n        <span class="country-code">{{$selectItem.countryCode}}</span>\r\n        <i class="iconfont">&#xe633;</i>\r\n    </dd-drop-down-match>\r\n    <dd-drop-down-choices>\r\n        <span class="country-name">{{$repeatItem.countryName}}</span>\r\n        <span class="country-code">{{$repeatItem.countryCode}}</span>\r\n    </dd-drop-down-choices>\r\n</dd-drop-down>\r\n\r\n\r\n<input type="text" focus="phoneInput.focusOn" name="telephone" placeholder="请输入手机号" ng-model="phoneInput.telephone" required class="fm-input telephone" />\r\n'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/widget/countryService": 412,
			"./dd-dropdown/dd-dropdown": 94,
			"./focus": 100,
			"path": 5
		}
	],
	107: [
		function(require, module, exports) {
			var app = angular.module("ddWeb.preventDrag", []);
			app.directive("preventDrag", ["$timeout",
				function(e) {
					return {
						restrict: "AE",
						link: function(e, n, t) {
							n.bind("dragover", function(e) {
								e.preventDefault()
							}).bind("dragleave", function(e) {
								e.preventDefault()
							}).bind("drop", function(e) {
								e.preventDefault()
							})
						}
					}
				}
			]);


		}, {}
	],
	108: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.progressBar",
				app = angular.module(moduleName, []);
			app.directive("progressBar", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							progress: "=progress",
							isHideAfterFinish: "=isHideAfterFinish"
						},
						link: function(e, s, i) {
							var r = s.find(".progress-thumb");
							s[0].style.display = "none";
							var t = null;
							e.$watch("progress", function(i) {
								100 !== i && (clearTimeout(t), s[0].style.display = "block"), 0 === i && (r[0].style.width = 0), r.stop().animate({
									width: i + "%"
								}, 150, "linear", function() {
									100 === i && e.isHideAfterFinish && (t = setTimeout(function() {
										s[0].style.display = "none"
									}, 100))
								})
							}), e.$on("$destroy", function() {
								clearTimeout(t)
							})
						},
						template: ['<div class="progress">', '<div class="progress-thumb"></div>', "</div>"].join("")
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	109: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.widget.radiobox";
			angular.module(moduleName, []).directive("ddRadiobox", function() {
				return {
					restrict: "E",
					scope: {
						model: "=ngModel",
						value: "@"
					},
					replace: !0,
					transclude: !0,
					link: function(e, a, d) {},
					template: '<div>\n    <label class="radiobox">\n        <input type="radio" ng-model="model" ng-value="value">\n        <span class="radiobox-input"></span><ng-transclude></ng-transclude>\n    </label>\n</div>\n'
				}
			}), module.exports = moduleName;


		}, {
			"path": 5
		}
	],
	110: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/search/bar/SearchBar"), require("../../service/search/search/SearchType"), require("../../service/search/chatWith"), require("../../service/search/searchMobile"), require("../../filter/emoj"), require("./avatar/avatar"), require("@ali/ui-select"), require("./bindFocus");
			var app = angular.module("ddWeb.widget.searchBar", ["ui.select", "ddWeb.service.SearchBar", "ddWeb.service.SearchType", "ddWeb.widget.avatar", "ddWeb.filter.emoj", "ddWeb.search.chatWith", "ddWeb.search.searchMobile", "ddWeb.widget.bindFocus"]);
			app.directive("searchBar", ["$timeout", "SearchBar", "SearchType", "chatWith", "searchMobile",
				function(e, a, r, t, i) {
					return {
						restrict: "AE",
						scope: {
							placeholder: "@"
						},
						replace: !0,
						controller: ["$scope",
							function(e) {
								var s = new a([r.LOCAL, r.FRIEND, r.ORG, r.GROUP, r.MOBILE]),
									c = this;
								this.selected = [], this.placeholder = e.placeholder, this.isSearching = !1, this.SearchType = r, this.choiceClass = "";
								var n = 0;
								this.search = function(e) {
									c.searchResult = [], c.choiceClass = "", n++, "" !== e.trim() ? (c.isSearching = !0, function(a) {
										s.query(e).then(function(e) {
											a === n && (c.choiceClass = "", c.searchResult = e, c.isSearching = !1)
										}, function(e) {
											a === n && (c.searchResult = e, c.isSearching = !1, c.choiceClass = "system-choice")
										}, function(e) {
											a === n && (c.choiceClass = "", c.searchResult = e)
										})
									}(n)) : c.isSearching = !1
								}, this.onSelect = function(e) {
									e.type !== this.SearchType.SYSTEM && e.type !== this.SearchType.MOBILE && t(e), e.type === this.SearchType.MOBILE && i(e.model.mobile), c.selected = [], c.isSearching = !1, c.searchResult = [], n++
								}, this.getGroupName = function(e) {
									return s.getGroupName(e)
								}
							}
						],
						controllerAs: "searchBarCtrl",
						link: function() {},
						template: '<div class="search-bar-wraper" bind-focus>\n<div class="main-search">\n    <ui-select\n            multiple\n            ng-model="searchBarCtrl.selected"\n            on-select="searchBarCtrl.onSelect($item)"\n            theme="select2">\n        <ui-select-match placeholder="{{searchBarCtrl.placeholder}}"></ui-select-match>\n        <ui-select-choices\n                refresh="searchBarCtrl.search($select.search)"\n                refresh-delay="500"\n                group-by="searchBarCtrl.getGroupName"\n                ng-class="searchBarCtrl.choiceClass"\n                ng-show="searchBarCtrl.searchResult.length !== 0"\n                repeat="item in searchBarCtrl.searchResult">\n            <dd-avatar\n                    ng-if="item.type !== searchBarCtrl.SearchType.SYSTEM&&item.type !== searchBarCtrl.SearchType.MOBILE"\n                    mediaid="item.model.avatarMediaId"\n                    uid="item.model.uid"\n                    nick="item.model.nick"\n                    name="item.model.name"\n                    icon="item.model.icon"\n                    tag="item.model.tag"\n                    extension="item.model.extension"\n                    class="search search-bar-avatar"\n                    >\n            </dd-avatar>\n            <div class="item-text"\n                 ng-if="item.type !== searchBarCtrl.SearchType.SYSTEM&&item.type !== searchBarCtrl.SearchType.MOBILE &&item.type !==  searchBarCtrl.SearchType.ORG"\n                 >\n                <p ng-bind-html="(item.user.remarkNameObj.alias||item.text )| emoj" ng-class="{\'item-text-main\':!!item.user.remarkNameObj.alias}"></p>\n                <p ng-if="item.user.remarkNameObj.alias" class="item-text-small">钉钉昵称:(<span ng-bind-html="item.model.nick|emoj"></span>)</p>\n            </div>\n            <div class="item-text"  ng-if="item.type === searchBarCtrl.SearchType.ORG">\n                <p ng-bind-html="item.text|emoj" class="item-text-main"></p>\n                <p class="item-text-small">{{item.model.dept}}</p>\n            </div>\n            <div ng-if="item.type === searchBarCtrl.SearchType.MOBILE">\n                <i class="iconfont search-tel-icon">&#xe658;</i>\n                <span class="search-tel-text">网络查找手机号：<span>{{item.text}}</span></span>\n            </div>\n            <div class="system-msg"\n                 ng-if="item.type === searchBarCtrl.SearchType.SYSTEM"\n                    >{{item.text}}</div>\n        </ui-select-choices>\n    </ui-select>\n    <i class="search-icon iconfont" ng-if="!searchBarCtrl.isSearching">&#xe604;</i>\n    <i class="search-loading-icon" ng-if="searchBarCtrl.isSearching"></i>\n</div>\n</div>\n'
					}
				}
			]);


		}, {
			"../../filter/emoj": 115,
			"../../service/search/bar/SearchBar": 343,
			"../../service/search/chatWith": 344,
			"../../service/search/search/SearchType": 355,
			"../../service/search/searchMobile": 358,
			"./avatar/avatar": 85,
			"./bindFocus": 88,
			"@ali/ui-select": 460,
			"path": 5
		}
	],
	111: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("../../service/search/bar/SearchBar"), require("../../service/search/search/SearchType"), require("../../service/search/SearchState"), require("../../service/events"), require("../../service/tool/tool");
			var storage = require("../../service/storage/storage");
			require("../../service/toast/toast"), require("../../service/selectorPanel/PanelType"), require("../../service/widget/selectorBar/selectorBarFactory"), require("../../service/widget/selectorBar/selectorBarTool"), require("./avatar/avatar");
			var app = angular.module("ddWeb.widget.selectorBar", ["ui.select2", "ddWeb.service.SearchBar", "ddWeb.service.SearchType", "ddWeb.service.SearchState", "ddWeb.events", "ddWeb.service.tool", "ddWeb.widget.avatar", "ddWeb.toast", "ddWeb.service.PanelType", "ddWeb.service.selectorBarFactory", "ddWeb.service.selectorBarTool", require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]);
			app.directive("selectorBar", ["$timeout", "$state", "SearchBar", "SearchType", "SearchState", "EVENTS", "tool", "toastService", "PanelType", "selectorBarFactory", "selectorBarTool", "selectedItemFactory", "selectedItemType",
				function(e, t, r, c, s, a, i, l, n, o, d, m, h) {
					return {
						restrict: "AE",
						replace: !0,
						scope: {
							menuData: "=",
							searchState: "=",
							searchType: "=",
							actionType: "=",
							customUids: "=",
							placeholder: "@",
							isSearching: "=",
							selectedList: "="
						},
						controller: ["$scope",
							function(e) {
								function t(e, t) {
									var r = -1;
									return e.forEach(function(e, c) {
										e.id === t.id && (r = c)
									}), r
								}
								var s = this,
									a = e.menuData,
									i = e.searchType,
									n = e.customUids,
									o = this.searchBar = new r(i, {
										orgDataArr: a.orgDataArr,
										customUids: n
									});
								this.placeholder = e.placeholder, this.selected = [].concat(e.selectedList.getSelected()), this.onRemove = function(t) {
									e.selectedList.removeItems([t])
								}, this.SearchType = c, this.searchResult = [], e.isSearching = !1;
								var d = 0;
								this.isLockedId = function(t) {
									return e.selectedList.isLocked(t)
								}, this.search = function(t) {
									s.searchResult = [], s.choiceClass = "", d++, "" !== t.trim() ? (e.isSearching = !0, function(r) {
										o.query(t).then(function(t) {
											r === d && (s.choiceClass = "", s.searchResult = t, e.isSearching = !1)
										}, function(t) {
											r === d && (s.searchResult = t, e.isSearching = !1, s.choiceClass = "system-choice")
										}, function(e) {
											r === d && (s.choiceClass = "", s.searchResult = e)
										})
									}(d)) : e.isSearching = !1
								}, this.onSelect = function(r) {
									if (e.isSearching = !1, r.type === c.GROUP) var a = m.genSelectedItem(h.GROUP, r);
									else var a = m.genSelectedItem(h.USER, r);
									var i = s.selected.indexOf(a);
									s.selected.splice(i, 1), s.isLockedId(a) || -1 !== t(s.selected, a) ? l.show("不能重复选择", {
										type: "information"
									}) : e.selectedList.addItems([a]), d++
								};
								var u = function(r) {
									r.forEach(function(e) {
										-1 === t(s.selected, e) && s.selected.push(e)
									});
									try {
										e.$digest()
									} catch (c) {}
								}, p = function(r) {
										r.forEach(function(e) {
											var r = t(s.selected, e); - 1 !== r && s.selected.splice(r, 1)
										});
										try {
											e.$digest()
										} catch (c) {}
									};
								e.selectedList.EventEmitter.on("selectedItems", u), e.selectedList.EventEmitter.on("unselectedItems", p), this.getGroupName = function(e) {
									return o.getGroupName(e)
								}, e.$on("$destroy", function() {
									e.selectedList.EventEmitter.off("selectedItems", u), e.selectedList.EventEmitter.off("unselectedItems", p)
								})
							}
						],
						controllerAs: "selectorBarCtrl",
						link: function(e, t, r, c) {
							t.on("click", function(e) {
								var r = $(e.target);
								r.hasClass("ui-select-match-close select2-search-choice-close") || t.find(".select2-input").focus()
							}), t.on("keydown", function(e) {
								13 === e.keyCode && e.preventDefault()
							}), t.one("$destroy", function() {
								t.off("click"), t.off("keydown")
							})
						},
						template: '<div class="selector-bar-wrap">\n    <ui-select\n            multiple\n            autofocus\n            ng-model="selectorBarCtrl.selected"\n            on-select="selectorBarCtrl.onSelect($item)"\n            on-remove="selectorBarCtrl.onRemove($item)"\n            theme="select2">\n        <ui-select-match ui-lock-choice="$item.hide === true" placeholder="{{selectorBarCtrl.placeholder}}">{{$item.user.remarkNameObj.alias||$item.text}}</ui-select-match>\n        <ui-select-choices\n                refresh="selectorBarCtrl.search($select.search)"\n                refresh-delay="500"\n                group-by="selectorBarCtrl.getGroupName"\n                ng-class="selectorBarCtrl.choiceClass"\n                ng-show="selectorBarCtrl.searchResult.length !== 0"\n                ui-disable-choice="item.type === selectorBarCtrl.SearchType.SYSTEM"\n                repeat="item in selectorBarCtrl.searchResult">\n            <div class="user-item" ng-if="item.type !== selectorBarCtrl.SearchType.SYSTEM">\n                <dd-avatar\n                        uid="item.model.uid"\n                        nick="item.model.nick"\n                        name="item.model.name"\n                        icon="item.model.icon"\n                        tag="item.model.tag"\n                        class="search search-bar-avatar">\n                </dd-avatar>\n                <div class="item-text"\n                     ng-if="item.type !== selectorBarCtrl.SearchType.SYSTEM&&item.type !==  selectorBarCtrl.SearchType.ORG">\n                    <p ng-bind-html="(item.user.remarkNameObj.alias||item.text )| emoj" ng-class="{\'item-text-main\':!!item.user.remarkNameObj.alias}"></p>\n                    <p ng-if="item.user.remarkNameObj.alias" class="item-text-small">钉钉昵称:(<span ng-bind-html="item.model.nick|emoj"></span>)</p>\n                </div>\n                <div class="item-text" ng-if="item.type === selectorBarCtrl.SearchType.ORG">\n                    <p ng-bind-html="item.text|emoj" class="item-text-main"></p>\n                    <p class="item-text-small">{{item.model.dept}}</p>\n                </div>\n            </div>\n            <div class="system-msg"\n                 ng-if="item.type === selectorBarCtrl.SearchType.SYSTEM"\n                    >{{item.text}}</div>\n        </ui-select-choices>\n    </ui-select>\n</div>\n'
					}
				}
			]);


		}, {
			"../../service/events": 221,
			"../../service/search/SearchState": 342,
			"../../service/search/bar/SearchBar": 343,
			"../../service/search/search/SearchType": 355,
			"../../service/selectorPanel/PanelType": 361,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/storage/storage": 373,
			"../../service/toast/toast": 378,
			"../../service/tool/tool": 384,
			"../../service/widget/selectorBar/selectorBarFactory": 423,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"./avatar/avatar": 85,
			"path": 5
		}
	],
	112: [
		function(require, module, exports) {
			require("../../service/widget/screenshot"), require("../../service/modal/alertMsgModal");
			var ua = require("../../service/ua"),
				app = angular.module("ddWeb.widget.updateInfo", ["ddWeb.service.screenshot", "ddWeb.service.alertMsgModal"]);
			app.directive("updateInfo", ["screenshotService", "alertMsgModalService",
				function(e, i) {
					return {
						restrict: "E",
						link: function(n, t, o) {
							function r() {
								var i = e.getVersion();
								return null !== i ? i !== a : !1
							}
							var a = "1.0.2",
								d = ua.isNw,
								l = "（下载完成后可能需要允许插件运行，安装成功后请重启浏览器）</div>";
							d && (l = "（安装成功后请重新启动钉钉）");
							var c = '<div class="alert-screen-modal"><h4>钉钉截屏插件有更新：</h4><ul><li>1. 支持截屏窗口进行任意的移动和缩放；</li><li>2. 截屏可以直接保存到电脑上；</li><li>3. 截屏插件美化；</li></ul><div style="color:red;font-weight:bold;text-align:center;width:90%;font-size:13px;">' + l + "</div>";
							n.hasNewScreenShot = r(), n.showUpdateComfirmModal = function() {
								i.showModal(c, function() {
									e.download()
								}, function() {}, function(e) {
									e.addClass("confirmIsGreen")
								}, function(e) {
									e.css("margin-top", "-150px")
								}, "升级截屏插件")
							}, r()
						},
						template: '<div id="J-updateinfo" ng-click="showUpdateComfirmModal()" ng-if="hasNewScreenShot" title="截屏插件有更新"><i class="icon iconfont">&#xe620;</i><i class="iconfont update-new">&#xe61c;</i></div>'
					}
				}
			]);


		}, {
			"../../service/modal/alertMsgModal": 279,
			"../../service/ua": 390,
			"../../service/widget/screenshot": 416
		}
	],
	113: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.widget.windowOperations",
				path = require("path");
			require("../../service/app/nw"), angular.module(moduleName, ["ddWeb.nw"]).directive("windowOperations", ["nw",
				function(n) {
					return {
						restrict: "AE",
						controller: ["$scope",
							function(i) {
								this.closeWindow = function() {
									n.closeWindow()
								}, this.miniWindow = function() {
									n.miniWindow()
								}, this.expandWindow = function() {
									n.expandWindow()
								}
							}
						],
						link: function(n, i, o) {},
						controllerAs: "windowOperations",
						template: '<div class="window-operations">\n    <ul>\n        <li class="operation-button close-window" ng-click="windowOperations.closeWindow()"></li>\n        <li class="operation-button mini-window" ng-click="windowOperations.miniWindow()"></li>\n        <li class="operation-button expand-window" ng-click="windowOperations.expandWindow()"></li>\n    </ul>\n</div>'
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/app/nw": 161,
			"path": 5
		}
	],
	114: [
		function(require, module, exports) {
			angular.module("ddWeb.filter.departNameFilter", []).filter("departNameFilter", [
				function() {
					return function(e) {
						if (!e) return e;
						var r = e.split("-");
						return r[r.length - 1]
					}
				}
			]);


		}, {}
	],
	115: [
		function(require, module, exports) {
			require("../service/safe/safe");
			var emoji = require("../service/emoji/emoji");
			angular.module("ddWeb.filter.emoj", ["ngSanitize", "ddWeb.safe"]).filter("emoj", ["safe", "$sce",
				function(e, r) {
					return function(i) {
						i = i ? i : "";
						var a = emoji.parse(e.escapeHTML(i));
						return r.trustAsHtml(a)
					}
				}
			]);


		}, {
			"../service/emoji/emoji": 218,
			"../service/safe/safe": 341
		}
	],
	116: [
		function(require, module, exports) {
			"use strict";
			require("../service/safe/safe");
			var moment = require("moment");
			angular.module("ddWeb.filter", ["ngSanitize", "ddWeb.safe"]).filter("dateTime", ["$filter",
				function(e) {
					return function(e, t, r) {
						if (!e) return "";
						e = parseInt(e);
						var m = moment().startOf("day"),
							a = moment(e).startOf("day"),
							f = moment(e),
							n = m.diff(a, "days"),
							i = (t ? f.format("HH:mm") : "") + (r ? f.format(":ss") : "");
						return -1 == n ? "明天 " + i : 0 == n ? i || f.format("HH:mm") : 1 == n ? "昨天 " + i : f.format("MM-DD") + " " + i
					}
				}
			]);


		}, {
			"../service/safe/safe": 341,
			"moment": 472
		}
	],
	117: [
		function(require, module, exports) {
			var moduleName = "ddWeb.filter.msgfilter";
			require("../service/safe/safe"), require("../service/face/default"), require("../service/tool/tool");
			var emoji = require("../service/emoji/emoji"),
				URI = require("../lib/uri/src/URI");
			angular.module(moduleName, ["ngSanitize", "ddWeb.safe", "ddWeb.faces_default", "ddWeb.service.tool"]).filter("msgfilter", ["safe", "$sce", "faces_default", "tool",
				function(e, t, r, a) {
					function i(e) {
						return e.replace(l, function(e) {
							var t = e.substring(1, e.length - 1),
								a = r.filter(function(e) {
									return e.name === t
								})[0];
							return a ? "<img draggable='false' class='chat-content-face' title='[" + a.name + "]'src='" + a.gifsrc + "' />" : e
						})
					}

					function n(e) {
						return (-1 != e.indexOf(".") || -1 != e.indexOf(":")) && (e = URI.withinString(e, function(e) {
							return -1 === e.indexOf(":&#x2F;&#x2F;") ? "<a  data-spm-protocol=\"i\" class='chat-content-text-url' target='_blank' href='http://" + e + "'>" + e + "</a>" : "<a  data-spm-protocol=\"i\" class='chat-content-text-url' target='_blank' href='" + e + "'>" + e + "</a>"
						})), e
					}
					var l = /\[[^\]]+\]/gi;
					return function(r, a) {
						var l = null;
						return l = e.escapeHTML(r), l = n(l), l = emoji.parse(l), l = i(l), t.trustAsHtml(l)
					}
				}
			]), module.exports = moduleName;


		}, {
			"../lib/uri/src/URI": 122,
			"../service/emoji/emoji": 218,
			"../service/face/default": 222,
			"../service/safe/safe": 341,
			"../service/tool/tool": 384
		}
	],
	118: [
		function(require, module, exports) {
			"use strict";
			var Class = require("./class"),
				RequestCombine = Class.create({
					initialize: function(e, t) {
						this.waitTime = t || 100, this.onCombine = e, this.isIdle = !0, this.requestData = []
					},
					request: function(e) {
						if (this.requestData.push(e), this.isIdle === !0) {
							var t = this;
							setTimeout(function() {
								t.execute()
							}, this.waitTime), this.isIdle = !1
						}
					},
					execute: function() {
						this.isIdle = !0, this.onCombine(this.requestData), this.requestData = []
					}
				});
			module.exports = RequestCombine;


		}, {
			"./class": 119
		}
	],
	119: [
		function(require, module, exports) {
			function Class(t) {
				return this instanceof Class || !isFunction(t) ? void 0 : classify(t)
			}

			function implement(t) {
				var n, r;
				for (n in t) r = t[n], Class.Mutators.hasOwnProperty(n) ? Class.Mutators[n].call(this, r) : this.prototype[n] = r
			}

			function classify(t) {
				return t.extend = Class.extend, t.implement = implement, t
			}

			function Ctor() {}

			function mix(t, n, r) {
				for (var i in n)
					if (n.hasOwnProperty(i)) {
						if (r && -1 === indexOf(r, i)) continue;
						"prototype" !== i && (t[i] = n[i])
					}
			}
			module.exports = Class, Class.create = function(t, n) {
				function r() {
					t.apply(this, arguments), this.constructor === r && this.initialize && this.initialize.apply(this, arguments)
				}
				return isFunction(t) || (n = t, t = null), n || (n = {}), t || (t = n.Extends || Class), n.Extends = t, t !== Class && mix(r, t, t.StaticsWhiteList), implement.call(r, n), classify(r)
			}, Class.extend = function(t) {
				return t || (t = {}), t.Extends = this, Class.create(t)
			}, Class.Mutators = {
				Extends: function(t) {
					var n = this.prototype,
						r = createProto(t.prototype);
					mix(r, n), r.constructor = this, this.prototype = r, this.superclass = t.prototype
				},
				Implements: function(t) {
					isArray(t) || (t = [t]);
					for (var n, r = this.prototype; n = t.shift();) mix(r, n.prototype || n)
				},
				Statics: function(t) {
					mix(this, t)
				}
			};
			var createProto = Object.__proto__ ? function(t) {
					return {
						__proto__: t
					}
				} : function(t) {
					return Ctor.prototype = t, new Ctor
				}, toString = Object.prototype.toString,
				isArray = Array.isArray || function(t) {
					return "[object Array]" === toString.call(t)
				}, isFunction = function(t) {
					return "[object Function]" === toString.call(t)
				}, indexOf = Array.prototype.indexOf ? function(t, n) {
					return t.indexOf(n)
				} : function(t, n) {
					for (var r = 0, i = t.length; i > r; r++)
						if (t[r] === n) return r;
					return -1
				};


		}, {}
	],
	120: [
		function(require, module, exports) {
			! function(t, r) {
				module.exports = r()
			}(this, function(t) {
				"use strict";

				function r(t) {
					var r = t.toLowerCase(),
						i = r.split(":"),
						n = i.length,
						e = 8;
					"" === i[0] && "" === i[1] && "" === i[2] ? (i.shift(), i.shift()) : "" === i[0] && "" === i[1] ? i.shift() : "" === i[n - 1] && "" === i[n - 2] && i.pop(), n = i.length, -1 !== i[n - 1].indexOf(".") && (e = 7);
					var o;
					for (o = 0; n > o && "" !== i[o]; o++);
					if (e > o) {
						for (i.splice(o, 1, "0000"); i.length < e;) i.splice(o, 0, "0000");
						n = i.length
					}
					for (var s, f = 0; e > f; f++) {
						s = i[f].split("");
						for (var l = 0; 3 > l && ("0" === s[0] && s.length > 1); l++) s.splice(0, 1);
						i[f] = s.join("")
					}
					var h = -1,
						c = 0,
						v = 0,
						p = -1,
						u = !1;
					for (f = 0; e > f; f++) u ? "0" === i[f] ? v += 1 : (u = !1, v > c && (h = p, c = v)) : "0" === i[f] && (u = !0, p = f, v = 1);
					v > c && (h = p, c = v), c > 1 && i.splice(h, c, ""), n = i.length;
					var a = "";
					for ("" === i[0] && (a = ":"), f = 0; n > f && (a += i[f], f !== n - 1); f++) a += ":";
					return "" === i[n - 1] && (a += ":"), a
				}

				function i() {
					return t.IPv6 === this && (t.IPv6 = n), this
				}
				var n = t && t.IPv6;
				return {
					best: r,
					noConflict: i
				}
			});


		}, {}
	],
	121: [
		function(require, module, exports) {
			! function(o, e) {
				module.exports = e()
			}(this, function(o) {
				"use strict";
				var e = o && o.SecondLevelDomains,
					n = {
						list: {
							ac: " com gov mil net org ",
							ae: " ac co gov mil name net org pro sch ",
							af: " com edu gov net org ",
							al: " com edu gov mil net org ",
							ao: " co ed gv it og pb ",
							ar: " com edu gob gov int mil net org tur ",
							at: " ac co gv or ",
							au: " asn com csiro edu gov id net org ",
							ba: " co com edu gov mil net org rs unbi unmo unsa untz unze ",
							bb: " biz co com edu gov info net org store tv ",
							bh: " biz cc com edu gov info net org ",
							bn: " com edu gov net org ",
							bo: " com edu gob gov int mil net org tv ",
							br: " adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",
							bs: " com edu gov net org ",
							bz: " du et om ov rg ",
							ca: " ab bc mb nb nf nl ns nt nu on pe qc sk yk ",
							ck: " biz co edu gen gov info net org ",
							cn: " ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",
							co: " com edu gov mil net nom org ",
							cr: " ac c co ed fi go or sa ",
							cy: " ac biz com ekloges gov ltd name net org parliament press pro tm ",
							"do": " art com edu gob gov mil net org sld web ",
							dz: " art asso com edu gov net org pol ",
							ec: " com edu fin gov info med mil net org pro ",
							eg: " com edu eun gov mil name net org sci ",
							er: " com edu gov ind mil net org rochest w ",
							es: " com edu gob nom org ",
							et: " biz com edu gov info name net org ",
							fj: " ac biz com info mil name net org pro ",
							fk: " ac co gov net nom org ",
							fr: " asso com f gouv nom prd presse tm ",
							gg: " co net org ",
							gh: " com edu gov mil org ",
							gn: " ac com gov net org ",
							gr: " com edu gov mil net org ",
							gt: " com edu gob ind mil net org ",
							gu: " com edu gov net org ",
							hk: " com edu gov idv net org ",
							hu: " 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",
							id: " ac co go mil net or sch web ",
							il: " ac co gov idf k12 muni net org ",
							"in": " ac co edu ernet firm gen gov i ind mil net nic org res ",
							iq: " com edu gov i mil net org ",
							ir: " ac co dnssec gov i id net org sch ",
							it: " edu gov ",
							je: " co net org ",
							jo: " com edu gov mil name net org sch ",
							jp: " ac ad co ed go gr lg ne or ",
							ke: " ac co go info me mobi ne or sc ",
							kh: " com edu gov mil net org per ",
							ki: " biz com de edu gov info mob net org tel ",
							km: " asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",
							kn: " edu gov net org ",
							kr: " ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",
							kw: " com edu gov net org ",
							ky: " com edu gov net org ",
							kz: " com edu gov mil net org ",
							lb: " com edu gov net org ",
							lk: " assn com edu gov grp hotel int ltd net ngo org sch soc web ",
							lr: " com edu gov net org ",
							lv: " asn com conf edu gov id mil net org ",
							ly: " com edu gov id med net org plc sch ",
							ma: " ac co gov m net org press ",
							mc: " asso tm ",
							me: " ac co edu gov its net org priv ",
							mg: " com edu gov mil nom org prd tm ",
							mk: " com edu gov inf name net org pro ",
							ml: " com edu gov net org presse ",
							mn: " edu gov org ",
							mo: " com edu gov net org ",
							mt: " com edu gov net org ",
							mv: " aero biz com coop edu gov info int mil museum name net org pro ",
							mw: " ac co com coop edu gov int museum net org ",
							mx: " com edu gob net org ",
							my: " com edu gov mil name net org sch ",
							nf: " arts com firm info net other per rec store web ",
							ng: " biz com edu gov mil mobi name net org sch ",
							ni: " ac co com edu gob mil net nom org ",
							np: " com edu gov mil net org ",
							nr: " biz com edu gov info net org ",
							om: " ac biz co com edu gov med mil museum net org pro sch ",
							pe: " com edu gob mil net nom org sld ",
							ph: " com edu gov i mil net ngo org ",
							pk: " biz com edu fam gob gok gon gop gos gov net org web ",
							pl: " art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",
							pr: " ac biz com edu est gov info isla name net org pro prof ",
							ps: " com edu gov net org plo sec ",
							pw: " belau co ed go ne or ",
							ro: " arts com firm info nom nt org rec store tm www ",
							rs: " ac co edu gov in org ",
							sb: " com edu gov net org ",
							sc: " com edu gov net org ",
							sh: " co com edu gov net nom org ",
							sl: " com edu gov net org ",
							st: " co com consulado edu embaixada gov mil net org principe saotome store ",
							sv: " com edu gob org red ",
							sz: " ac co org ",
							tr: " av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",
							tt: " aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",
							tw: " club com ebiz edu game gov idv mil net org ",
							mu: " ac co com gov net or org ",
							mz: " ac co edu gov org ",
							na: " co com ",
							nz: " ac co cri geek gen govt health iwi maori mil net org parliament school ",
							pa: " abo ac com edu gob ing med net nom org sld ",
							pt: " com edu gov int net nome org publ ",
							py: " com edu gov mil net org ",
							qa: " com edu gov mil net org ",
							re: " asso com nom ",
							ru: " ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",
							rw: " ac co com edu gouv gov int mil net ",
							sa: " com edu gov med net org pub sch ",
							sd: " com edu gov info med net org tv ",
							se: " a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",
							sg: " com edu gov idn net org per ",
							sn: " art com edu gouv org perso univ ",
							sy: " com edu gov mil net news org ",
							th: " ac co go in mi net or ",
							tj: " ac biz co com edu go gov info int mil name net nic org test web ",
							tn: " agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",
							tz: " ac co go ne or ",
							ua: " biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",
							ug: " ac co go ne or org sc ",
							uk: " ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",
							us: " dni fed isa kids nsn ",
							uy: " com edu gub mil net org ",
							ve: " co com edu gob info mil net org web ",
							vi: " co com k12 net org ",
							vn: " ac biz com edu gov health info int name net org pro ",
							ye: " co com gov ltd me net org plc ",
							yu: " ac co edu gov org ",
							za: " ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",
							zm: " ac co com edu gov net org sch "
						},
						has: function(o) {
							var e = o.lastIndexOf(".");
							if (0 >= e || e >= o.length - 1) return !1;
							var r = o.lastIndexOf(".", e - 1);
							if (0 >= r || r >= e - 1) return !1;
							var g = n.list[o.slice(e + 1)];
							return g ? g.indexOf(" " + o.slice(r + 1, e) + " ") >= 0 : !1
						},
						is: function(o) {
							var e = o.lastIndexOf(".");
							if (0 >= e || e >= o.length - 1) return !1;
							var r = o.lastIndexOf(".", e - 1);
							if (r >= 0) return !1;
							var g = n.list[o.slice(e + 1)];
							return g ? g.indexOf(" " + o.slice(0, e) + " ") >= 0 : !1
						},
						get: function(o) {
							var e = o.lastIndexOf(".");
							if (0 >= e || e >= o.length - 1) return null;
							var r = o.lastIndexOf(".", e - 1);
							if (0 >= r || r >= e - 1) return null;
							var g = n.list[o.slice(e + 1)];
							return g ? g.indexOf(" " + o.slice(r + 1, e) + " ") < 0 ? null : o.slice(r + 1) : null
						},
						noConflict: function() {
							return o.SecondLevelDomains === this && (o.SecondLevelDomains = e), this
						}
					};
				return n
			});


		}, {}
	],
	122: [
		function(require, module, exports) {
			! function(t, e) {
				module.exports = e(require("./punycode"), require("./IPv6"), require("./SecondLevelDomains"))
			}(this, function(t, e, r, s) {
				"use strict";

				function n(t, e) {
					return this instanceof n ? (void 0 === t && (t = "undefined" != typeof location ? location.href + "" : ""), this.href(t), void 0 !== e ? this.absoluteTo(e) : this) : new n(t, e)
				}

				function i(t) {
					return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1")
				}

				function a(t) {
					return void 0 === t ? "Undefined" : String(Object.prototype.toString.call(t)).slice(8, -1)
				}

				function o(t) {
					return "Array" === a(t)
				}

				function h(t, e) {
					var r, s, n = {};
					if (o(e))
						for (r = 0, s = e.length; s > r; r++) n[e[r]] = !0;
					else n[e] = !0;
					for (r = 0, s = t.length; s > r; r++) void 0 !== n[t[r]] && (t.splice(r, 1), s--, r--);
					return t
				}

				function u(t, e) {
					var r, s;
					if (o(e)) {
						for (r = 0, s = e.length; s > r; r++)
							if (!u(t, e[r])) return !1;
						return !0
					}
					var n = a(e);
					for (r = 0, s = t.length; s > r; r++)
						if ("RegExp" === n) {
							if ("string" == typeof t[r] && t[r].match(e)) return !0
						} else
					if (t[r] === e) return !0;
					return !1
				}

				function p(t, e) {
					if (!o(t) || !o(e)) return !1;
					if (t.length !== e.length) return !1;
					t.sort(), e.sort();
					for (var r = 0, s = t.length; s > r; r++)
						if (t[r] !== e[r]) return !1;
					return !0
				}

				function c(t) {
					return escape(t)
				}

				function l(t) {
					return encodeURIComponent(t).replace(/[!'()*]/g, c).replace(/\*/g, "%2A")
				}

				function d(t) {
					return function(e, r) {
						return void 0 === e ? this._parts[t] || "" : (this._parts[t] = e || null, this.build(!r), this)
					}
				}

				function f(t, e) {
					return function(r, s) {
						return void 0 === r ? this._parts[t] || "" : (null !== r && (r += "", r.charAt(0) === e && (r = r.substring(1))), this._parts[t] = r, this.build(!s), this)
					}
				}
				var m = s && s.URI;
				n.version = "1.14.1";
				var _ = n.prototype,
					g = Object.prototype.hasOwnProperty;
				n._parts = function() {
					return {
						protocol: null,
						username: null,
						password: null,
						hostname: null,
						urn: null,
						port: null,
						path: null,
						query: null,
						fragment: null,
						duplicateQueryParameters: n.duplicateQueryParameters,
						escapeQuerySpace: n.escapeQuerySpace
					}
				}, n.duplicateQueryParameters = !1, n.escapeQuerySpace = !0, n.protocol_expression = /^[a-z][a-z0-9.+-]*$/i, n.idn_expression = /[^a-z0-9\.-]/i, n.punycode_expression = /(xn--)/i, n.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, n.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/, n.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>???“”‘’]))/gi, n.findUri = {
					start: /(?:((https|http|ftp|rtsp|mms):&#x2F;&#x2F;)|www\.)/gi,
					end: /[，。“”?‘’；【】《》（）\s\r\n@\u4E00-\u9FA5]|$/,
					trim: /[`!()\[\]{}:'".,<>???“”?‘’]+$/
				}, n.defaultPorts = {
					http: "80",
					https: "443",
					ftp: "21",
					gopher: "70",
					ws: "80",
					wss: "443"
				}, n.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/, n.domAttributes = {
					a: "href",
					blockquote: "cite",
					link: "href",
					base: "href",
					script: "src",
					form: "action",
					img: "src",
					area: "href",
					iframe: "src",
					embed: "src",
					source: "src",
					track: "src",
					input: "src",
					audio: "src",
					video: "src"
				}, n.getDomAttribute = function(t) {
					if (!t || !t.nodeName) return void 0;
					var e = t.nodeName.toLowerCase();
					return "input" === e && "image" !== t.type ? void 0 : n.domAttributes[e]
				}, n.encode = l, n.decode = decodeURIComponent, n.iso8859 = function() {
					n.encode = escape, n.decode = unescape
				}, n.unicode = function() {
					n.encode = l, n.decode = decodeURIComponent
				}, n.characters = {
					pathname: {
						encode: {
							expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
							map: {
								"%24": "$",
								"%26": "&",
								"%2B": "+",
								"%2C": ",",
								"%3B": ";",
								"%3D": "=",
								"%3A": ":",
								"%40": "@"
							}
						},
						decode: {
							expression: /[\/\?#]/g,
							map: {
								"/": "%2F",
								"?": "%3F",
								"#": "%23"
							}
						}
					},
					reserved: {
						encode: {
							expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
							map: {
								"%3A": ":",
								"%2F": "/",
								"%3F": "?",
								"%23": "#",
								"%5B": "[",
								"%5D": "]",
								"%40": "@",
								"%21": "!",
								"%24": "$",
								"%26": "&",
								"%27": "'",
								"%28": "(",
								"%29": ")",
								"%2A": "*",
								"%2B": "+",
								"%2C": ",",
								"%3B": ";",
								"%3D": "="
							}
						}
					}
				}, n.encodeQuery = function(t, e) {
					var r = n.encode(t + "");
					return void 0 === e && (e = n.escapeQuerySpace), e ? r.replace(/%20/g, "+") : r
				}, n.decodeQuery = function(t, e) {
					t += "", void 0 === e && (e = n.escapeQuerySpace);
					try {
						return n.decode(e ? t.replace(/\+/g, "%20") : t)
					} catch (r) {
						return t
					}
				}, n.recodePath = function(t) {
					for (var e = (t + "").split("/"), r = 0, s = e.length; s > r; r++) e[r] = n.encodePathSegment(n.decode(e[r]));
					return e.join("/")
				}, n.decodePath = function(t) {
					for (var e = (t + "").split("/"), r = 0, s = e.length; s > r; r++) e[r] = n.decodePathSegment(e[r]);
					return e.join("/")
				};
				var y, v = {
						encode: "encode",
						decode: "decode"
					}, b = function(t, e) {
						return function(r) {
							try {
								return n[e](r + "").replace(n.characters[t][e].expression, function(r) {
									return n.characters[t][e].map[r]
								})
							} catch (s) {
								return r
							}
						}
					};
				for (y in v) n[y + "PathSegment"] = b("pathname", v[y]);
				n.encodeReserved = b("reserved", "encode"), n.parse = function(t, e) {
					var r;
					return e || (e = {}), r = t.indexOf("#"), r > -1 && (e.fragment = t.substring(r + 1) || null, t = t.substring(0, r)), r = t.indexOf("?"), r > -1 && (e.query = t.substring(r + 1) || null, t = t.substring(0, r)), "//" === t.substring(0, 2) ? (e.protocol = null, t = t.substring(2), t = n.parseAuthority(t, e)) : (r = t.indexOf(":"), r > -1 && (e.protocol = t.substring(0, r) || null, e.protocol && !e.protocol.match(n.protocol_expression) ? e.protocol = void 0 : "//" === t.substring(r + 1, r + 3) ? (t = t.substring(r + 3), t = n.parseAuthority(t, e)) : (t = t.substring(r + 1), e.urn = !0))), e.path = t, e
				}, n.parseHost = function(t, e) {
					var r, s, n = t.indexOf("/");
					return -1 === n && (n = t.length), "[" === t.charAt(0) ? (r = t.indexOf("]"), e.hostname = t.substring(1, r) || null, e.port = t.substring(r + 2, n) || null, "/" === e.port && (e.port = null)) : t.indexOf(":") !== t.lastIndexOf(":") ? (e.hostname = t.substring(0, n) || null, e.port = null) : (s = t.substring(0, n).split(":"), e.hostname = s[0] || null, e.port = s[1] || null), e.hostname && "/" !== t.substring(n).charAt(0) && (n++, t = "/" + t), t.substring(n) || "/"
				}, n.parseAuthority = function(t, e) {
					return t = n.parseUserinfo(t, e), n.parseHost(t, e)
				}, n.parseUserinfo = function(t, e) {
					var r, s = t.indexOf("/"),
						i = t.lastIndexOf("@", s > -1 ? s : t.length - 1);
					return i > -1 && (-1 === s || s > i) ? (r = t.substring(0, i).split(":"), e.username = r[0] ? n.decode(r[0]) : null, r.shift(), e.password = r[0] ? n.decode(r.join(":")) : null, t = t.substring(i + 1)) : (e.username = null, e.password = null), t
				}, n.parseQuery = function(t, e) {
					if (!t) return {};
					if (t = t.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, ""), !t) return {};
					for (var r, s, i, a = {}, o = t.split("&"), h = o.length, u = 0; h > u; u++) r = o[u].split("="), s = n.decodeQuery(r.shift(), e), i = r.length ? n.decodeQuery(r.join("="), e) : null, g.call(a, s) ? ("string" == typeof a[s] && (a[s] = [a[s]]), a[s].push(i)) : a[s] = i;
					return a
				}, n.build = function(t) {
					var e = "";
					return t.protocol && (e += t.protocol + ":"), t.urn || !e && !t.hostname || (e += "//"), e += n.buildAuthority(t) || "", "string" == typeof t.path && ("/" !== t.path.charAt(0) && "string" == typeof t.hostname && (e += "/"), e += t.path), "string" == typeof t.query && t.query && (e += "?" + t.query), "string" == typeof t.fragment && t.fragment && (e += "#" + t.fragment), e
				}, n.buildHost = function(t) {
					var e = "";
					return t.hostname ? (e += n.ip6_expression.test(t.hostname) ? "[" + t.hostname + "]" : t.hostname, t.port && (e += ":" + t.port), e) : ""
				}, n.buildAuthority = function(t) {
					return n.buildUserinfo(t) + n.buildHost(t)
				}, n.buildUserinfo = function(t) {
					var e = "";
					return t.username && (e += n.encode(t.username), t.password && (e += ":" + n.encode(t.password)), e += "@"), e
				}, n.buildQuery = function(t, e, r) {
					var s, i, a, h, u = "";
					for (i in t)
						if (g.call(t, i) && i)
							if (o(t[i]))
								for (s = {}, a = 0, h = t[i].length; h > a; a++) void 0 !== t[i][a] && void 0 === s[t[i][a] + ""] && (u += "&" + n.buildQueryParameter(i, t[i][a], r), e !== !0 && (s[t[i][a] + ""] = !0));
							else void 0 !== t[i] && (u += "&" + n.buildQueryParameter(i, t[i], r));
					return u.substring(1)
				}, n.buildQueryParameter = function(t, e, r) {
					return n.encodeQuery(t, r) + (null !== e ? "=" + n.encodeQuery(e, r) : "")
				}, n.addQuery = function(t, e, r) {
					if ("object" == typeof e)
						for (var s in e) g.call(e, s) && n.addQuery(t, s, e[s]);
					else {
						if ("string" != typeof e) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
						if (void 0 === t[e]) return void(t[e] = r);
						"string" == typeof t[e] && (t[e] = [t[e]]), o(r) || (r = [r]), t[e] = (t[e] || []).concat(r)
					}
				}, n.removeQuery = function(t, e, r) {
					var s, i, a;
					if (o(e))
						for (s = 0, i = e.length; i > s; s++) t[e[s]] = void 0;
					else if ("object" == typeof e)
						for (a in e) g.call(e, a) && n.removeQuery(t, a, e[a]);
					else {
						if ("string" != typeof e) throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");
						void 0 !== r ? t[e] === r ? t[e] = void 0 : o(t[e]) && (t[e] = h(t[e], r)) : t[e] = void 0
					}
				}, n.hasQuery = function(t, e, r, s) {
					if ("object" == typeof e) {
						for (var i in e)
							if (g.call(e, i) && !n.hasQuery(t, i, e[i])) return !1;
						return !0
					}
					if ("string" != typeof e) throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");
					switch (a(r)) {
						case "Undefined":
							return e in t;
						case "Boolean":
							var h = Boolean(o(t[e]) ? t[e].length : t[e]);
							return r === h;
						case "Function":
							return !!r(t[e], e, t);
						case "Array":
							if (!o(t[e])) return !1;
							var c = s ? u : p;
							return c(t[e], r);
						case "RegExp":
							return o(t[e]) ? s ? u(t[e], r) : !1 : Boolean(t[e] && t[e].match(r));
						case "Number":
							r = String(r);
						case "String":
							return o(t[e]) ? s ? u(t[e], r) : !1 : t[e] === r;
						default:
							throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")
					}
				}, n.commonPath = function(t, e) {
					var r, s = Math.min(t.length, e.length);
					for (r = 0; s > r; r++)
						if (t.charAt(r) !== e.charAt(r)) {
							r--;
							break
						}
					return 1 > r ? t.charAt(0) === e.charAt(0) && "/" === t.charAt(0) ? "/" : "" : (("/" !== t.charAt(r) || "/" !== e.charAt(r)) && (r = t.substring(0, r).lastIndexOf("/")), t.substring(0, r + 1))
				}, n.withinString = function(t, e, r) {
					r || (r = {});
					var s = r.start || n.findUri.start,
						i = r.end || n.findUri.end,
						a = r.trim || n.findUri.trim,
						o = /[a-z0-9-]=["']?$/i;
					for (s.lastIndex = 0;;) {
						var h = s.exec(t);
						if (!h) break;
						var u = h.index;
						if (r.ignoreHtml) {
							var p = t.slice(Math.max(u - 3, 0), u);
							if (p && o.test(p)) continue
						}
						var c = u + t.slice(u).search(i),
							l = t.slice(u, c).replace(a, "");
						if (!r.ignore || !r.ignore.test(l)) {
							c = u + l.length;
							var d = e(l, u, c, t);
							t = t.slice(0, u) + d + t.slice(c), s.lastIndex = u + d.length
						}
					}
					return s.lastIndex = 0, t
				}, n.ensureValidHostname = function(e) {
					if (e.match(n.invalid_hostname_characters)) {
						if (!t) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
						if (t.toASCII(e).match(n.invalid_hostname_characters)) throw new TypeError('Hostname "' + e + '" contains characters other than [A-Z0-9.-]')
					}
				}, n.noConflict = function(t) {
					if (t) {
						var e = {
							URI: this.noConflict()
						};
						return s.URITemplate && "function" == typeof s.URITemplate.noConflict && (e.URITemplate = s.URITemplate.noConflict()), s.IPv6 && "function" == typeof s.IPv6.noConflict && (e.IPv6 = s.IPv6.noConflict()), s.SecondLevelDomains && "function" == typeof s.SecondLevelDomains.noConflict && (e.SecondLevelDomains = s.SecondLevelDomains.noConflict()), e
					}
					return s.URI === this && (s.URI = m), this
				}, _.build = function(t) {
					return t === !0 ? this._deferred_build = !0 : (void 0 === t || this._deferred_build) && (this._string = n.build(this._parts), this._deferred_build = !1), this
				}, _.clone = function() {
					return new n(this)
				}, _.valueOf = _.toString = function() {
					return this.build(!1)._string
				}, _.protocol = d("protocol"), _.username = d("username"), _.password = d("password"), _.hostname = d("hostname"), _.port = d("port"), _.query = f("query", "?"), _.fragment = f("fragment", "#"), _.search = function(t, e) {
					var r = this.query(t, e);
					return "string" == typeof r && r.length ? "?" + r : r
				}, _.hash = function(t, e) {
					var r = this.fragment(t, e);
					return "string" == typeof r && r.length ? "#" + r : r
				}, _.pathname = function(t, e) {
					if (void 0 === t || t === !0) {
						var r = this._parts.path || (this._parts.hostname ? "/" : "");
						return t ? n.decodePath(r) : r
					}
					return this._parts.path = t ? n.recodePath(t) : "/", this.build(!e), this
				}, _.path = _.pathname, _.href = function(t, e) {
					var r;
					if (void 0 === t) return this.toString();
					this._string = "", this._parts = n._parts();
					var s = t instanceof n,
						i = "object" == typeof t && (t.hostname || t.path || t.pathname);
					if (t.nodeName) {
						var a = n.getDomAttribute(t);
						t = t[a] || "", i = !1
					}
					if (!s && i && void 0 !== t.pathname && (t = t.toString()), "string" == typeof t || t instanceof String) this._parts = n.parse(String(t), this._parts);
					else {
						if (!s && !i) throw new TypeError("invalid input");
						var o = s ? t._parts : t;
						for (r in o) g.call(this._parts, r) && (this._parts[r] = o[r])
					}
					return this.build(!e), this
				}, _.is = function(t) {
					var e = !1,
						s = !1,
						i = !1,
						a = !1,
						o = !1,
						h = !1,
						u = !1,
						p = !this._parts.urn;
					switch (this._parts.hostname && (p = !1, s = n.ip4_expression.test(this._parts.hostname), i = n.ip6_expression.test(this._parts.hostname), e = s || i, a = !e, o = a && r && r.has(this._parts.hostname), h = a && n.idn_expression.test(this._parts.hostname), u = a && n.punycode_expression.test(this._parts.hostname)), t.toLowerCase()) {
						case "relative":
							return p;
						case "absolute":
							return !p;
						case "domain":
						case "name":
							return a;
						case "sld":
							return o;
						case "ip":
							return e;
						case "ip4":
						case "ipv4":
						case "inet4":
							return s;
						case "ip6":
						case "ipv6":
						case "inet6":
							return i;
						case "idn":
							return h;
						case "url":
							return !this._parts.urn;
						case "urn":
							return !!this._parts.urn;
						case "punycode":
							return u
					}
					return null
				};
				var Q = _.protocol,
					w = _.port,
					A = _.hostname;
				_.protocol = function(t, e) {
					if (void 0 !== t && t && (t = t.replace(/:(\/\/)?$/, ""), !t.match(n.protocol_expression))) throw new TypeError('Protocol "' + t + "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");
					return Q.call(this, t, e)
				}, _.scheme = _.protocol, _.port = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 !== t && (0 === t && (t = null), t && (t += "", ":" === t.charAt(0) && (t = t.substring(1)), t.match(/[^0-9]/)))) throw new TypeError('Port "' + t + '" contains characters other than [0-9]');
					return w.call(this, t, e)
				}, _.hostname = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 !== t) {
						var r = {};
						n.parseHost(t, r), t = r.hostname
					}
					return A.call(this, t, e)
				}, _.host = function(t, e) {
					return this._parts.urn ? void 0 === t ? "" : this : void 0 === t ? this._parts.hostname ? n.buildHost(this._parts) : "" : (n.parseHost(t, this._parts), this.build(!e), this)
				}, _.authority = function(t, e) {
					return this._parts.urn ? void 0 === t ? "" : this : void 0 === t ? this._parts.hostname ? n.buildAuthority(this._parts) : "" : (n.parseAuthority(t, this._parts), this.build(!e), this)
				}, _.userinfo = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 === t) {
						if (!this._parts.username) return "";
						var r = n.buildUserinfo(this._parts);
						return r.substring(0, r.length - 1)
					}
					return "@" !== t[t.length - 1] && (t += "@"), n.parseUserinfo(t, this._parts), this.build(!e), this
				}, _.resource = function(t, e) {
					var r;
					return void 0 === t ? this.path() + this.search() + this.hash() : (r = n.parse(t), this._parts.path = r.path, this._parts.query = r.query, this._parts.fragment = r.fragment, this.build(!e), this)
				}, _.subdomain = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 === t) {
						if (!this._parts.hostname || this.is("IP")) return "";
						var r = this._parts.hostname.length - this.domain().length - 1;
						return this._parts.hostname.substring(0, r) || ""
					}
					var s = this._parts.hostname.length - this.domain().length,
						a = this._parts.hostname.substring(0, s),
						o = new RegExp("^" + i(a));
					return t && "." !== t.charAt(t.length - 1) && (t += "."), t && n.ensureValidHostname(t), this._parts.hostname = this._parts.hostname.replace(o, t), this.build(!e), this
				}, _.domain = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if ("boolean" == typeof t && (e = t, t = void 0), void 0 === t) {
						if (!this._parts.hostname || this.is("IP")) return "";
						var r = this._parts.hostname.match(/\./g);
						if (r && r.length < 2) return this._parts.hostname;
						var s = this._parts.hostname.length - this.tld(e).length - 1;
						return s = this._parts.hostname.lastIndexOf(".", s - 1) + 1, this._parts.hostname.substring(s) || ""
					}
					if (!t) throw new TypeError("cannot set domain empty");
					if (n.ensureValidHostname(t), !this._parts.hostname || this.is("IP")) this._parts.hostname = t;
					else {
						var a = new RegExp(i(this.domain()) + "$");
						this._parts.hostname = this._parts.hostname.replace(a, t)
					}
					return this.build(!e), this
				}, _.tld = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if ("boolean" == typeof t && (e = t, t = void 0), void 0 === t) {
						if (!this._parts.hostname || this.is("IP")) return "";
						var s = this._parts.hostname.lastIndexOf("."),
							n = this._parts.hostname.substring(s + 1);
						return e !== !0 && r && r.list[n.toLowerCase()] ? r.get(this._parts.hostname) || n : n
					}
					var a;
					if (!t) throw new TypeError("cannot set TLD empty");
					if (t.match(/[^a-zA-Z0-9-]/)) {
						if (!r || !r.is(t)) throw new TypeError('TLD "' + t + '" contains characters other than [A-Z0-9]');
						a = new RegExp(i(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(a, t)
					} else {
						if (!this._parts.hostname || this.is("IP")) throw new ReferenceError("cannot set TLD on non-domain host");
						a = new RegExp(i(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(a, t)
					}
					return this.build(!e), this
				}, _.directory = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 === t || t === !0) {
						if (!this._parts.path && !this._parts.hostname) return "";
						if ("/" === this._parts.path) return "/";
						var r = this._parts.path.length - this.filename().length - 1,
							s = this._parts.path.substring(0, r) || (this._parts.hostname ? "/" : "");
						return t ? n.decodePath(s) : s
					}
					var a = this._parts.path.length - this.filename().length,
						o = this._parts.path.substring(0, a),
						h = new RegExp("^" + i(o));
					return this.is("relative") || (t || (t = "/"), "/" !== t.charAt(0) && (t = "/" + t)), t && "/" !== t.charAt(t.length - 1) && (t += "/"), t = n.recodePath(t), this._parts.path = this._parts.path.replace(h, t), this.build(!e), this
				}, _.filename = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 === t || t === !0) {
						if (!this._parts.path || "/" === this._parts.path) return "";
						var r = this._parts.path.lastIndexOf("/"),
							s = this._parts.path.substring(r + 1);
						return t ? n.decodePathSegment(s) : s
					}
					var a = !1;
					"/" === t.charAt(0) && (t = t.substring(1)), t.match(/\.?\//) && (a = !0);
					var o = new RegExp(i(this.filename()) + "$");
					return t = n.recodePath(t), this._parts.path = this._parts.path.replace(o, t), a ? this.normalizePath(e) : this.build(!e), this
				}, _.suffix = function(t, e) {
					if (this._parts.urn) return void 0 === t ? "" : this;
					if (void 0 === t || t === !0) {
						if (!this._parts.path || "/" === this._parts.path) return "";
						var r, s, a = this.filename(),
							o = a.lastIndexOf(".");
						return -1 === o ? "" : (r = a.substring(o + 1), s = /^[a-z0-9%]+$/i.test(r) ? r : "", t ? n.decodePathSegment(s) : s)
					}
					"." === t.charAt(0) && (t = t.substring(1));
					var h, u = this.suffix();
					if (u) h = t ? new RegExp(i(u) + "$") : new RegExp(i("." + u) + "$");
					else {
						if (!t) return this;
						this._parts.path += "." + n.recodePath(t)
					}
					return h && (t = n.recodePath(t), this._parts.path = this._parts.path.replace(h, t)), this.build(!e), this
				}, _.segment = function(t, e, r) {
					var s = this._parts.urn ? ":" : "/",
						n = this.path(),
						i = "/" === n.substring(0, 1),
						a = n.split(s);
					if (void 0 !== t && "number" != typeof t && (r = e, e = t, t = void 0), void 0 !== t && "number" != typeof t) throw new Error('Bad segment "' + t + '", must be 0-based integer');
					if (i && a.shift(), 0 > t && (t = Math.max(a.length + t, 0)), void 0 === e) return void 0 === t ? a : a[t];
					if (null === t || void 0 === a[t])
						if (o(e)) {
							a = [];
							for (var h = 0, u = e.length; u > h; h++)(e[h].length || a.length && a[a.length - 1].length) && (a.length && !a[a.length - 1].length && a.pop(), a.push(e[h]))
						} else(e || "string" == typeof e) && ("" === a[a.length - 1] ? a[a.length - 1] = e : a.push(e));
						else e ? a[t] = e : a.splice(t, 1);
					return i && a.unshift(""), this.path(a.join(s), r)
				}, _.segmentCoded = function(t, e, r) {
					var s, i, a;
					if ("number" != typeof t && (r = e, e = t, t = void 0), void 0 === e) {
						if (s = this.segment(t, e, r), o(s))
							for (i = 0, a = s.length; a > i; i++) s[i] = n.decode(s[i]);
						else s = void 0 !== s ? n.decode(s) : void 0;
						return s
					}
					if (o(e))
						for (i = 0, a = e.length; a > i; i++) e[i] = n.decode(e[i]);
					else e = "string" == typeof e || e instanceof String ? n.encode(e) : e;
					return this.segment(t, e, r)
				};
				var P = _.query;
				return _.query = function(t, e) {
					if (t === !0) return n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
					if ("function" == typeof t) {
						var r = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace),
							s = t.call(this, r);
						return this._parts.query = n.buildQuery(s || r, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!e), this
					}
					return void 0 !== t && "string" != typeof t ? (this._parts.query = n.buildQuery(t, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!e), this) : P.call(this, t, e)
				}, _.setQuery = function(t, e, r) {
					var s = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
					if ("string" == typeof t || t instanceof String) s[t] = void 0 !== e ? e : null;
					else {
						if ("object" != typeof t) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
						for (var i in t) g.call(t, i) && (s[i] = t[i])
					}
					return this._parts.query = n.buildQuery(s, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof t && (r = e), this.build(!r), this
				}, _.addQuery = function(t, e, r) {
					var s = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
					return n.addQuery(s, t, void 0 === e ? null : e), this._parts.query = n.buildQuery(s, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof t && (r = e), this.build(!r), this
				}, _.removeQuery = function(t, e, r) {
					var s = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
					return n.removeQuery(s, t, e), this._parts.query = n.buildQuery(s, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof t && (r = e), this.build(!r), this
				}, _.hasQuery = function(t, e, r) {
					var s = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
					return n.hasQuery(s, t, e, r)
				}, _.setSearch = _.setQuery, _.addSearch = _.addQuery, _.removeSearch = _.removeQuery, _.hasSearch = _.hasQuery, _.normalize = function() {
					return this._parts.urn ? this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build() : this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()
				}, _.normalizeProtocol = function(t) {
					return "string" == typeof this._parts.protocol && (this._parts.protocol = this._parts.protocol.toLowerCase(), this.build(!t)), this
				}, _.normalizeHostname = function(r) {
					return this._parts.hostname && (this.is("IDN") && t ? this._parts.hostname = t.toASCII(this._parts.hostname) : this.is("IPv6") && e && (this._parts.hostname = e.best(this._parts.hostname)), this._parts.hostname = this._parts.hostname.toLowerCase(), this.build(!r)), this
				}, _.normalizePort = function(t) {
					return "string" == typeof this._parts.protocol && this._parts.port === n.defaultPorts[this._parts.protocol] && (this._parts.port = null, this.build(!t)), this
				}, _.normalizePath = function(t) {
					if (this._parts.urn) return this;
					if (!this._parts.path || "/" === this._parts.path) return this;
					var e, r, s, i = this._parts.path,
						a = "";
					for ("/" !== i.charAt(0) && (e = !0, i = "/" + i), i = i.replace(/(\/(\.\/)+)|(\/\.$)/g, "/").replace(/\/{2,}/g, "/"), e && (a = i.substring(1).match(/^(\.\.\/)+/) || "", a && (a = a[0]));;) {
						if (r = i.indexOf("/.."), -1 === r) break;
						0 !== r ? (s = i.substring(0, r).lastIndexOf("/"), -1 === s && (s = r), i = i.substring(0, s) + i.substring(r + 3)) : i = i.substring(3)
					}
					return e && this.is("relative") && (i = a + i.substring(1)), i = n.recodePath(i), this._parts.path = i, this.build(!t), this
				}, _.normalizePathname = _.normalizePath, _.normalizeQuery = function(t) {
					return "string" == typeof this._parts.query && (this._parts.query.length ? this.query(n.parseQuery(this._parts.query, this._parts.escapeQuerySpace)) : this._parts.query = null, this.build(!t)), this
				}, _.normalizeFragment = function(t) {
					return this._parts.fragment || (this._parts.fragment = null, this.build(!t)), this
				}, _.normalizeSearch = _.normalizeQuery, _.normalizeHash = _.normalizeFragment, _.iso8859 = function() {
					var t = n.encode,
						e = n.decode;
					return n.encode = escape, n.decode = decodeURIComponent, this.normalize(), n.encode = t, n.decode = e, this
				}, _.unicode = function() {
					var t = n.encode,
						e = n.decode;
					return n.encode = l, n.decode = unescape, this.normalize(), n.encode = t, n.decode = e, this
				}, _.readable = function() {
					var e = this.clone();
					e.username("").password("").normalize();
					var r = "";
					if (e._parts.protocol && (r += e._parts.protocol + "://"), e._parts.hostname && (e.is("punycode") && t ? (r += t.toUnicode(e._parts.hostname), e._parts.port && (r += ":" + e._parts.port)) : r += e.host()), e._parts.hostname && e._parts.path && "/" !== e._parts.path.charAt(0) && (r += "/"), r += e.path(!0), e._parts.query) {
						for (var s = "", i = 0, a = e._parts.query.split("&"), o = a.length; o > i; i++) {
							var h = (a[i] || "").split("=");
							s += "&" + n.decodeQuery(h[0], this._parts.escapeQuerySpace).replace(/&/g, "%26"), void 0 !== h[1] && (s += "=" + n.decodeQuery(h[1], this._parts.escapeQuerySpace).replace(/&/g, "%26"))
						}
						r += "?" + s.substring(1)
					}
					return r += n.decodeQuery(e.hash(), !0)
				}, _.absoluteTo = function(t) {
					var e, r, s, i = this.clone(),
						a = ["protocol", "username", "password", "hostname", "port"];
					if (this._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
					if (t instanceof n || (t = new n(t)), i._parts.protocol || (i._parts.protocol = t._parts.protocol), this._parts.hostname) return i;
					for (r = 0; s = a[r]; r++) i._parts[s] = t._parts[s];
					return i._parts.path ? ".." === i._parts.path.substring(-2) && (i._parts.path += "/") : (i._parts.path = t._parts.path, i._parts.query || (i._parts.query = t._parts.query)), "/" !== i.path().charAt(0) && (e = t.directory(), i._parts.path = (e ? e + "/" : "") + i._parts.path, i.normalizePath()), i.build(), i
				}, _.relativeTo = function(t) {
					var e, r, s, i, a, o = this.clone().normalize();
					if (o._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
					if (t = new n(t).normalize(), e = o._parts, r = t._parts, i = o.path(), a = t.path(), "/" !== i.charAt(0)) throw new Error("URI is already relative");
					if ("/" !== a.charAt(0)) throw new Error("Cannot calculate a URI relative to another relative URI");
					if (e.protocol === r.protocol && (e.protocol = null), e.username !== r.username || e.password !== r.password) return o.build();
					if (null !== e.protocol || null !== e.username || null !== e.password) return o.build();
					if (e.hostname !== r.hostname || e.port !== r.port) return o.build();
					if (e.hostname = null, e.port = null, i === a) return e.path = "", o.build();
					if (s = n.commonPath(o.path(), t.path()), !s) return o.build();
					var h = r.path.substring(s.length).replace(/[^\/]*$/, "").replace(/.*?\//g, "../");
					return e.path = h + e.path.substring(s.length), o.build()
				}, _.equals = function(t) {
					var e, r, s, i = this.clone(),
						a = new n(t),
						h = {}, u = {}, c = {};
					if (i.normalize(), a.normalize(), i.toString() === a.toString()) return !0;
					if (e = i.query(), r = a.query(), i.query(""), a.query(""), i.toString() !== a.toString()) return !1;
					if (e.length !== r.length) return !1;
					h = n.parseQuery(e, this._parts.escapeQuerySpace), u = n.parseQuery(r, this._parts.escapeQuerySpace);
					for (s in h)
						if (g.call(h, s)) {
							if (o(h[s])) {
								if (!p(h[s], u[s])) return !1
							} else if (h[s] !== u[s]) return !1;
							c[s] = !0
						}
					for (s in u)
						if (g.call(u, s) && !c[s]) return !1;
					return !0
				}, _.duplicateQueryParameters = function(t) {
					return this._parts.duplicateQueryParameters = !! t, this
				}, _.escapeQuerySpace = function(t) {
					return this._parts.escapeQuerySpace = !! t, this
				}, n
			});


		}, {
			"./IPv6": 120,
			"./SecondLevelDomains": 121,
			"./punycode": 123
		}
	],
	123: [
		function(require, module, exports) {
			(function(global) {
				! function(o) {
					function n(o) {
						throw RangeError(S[o])
					}

					function r(o, n) {
						for (var r = o.length; r--;) o[r] = n(o[r]);
						return o
					}

					function t(o, n) {
						return r(o.split(O), n).join(".")
					}

					function e(o) {
						for (var n, r, t = [], e = 0, u = o.length; u > e;) n = o.charCodeAt(e++), n >= 55296 && 56319 >= n && u > e ? (r = o.charCodeAt(e++), 56320 == (64512 & r) ? t.push(((1023 & n) << 10) + (1023 & r) + 65536) : (t.push(n), e--)) : t.push(n);
						return t
					}

					function u(o) {
						return r(o, function(o) {
							var n = "";
							return o > 65535 && (o -= 65536, n += R(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), n += R(o)
						}).join("")
					}

					function i(o) {
						return 10 > o - 48 ? o - 22 : 26 > o - 65 ? o - 65 : 26 > o - 97 ? o - 97 : b
					}

					function f(o, n) {
						return o + 22 + 75 * (26 > o) - ((0 != n) << 5)
					}

					function c(o, n, r) {
						var t = 0;
						for (o = r ? M(o / A) : o >> 1, o += M(o / n); o > L * C >> 1; t += b) o = M(o / L);
						return M(t + (L + 1) * o / (o + j))
					}

					function l(o) {
						var r, t, e, f, l, a, s, d, p, h, v = [],
							g = o.length,
							j = 0,
							A = I,
							y = m;
						for (t = o.lastIndexOf(F), 0 > t && (t = 0), e = 0; t > e; ++e) o.charCodeAt(e) >= 128 && n("not-basic"), v.push(o.charCodeAt(e));
						for (f = t > 0 ? t + 1 : 0; g > f;) {
							for (l = j, a = 1, s = b; f >= g && n("invalid-input"), d = i(o.charCodeAt(f++)), (d >= b || d > M((w - j) / a)) && n("overflow"), j += d * a, p = y >= s ? x : s >= y + C ? C : s - y, !(p > d); s += b) h = b - p, a > M(w / h) && n("overflow"), a *= h;
							r = v.length + 1, y = c(j - l, r, 0 == l), M(j / r) > w - A && n("overflow"), A += M(j / r), j %= r, v.splice(j++, 0, A)
						}
						return u(v)
					}

					function a(o) {
						var r, t, u, i, l, a, s, d, p, h, v, g, j, A, y, E = [];
						for (o = e(o), g = o.length, r = I, t = 0, l = m, a = 0; g > a; ++a) v = o[a], 128 > v && E.push(R(v));
						for (u = i = E.length, i && E.push(F); g > u;) {
							for (s = w, a = 0; g > a; ++a) v = o[a], v >= r && s > v && (s = v);
							for (j = u + 1, s - r > M((w - t) / j) && n("overflow"), t += (s - r) * j, r = s, a = 0; g > a; ++a)
								if (v = o[a], r > v && ++t > w && n("overflow"), v == r) {
									for (d = t, p = b; h = l >= p ? x : p >= l + C ? C : p - l, !(h > d); p += b) y = d - h, A = b - h, E.push(R(f(h + y % A, 0))), d = M(y / A);
									E.push(R(f(d, 0))), l = c(t, j, u == i), t = 0, ++u
								}++t, ++r
						}
						return E.join("")
					}

					function s(o) {
						return t(o, function(o) {
							return y.test(o) ? l(o.slice(4).toLowerCase()) : o
						})
					}

					function d(o) {
						return t(o, function(o) {
							return E.test(o) ? "xn--" + a(o) : o
						})
					}
					var p = "object" == typeof exports && exports,
						h = "object" == typeof module && module && module.exports == p && module,
						v = "object" == typeof global && global;
					(v.global === v || v.window === v) && (o = v);
					var g, w = 2147483647,
						b = 36,
						x = 1,
						C = 26,
						j = 38,
						A = 700,
						m = 72,
						I = 128,
						F = "-",
						y = /^xn--/,
						E = /[^ -~]/,
						O = /\x2E|\u3002|\uFF0E|\uFF61/g,
						S = {
							overflow: "Overflow: input needs wider integers to process",
							"not-basic": "Illegal input >= 0x80 (not a basic code point)",
							"invalid-input": "Invalid input"
						}, L = b - x,
						M = Math.floor,
						R = String.fromCharCode;
					g = {
						version: "1.2.3",
						ucs2: {
							decode: e,
							encode: u
						},
						decode: l,
						encode: a,
						toASCII: d,
						toUnicode: s
					}, h.exports = g
				}(this);


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {}
	],
	124: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.module.apiTest",
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../directive/microApp/microAppContainer"), require("../../service/openAPI/config"), require("../../service/openAPI/initHelper")]).controller("apiTestCtrl", ["$scope", "openAPIConfig", "openAPIInitHelper",
				function(e, r, t) {
					var i = this;
					this.resultUrl = "about:blank", this.testUrl = "";
					var o = this.containerId = frameTalkHost.getNewContainerId();
					r.init(o, function(e) {
						var r = e.jsApiList,
							i = e.origin;
						t.initOpenAPI(o, i, r)
					}), this.submitTestUrl = function() {
						i.resultUrl = i.testUrl
					}, e.$on("$destroy", function() {
						frameTalkHost.destroyContainer(o)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/microApp/microAppContainer": 68,
			"../../service/openAPI/config": 326,
			"../../service/openAPI/initHelper": 333,
			"@ali/frame-talk/host": 457
		}
	],
	125: [
		function(require, module, exports) {
			"use strict";
			require("../../directive/arch/organizationList"), require("../../directive/org/orgList"), require("../../service/org/OrgTree");
			var $my = require("../../service/user/my");
			require("../../service/tool/multiOrgTool"), require("../../service/modal/quitCompanyModal"), require("../../service/modal/confirm"), require("../../service/toast/toast");
			var storage = require("../../service/storage/storage");
			angular.module("ddWeb.arch", ["ui.router.state", "ddWeb.service.quitCompanyModal", "ddWeb.arch.organizationList", "ddWeb.org.orgListDirective", "ddWeb.org.OrgTree", "ddWeb.service.multiOrgTool", "ddWeb.modal.confirm", "ddWeb.toast", require("@ali/ding-api")["interface"].ContactI, require("../../service/user/userManager"), require("../../service/log/log")]).controller("arch", ["$state", "$scope", "multiOrgTool", "OrgTree", "quitCompanyModalService", "$confirm", "toastService", "ContactI", "userManager", "log",
				function(e, r, t, o, i, n, a, c, u, s) {
					function g() {
						u.getUserWithExt($my.uid).then(function() {
							l(), m.isGettingMyProfile = !1
						}, function() {
							l(), m.isGettingMyProfile = !1, s.error("get my profile error in arch init")
						})
					}

					function l() {
						var e = new o($my.getOrgByOid(m.currentOrgData.oid));
						m.orgEmployees = $my.orgEmployees, m.currentDept = e.currentTreeNode
					}

					function d(e) {
						var r = null,
							t = null,
							o = null;
						m.authLevel ? (r = {
							title: "退出企业",
							content: "你确认退出该企业？退出后将自动退出你所在的企业群。",
							isWarning: !0
						}, t = "leaveOrganizationV2", o = e) : (r = {
							title: "退出团队",
							content: "你确认退出该团队？",
							isWarning: !0
						}, t = "leaveOrganization", o = e.orgId), n(r).then(function() {
							c[t](o, function(e) {
								if (200 != e.code) {
									var r = e.body && e.body.reason ? e.body.reason : "退出团队失败";
									a.show(r, {
										type: "error"
									})
								}
							})
						})
					}

					function v(e) {
						var r = $my.getOrgByOid(e);
						m.authLevel = r.orgDetail.authLevel, m.leavePermission = r.orgDetail.leavePermission, m.btnText = "退出该团队", m.authLevel && (m.btnText = "退出该企业"), m.onQuitClick = function() {
							m.authLevel ? i.showModal(m.authLevel, e).then(function(e) {
								d(e)
							}) : d({
								orgId: e
							})
						}
					}
					var m = this;
					m.orgDataArr = t.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees), m.currentOrgData = t.getCurrentOrgData(m.orgDataArr[0], m.orgDataArr), m.currentDept = null, m.isGettingMyProfile = !0, m.onContactClick = function() {
						storage.session.setItem(storage.KEYS.CONTACT_TAB_STATUS, "contact"), e.go("authorized.contact")
					}, r.$watch(function() {
						return m.currentOrgData.oid
					}, function(e) {
						void 0 !== e && v(e)
					}), g()
				}
			]);


		}, {
			"../../directive/arch/organizationList": 11,
			"../../directive/org/orgList": 70,
			"../../service/log/log": 260,
			"../../service/modal/confirm": 280,
			"../../service/modal/quitCompanyModal": 291,
			"../../service/org/OrgTree": 338,
			"../../service/storage/storage": 373,
			"../../service/toast/toast": 378,
			"../../service/tool/multiOrgTool": 382,
			"../../service/user/my": 400,
			"../../service/user/userManager": 404,
			"@ali/ding-api": 453
		}
	],
	126: [
		function(require, module, exports) {
			require("../../directive/chat/chatBox"), require("../../service/conversation/conversation"), require("../../service/goldlog/goldlog"), require("../../service/log/lwlog"), require("../../service/modal/profileModal"), require("../../directive/chat/headerBar/chatCall"), require("../../service/unPopModal/groupSetting");
			var ConvExtensionType = require("../../service/conversation/convExtensionType"),
				ConvType = require("../../service/conversation/ConvType"),
				$my = require("../../service/user/my"),
				app = angular.module("ddWeb.chat", ["ddWeb.conversation", "ddWeb.chat.chatBox", "ddWeb.goldlog", "ddWeb.log.lwlog", "ddWeb.unPopModal.groupSetting", "ddWeb.service.profileModal", "ddWeb.chat.chatCall", require("../../service/microApp/appList"), require("../../service/openWindow/openWindow"), require("@ali/ding-api")["interface"].AlimeiTicket, require("../../service/modal/groupAddMembersModal"), require("../../service/unPopModal/groupAnnounce"), require("../../service/unPopModal/groupFileList")]);
			app.controller("chat", ["$scope", "$rootScope", "conversation", "$stateParams", "goldlog", "groupSettingService", "profileModalService", "lwlog", "UserI", "appList", "$OpenWindow", "AlimeiTicket", "groupAddMembersModalService", "$interval", "openGroupFileList", "groupAnnounceService",
				function(e, o, n, i, r, t, c, a, s, d, l, p, u, v, g, h) {
					function f(e) {
						u.showModal(e).then(function(i) {
							i = i.concat(parseInt(e.lockedIds[0] != $my.uid ? e.lockedIds[0] : e.lockedIds[1])), n.createConversation(i, null, {
								isOrg: !1
							}, function(e, n) {
								e && o.$broadcast("leftpannel.openChatByGroup", {
									conversationId: n
								})
							})
						})
					}

					function y() {
						v.cancel(W), W = null, w = 0
					}

					function m() {
						W ? y() : W = v(function() {
							w++ < S ? C.typingWords += "." : w > S + 1 && (C.typingWords = "正在输入", w = 0)
						}, 300)
					}
					var C = this,
						b = i.id;
					if (C.conv = n.getConvObj(b), C.ConvType = ConvType, r.log("chat_open_conversation", "cid=" + b), a.commLog("chat_open_conversation", "cid=" + b), C.cid = i.id, C.myuid = $my.uid, C.isSingle = 1 === C.conv.baseConversation.type, C.isSingle) {
						var M = C.conv.baseConversation.conversationId.split(":"),
							q = C.myuid == M[0] ? M[1] : M[0];
						C.uid = parseInt(q)
					}
					var I = C.conv.baseConversation.tag === C.ConvType.COMPANY_GROUP && C.conv.baseConversation.extension && C.conv.baseConversation.extension.id;
					C.spaceText = "聊天文件", this.goCloudDisk = function(e) {
						e.stopPropagation(), e.preventDefault(), C.conv.getIMSpaceId().then(function(e) {
							g({
								cid: b,
								orgId: I || void 0,
								spaceId: e,
								title: C.spaceText
							})
						})
					}, this.showGroupSettingModal = function(e) {
						e.preventDefault(), e.stopPropagation(), t.open(null, {
							cid: b
						}).then(function(e) {}, function(e) {})
					}, this.showGroupBulletinModal = function(e) {
						e.preventDefault(), e.stopPropagation(), h.open({
							cid: b
						})
					}, this.showProfile = function() {
						c(q)
					}, this.sendMsgCallBack = [], this.addMember = function() {
						var e = {
							isCompanyGroup: !1,
							oid: null,
							orgName: null,
							lockedIds: []
						};
						e.lockedIds = C.conv.baseConversation.conversationId.split(":").map(function(e) {
							return parseInt(e)
						}), f(e)
					};
					var W = null,
						S = 3,
						w = 0;
					this.typingWords = "正在输入", e.$watch(function() {
						return C.conv.isShowTyping
					}, function(e) {
						e ? (C.typingWords = "正在输入", m()) : y()
					}), e.$on("$destroy", function() {
						y()
					})
				}
			]);


		}, {
			"../../directive/chat/chatBox": 12,
			"../../directive/chat/headerBar/chatCall": 13,
			"../../service/conversation/ConvType": 184,
			"../../service/conversation/convExtensionType": 191,
			"../../service/conversation/conversation": 193,
			"../../service/goldlog/goldlog": 239,
			"../../service/log/lwlog": 262,
			"../../service/microApp/appList": 268,
			"../../service/modal/groupAddMembersModal": 282,
			"../../service/modal/profileModal": 289,
			"../../service/openWindow/openWindow": 335,
			"../../service/unPopModal/groupAnnounce": 393,
			"../../service/unPopModal/groupFileList": 394,
			"../../service/unPopModal/groupSetting": 395,
			"../../service/user/my": 400,
			"@ali/ding-api": 453
		}
	],
	127: [
		function(require, module, exports) {
			var moduleName = "ddWeb.contact.follow",
				serviceName = "ddWeb.contact.follow";
			require("../../service/state");
			var _ = require("lodash");
			angular.module(serviceName, ["ddWeb.state", require("../../service/user/userManager"), require("../../service/toast/toast"), require("../../service/modal/profileModal"), require("../../service/user/userConcernMap")]).controller("followContact", ["$scope", "stateService", "userManager", "toastService", "profileModalService", "userConcernMap",
				function(e, o, r, t, a, s) {
					function l(e) {
						a(e.userProfileModel.uid)
					}

					function c(e) {
						var o = [];
						Object.keys(e).forEach(function(r) {
							(0 === e[r].status || 2 === e[r].status) && o.push(r)
						}), r.getUsers(o).then(function(e) {
							i.followList = e
						})
					}
					var i = this;
					o.set("contact.router", "follow"), i.followList = [], i.showProfile = l, i.followMap = s.getMap(), e.$watch(function() {
						return i.followMap
					}, function(e) {
						c(e)
					}, !0)
				}
			]), module.exports = moduleName;


		}, {
			"../../service/modal/profileModal": 289,
			"../../service/state": 371,
			"../../service/toast/toast": 378,
			"../../service/user/userConcernMap": 403,
			"../../service/user/userManager": 404,
			"lodash": 470
		}
	],
	128: [
		function(require, module, exports) {
			require("../../service/toast/toast.js"), require("../../service/state"), require("../../service/modal/addFriend"), require("../../service/friend/FriendFactory"), angular.module("ddWeb.contact.friend", ["ddWeb.state", "ddWeb.toast", "ddWeb.modal.addFriend", "ddWeb.friend.FriendFactory"]).controller("friendContact", ["$scope", "stateService", "toastService", "$addFriend", "FriendFactory",
				function(e, r, t, d, i) {
					this.friendData = i.getFriendList(), r.set("contact.router", "friend"), this.searchFriend = function() {
						d()
					}, e.$on("$destroy", function() {
						i.destoryFriendList()
					})
				}
			]);


		}, {
			"../../service/friend/FriendFactory": 232,
			"../../service/modal/addFriend": 276,
			"../../service/state": 371,
			"../../service/toast/toast.js": 378
		}
	],
	129: [
		function(require, module, exports) {
			require("../../service/friend/FriendFactory"), require("../../service/toast/toast"), require("../../service/goldlog/goldlog"), require("../../service/log/lwlog.js"), require("../../directive/widget/avatar/avatar");
			var app = angular.module("ddWeb.friendRequest", ["ddWeb.friend.FriendFactory", "ddWeb.toast", "ddWeb.goldlog", "ddWeb.log.lwlog", "ddWeb.widget.avatar"]);
			app.controller("friendRequest", ["$scope", "FriendFactory", "toastService", "goldlog", "lwlog",
				function(e, r, t, d, o) {
					d.log("contact_newfriend_click"), o.commLog("contact_newfriend_click"), this.friendData = r.getFriendRequestList(), e.$on("$destroy", function() {
						r.destroyFriendRequestList()
					})
				}
			]);


		}, {
			"../../directive/widget/avatar/avatar": 85,
			"../../service/friend/FriendFactory": 232,
			"../../service/goldlog/goldlog": 239,
			"../../service/log/lwlog.js": 262,
			"../../service/toast/toast": 378
		}
	],
	130: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.contact.group";
			require("../../service/events.js"), require("../../service/state"), require("../../service/toast/toast"), angular.module(moduleName, ["ddWeb.service.profileModal", "ddWeb.events", require("@ali/ding-api")["interface"].IDLConversation, "ddWeb.state", "ddWeb.toast", require("../../directive/group/index")]).controller("groupContact", ["$rootScope", "$scope", "profileModalService", "EVENTS", "IDLConversation", "stateService", "toastService",
				function(e, r, t, o, i, a, s) {
					a.set("contact.router", "group")
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/group/index": 60,
			"../../service/events.js": 221,
			"../../service/state": 371,
			"../../service/toast/toast": 378,
			"@ali/ding-api": 453
		}
	],
	131: [
		function(require, module, exports) {
			require("./friend"), require("./group"), require("../../service/state");
			var storage = require("../../service/storage/storage"),
				$my = require("../../service/user/my"),
				app = angular.module("ddWeb.contact", ["ui.router", "ddWeb.contact.friend", "ddWeb.contact.group", require("./follow"), "ddWeb.state"]);
			app.controller("contact", ["$scope", "$state",
				function(e, t) {
					function r() {
						"authorized.contact" == t.current.name && (t.go(a.defaultGo), a.currentState = a.defaultState)
					}
					var a = this;
					a.currentState = "contact", a.allData = {}, a.defaultGo = ".friend", a.defaultState = "authorized.contact.friend", a.isShowTab = !! ($my.orgEmployees && $my.orgEmployees.length > 0), r(), a.onArchClick = function() {
						storage.session.setItem(storage.KEYS.CONTACT_TAB_STATUS, "arch"), t.go("authorized.arch")
					}, e.$on("$stateChangeSuccess", function(e, t, o, c, n) {
						a.currentState = t.name, r()
					})
				}
			]);


		}, {
			"../../service/state": 371,
			"../../service/storage/storage": 373,
			"../../service/user/my": 400,
			"./follow": 127,
			"./friend": 128,
			"./group": 130
		}
	],
	132: [
		function(require, module, exports) {
			"use strict";
			var ua = require("../../service/ua"),
				semver = require("semver"),
				limitConfig = require("../../service/limitConfig"),
				localLog = require("../../service/log/localLog");
			require("../../directive/widget/searchBar");
			var $my = require("../../service/user/my");
			require("../../service/friend/FriendFactory");
			var lastTag = null,
				storage = require("../../service/storage/storage");
			angular.module("ddWeb.home", ["ui.router.state", "ddWeb.widget.searchBar", require("../../directive/widget/windowOperations"), require("../../service/events"), require("../../directive/widget/email"), require("../../directive/widget/cloudDisk"), require("../../directive/mainMenu/functionMenu"), require("../../directive/mainMenu/settingMenu"), "ddWeb.friend.FriendFactory", require("../../service/ding/dinglist"), require("../../service/app/nw"), require("../../service/conversation/unreadConv"), require("../../service/microApp/microAppData"), require("../../service/login/loginStatus")]).controller("home", ["$rootScope", "$scope", "$state", "EVENTS", "FriendFactory", "dinglist", "nw", "microAppData", "unreadConv", "loginStatus",
				function(e, i, t, r, o, n, a, s, c, u) {
					var g = this;
					this.$state = t, "authorized" === t.current.name && t.go("authorized.im.nocontent"), this.unreadMsgCount = 0, c.on(c.EventsName.UNREAD_UPDATE, function(e) {
						var t = e.unreadMsgCount;
						this.unreadMsgCount = t;
						try {
							i.$digest()
						} catch (r) {}
					}.bind(this)), this.goState = function(e) {
						lastTag === e || t.includes(e) || t.go(e)
					}, i.$on("$stateChangeSuccess", function(e, i, t, r, o) {
						lastTag = i.name
					}), this.login_state = u.getLoginStatus(), e.$on(r.LOGIN_STATE_CHANGE, function(e, t) {
						g.login_state = t;
						try {
							i.$digest()
						} catch (r) {}
					}), g.receiveList = n.getReceiveList(), g.sendList = n.getSentList(), $my.orgEmployees && $my.orgEmployees.length > 0 ? this.isShowArch = !0 : this.isShowArch = !1;
					var d = limitConfig.MIN_MICRO_APP_NW_VERSION;
					s.getData().then(function(e) {
						if (e.oa_org && Object.keys(e.oa_org).length && (g.isShowMicroApp = !0, ua.isNw)) {
							var i = a.version();
							semver.lt(i, d) && (g.isShowMicroApp = !1)
						}
					})["catch"](function(e) {
						localLog.error("get micro app list failure", JSON.stringify(e))
					}), this.$my = $my, o.init(), g.onHeaderDblClick = function(e) {
						return ua.isNw ? $(e.target).closest(".search-bar-wraper").length ? !1 : void a.expandWindow(!0) : void 0
					}, g.onContactClick = function() {
						var e = storage.session.getItem(storage.KEYS.CONTACT_TAB_STATUS) || "arch";
						$my.orgEmployees && $my.orgEmployees.length > 0 ? "arch" === e ? this.goState("authorized.arch") : "contact" === e && this.goState("authorized.contact") : this.goState("authorized.contact")
					}, g.scrollToUnReadConv = function() {
						e.$broadcast(r.SCROLL_TO_UNREAD_CONV)
					}, ua.isNw && $("html").addClass("no-bg")
				}
			]);


		}, {
			"../../directive/mainMenu/functionMenu": 66,
			"../../directive/mainMenu/settingMenu": 67,
			"../../directive/widget/cloudDisk": 91,
			"../../directive/widget/email": 99,
			"../../directive/widget/searchBar": 110,
			"../../directive/widget/windowOperations": 113,
			"../../service/app/nw": 161,
			"../../service/conversation/unreadConv": 201,
			"../../service/ding/dinglist": 216,
			"../../service/events": 221,
			"../../service/friend/FriendFactory": 232,
			"../../service/limitConfig": 254,
			"../../service/log/localLog": 259,
			"../../service/login/loginStatus": 266,
			"../../service/microApp/microAppData": 271,
			"../../service/storage/storage": 373,
			"../../service/ua": 390,
			"../../service/user/my": 400,
			"semver": 473
		}
	],
	133: [
		function(require, module, exports) {
			"use strict";
			angular.module("ddWeb.im", ["ui.router.state", require("../../directive/convlist/convlist")]).controller("im", ["$state",
				function(t) {
					"authorized.im" === t.current.name && t.go("authorized.im.nocontent")
				}
			]);


		}, {
			"../../directive/convlist/convlist": 45
		}
	],
	134: [
		function(require, module, exports) {
			require("./receive"), require("./send"), require("../../service/ding/dinglist");
			var app = angular.module("ddWeb.list", ["ui.router", "ddWeb.list.receive", "ddWeb.list.send", "ddWeb.ding"]);
			app.controller("list", ["$state", "$scope", "$timeout", "dinglist",
				function(e, i, t, s) {
					var d = this;
					d.$state = e, d.receiveList = s.getReceiveList(), d.sendList = s.getSentList(), !d.receiveList.isActive() && d.receiveList.active(), !d.sendList.isActive() && d.sendList.active(), i.$on("$stateChangeSuccess", function(i, t, s, d, r) {
						e.is("authorized.ding") && e.go("authorized.ding.receive")
					})
				}
			]);


		}, {
			"../../service/ding/dinglist": 216,
			"./receive": 135,
			"./send": 136
		}
	],
	135: [
		function(require, module, exports) {
			require("../../service/ding/dinglist"), require("../../directive/dinglist/dingItem"), require("../../service/modal/sendDingModal");
			var app = angular.module("ddWeb.list.receive", ["ddWeb.ding", "ddWeb.dinglist.dingItem", require("../../service/modal/sendDingModal")]);
			app.controller("receive", ["$scope", "dinglist", "sendDingModalService",
				function(i, e, t) {
					var s = this;
					this.dingstate = 0, this.isOver = !1, this.isLoading = !1, this.receiveList = e.getReceiveList(), !this.receiveList.isActive() && this.receiveList.active();
					var n = i.$watch(function() {
						return s.receiveList.showItems
					}, function(i) {
						if (i) {
							if (i.length > 0) {
								if (s.dingstate = 2, i[0].EOF) return void(s.dingstate = 1)
							} else if (0 === i.length) return void(s.dingstate = 0);
							i[i.length - 1].EOF && (s.isOver = !0)
						}
					});
					this.loadMore = function() {
						s.isLoading || s.isOver || (s.isLoading = !0, s.receiveList.showMore(function() {
							s.isLoading = !1
						})), i.$digest()
					}, this.showDingModal = t.showModal, i.$on("$destroy", function() {
						s.receiveList.isActive() && s.receiveList.deactive(), n()
					})
				}
			]);


		}, {
			"../../directive/dinglist/dingItem": 56,
			"../../service/ding/dinglist": 216,
			"../../service/modal/sendDingModal": 293
		}
	],
	136: [
		function(require, module, exports) {
			require("../../service/ding/dinglist"), require("../../directive/dinglist/dingItem");
			var app = angular.module("ddWeb.list.send", ["ddWeb.ding", "ddWeb.dinglist.dingItem", require("../../service/modal/sendDingModal")]);
			app.controller("send", ["$scope", "dinglist", "sendDingModalService",
				function(i, e, s) {
					var t = this;
					this.dingstate = 0, this.isOver = !1, this.isLoading = !1, this.sendList = e.getSentList(), !this.sendList.isActive() && this.sendList.active();
					var n = i.$watch(function() {
						return t.sendList.showItems
					}, function(i) {
						if (i) {
							if (i.length > 0) {
								if (t.dingstate = 2, i[0].EOF) return void(t.dingstate = 1)
							} else if (0 === i.length) return void(t.dingstate = 0);
							i[i.length - 1].EOF && (t.isOver = !0)
						}
					});
					this.loadMore = function() {
						t.isLoading || t.isOver || (t.isLoading = !0, t.sendList.showMore(function() {
							t.isLoading = !1
						})), i.$digest()
					}, this.showDingModal = s.showModal, i.$on("$destroy", function() {
						t.sendList.isActive() && t.sendList.deactive(), n()
					})
				}
			]);


		}, {
			"../../directive/dinglist/dingItem": 56,
			"../../service/ding/dinglist": 216,
			"../../service/modal/sendDingModal": 293
		}
	],
	137: [
		function(require, module, exports) {
			"use strict";
			require("../../service/api/Login"), require("../../service/umid/umid"), require("../../service/goldlog/goldlog");
			var uriResolve = require("../../service/uriResolve/resolve");
			angular.module("ddWeb.auth", ["ddWeb.api.Login", "ddWeb.umid", "ddWeb.goldlog"]).controller("auth", ["$scope", "$state", "Login", "umid", "goldlog",
				function(e, o, i, r, u) {
					var g = this;
					g.welcomeImg = uriResolve.assetsResolve("/app/img/welcome.png"), this.authorized = function() {
						o.go("authorized")
					}, this.gotoLogin = function() {
						o.go("login")
					}, i.autoLogin().then(function() {
						g.authorized()
					}, function() {
						g.gotoLogin()
					})
				}
			]);


		}, {
			"../../service/api/Login": 145,
			"../../service/goldlog/goldlog": 239,
			"../../service/umid/umid": 391,
			"../../service/uriResolve/resolve": 397
		}
	],
	138: [
		function(require, module, exports) {
			"use strict";
			var ua = require("../../service/ua"),
				semver = require("semver"),
				limitConfig = require("../../service/limitConfig"),
				env = require("../../service/env/env"),
				storage = require("../../service/storage/storage");
			angular.module("ddWeb.login", [require("./verLogin"), require("./scanCodeLogin"), require("./passwordLogin"), require("../../service/app/nw"), require("../../service/modal/updateAlert"), require("../../service/globalUrl")]).controller("login", ["$scope", "$state", "nw", "updateAlert", "globalURL",
				function(e, r, i, o, n) {
					var t = this;
					t.currentState = r.current.name, e.loginState = {
						isAutoLogin: !1
					};
					var s = storage.local.getItem(storage.KEYS.AUTH_METHOD);
					void 0 == s && (s = "scanCodeLogin"), r.go("login." + s), e.$on("$stateChangeSuccess", function(e, i, o, n, s) {
						t.currentState = r.current.name
					}), t.onHeaderDblClick = function() {
						ua.isNw && i.expandWindow(!0)
					}, env.isProductEnv && ua.isNw && ua.isWin && semver.lt(i.version(), limitConfig.WIN_APP_NEWEST_VERSION) && o({
						desc: ["优化性能，大幅度提高打开速度；", "支持PC 版处理审批消息；", "@支持拼音索引；", "每条消息支持显示具体时间；"],
						downloadURL: n.WIN_APP_RELEASE_PACKAGE,
						isDoDownload: !0,
						buttonList: ["download"]
					}), env.isProductEnv && ua.isNw && ua.isMac && semver.lt(i.version(), limitConfig.MAC_APP_NEWEST_VERSION) && o({
						desc: ["优化性能，大幅度提高打开速度；", "支持PC 版处理审批消息；", "@支持拼音索引；", "每条消息支持显示具体时间；"],
						downloadURL: n.MAC_APP_RELEASE_PACKAGE,
						isDoDownload: !0,
						buttonList: ["download"]
					}), ua.isNw && $("html").removeClass("no-bg")
				}
			]);


		}, {
			"../../service/app/nw": 161,
			"../../service/env/env": 219,
			"../../service/globalUrl": 238,
			"../../service/limitConfig": 254,
			"../../service/modal/updateAlert": 299,
			"../../service/storage/storage": 373,
			"../../service/ua": 390,
			"./passwordLogin": 139,
			"./scanCodeLogin": 140,
			"./verLogin": 141,
			"semver": 473
		}
	],
	139: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.passwordLogin",
				appKey = require("../../service/appInfo").APP_KEY,
				env = require("../../service/env/env"),
				SEND_SMS_INTERVAL = 60,
				my = require("../../service/user/my"),
				_ = require("lodash");
			require("../../service/api/Login"), require("../../directive/widget/phoneInput"), require("../../service/modifyPassword/pwdStrength"), require("../../service/modifyPassword/pwdModify"), require("../../service/log/log"), require("../../service/toast/toast"), require("../../service/widget/countryService"), require("../../directive/widget/focus");
			var storage = require("../../service/storage/storage"),
				ua = require("../../service/ua"),
				app = angular.module(moduleName, ["ddWeb.api.Login", "ddWeb.widget.phoneInput", "ddWeb.service.pwdStrength", "ddWeb.service.pwdModify", "ddWeb.log.log", "ddWeb.toast", "ddWeb.service.countryService", "ddWeb.widget.focus", require("../../directive/login/newUserInfo"), require("../../service/login/compare2local")]);
			app.controller("passwordLogin", ["$scope", "$state", "Login", "pwdStrength", "pwdModify", "log", "toastService", "countryService", "compare2local",
				function(e, o, r, s, i, n, t, d, a) {
					function c() {
						return s.getPwdScore(g.password)
					}

					function u(e) {
						g.loginError = {
							msg: e
						}
					}

					function l() {
						storage.local.setItem(storage.KEYS.LATEST_USER_INFO, JSON.stringify({
							tel: g.telephone,
							countryKey: g.countryKey,
							nick: _.get(my, "userProfileModel.nick"),
							avatarMediaId: _.get(my, "userProfileModel.avatarMediaId")
						}))
					}
					var g = this,
						m = {};
					try {
						m = JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))
					} catch (f) {}
					m || (m = {});
					var y = m.tel || "",
						b = m.countryCode || "CN",
						p = m.nick || null,
						S = m.avatarMediaId || null,
						v = {
							nick: p,
							avatarMediaId: S
						};
					g.isNw = ua.isNw, g.user = v, g.telephone = y, g.countryKey = b, g.firstInput = !1, g.phoneValid = !0, g.connecting = !1, g.submitable = !1, g.isCurrentUser = a.isSameUser(g.countryKey, g.telephone), g.needSmsVerify = !1, g.smsCode = null, g.smsCodeErrMsg = null, g.smsCodeSubmitDisabled = !1, g.loginError = {
						msg: ""
					}, g.password = "", g.focusPhone = !0;
					g.onPhoneChange = function(e) {
						g.phoneValid = e.isValid, g.isCurrentUser = a.isSameUser(e.countryKey, e.phone)
					}, g.submit = function() {
						if (g.submitable && g.phoneValid && !e.passwordForm.$invalid) {
							g.connecting = !0, g.submitable = !1;
							var s = d.getCodeByName(g.countryKey),
								t = g.fullPhone = s + "-" + g.telephone,
								a = c();
							if (50 > a) var m = !0;
							else var m = !1;
							r.loginWithPsw(t, g.password, m, e.loginState.isAutoLogin).then(function() {
								g.connecting = !1, storage.local.setItem(storage.KEYS.AUTH_METHOD, "passwordLogin"), m === !0 ? (i({
									title: "修改密码",
									closable: !1,
									hasTitle: !0
								}).then(function() {
									r.logout()
								}), n.info("password is too simple, force modify")) : (o.go("authorized"), n.info("login success by password"), l()), g.connecting = !1
							}, function(e) {
								e && 500 === e.code && e.body && "14001" === e.body.code ? (g.needSmsVerify = !0, g.sendSmsCode(), n.info("force sms code verify because new device")) : (u(e && e.body && e.body.reason ? e.body.reason : "网络异常，请稍后再试"), n.error(JSON.stringify(e))), g.connecting = !1, g.submitable = !0
							}), g.sendSmsCode = function() {
								g.sendCodeDisable = !0, r.sendSmsCode(g.fullPhone).then(function(e) {
									g.focusCode = !0, g.countFrom = SEND_SMS_INTERVAL, g.codeToken = e
								}, function(e) {
									e && e.body && e.body.reason ? g.smsCodeErrMsg = e.body.reason : g.smsCodeErrMsg = "发送短信验证码失败,请稍后再试", n.error(JSON.stringify(e))
								})
							}, g.clearSendSmsErrMsg = function() {
								g.smsCodeErrMsg = "", g.sendCodeDisable = !1
							}, g.countTimeout = function() {
								g.countFrom = 0, g.sendCodeDisable = !1
							}, g.smsCodeChange = function() {
								g.smsCodeErrMsg = null, g.smsCodeSubmitDisabled = !1
							}, g.verifySmsCode = function() {
								g.smsCodeSubmitDisabled = !0, g.connecting = !0, r.loginWithSMSCode(g.fullPhone, g.smsCode, g.codeToken, e.loginState.isAutoLogin).then(function() {
									g.connecting = !1, g.smsCodeSubmitDisabled = !1, storage.local.setItem(storage.KEYS.AUTH_METHOD, "passwordLogin"), l(), o.go("authorized"), n.info("login success by password + smscode")
								}, function(e) {
									g.connecting = !1, g.smsCodeSubmitDisabled = !1, e && e.body && e.body.reason ? g.smsCodeErrMsg = e.body.reason : g.smsCodeErrMsg = "网络异常,请重试", n.error(JSON.stringify(e))
								})
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/login/newUserInfo": 65,
			"../../directive/widget/focus": 100,
			"../../directive/widget/phoneInput": 106,
			"../../service/api/Login": 145,
			"../../service/appInfo": 166,
			"../../service/env/env": 219,
			"../../service/log/log": 260,
			"../../service/login/compare2local": 265,
			"../../service/modifyPassword/pwdModify": 302,
			"../../service/modifyPassword/pwdStrength": 303,
			"../../service/storage/storage": 373,
			"../../service/toast/toast": 378,
			"../../service/ua": 390,
			"../../service/user/my": 400,
			"../../service/widget/countryService": 412,
			"lodash": 470
		}
	],
	140: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.scanCodeLogin",
				hostConfig = require("../../service/hostConfig");
			require("../../service/api/Login"), require("../../directive/widget/hoverAnimate");
			var storage = require("../../service/storage/storage");
			angular.module(moduleName, ["monospaced.qrcode", "ddWeb.api.Login", "ddWeb.hoverAnimate", require("../../directive/login/newUserInfo"), require("../../service/log/log")]).controller("scanCodeLogin", ["$scope", "$state", "$http", "$timeout", "Login", "log",
				function(e, o, r, n, s, i) {
					function c() {
						f.errMsg = "您的网络异常，请检查您的网络后点击刷新按钮重试", f.maskDisplay = !0, n.cancel(T), T = null
					}

					function t(e) {
						return new Promise(function(r, n) {
							m ? r() : s.loginWithScanCode(e).then(function() {
								m = !0, storage.local.setItem(storage.KEYS.AUTH_METHOD, "scanCodeLogin"), storage.local.removeItem(storage.KEYS.LATEST_USER_INFO), o.go("authorized"), i.info("login success by qrcode"), r()
							}, function(e) {
								n(e), i.error(JSON.stringify(e))
							})
						})
					}

					function a(o) {
						v || o == f.qrcode && r.jsonp(hostConfig.login + "/user/qrcode/is_logged.jsonp", {
							params: {
								callback: "JSON_CALLBACK",
								qrcode: f.qrcode
							},
							timeout: 1e4
						}).success(function(r) {
							C = 0, v || (f.maskDisplay = !1), r.success && r.result.secretToken ? (f.errMsg = "", f.maskDisplay = !0, t(r.result).then(function() {}, function(o) {
								o && o.body && o.body.reason ? (f.errMsg = o.body.reason, i.error(JSON.stringify(o))) : (f.errMsg = "您的网络异常，请检查您的网络", i.error("network error after scan code"));
								try {
									e.$digest()
								} catch (r) {}
							})) : a(o)
						}).error(function() {
							C++, C > 10 || !f.hasQrcode ? (i.error("get is_logged failed, network is bad"), c()) : a(o)
						})
					}

					function u(e, o) {
						v || r.jsonp(hostConfig.login + "/user/qrcode/generate.jsonp", {
							params: {
								callback: "JSON_CALLBACK"
							}
						}).success(function(r) {
							v || (r.success ? (v = !1, f.hasQrcode = !0, f.userMsg = "请使用钉钉扫描二维码登录", f.maskDisplay = !1, f.qrcode = r.result, f.qrcodeOpt.data = h + r.result, a(f.qrcode), T || g(), e && e()) : (k++, i.error("generate qrcode failed"), k > 5 ? c() : o && o()))
						}).error(function(e) {
							k++, i.error("generate qrcode interface error"), f.hasQrcode = !1, f.userMsg = "", k > 5 ? c() : o && o()
						})
					}

					function l(e) {
						q = setTimeout(function() {
							u(function() {
								l(f.successReloadTime)
							}, function() {
								l(f.errorReloadTime)
							})
						}, e)
					}

					function d() {
						clearTimeout(q), n.cancel(T), T = null, v = !1, f.qrcode = null, u(function() {
							l(f.successReloadTime)
						}, function() {
							l(f.errorReloadTime)
						})
					}

					function g() {
						T = n(function() {
							f.errMsg = "您的二维码已经失效，请点击下方的刷新按钮", f.maskDisplay = !0, clearTimeout(q), v = !0, i.info("qrcode is invalid")
						}, p)
					}
					var f = this,
						m = !1,
						h = "http://qr.dingtalk.com/action/login?code=",
						q = null,
						p = 18e4,
						v = !1,
						T = null,
						y = null;
					this.errMsg = "", this.userMsg = "请使用钉钉扫描二维码登录";
					var C = 0,
						k = 0;
					this.qrcodeOpt = {
						size: 170,
						data: "",
						level: "M",
						version: "5"
					}, this.hasQrcode = !0, this.qrcode = "", this.successReloadTime = 18e4, this.errorReloadTime = 2e3, this.maskDisplay = !1, this.canRefresh = !0, d(), f.updateQrCode = function() {
						f.canRefresh && (d(), f.canRefresh = !1, y = n(function() {
							f.canRefresh = !0, y = null
						}, 3e3))
					}, e.$on("$destroy", function() {
						f.qrcode = null, clearTimeout(q), n.cancel(T), n.cancel(y)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/login/newUserInfo": 65,
			"../../directive/widget/hoverAnimate": 103,
			"../../service/api/Login": 145,
			"../../service/hostConfig": 242,
			"../../service/log/log": 260,
			"../../service/storage/storage": 373
		}
	],
	141: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.verLogin",
				env = require("../../service/env/env"),
				appKey = require("../../service/appInfo").APP_KEY,
				my = require("../../service/user/my"),
				_ = require("lodash");
			require("../../directive/widget/formValidation"), require("../../directive/widget/countdown"), require("../../directive/widget/focus"), require("../../service/api/Login"), require("../../directive/widget/phoneInput"), require("../../service/widget/countryService");
			var storage = require("../../service/storage/storage");
			require("../../directive/widget/avatar/avatar");
			var ua = require("../../service/ua"),
				SEND_SMS_INTERVAL = 60,
				verCache = {
					codedisable: !1,
					submitDisable: !0,
					focusCode: !1,
					telCache: null,
					countryKeyCache: null
				}, lastSendSmsTime = 0;
			angular.module(moduleName, ["ddWeb.widget.formValidation", "ddWeb.widget.countdown", "ddWeb.api.Login", "ddWeb.widget.focus", "ddWeb.widget.phoneInput", "ddWeb.service.countryService", require("../../service/login/compare2local"), require("../../service/log/log")]).controller("verLogin", ["$scope", "$state", "Login", "$timeout", "countryService", "compare2local", "log",
				function(e, o, i, r, t, n, a) {
					function s(e) {
						d.loginError = {
							msg: e
						}
					}

					function c() {
						storage.local.setItem(storage.KEYS.LATEST_USER_INFO, JSON.stringify({
							tel: d.telephone,
							countryKey: d.countryKey,
							nick: _.get(my, "userProfileModel.nick"),
							avatarMediaId: _.get(my, "userProfileModel.avatarMediaId")
						}))
					}
					var d = this,
						u = {};
					try {
						u = JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))
					} catch (l) {}
					u || (u = {});
					var g = u.tel || "",
						m = u.countryCode || "CN",
						v = u.nick || null,
						y = u.avatarMediaId || null,
						b = {
							nick: v,
							avatarMediaId: y
						};
					d.isNw = ua.isNw, d.user = b, d.codedisable = verCache.codedisable, d.focusTelephone = !0, d.telephone = g, d.countryKey = m ? m : "CN", d.connecting = !1, d.submitDisable = verCache.submitDisable, d.phoneValid = !0, d.intervaltime = verCache.intervaltime, d.loginError = {
						msg: ""
					}, d.isCurrentUser = n.isSameUser(d.countryKey, d.telephone), d.code = "";
					var S = (new Date).getTime(),
						f = S - lastSendSmsTime;
					f > 0 && 6e4 > f && (d.countFrom = 60 - parseInt(f / 1e3), d.codedisable = !0), d.onPhoneChange = function(e) {
						d.phoneValid = e.isValid, d.isCurrentUser = n.isSameUser(e.countryKey, e.phone)
					}, d.submit = function() {
						if (!d.submitDisable) {
							d.connecting = !0, d.submitDisable = !0;
							var r = t.getCodeByName(d.countryKey),
								n = r + "-" + d.telephone;
							i.loginWithSMSCode(n, d.code, d.codeToken, e.loginState.isAutoLogin).then(function() {
								storage.local.setItem(storage.KEYS.AUTH_METHOD, "verLogin"), o.go("authorized"), a.info("login success by sms code"), c()
							}, function(e) {
								s(e && e.body && e.body.reason ? e.body.reason : "网络异常，请稍后再试"), d.connecting = !1, d.submitDisable = !1, a.error(JSON.stringify(e))
							})
						}
					}, d.countTimeout = function() {
						d.codedisable = !1, d.countFrom = 0
					}, d.sendCode = function() {
						if (!d.codedisable) {
							var o = t.getCodeByName(d.countryKey),
								r = o + "-" + d.telephone;
							d.codedisable = !0, i.sendSmsCode(r).then(function(o) {
								d.focusCode = !0, d.countFrom = SEND_SMS_INTERVAL, lastSendSmsTime = (new Date).getTime(), d.codeToken = o, e.verLoginError = {
									msg: "",
									errIcon: ""
								}, a.info("send sms code success")
							}, function(e) {
								s(e && e.body && e.body.reason ? e.body.reason : "网络异常，请稍后再试"), d.codedisable = !1, a.error(JSON.stringify(e))
							})
						}
					}, e.$on("$stateChangeStart", function(e, o, i, r, t) {
						verCache = {
							codedisable: d.codedisable,
							submitDisable: d.submitDisable,
							focusCode: d.focusCode,
							telCache: d.telephone,
							countryKeyCache: d.countryKey
						}
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/widget/avatar/avatar": 85,
			"../../directive/widget/countdown": 93,
			"../../directive/widget/focus": 100,
			"../../directive/widget/formValidation": 101,
			"../../directive/widget/phoneInput": 106,
			"../../service/api/Login": 145,
			"../../service/appInfo": 166,
			"../../service/env/env": 219,
			"../../service/log/log": 260,
			"../../service/login/compare2local": 265,
			"../../service/storage/storage": 373,
			"../../service/ua": 390,
			"../../service/user/my": 400,
			"../../service/widget/countryService": 412,
			"lodash": 470
		}
	],
	142: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.selector";
			require("../../service/tool/multiOrgTool");
			var frameTalkHost = require("@ali/frame-talk/host"),
				jsuri = require("jsuri"),
				_ = require("lodash"),
				localLog = require("../../service/log/localLog"),
				appListWhiteList = require("../../service/microApp/appListWhiteList"),
				ua = require("../../service/ua"),
				mediaId = require("@ali/ding-mediaid"),
				$my = require("../../service/user/my");
			angular.module(moduleName, ["ddWeb.service.multiOrgTool", require("../../service/toast/toast"), require("../../directive/microApp/microAppContainer"), require("../../service/microApp/appList"), require("../../service/microApp/authorize"), require("../../service/openAPI/config"), require("../../service/openAPI/initHelper"), require("../../service/openAPI/biz/oauth/authorize"), require("../../service/microApp/microAppData")]).controller("microAppSelector", ["$scope", "multiOrgTool", "toastService", "appList", "authorize", "openAPIConfig", "openAPIInitHelper", "openAPIBizOauthAuthorize", "microAppData",
				function(e, r, o, t, i, a, n, c, u) {
					function p() {
						s.containerId && frameTalkHost.destroyContainer(s.containerId);
						var e = s.containerId = frameTalkHost.getNewContainerId();
						a.init(e, function(r) {
							var o = r.jsApiList,
								t = r.origin;
							n.initOpenAPI(e, t, o)
						}), c.init(e, "*")
					}
					var s = this,
						l = "about:blank";
					s.resultUrl = l, s.currentApp = null, s.showDefaultPage = !0;
					var g = function(e) {
						return u.getData().then(function(r) {
							var o = _.get(r, "oa_org." + e);
							return o ? Promise.resolve(o) : Promise.reject({
								body: {
									reason: "该企业未开通微应用"
								}
							})
						}).then(function(e) {
							return e.oa_app && "object" == typeof e.oa_app ? Promise.resolve(Object.keys(e.oa_app).filter(function(r) {
								return appListWhiteList.indexOf(r + "") > -1 && e.oa_app[r].location > 0 || e.oa_app[r].rawPcHomepage && (ua.isNw ? !0 : "https://" === e.oa_app[r].rawPcHomepage.slice(0, 8))
							}).map(function(r) {
								return e.oa_app[r]
							})) : Promise.resolve([])
						}).then(function(e) {
							return e.forEach(function(e) {
								e.iconUrl || (e.iconUrl = mediaId.mid2Url(e.icon, {
									imageSize: "origin"
								}))
							}), e
						})["catch"](function(e) {
							localLog.error("getAppList error :", e)
						})
					};
					s.orgList = r.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees), s.isOnlyOneOrg = s.orgList.length && 1 === s.orgList.length, s.currentOrg = r.getCurrentOrgData(s.orgList[0], s.orgList), g(s.currentOrg.oid).then(function(e) {
						s.apps = e
					});
					var m = function() {
						s.resultUrl = l, s.currentApp = null, s.showDefaultPage = !0
					};
					s.onOrgSelect = function(o) {
						r.setCurrentOrgData(o), s.currentOrg = o, g(o.oid).then(function(r) {
							s.apps = r;
							try {
								e.$digest()
							} catch (o) {
								console.log(o)
							}
						}), m()
					};
					var d = function(e) {
						if (!e) return void m();
						var r = "";
						e.rawPcHomepage ? r = e.rawPcHomepage : (r = new jsuri(e.homepage).getQueryParamValue("url"), r || (r = e.homepage)), r ? u.getData().then(function(e) {
							var o = _.get(e, "oa_org." + s.currentOrg.oid),
								t = o.corpId;
							r = r.replace(/\$CORPID\$/g, t), i.getCode({
								corpId: t,
								url: r
							}).then(function(e) {
								s.resultUrl = new jsuri(r).addQueryParam("code", e.body).toString(), s.showDefaultPage = !1
							}, function(e) {
								s.resultUrl = r, s.showDefaultPage = !1
							})["catch"](function(e) {
								localLog.error("open micro app error", e)
							})
						}) : (m(), o.show("暂不支持该类型微应用的访问", {
							type: "error"
						}))
					};
					s.onAppClick = function(e) {
						e && s.currentApp && e.agent === s.currentApp.agent || (s.currentApp = e, d(e), p())
					}, e.$on("$destroy", function() {
						frameTalkHost.destroyContainer(s.containerId)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/microApp/microAppContainer": 68,
			"../../service/log/localLog": 259,
			"../../service/microApp/appList": 268,
			"../../service/microApp/appListWhiteList": 269,
			"../../service/microApp/authorize": 270,
			"../../service/microApp/microAppData": 271,
			"../../service/openAPI/biz/oauth/authorize": 315,
			"../../service/openAPI/config": 326,
			"../../service/openAPI/initHelper": 333,
			"../../service/toast/toast": 378,
			"../../service/tool/multiOrgTool": 382,
			"../../service/ua": 390,
			"../../service/user/my": 400,
			"@ali/ding-mediaid": 456,
			"@ali/frame-talk/host": 457,
			"jsuri": 469,
			"lodash": 470
		}
	],
	143: [
		function(require, module, exports) {
			"use strict";
			var uriResolve = require("../../service/uriResolve/resolve"),
				app = angular.module("ddWeb.nocontent", ["ui.router"]);
			app.controller("nocontent", ["$state", "$scope",
				function(e, n) {
					var o = this,
						t = (new Date).getHours();
					t > 5 && 12 > t ? o.timeType = "morning" : t >= 12 && 18 > t ? o.timeType = "afternoon" : o.timeType = "night", o.welcomeImg = uriResolve.assetsResolve("app/img/nocontent/lALOAEn98c0B4M0B4A_480_480.png"), o.morningImg = uriResolve.assetsResolve("app/img/nocontent/1f31e.png"), o.afternoonImg = uriResolve.assetsResolve("app/img/nocontent/2615.png"), o.nightImg = uriResolve.assetsResolve("app/img/nocontent/1f31b.png")
				}
			]);


		}, {
			"../../service/uriResolve/resolve": 397
		}
	],
	144: [
		function(require, module, exports) {
			angular.module("ui.bootstrap.transition", []).factory("$transition", ["$q", "$timeout", "$rootScope",
				function(n, i, t) {
					function a(n) {
						for (var i in n)
							if (void 0 !== r.style[i]) return n[i]
					}
					var o = function(a, r, e) {
						e = e || {};
						var s = n.defer(),
							d = o[e.animation ? "animationEndEventName" : "transitionEndEventName"],
							u = function(n) {
								t.$apply(function() {
									a.unbind(d, u), s.resolve(a)
								})
							};
						return d && a.bind(d, u), i(function() {
							angular.isString(r) ? a.addClass(r) : angular.isFunction(r) ? r(a) : angular.isObject(r) && a.css(r), d || s.resolve(a)
						}), s.promise.cancel = function() {
							d && a.unbind(d, u), s.reject("Transition cancelled")
						}, s.promise
					}, r = document.createElement("trans"),
						e = {
							WebkitTransition: "webkitTransitionEnd",
							MozTransition: "transitionend",
							OTransition: "oTransitionEnd",
							transition: "transitionend"
						}, s = {
							WebkitTransition: "webkitAnimationEnd",
							MozTransition: "animationend",
							OTransition: "oAnimationEnd",
							transition: "animationend"
						};
					return o.transitionEndEventName = a(e), o.animationEndEventName = a(s), o
				}
			]);


		}, {}
	],
	145: [
		function(require, module, exports) {
			"use strict";
			require("../events"), require("./MsgSub"), require("../modal/alert"), require("../user/userRemarksSync");
			var storage = require("../storage/storage"),
				appKey = require("../appInfo").APP_KEY,
				my = require("../user/my"),
				ua = require("../ua"),
				appInfo = require("../appInfo"),
				LoginStatusCode = require("../login/LoginStatusCode"),
				syncState = require("../syncProtocol/syncState"),
				REQ_TIMEOUT = 15e3,
				localIPRecord = require("../io/localIPRecord"),
				cookieManager = require("../cookie/cookie"),
				cookieNames = require("../cookie/cookieNames"),
				hostConfig = require("../hostConfig");
			angular.module("ddWeb.api.Login", ["ddWeb.events", "ddWeb.api.MsgSub", "ddWeb.modal.alert", "ddWeb.user.userRemarksSync", require("@ali/ding-api")["interface"].LoginI, require("@ali/ding-api")["interface"].OAuthI, require("@ali/ding-api")["interface"].UserI, require("../umid/umid"), require("../log/log"), require("../login/loginStatus"), require("../io/mainWS"), require("../appInit/afterLoginInit")]).factory("Login", ["$rootScope", "EVENTS", "MsgSub", "mainWS", "$alert", "userRemarksSync", "$q", "LoginI", "umid", "OAuthI", "log", "loginStatus", "afterLoginInit", "UserI",
				function(e, n, o, r, i, t, u, s, c, a, d, f, l, g) {
					function m(e) {
						return s.sendSmsCode(e).result.then(function(e) {
							return d.info("send sms code success"), e.body
						})["catch"](function(e) {
							return d.error("send sms code fail: " + e.toString()), Promise.reject(e._originMsg)
						})
					}
					var p = function() {
						r.logout()
					}, h = function() {
							return r.autoLogin().then(function(e) {
								return e ? g.getUserProfileExtensionByUid(e, null).result.then(function(e) {
									return e.body ? (my.setData(e.body), d.info("auto login get user profile extension success"), !0) : (d.error("auto login get user profile extension error" + JSON.stringify(e)), Promise.reject(new Error("获取个人信息失败")))
								}, function(e) {
									return d.error("auto login get user profile extension error" + JSON.stringify(e._originMsg)), Promise.reject(new Error("获取个人信息失败"))
								}) : (d.error("auto login but no uid"), Promise.reject(new Error("uid 为空")))
							}).then(function() {
								l.init()
							})
						}, k = function(e, n, o) {
							return n ? r.auth(e, o).then(function() {
								my.setData(n), l.init()
							}) : (d.error("auth fail, myProfile is null"), Promise.reject(new Error("auth fail, myProfile is null")))
						}, S = function() {
							return new Promise(function(e, n) {
								s.umidToken(function(o) {
									200 === o.code ? (c.init(o.body.TokenId, o.body.Timestamp), d.info("get umid success"), e(o.body)) : (d.info("get umid fail: " + JSON.stringify(o)), n(o))
								})
							})
						}, y = S(),
						T = function() {
							return y ? y.then(function() {
								return y
							}, function() {
								return y = S()
							}) : y = S()
						}, I = function(e, n, o, r) {
							return Promise.resolve().then(function() {
								return T()
							}).then(function(o) {
								return new Promise(function(r, i) {
									s.login({
										title: ua.deviceName.slice(0, 20),
										model: ua.deviceModel,
										token: o.TokenId
									}, e, n, appInfo.APP_KEY, null, function(e) {
										200 === e.code ? (r(e.body), d.info("login with psw get accessToken success")) : (i(e), d.error("password login error: " + JSON.stringify(e)), f.setLoginStatus(LoginStatusCode.LOGIN_FAIL))
									})
								})
							}).then(function(e) {
								return k({
									accessToken: e.accessToken,
									refreshToken: e.refreshToken,
									expiredTime: e.expiredTime,
									tmpCode: e.tmpCode,
									uid: e.openId
								}, e.userProfileExtensionModel, {
									isTempLogin: !! o,
									isAutoLogin: !! r
								})
							})
						}, P = function(e, n, o, r) {
							return Promise.resolve().then(function() {
								return T()
							}).then(function(r) {
								return new Promise(function(i, t) {
									s.tokenLogin({
										title: ua.deviceName.slice(0, 20),
										model: ua.deviceModel,
										token: r.TokenId
									}, e, n, appInfo.APP_KEY, o, null, function(e) {
										200 === e.code ? (i(e.body), d.info("login with sms code get accessToken success")) : (t(e), d.error("sms code login error: " + JSON.stringify(e)), f.setLoginStatus(LoginStatusCode.LOGIN_FAIL))
									})
								})
							}).then(function(e) {
								return k({
									accessToken: e.accessToken,
									refreshToken: e.refreshToken,
									expiredTime: e.expiredTime,
									tmpCode: e.tmpCode,
									uid: e.openId
								}, e.userProfileExtensionModel, {
									isAutoLogin: !! r
								})
							})
						}, q = function(e) {
							return d.info("login with scan code"), Promise.resolve().then(function() {
								return k({
									accessToken: e.accessToken,
									refreshToken: e.refreshToken,
									expiredTime: e.expiredTime,
									tmpCode: e.tmpCode,
									uid: e.openId
								}, e.userProfileExtensionModel, {
									needReconnectAfterDidSet: !0
								})
							})
						};
					return o.subscribe("/push/kickout", function(e) {
						d.info("has been kickout : " + JSON.stringify(e)), e.body ? (r.forceOffline(), i({
							content: e.body
						}).then(function() {
							p()
						}, function() {
							p()
						})) : p()
					}), {
						logout: p,
						autoLogin: h,
						loginWithPsw: I,
						loginWithSMSCode: P,
						loginWithScanCode: q,
						sendSmsCode: m
					}
				}
			]);


		}, {
			"../appInfo": 166,
			"../appInit/afterLoginInit": 167,
			"../cookie/cookie": 202,
			"../cookie/cookieNames": 203,
			"../events": 221,
			"../hostConfig": 242,
			"../io/localIPRecord": 249,
			"../io/mainWS": 250,
			"../log/log": 260,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../modal/alert": 278,
			"../storage/storage": 373,
			"../syncProtocol/syncState": 376,
			"../ua": 390,
			"../umid/umid": 391,
			"../user/my": 400,
			"../user/userRemarksSync": 406,
			"./MsgSub": 146,
			"@ali/ding-api": 453
		}
	],
	146: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.api.MsgSub";
			require("../io/mainWS"), require("../modal/alert"), angular.module(moduleName, ["ddWeb.io.mainWS", "ddWeb.modal.alert"]).factory("MsgSub", ["mainWS", "$alert",
				function(e, n) {
					var o = function(e) {
						var o = e.topic,
							u = e.msg,
							t = a[o];
						if (u.body && u.body.v && u.body.v > 0 && u.body.type) n({
							content: "钉钉有更新,请使用新版"
						}).then(function() {
							window.location.reload()
						});
						else if (t) {
							var i = r(e);
							t.forEach(function(e) {
								e && e(u, i)
							})
						}
					}, r = function(e) {
							return function(n, o, r) {
								e.respond(n, o, r)
							}
						}, a = {};
					e.regDownMsgHandle(o);
					var u = function(e, n) {
						a[e] || (a[e] = []);
						var o = a[e].push(n);
						return function() {
							a[e][o - 1] = null
						}
					};
					return {
						subscribe: u
					}
				}
			]), module.exports = moduleName;


		}, {
			"../io/mainWS": 250,
			"../modal/alert": 278
		}
	],
	147: [
		function(require, module, exports) {
			"use strict";
			var moment = require("moment"),
				Class = require("../../lib/class"),
				localLog = require("../log/localLog"),
				uriResolve = require("../uriResolve/resolve"),
				TRY_TIME_LIMIT = 5,
				ERR_CODE = {
					CANCEL_BY_USER: 2e4
				}, createFileAPI = uriResolve.apiResolve("/attachment/mcreatefile"),
				uploadAPI = uriResolve.apiResolve("/attachment/mupload"),
				addAPI = uriResolve.apiResolve("/v1/space/file/add"),
				moduleName = "ddWeb.api.SpaceUpload";
			angular.module(moduleName, [require("../refreshCookie/refreshCookie"), require("../file/fileHelper")]).factory("SpaceUpload", ["refreshCookie", "$fileHelper",
				function(e, r) {
					var n = Class.create({
						initialize: function(e, r, n) {
							var t = this;
							t._p = {}, this.result = new Promise(function(e, r) {
								t._p.resolve = e, t._p.reject = r
							}), this.onProgress = n || function() {}, this.file = e, this.spaceId = r, this.isCanceled = !1
						},
						ERR_CODE: ERR_CODE,
						upload: function() {
							var e = this;
							this._upload().then(function(r) {
								e._p.resolve(r)
							}, function(r) {
								e._p.reject(r)
							})
						},
						_upload: function() {
							var r = this;
							if (!r.file || !r.spaceId) return Promise.reject(new Error("file 或者 spaceId 不存在"));
							var n = 0,
								t = 3,
								i = function() {
									return r._mCreateFile().then(function(e) {
										return r._fragUpload(e)
									}).then(function(e) {
										return r._add(e)
									}).then(function(e) {
										return localLog.info("space upload success :", r.file.name, JSON.stringify(e)), Promise.resolve(e)
									})["catch"](function(o) {
										return n >= t ? (localLog.error("space upload error :", r.file.name, JSON.stringify(o)), Promise.reject(o)) : (n++, "5" == o.code ? e.refresh().then(function() {
											return i()
										}) : i())
									})
								};
							return i()
						},
						cancel: function() {
							var e = {
								code: 400,
								body: {
									code: ERR_CODE.CANCEL_BY_USER,
									reason: "取消了上传",
									silent: !0
								}
							};
							this.isCanceled = !0, this._p.reject(e)
						},
						_mCreateFile: function() {
							var e = this;
							return new Promise(function(r, n) {
								$.ajax(createFileAPI, {
									method: "GET",
									data: {
										size: e.file.size
									},
									dataType: "json"
								}).then(function(e) {
									if ("success" === e.msg && e.uploadid) {
										var t = e.uploadid;
										r(t)
									} else n(e)
								}, function(e) {
									n(data)
								})
							})
						},
						_fragUpload: function(e) {
							var r = this,
								n = this.file.size,
								t = 0,
								i = 5e5,
								o = uploadAPI + "?uploadid=" + e,
								a = 0;
							if (0 === n) return Promise.reject({
								body: {
									reason: "文件大小为空"
								}
							});
							var s = function() {
								return r.isCanceled === !0 ? Promise.reject() : new Promise(function(e, c) {
									var u = t * i,
										l = (t + 1) * i;
									l > n && (l = n);
									var d = new FormData,
										f = r.file.slice(u, l);
									d.append(r.file.name, f);
									var p = new XMLHttpRequest,
										m = function(r) {
											TRY_TIME_LIMIT > a ? (a++, s().then(function(r) {
												e(r)
											}, function(e) {
												c(e)
											})) : c(r)
										};
									p.upload.addEventListener("progress", function(e) {
										r.onProgress((e.loaded + l) / n)
									}, !1), p.addEventListener("error", function(e) {
										c(e)
									}, !1), p.addEventListener("load", function(r) {
										try {
											var i = JSON.parse(p.responseText);
											if ("0" !== i.code) return void m(i);
											l >= n ? e(i) : (a = 0, t++, s().then(function(r) {
												e(r)
											}, function(e) {
												c(e)
											}))
										} catch (o) {
											m(o)
										}
									}), p.open("POST", o), p.setRequestHeader("NDPartition", "bytes=" + u + "-" + (l - 1)), p.send(d)
								})
							};
							return s()
						},
						_getPath: function() {
							return ""
						},
						_add: function(e) {
							var n = this,
								t = e.filepath,
								i = n._getPath() + "/" + r.escapeFileName(n.file.name),
								o = {
									fromIm: !0,
									spaceId: n.spaceId,
									path: i,
									tempUrl: t
								};
							return new Promise(function(e, r) {
								$.ajax(addAPI, {
									method: "POST",
									data: JSON.stringify(o),
									contentType: "application/json",
									processData: !1
								}).then(function(t) {
									t && t.success === !0 ? (n.onProgress(1), e(t)) : r(t)
								}, function(e, n, t) {
									r(t)
								})
							})
						}
					});
					return n
				}
			]), module.exports = moduleName;


		}, {
			"../../lib/class": 119,
			"../file/fileHelper": 224,
			"../log/localLog": 259,
			"../refreshCookie/refreshCookie": 340,
			"../uriResolve/resolve": 397,
			"moment": 472
		}
	],
	148: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.api.Upload",
				moment = require("moment"),
				appKey = require("../appInfo").APP_KEY,
				storage = require("../storage/storage");
			require("../file/fileTypes"), require("../log/log");
			var WS3 = require("../io/ws3"),
				ua = require("../ua"),
				wsServerPool = require("../io/wsServerPool"),
				$fileTypes = require("@ali/ding-filetypes");
			angular.module(moduleName, ["ddWeb.file.fileTypes", "ddWeb.log.log"]).factory("Upload", ["log", "$rootScope",
				function(e, r) {
					function t(e) {
						a = e, "IDLE" === e ? p = setTimeout(function() {
							"IDLE" === a && s.disconnect()
						}, 3e4) : clearTimeout(p)
					}

					function i(e) {
						var r = {};
						r.token = e.token, r["app-key"] = appKey, r.dt = "j";
						var t = e.isPrivate ? "hd&ori&pri" : "hd&mi&ori";
						return r["up-req"] = "-1;-1;" + e.type + ";flag=" + t + ";", r["net-type"] = "wifi", Promise.resolve().then(function() {
							return s.sendMsg("/up/pre", r, null).result
						})
					}

					function o(e, r, i) {
						var o = 0,
							n = 5,
							a = 0,
							p = function(f) {
								return Promise.resolve().then(function() {
									return new Promise(function(r, t) {
										var i = f * c;
										a = Math.min(e.size, i + c);
										var o = e.slice(i, a);
										l(o, function(e) {
											r(e)
										})
									})
								}).then(function(t) {
									var i = {};
									i.token = r.token, i["app-key"] = appKey, i.dt = "b";
									var o = r.isPrivate ? "hd&ori&pri" : "hd&mi&ori";
									i["up-req"] = r.resp + ";" + f + ";" + r.type + ";flag=" + o + ";", i["net-type"] = "wifi", i.uip = r.uip;
									var n = "frag";
									return a === e.size && (n = "ci"), s.sendMsg("/up/" + n, i, t).result
								}).then(function(r) {
									return i(a / e.size), o = 0, a === e.size ? (u -= 1, 0 === u && t("IDLE"), Promise.resolve(r)) : p(f + 1)
								})["catch"](function(e) {
									return o++, n >= o ? p(f) : Promise.reject(e)
								})
							};
						return p(0)
					}

					function n(r, n, p) {
						var p = p || {};
						r instanceof Blob || e.error("file 必须是 Blob 对象"), "IDLE" === a && (s.connect(), t("UPLOADING")), u += 1;
						var n = n || function() {}, l = $fileTypes.getIdByType($fileTypes.getTypeByName(r.name)),
							c = storage.session.getItem(storage.KEYS.TOKEN) || storage.local.getItem(storage.KEYS.TOKEN);
						try {
							var f = JSON.parse(c).accessToken
						} catch (d) {
							return
						}
						return Promise.resolve().then(function() {
							return i({
								token: f,
								type: l,
								isPrivate: !! p.isPrivate
							})
						}).then(function(e) {
							var t = e.headers["up-resp"].split("&")[0],
								i = e.headers.uip;
							return o(r, {
								resp: t,
								uip: i,
								token: f,
								type: l,
								isPrivate: !! p.isPrivate
							}, n)
						})["catch"](function(r) {
							u -= 1, 0 === u && t("IDLE"), e.error(r)
						})
					}
					var a = "IDLE",
						u = 0,
						s = new WS3("upload", {
							wsServerPool: wsServerPool,
							UA: ua.fullUA,
							APP_KEY: appKey
						}),
						p = 0,
						l = function(e, r) {
							var t = new FileReader;
							t.onload = function() {
								var e = t.result,
									i = e.split(",")[1];
								r(i)
							}, t.readAsDataURL(e)
						}, c = 102e3;
					return {
						upload: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../appInfo": 166,
			"../file/fileTypes": 225,
			"../io/ws3": 251,
			"../io/wsServerPool": 252,
			"../log/log": 260,
			"../storage/storage": 373,
			"../ua": 390,
			"@ali/ding-filetypes": 455,
			"moment": 472
		}
	],
	149: [
		function(require, module, exports) {
			(function(Buffer) {
				angular.module("ddWeb.api.nwFileOperator", []).factory("$nwFileOperator", function() {
					function n(n) {
						return new Buffer(n).toString("base64")
					}
					return {
						transToDataURI: function(e, r) {
							var a = _nwrequire("fs");
							_nwrequire("path");
							a.readFile(e, function(t, i) {
								if (!t) {
									var u = null,
										f = null;
									u = a.statSync(e), f = e.substring(e.lastIndexOf(".") + 1), r({
										base64: n(i),
										mime: "image/" + f
									})
								}
							})
						}
					}
				});


			}).call(this, require("buffer").Buffer)
		}, {
			"buffer": 1
		}
	],
	150: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				UploadQueue = Class.create({
					initialize: function() {
						this.queue = [], this.workingTask = null, this.taskNum = 1
					},
					add: function(s, i, t) {
						this.queue.push([s, i, t, this.taskNum++]), this.workingTask || this._changeTask()
					},
					_changeTask: function() {
						this.queue.length > 0 ? (this.workingTask = this.queue.shift(), this._runTask()) : this.workingTask = null
					},
					_runTask: function() {
						var s = this,
							i = this.workingTask[3];
						this.workingTask[0].result.then(function() {
							t()
						}, function() {
							t()
						})["catch"](function(s) {
							t()
						});
						var t = function() {
							s.workingTask && s.workingTask[3] !== i || s._changeTask()
						};
						this.workingTask[0].upload(), this.workingTask[1] && this.workingTask[1]()
					},
					"delete": function(s) {
						if (this.workingTask[0] === s) this.workingTask[2] && this.workingTask[2](), this._changeTask();
						else {
							var i = -1;
							this.queue.some(function(t, n) {
								return t[0] === s ? (i = n, !0) : void 0
							}), -1 !== i && (this.queue[i][2] && this.queue[i][2](), this.queue.splice(i, 1))
						}
					},
					reset: function() {
						this.queue = [], this.workingTask = null
					}
				});
			module.exports = new UploadQueue;


		}, {
			"../../lib/class": 119
		}
	],
	151: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.api.trans";
			require("../mediaId/mediaId"), require("../io/mainWS"), angular.module(moduleName, ["ddWeb.io.mainWS", "ddWeb.mediaId"]).factory("trans", ["mainWS", "mediaId",
				function(e, d) {
					var a = function(d, a) {
						e.sendMsg("/up/trans", {}, {
							src: d,
							dstType: 5
						}, function(e) {
							a && a(e)
						})
					};
					return {
						amrToMp3: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../io/mainWS": 250,
			"../mediaId/mediaId": 267
		}
	],
	152: [
		function(require, module, exports) {
			(function(global) {
				"use strict";
				angular.module("ddWeb.appAutoRun", []).factory("appAutoRun", [
					function() {
						function n(n, e) {
							try {
								var r = _nwrequire("winreg"),
									t = new r({
										hive: r.HKCU,
										key: "\\Software\\Microsoft\\Windows\\CurrentVersion\\Run"
									})
							} catch (o) {
								return
							}
							var i = _nwrequire("path"),
								a = i.join(global.process.cwd(), u);
							n ? t.set("Dingtalk", "REG_SZ", a, function(n, r) {
								e && e(n, r)
							}) : t.remove("Dingtalk", function(n, r) {
								e && e(n, r)
							})
						}

						function e(n) {
							try {
								var e = _nwrequire("winreg"),
									r = new e({
										hive: e.HKCU,
										key: "\\Software\\Microsoft\\Windows\\CurrentVersion\\Run"
									})
							} catch (t) {
								return
							}
							r.get("Dingtalk", function(e, r) {
								return e ? n(e, "") : n(null, r.value)
							})
						}

						function r(n) {
							var r = _nwrequire("path"),
								t = r.join(global.process.cwd(), u);
							e(function(e, r) {
								return e ? n(e, !1) : n(null, r === t)
							})
						}
						var t = "rc" === window.desktopEnv,
							u = "DingTalk.exe";
						return t && (u = "DingTalkRC.exe"), {
							setAppAutoRun: n,
							getAppAutoRunValue: e,
							isAutoRunCorrect: r
						}
					}
				]);


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {}
	],
	153: [
		function(require, module, exports) {
			"use strict";
			var detector = require("detector"),
				ua = require("../../service/ua.js");
			require("../../service/modal/alertMsgModal.js"), require("../toast/toast"), require("../modal/confirm"), angular.module("ddWeb.appUpdate", ["ddWeb.service.alertMsgModal", "ddWeb.toast", "ddWeb.modal.confirm"]).factory("appUpdate", ["alertMsgModalService", "toastService", "$confirm",
				function(e, r, t) {
					return {
						update: function() {},
						destroyDownload: function() {}
					}
				}
			]);


		}, {
			"../../service/modal/alertMsgModal.js": 279,
			"../../service/ua.js": 390,
			"../modal/confirm": 280,
			"../toast/toast": 378,
			"detector": 461
		}
	],
	154: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.app.badgeLabel",
				ua = require("../ua");
			angular.module(moduleName, [require("../conversation/unreadConv"), require("./nw")]).factory("badgeLabel", ["unreadConv", "nw",
				function(e, n) {
					var a = function() {
						ua.isNw && (e.on(e.EventsName.UNREAD_UPDATE, function(e) {
							var a = e.unreadMsgCount;
							n.setUnread(a)
						}), $(window).on("unload", function() {
							n.setUnread(0)
						}))
					};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../conversation/unreadConv": 201,
			"../ua": 390,
			"./nw": 161
		}
	],
	155: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.download.DLManager",
				ua = require("../../ua");
			require("../nwDialog"), require("../../toast/toast");
			var ErrorMsg = require("./ErrorMsg"),
				_ = require("lodash"),
				app = angular.module(moduleName, ["ddWeb.nw.dialog", "ddWeb.toast", require("../../log/log"), require("./downloadService"), require("./LocalCache")]);
			app.factory("DLManager", ["nwDialog", "toastService", "log", "nwDownloadService", "DLLocalCache",
				function(r, n, e, o, t) {
					function a(r) {
						return h = r.isNotShowToast, r.onStart = r.onStart || function() {}, r.onProgress = r.onProgress || function() {}, r.onFinish = r.onFinish || function() {}, r.onError = r.onError || function() {}, ua.isNw ? r.url ? i(r) : Promise.reject(ErrorMsg.urlError) : Promise.reject(ErrorMsg.uaError)
					}

					function i(n) {
						return e.info("start download : " + JSON.stringify(n)), new Promise(function(o, t) {
							r.saveAs(function(r) {
								n.tmpPath = l(r), e.info("获取保存路径成功"), o({
									path: n.tmpPath,
									name: n.name,
									url: n.url
								})
							}, n.name)
						}).then(function(r) {
							return e.info("try open file"), u(n, r)
						}).then(function(r) {
							return e.info("start request download server"), n.onStart(), s(n, r)
						}).then(function(r) {
							return e.info("write file"), c(n, r)
						}).then(function(r) {
							return e.info("donwnload success"), t.setCache(r.url, r.name, r.realPath), n.onFinish(r), r
						})["catch"](function(r) {
							return n.onError(r), f(r, n), Promise.reject(r)
						})
					}

					function u(r, n) {
						return new Promise(function(e, o) {
							p.open(n.path, "w", function(t, a) {
								t ? o(ErrorMsg.noPermisionWrite) : (r.fd = n.fd = a, e(n))
							})
						})
					}

					function s(r, n) {
						return new Promise(function(r, e) {
							new o(n.url).promise.then(function(e) {
								n.res = e, r(n)
							}, function(r) {
								e(r)
							})
						})
					}

					function c(r, n) {
						return new Promise(function(e, o) {
							var t = n.res,
								a = parseInt(t.headers["content-length"]),
								i = 0,
								u = null;
							n.realPath = m(n.path, n.name);
							try {
								var s = p.createWriteStream(n.path, {
									fd: n.fd
								});
								n.fileStream = s, t.pipe(s), t.on("data", function(n) {
									i += n.length, r.onProgress(parseInt(i), parseInt(a)), clearTimeout(u), u = setTimeout(function() {
										o(ErrorMsg.timeout)
									}, 5e3)
								}).on("end", function() {
									s.end(), p.rename(n.path, n.realPath, function(r) {
										r && o(ErrorMsg.noPermisionWrite)
									}), e(n), clearTimeout(u)
								}).on("error", function(r) {
									o(ErrorMsg.pipeError)
								})
							} catch (c) {
								o(ErrorMsg.pipeError)
							}
						})
					}

					function f(r, n) {
						e.error("download err reason:" + JSON.stringify(r));
						var o = _.get(r, "reason"),
							t = "";
						t = o ? '下载"' + n.name + '"失败，' + o : '下载"' + n.name + '"失败，请重试', d(t, "error");
						try {
							n.fd && p.closeSync(n.fd), p.unlink(n.tmpPath)
						} catch (a) {
							e.info("rm tmp download reason:" + JSON.stringify(a))
						}
					}

					function d(r, e) {
						h || n.show(r, {
							type: e
						})
					}

					function l(r) {
						var n = g.extname(r),
							e = g.dirname(r),
							o = g.basename(r, n);
						return g.join(e, o + ".dingtalk_download")
					}

					function m(r, n) {
						var e = g.extname(n),
							o = g.dirname(r),
							t = g.basename(r, ".dingtalk_download");
						return g.join(o, t + e)
					}
					var h = !1;
					if (ua.isNw) var g = _nwrequire("path"),
					p = _nwrequire("fs");
					return {
						download: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../log/log": 260,
			"../../toast/toast": 378,
			"../../ua": 390,
			"../nwDialog": 162,
			"./ErrorMsg": 156,
			"./LocalCache": 157,
			"./downloadService": 158,
			"lodash": 470
		}
	],
	156: [
		function(require, module, exports) {
			var ErrorMsg = {
				uaError: {
					code: -1,
					reason: "您使用的不是PC客户端"
				},
				urlError: {
					code: 500,
					reason: "没有url参数"
				},
				noPermisionDownload: {
					code: 401,
					reason: "没有权限下载"
				},
				noPermisionWrite: {
					code: 40013,
					reason: "无法下载此文件到该目录"
				},
				notFound: {
					code: 404,
					reason: "此文件不存在"
				},
				timeout: {
					code: 408,
					reason: "下载超时"
				},
				fail: {
					code: 500,
					reason: "下载失败"
				},
				serverError: {
					code: 500,
					reason: "服务器错误"
				},
				catchError: {
					code: 1e3,
					reason: "无法捕捉错误"
				},
				pipeError: {
					code: 1001,
					reason: "下载过程中失败"
				}
			};
			module.exports = ErrorMsg;


		}, {}
	],
	157: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.download.DLLocalCache",
				app = angular.module(moduleName, []);
			app.factory("DLLocalCache", [
				function() {
					function e(e) {
						return l[e]
					}

					function t(e, t, n) {
						var o = {
							url: e,
							name: t,
							path: n
						};
						for (l[e] = o, c = c.filter(function(e) {
							return e.url !== o.url
						}); c.length >= 200;) c.shift();
						return c.push(o), r(), o
					}

					function n(e) {
						l[e] && (delete l[e], c = c.filter(function(t) {
							return t.url !== e
						}), r())
					}

					function o(e) {
						return !!l[e]
					}

					function r() {
						localStorage.setItem("down_load_file", JSON.stringify(c))
					}

					function a() {
						var e = localStorage.getItem("down_load_file");
						try {
							c = JSON.parse(e) || []
						} catch (t) {
							c = [], console.log(t)
						}
					}

					function u() {
						a(), c.forEach(function(e) {
							l[e.url] = e
						})
					}
					var l = {}, c = [];
					return u(), {
						getCache: e,
						setCache: t,
						rmCache: n,
						isDownloaded: o
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	158: [
		function(require, module, exports) {
			var moduleName = "ddWeb.download.nwDownloadService",
				ErrorMsg = require("./ErrorMsg"),
				Uri = require("jsuri"),
				ua = require("../../ua"),
				app = angular.module(moduleName, []);
			app.factory("nwDownloadService", [
				function() {
					function r(r) {
						this.url = r, this.currentUrl = r, this.redirectTime = 0, this.promise = this.fetch()
					}
					if (ua.isNw) var e = _nwrequire("nw.gui"),
					t = e.Window.get(), o = _nwrequire("url"), n = _nwrequire("https"), i = _nwrequire("http");
					return r.prototype.fetch = function() {
						var r = this;
						return new Promise(function(e, t) {
							var u = new Uri(r.currentUrl);
							u.protocol() || u.protocol("https"), u = u.toString();
							var s;
							s = -1 !== u.indexOf("https") ? n : -1 !== u.indexOf("http") ? i : n, r._getCookieStr(u).then(function(n) {
								var i = o.parse(u);
								i.headers || (i.headers = {}), i.headers = {
									Cookie: n,
									"User-Agent": window.navigator.userAgent
								}, s.get(i, function(o) {
									200 === o.statusCode ? e(o) : 302 === o.statusCode || 301 === o.statusCode ? (r.redirectTime++, r.currentUrl = o.headers.location, r.redirectTime > 10 ? t({
										success: !1,
										reason: "redirect too much times"
									}) : r.fetch().then(function(r) {
										e(r)
									}, function(r) {
										t(r)
									})) : t(401 === o.statusCode ? ErrorMsg.noPermisionDownload : 404 === o.statusCode ? ErrorMsg.notFound : ErrorMsg.fail)
								}).on("error", function(r) {
									t(r)
								})
							})
						})
					}, r.prototype._getCookieStr = function(r) {
						return new Promise(function(e, o) {
							t.cookies.getAll({
								url: r
							}, function(r) {
								var t = [];
								r && Array.isArray(r) && r.forEach(function(r) {
									t.push(r.name + "=" + r.value)
								});
								var o = t.join("; ");
								e(o)
							})
						})
					}, r
				}
			]), module.exports = moduleName;


		}, {
			"../../ua": 390,
			"./ErrorMsg": 156,
			"jsuri": 469
		}
	],
	159: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.download.fileFactory",
				validator = require("validator"),
				app = angular.module(moduleName, [require("./DLManager"), require("./LocalCache"), require("../../file/fileHelper")]),
				EventEmitter = require("wolfy87-eventemitter");
			app.factory("fileFactory", ["DLManager", "DLLocalCache", "$fileHelper",
				function(i, r, t) {
					function e(i) {
						this.url = i.url, this.name = t.escapeFileName(i.name || this.url.split("/").pop()), this.path = i.path || "", this.progress = i.progress || 0, this.isError = i.isError || !1, this.isFinish = i.isFinish || !1, this.isActive = i.isActive || !1, this.isUpdatingProgress = !1, this.EVENTS = {
							STRAT: "START",
							PROGRESS: "PROGRESS",
							FINISH: "FINISH"
						}, this.proxy = new EventEmitter
					}

					function s(i) {
						var r = new e(i);
						return r
					}

					function o(i, t) {
						if (a[i]) return a[i];
						if (r.getCache(i)) {
							var s = r.getCache(i);
							return new e({
								url: s.url,
								path: s.path,
								name: s.name,
								isFinish: !0
							})
						}
						return new e({
							url: i,
							name: t
						})
					}

					function n(i) {
						return i instanceof e
					}
					var a = {};
					return e.prototype.onUpdateProgress = function(i, r) {
						var t = this;
						this.isUpdatingProgress || this.isFinish || (this.isUpdatingProgress = !0, setTimeout(function() {
							t.progress = parseInt(i / r * 100), t.isUpdatingProgress = !1, t.proxy.emitEvent(t.EVENTS.PROGRESS)
						}, 150))
					}, e.prototype.onStart = function() {
						this.progress = 0, this.isActive = !0, this.isFinish = !1, this.isError = !1, this.proxy.emitEvent(this.EVENTS.STRAT)
					}, e.prototype.onFinish = function(i) {
						this.progress = 100, this.isFinish = !0, this.isActive = !1, this.proxy.emitEvent(this.EVENTS.FINISH)
					}, e.prototype.onError = function() {
						this.isError = !0, this.isActive = !1, this.isFinish = !1
					}, e.prototype.reset = function() {
						this.progress = 0, this.isActive = !1, this.isFinish = !1, this.isError = !1
					}, e.prototype.download = function() {
						var r = this;
						if (!validator.isURL(this.url, {
							allow_protocol_relative_urls: !0
						})) throw new Error("URL 不合法");
						i.download({
							url: r.url,
							name: r.name,
							onStart: $.proxy(r.onStart, r),
							onProgress: $.proxy(r.onUpdateProgress, r),
							onFinish: $.proxy(r.onFinish, r),
							onError: $.proxy(r.onError, r)
						}).then(function(i) {
							delete a[r.url]
						}.bind(this))["catch"](function(i) {
							delete a[r.url]
						}), a[this.url] = this
					}, {
						create: s,
						getFileObj: o,
						isDLFile: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../file/fileHelper": 224,
			"./DLManager": 155,
			"./LocalCache": 157,
			"validator": 475,
			"wolfy87-eventemitter": 476
		}
	],
	160: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.download.openFile";
			require("../../toast/toast");
			var ErrorMsg = require("./ErrorMsg"),
				ua = require("../../ua"),
				app = angular.module(moduleName, [require("./LocalCache"), "ddWeb.toast"]);
			app.factory("openFileService", ["DLLocalCache", "toastService",
				function(r, e) {
					function t(e) {
						return new Promise(function(t, o) {
							if (s = !! e.isNotShowToast, ua.isNw) {
								var a = null,
									l = null;
								e.url && (a = r.getCache(e.url) || {}, l = e.path || a.path), l || o(ErrorMsg.urlError), u.exists(l, function(u) {
									u ? (n.Shell.showItemInFolder(l), t(!0)) : (r.rmCache(e.url), i("此文件已不存在，请重新下载", "error"), o(ErrorMsg.notFound))
								})
							} else o(ErrorMsg.uaError)
						})
					}

					function o(e) {
						var t = {}, o = e.map(function(r) {
								return r.url || r.path
							}),
							i = [];
						return e.forEach(function(e) {
							if (!t[e.url || e.path]) {
								var o = r.getCache(e.url) || {};
								o = $.extend(e, o), t[o.url || o.path] = o, i.push(new Promise(function(r, e) {
									o.path || (o.isExists = !1, r(o.isExists)), u.exists(o.path, function(e) {
										o.isExists = !! e, r(o.isExists)
									})
								}))
							}
						}), new Promise(function(r, e) {
							Promise.all(i).then(function() {
								var e = o.map(function(r) {
									return {
										url: t[r].url,
										path: t[r].path,
										isExist: t[r].isExists
									}
								});
								r(e)
							})
						})
					}

					function i(r, t) {
						s || e.show(r, {
							type: t
						})
					}
					if (ua.isNw) var u = _nwrequire("fs"),
					n = _nwrequire("nw.gui");
					var s = !1;
					return {
						open: t,
						isExist: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../toast/toast": 378,
			"../../ua": 390,
			"./ErrorMsg": 156,
			"./LocalCache": 157
		}
	],
	161: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.nw",
				ua = require("../ua.js");
			require("./versionCmp"), require("./appupdate"), require("./appAutoRun");
			var Uri = require("jsuri");
			angular.module(moduleName, ["ddWeb.appUpdate", "ddWeb.appAutoRun", "ddWeb.versionCmp", require("../modal/confirm"), require("../mediaId/mediaId"), require("../events")]).factory("nw", ["$rootScope", "$confirm", "appUpdate", "appAutoRun", "versionCmp", "EVENTS", "mediaId",
				function(e, n, t, i, o, r, u) {
					function a() {
						I = _nwrequire("nw.gui"), _ = I.Window.get(), U = I.App, N = U.manifest.version, S = U.manifest.manifestUrl
					}

					function c() {
						if ("smaller" !== o.check(N, "0.3.0")) {
							var e = 432e5;
							F = {
								version: N,
								manifestUrl: S
							}, t.update(F), setInterval(function() {
								t.destroyDownload(), setTimeout(function() {
									t.update(F)
								}, 0)
							}, e)
						}
					}

					function l() {
						var e = new I.Menu({
							type: "menubar"
						});
						try {
							e.createMacBuiltin("钉钉"), _.menu = e
						} catch (n) {
							console.log(n.message)
						}
					}

					function d() {
						var e = new I.Menu,
							n = new I.Menu,
							t = new I.MenuItem({
								label: "剪切",
								click: function() {
									document.execCommand("cut")
								}
							}),
							i = new I.MenuItem({
								label: "复制",
								click: function() {
									document.execCommand("copy")
								}
							}),
							o = new I.MenuItem({
								label: "复制",
								click: function() {
									document.execCommand("copy")
								}
							}),
							r = new I.MenuItem({
								label: "粘贴",
								click: function() {
									document.execCommand("paste")
								}
							});
						e.append(t), e.append(i), e.append(r), n.append(o), $(document).delegate("img,input,textarea,span,p,pre,h1,h2,h3,h4,h5,h6", "contextmenu", function(o) {
							if ("TEXTAREA" == o.target.nodeName || "INPUT" == o.target.nodeName) o.preventDefault(), "Range" !== window.getSelection().type ? (t.enabled = !1, i.enabled = !1) : (t.enabled = !0, i.enabled = !0), e.popup(o.originalEvent.x, o.originalEvent.y);
							else if ("IMG" === o.target.nodeName) {
								o.preventDefault();
								var r = o.originalEvent.srcElement;
								r.contentEditable = !0;
								var a = document.createRange();
								a.selectNode(r);
								var c = window.getSelection();
								c.removeAllRanges(), c.addRange(a);
								var l = $(o.target).attr("src"),
									d = u.url2Mid(l),
									s = d && "@" === d[0];
								s && setTimeout(function() {
									n.popup(o.originalEvent.x, o.originalEvent.y)
								}, 10)
							} else {
								if ("Range" !== window.getSelection().type) return;
								n.popup(o.originalEvent.x, o.originalEvent.y)
							}
							return !1
						})
					}

					function s() {
						function n(e) {
							var n = e || window.event,
								t = n.target || n.srcElement,
								i = t.type || t.getAttribute("type"),
								o = t.getAttribute("readonly"),
								r = t.getAttribute("enabled");
							o = null == o ? !1 : o, r = null == r ? !0 : r;
							var u = 8 != n.keyCode || "password" != i && "text" != i && "textarea" != i || 1 != o && 1 == r ? !1 : !0,
								a = 8 == n.keyCode && "password" != i && "text" != i && "textarea" != i ? !0 : !1;
							return a ? !1 : u ? !1 : void 0
						}
						_.on("close", function(e) {
							"quit" == e ? _.close(!0) : (_.hide(), P = !0, $(document).trigger("nw_visibilitychange", P))
						}), U.on("reopen", function() {
							E()
						}), _.on("minimize", function() {
							D = !0, $(document).trigger("nw_visibilitychange", D)
						}), _.on("restore", function() {
							D = !1, P && e.$broadcast("openUnreadChat"), $(document).trigger("nw_visibilitychange", P)
						}), T ? (_.on("focus", function() {
							P = !1, $(document).trigger("nw_visibilitychange", P)
						}), _.on("blur", function() {
							P = !0, $(document).trigger("nw_visibilitychange", P)
						})) : (window.addEventListener("blur", function() {
							P = !0, $(document).trigger("nw_visibilitychange", P)
						}), window.addEventListener("focus", function() {
							P = !1, $(document).trigger("nw_visibilitychange", P)
						})), document.onkeydown = n, $(window).unload(function() {
							R && z && (z.remove(), b(0))
						})
					}

					function m() {
						_.minimize()
					}

					function f() {
						T && _.isFullscreen ? _.leaveFullscreen() : (_.hide(), P = !0, $(document).trigger("nw_visibilitychange", P))
					}

					function g(e) {
						H ? (T && "smaller" !== o.check(N, "0.4.2") ? e ? _.unmaximize() : _.toggleFullscreen() : _.unmaximize(), H = !1) : (T && "smaller" !== o.check(N, "0.4.2") ? e ? _.maximize() : _.toggleFullscreen() : _.maximize(), H = !0)
					}

					function p() {
						_ && _.showDevTools()
					}

					function w(e, n, t) {
						if (!e) return null;
						var n = n || function() {}, t = t || function() {}, i = null;
						return ua.isMac && (e = e.replace("Command", "Ctrl")), i = new I.Shortcut({
							key: e,
							active: function() {
								n()
							},
							failed: function(e) {
								console.log(e), t(e)
							}
						}), v(i), U.registerGlobalHotKey(i), i
					}

					function v(e) {
						U.unregisterGlobalHotKey(e)
					}

					function b(e) {
						R && _ && (0 == e && (e = ""), setTimeout(function() {
							_.setBadgeLabel(e)
						}, 0))
					}

					function h(e) {
						if (R && _) {
							var n = e || 2;
							T || _.requestAttention(n)
						}
					}

					function y(e, n) {
						R && _ && _.resizeTo(e, n)
					}

					function x(e) {
						R && _ && (_.title = e)
					}

					function E() {
						R && _ && (_.show(), P = !1, D = !1, $(document).trigger("nw_visibilitychange", P), _.focus())
					}

					function k(e) {
						R && I.Window.open(e)
					}

					function A(e) {
						R && I.Shell.openExternal(e)
					}

					function C() {
						return N
					}

					function M() {
						R && (a(), s(), N ? (l(), d(), c()) : window.upgradeApp(!0))
					}

					function q() {
						if (R) {
							var e = [];
							return new Promise(function(n, t) {
								_.cookies.getAll({}, function(t) {
									t.forEach(function(n) {
										e.push(W(n))
									}), Promise.all(e).then(function(e) {
										n(e)
									})
								})
							})
						}
						return Promise.resolve()
					}

					function W(e) {
						var n = "http" + (e.secure ? "s" : "") + "://" + e.domain + e.path;
						return new Promise(function(t, i) {
							for (var o = new Uri(n), r = !1, u = 0; u < K.length; u++) {
								var a = o.host().substr(-K[u].length);
								if (-1 !== a.indexOf(K[u])) {
									r = !0;
									break
								}
							}
							r ? t() : _.cookies.remove({
								url: n,
								name: e.name
							}, function(e) {
								t(e)
							})
						})
					}
					var N, R = ua.isNw,
						T = ua.isMac,
						I = (window.devicePixelRatio > 1, null),
						_ = null,
						U = null,
						z = null,
						S = null,
						P = !1,
						D = !1,
						H = !1,
						F = null,
						K = ["dingtalk.com", "wswukong.laiwang.com"];
					return M(), {
						isHide: function() {
							return P
						},
						isMini: function() {
							return D
						},
						version: function() {
							return N
						},
						miniWindow: m,
						expandWindow: g,
						closeWindow: f,
						setUnread: b,
						setSize: y,
						setTitle: x,
						setRequestAttention: h,
						activeWindow: E,
						bindHotKey: w,
						unbindHotKey: v,
						openWindow: k,
						openExternal: A,
						getNWVersion: C,
						showDevTools: p,
						removeAllCookies: q
					}
				}
			]), module.exports = moduleName;


		}, {
			"../events": 221,
			"../mediaId/mediaId": 267,
			"../modal/confirm": 280,
			"../ua.js": 390,
			"./appAutoRun": 152,
			"./appupdate": 153,
			"./versionCmp": 165,
			"jsuri": 469
		}
	],
	162: [
		function(require, module, exports) {
			(function(global) {
				"use strict";
				var ua = require("../ua"),
					storage = require("../storage/storage");
				angular.module("ddWeb.nw.dialog", []).factory("nwDialog", [
					function() {
						var e = "";
						if (ua.isNw && ua.isMac) {
							var a = _nwrequire("path");
							global.process.env.HOME && "string" == typeof global.process.env.HOME && (e = a.join(global.process.env.HOME, "Downloads"))
						}
						if (ua.isNw && ua.isWin) {
							var a = _nwrequire("path");
							global.process.env.HOMEDRIVE && "string" == typeof global.process.env.HOMEDRIVE && global.process.env.HOMEPATH && "string" == typeof global.process.env.HOMEPATH && (e = "XP" === ua.osVersion ? global.process.env.HOMEDRIVE + global.process.env.HOMEPATH : a.join(global.process.env.HOMEDRIVE + global.process.env.HOMEPATH, "Downloads"))
						}
						var r = storage.local.getItem(storage.KEYS.DOWNLOAD_DIRETORY);
						r && (e = r);
						var n = function(a, r) {
							var n = _nwrequire("path");
							a.addEventListener("change", function() {
								var o = a.value;
								r(o), e = n.dirname(o), storage.local.setItem(storage.KEYS.DOWNLOAD_DIRETORY, e)
							}, !1), a.click()
						}, o = {};
						return o.saveAs = function(a, r, o) {
							if (ua.isNw) var t = _nwrequire("path").join(e, r);
							var i = document.createElement("input");
							if (i.type = "file", i.nwsaveas = t || "", i.nwworkingdir = e, o) angular.isArray(o) ? i.accept = o.join(",") : angular.isString(o) && (i.accept = o);
							else if (r && r.indexOf(".") > -1) {
								var s = r.split(".");
								i.accept = "." + s[s.length - 1]
							}
							n(i, a)
						}, o.openFile = function(e, a, r) {
							var o = document.createElement("input");
							o.type = "file", a === !0 && (o.multiple = "multiple"), angular.isArray(r) ? o.accept = r.join(",") : angular.isString(r) && (o.accept = r), n(o, e)
						}, o.openDir = function(e) {
							var a = document.createElement("input");
							a.type = "file", a.nwdirectory = "nwdirectory", n(a, e)
						}, o
					}
				]);


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {
			"../storage/storage": 373,
			"../ua": 390
		}
	],
	163: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.app.silentUpdate",
				env = require("../env/env"),
				localLog = require("../log/localLog"),
				_ = require("lodash");
			angular.module(moduleName, [require("./nw"), require("../modal/updateAlert")]).factory("silentUpdate", ["nw", "updateAlert",
				function(n, o) {
					var e = function() {
						try {
							var e = _nwrequire("@ali/dingtalk-silent-updater"),
								t = env.desktopEnv,
								i = e.init({
									web_content: {
										version: window.version
									},
									nw_version: n.version(),
									remoteManifest: "http://s.dingtalk.com/market/dingtalk/desktop_" + t + "_manifest.php"
								});
							i.on("web_content_update_success", function(n) {
								localLog.info("web_content :" + n.version + "更新成功"), console.log("web_content :" + n.version + "更新成功"), o({
									desc: _.get(n, "description", []),
									buttonList: ["confirm"],
									updateTitle: "已经为您升级到最新钉钉，您可以重启钉钉体验！"
								})
							}), i.on("web_content_update_fail", function(n) {
								localLog.info("web_content :" + n.version + "更新失败"), console.log("web_content :" + n.version + "更新失败")
							}), i.on("nw_is_not_supported", function(n) {
								localLog.info("nw is not supported", JSON.stringify(n)), console.log("nw is not supported", JSON.stringify(n)), o({
									desc: _.get(n, "install.description", []),
									downloadURL: _.get(n, "install.url"),
									isForce: !0,
									isDoDownload: !0,
									buttonList: ["download"]
								})
							}), i.on("nw_is_not_satisfied", function(n) {
								localLog.info("nw is not satisfied", JSON.stringify(n)), console.log("nw is not satisfied", JSON.stringify(n)), o({
									desc: _.get(n, "install.description", []),
									downloadURL: _.get(n, "install.url"),
									isDoDownload: !0,
									buttonList: ["download"]
								})
							}), i.on("package_downloaded", function(n) {
								o({
									desc: _.get(n.conf, "install.description", []),
									buttonList: ["confirm", "cancel"]
								}).then(function() {
									i.updatePackage(n)
								})
							}), i.on("package_update_failed", function(n) {
								localLog.info("package_update_failed", JSON.stringify(n)), console.log("package_update_failed", JSON.stringify(n)), o({
									desc: _.get(n, "install.description", []),
									downloadURL: _.get(n, "install.url"),
									isDoDownload: !0,
									buttonList: ["download"]
								})
							})
						} catch (l) {
							localLog.error(l.toString())
						}
					};
					return {
						init: e
					}
				}
			]), module.exports = moduleName;


		}, {
			"../env/env": 219,
			"../log/localLog": 259,
			"../modal/updateAlert": 299,
			"./nw": 161,
			"lodash": 470
		}
	],
	164: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.app.tray",
				ua = require("../ua"),
				semver = require("semver"),
				limitConfig = require("../limitConfig");
			angular.module(moduleName, [require("../modal/confirm"), require("./nw"), require("../conversation/unreadConv")]).factory("appTray", ["$confirm", "nw", "unreadConv", "$rootScope",
				function(e, n, i, t) {
					var r, a, o, u, l, c, m, s = !1,
						v = null;
					ua.isNw && (a = _nwrequire("nw.gui"), o = a.App);
					var f, g = function() {
							if (ua.isNw) {
								var t = semver.gte(o.manifest.version, limitConfig.MIN_TEMPLATE_TRAY_ICON_FOR_MAC) ? "true" : "false";
								r = new a.Tray({
									icon: "./res/tray@2x.png",
									iconsAreTemplates: t
								}), u = new a.Menu, l = new a.MenuItem({
									label: "打开钉钉",
									click: function() {
										n.activeWindow()
									}
								}), c = new a.MenuItem({
									label: "退出钉钉",
									click: function() {
										n.activeWindow(), e({
											title: "退出钉钉",
											content: "您确定要退出钉钉？",
											isWarning: !0
										}).then(function(e) {
											n.removeAllCookies().then(function(e) {
												o.quit()
											})
										})
									}
								}), u.append(l), u.append(c), m = new a.MenuItem({
									type: "separator"
								}), r.menu = u, r.click = function() {
									n.activeWindow()
								}, $(window).on("unload", function() {
									r && r.remove()
								}), i.on(i.EventsName.UNREAD_UPDATE, function(e) {
									var n = e.unreadMsgCount,
										i = e.unreadConvList;
									d(n), I(i), n > 0 ? s === !1 && C() : y()
								})
							}
						}, d = function(e) {
							if (ua.isMac) {
								var n = "";
								e > 0 && 100 > e ? n = e : e >= 100 && (n = "99+"), r.title = n
							}
						}, w = window.devicePixelRatio > 1;
					f = w ? "./res/unread@2x.png" : "./res/unread.png";
					var p = [],
						h = 5,
						I = function(e) {
							var e = e || [];
							if (e.length > p.length) {
								var i = e.length - p.length,
									i = Math.min(i, h - p.length);
								i > 0 && 0 === p.length && u.insert(m);
								for (var r = 0; i > r; r++) {
									var o = new a.MenuItem({
										label: "",
										icon: f,
										type: "normal"
									});
									p.push({
										menuItem: o
									}), u.insert(o)
								}
							} else if (e.length < p.length) {
								for (var i = p.length - e.length, r = 0; i > r; r++) {
									var c = p.pop();
									u.remove(c.menuItem)
								}
								0 === e.length && u.remove(m)
							}
							p.forEach(function(i, r) {
								var a = e[p.length - 1 - r];
								a && (i.menuItem.label = "", a.getTitle(function(e) {
									var n = a.newMsg > 99 ? "99+" : a.newMsg + "",
										t = M(n, 6) + e;
									i.menuItem.label = t
								}), i.menuItem.click = function() {
									t.$broadcast("openUnreadChat", a.convId), n.activeWindow()
								})
							}), e.length > h ? (l.label = "查看更多消息", l.click = function() {
								n.activeWindow(), t.$broadcast("openUnreadChat")
							}) : (l.label = "打开钉钉", l.click = function() {
								n.activeWindow()
							})
						}, M = function(e, n) {
							return 2 * e.length >= n ? e.slice(0, n) : e + new Array(n - 2 * e.length + 1).join(" ")
						}, C = function() {
							if (ua.isNw && ua.isWin) {
								var e = !1;
								v = setInterval(function() {
									e ? (r.icon = "./res/tray@2x.png", e = !1) : (r.icon = "./res/tray-new@2x.png", e = !0)
								}, 600), s = !0
							}
						}, y = function() {
							ua.isNw && ua.isWin && (clearInterval(v), r.icon = "./res/tray@2x.png", s = !1)
						};
					return {
						init: g
					}
				}
			]), module.exports = moduleName;


		}, {
			"../conversation/unreadConv": 201,
			"../limitConfig": 254,
			"../modal/confirm": 280,
			"../ua": 390,
			"./nw": 161,
			"semver": 473
		}
	],
	165: [
		function(require, module, exports) {
			"use strict";
			var ua = require("../../service/ua.js");
			angular.module("ddWeb.versionCmp", []).factory("versionCmp", [
				function() {
					function r(r, e) {
						var n = r.split("."),
							i = e.split(".");
						for (var t in n) {
							if (parseInt(n[t]) > parseInt(i[t])) return "bigger";
							if (parseInt(n[t]) < parseInt(i[t])) return "smaller"
						}
						return r === e ? "equal" : void 0
					}

					function e(e) {
						var n = _nwrequire("nw.gui"),
							i = n.App,
							t = i.manifest.version;
						return r(t, e)
					}
					ua.isNw;
					return {
						check: r,
						checkCurrentVersionWith: e
					}
				}
			]);


		}, {
			"../../service/ua.js": 390
		}
	],
	166: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				APP_KEY: "85A09F60A599F5E1867EAB915A8BB07F"
			};


		}, {}
	],
	167: [
		function(require, module, exports) {
			"use strict";
			require("../modal/UpdateMsgModal");
			var storage = require("../storage/storage");
			require("../app/appAutoRun"), require("../app/versionCmp"), require("../toast/toast"), require("../app/nw");
			var ua = require("../ua");
			require("../globalUrl");
			var moduleName = "ddWeb.appInit.afterLoginInit";
			angular.module(moduleName, ["ddWeb.modal.updateMsgModal", "ddWeb.appAutoRun", "ddWeb.versionCmp", "ddWeb.toast", "ddWeb.nw", "ddWeb.globalURL", require("../modal/confirm"), require("../modal/alert"), require("../storage/ddStorage"), require("../widget/hotkeyManager"), require("../ding/DingReceiveStatus"), require("../conversation/conversation"), require("../log/logUpload")]).factory("afterLoginInit", ["updateMsgModal", "appAutoRun", "$confirm", "$alert", "versionCmp", "toastService", "nw", "globalURL", "ddStorage", "hotkeyManager", "DingReceiveStatus", "conversation", "logUpload",
				function(e, t, o, n, i, r, a, u, l, s, c, g, d) {
					function m() {
						return e()
					}

					function p() {
						return "smaller" != i.checkCurrentVersionWith("0.3.0")
					}

					function f() {
						var e = p();
						"true" === storage.local.getItem("autorun") && ua.isWin && e && t.isAutoRunCorrect(function(e, o) {
							e || o || t.setAppAutoRun(!0, function(e) {})
						})
					}

					function h() {
						var e = p();
						!storage.local.getItem("autorun") && ua.isWin && e && (o({
							title: "设置开机自动启动钉钉",
							content: "要为钉钉设置开机自动启动么？"
						}).then(function() {
							storage.local.setItem("autorun", "true"), t.setAppAutoRun(!0, function(e) {})
						}), localStorage.setItem("autorun", "false"))
					}

					function v() {
						"smaller" === i.checkCurrentVersionWith("0.3.2") && r.show("快去官网下载体验最新版钉钉客户端吧！", {
							type: "information",
							timeout: !1
						}, {
							onCloseClick: function() {
								a.openExternal(R)
							}
						})
					}

					function q() {
						window.alert = function(e) {
							n({
								content: e
							})
						}
					}

					function I() {
						var e = storage.local.getItem("notification"),
							t = l.getItemWithUid("dingEmailNotification"),
							o = storage.local.getItem("isBeepOpen"),
							n = storage.local.getItem("searchHotkey");
						e || (e = ua.isNw ? !0 : !1, storage.local.setItem("notification", e)), t || (t = ua.isNw ? !0 : !1, l.setItemWithUid("dingEmailNotification", t)), o || (o = !0, storage.local.setItem("isBeepOpen", o)), n || "" === n || storage.local.setItem("searchHotkey", "Ctrl+Shift+F")
					}

					function W(e) {
						if (I(), ua.isNw) {
							"smaller" != i.checkCurrentVersionWith("0.3.0");
							q(), v(), f(), m().then(function() {
								h()
							}, function() {
								h()
							})
						} else m();
						g.init(), d.init(), s.initOnLogin(), c.init()
					}
					var R = u.DOWNLOAD_URL;
					return {
						init: W
					}
				}
			]), module.exports = moduleName;


		}, {
			"../app/appAutoRun": 152,
			"../app/nw": 161,
			"../app/versionCmp": 165,
			"../conversation/conversation": 193,
			"../ding/DingReceiveStatus": 211,
			"../globalUrl": 238,
			"../log/logUpload": 261,
			"../modal/UpdateMsgModal": 274,
			"../modal/alert": 278,
			"../modal/confirm": 280,
			"../storage/ddStorage": 372,
			"../storage/storage": 373,
			"../toast/toast": 378,
			"../ua": 390,
			"../widget/hotkeyManager": 415
		}
	],
	168: [
		function(require, module, exports) {
			"use strict";
			require("../modal/alert");
			var wsServerPool = require("../io/wsServerPool");
			angular.module("ddWeb.appInit.init", [require("../api/MsgSub"), "ddWeb.modal.alert", require("../refreshCookie/refreshCookie"), require("../syncProtocol/sync"), require("../user/userRemarksSync"), require("../widget/hotkeyManager"), require("../openAPI/init"), require("../user/userSync"), require("../app/tray"), require("../titleService"), require("../app/badgeLabel")]).factory("$appInit", ["MsgSub", "$alert", "refreshCookie", "syncProtocol", "userSync", "hotkeyManager", "openAPIInit", "appTray", "titleService", "badgeLabel",
				function(e, i, r, n, t, o, u, a, s, c) {
					function b() {
						e.subscribe("/s/biz/organization", function(e, r) {
							if (r({}), e.body) {
								if (e.body.isLevelChange === !0) return;
								if (2 === e.body.changeType) return;
								i({
									content: "您的企业信息发生变更"
								}).then(function() {
									window.location.reload()
								})
							}
						})
					}

					function f() {
						e.subscribe("/s/msgTag", function(e, i) {
							i({})
						})
					}

					function l() {
						e.subscribe("/s/devSts", function(e, i) {
							i({})
						})
					}

					function d() {
						e.subscribe("/s/biz/conference", function(e, i) {
							i({})
						})
					}
					var p = function() {
						b(), f(), l(), d(), n.init(), r.init(), t.init(), o.initOnAppInit(), u.init(), a.init(), s.init(), c.init(), wsServerPool.init()
					};
					return {
						init: p
					}
				}
			]);


		}, {
			"../api/MsgSub": 146,
			"../app/badgeLabel": 154,
			"../app/tray": 164,
			"../io/wsServerPool": 252,
			"../modal/alert": 278,
			"../openAPI/init": 332,
			"../refreshCookie/refreshCookie": 340,
			"../syncProtocol/sync": 374,
			"../titleService": 377,
			"../user/userRemarksSync": 406,
			"../user/userSync": 408,
			"../widget/hotkeyManager": 415
		}
	],
	169: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.audio",
				uriResolve = require("./uriResolve/resolve"),
				AUDIO = {
					message: uriResolve.assetsResolve("app/audio/message.mp3"),
					ding: uriResolve.assetsResolve("app/audio/ding.mp3"),
					call: uriResolve.assetsResolve("app/audio/call.mp3")
				};
			angular.module(moduleName, []).factory("audioService", [
				function() {
					function e(e) {
						var o = AUDIO[e];
						"true" === localStorage.getItem("isBeepOpen") && o && (s.src = o, a = s.paused ? s.play() : s.pause())
					}
					var a = !1,
						s = new Audio;
					return {
						play: e
					}
				}
			]), module.exports = moduleName;


		}, {
			"./uriResolve/resolve": 397
		}
	],
	170: [
		function(require, module, exports) {
			var Class = require("../../lib/class"),
				Cache = Class.create({
					initialize: function(t) {
						this.name = t, this.cache = {}
					},
					set: function(t) {
						t.getId && t.getId() ? this.cache[t.getId()] = t : console.error("item must have getId method")
					},
					getItemById: function(t) {
						return this.cache[t]
					}
				}),
				ExpireCache = Class.create({
					initialize: function(t) {
						this._expireTime = t, this._storage = {}, this.initCleanTimer()
					},
					initCleanTimer: function() {
						var t = this;
						setTimeout(function() {
							Object.keys(t._storage).forEach(function(e) {
								t._isExpire(e) && t._remove(e)
							})
						}, 12e5)
					},
					_getNow: function() {
						return +new Date
					},
					_isExpire: function(t) {
						var e = this._expireTime;
						return this._getNow() - this._getTime(t) > e
					},
					_getTime: function(t) {
						return this._storage[t][1]
					},
					_getVal: function(t) {
						return this._storage[t][0]
					},
					_remove: function(t) {
						delete this._storage[t]
					},
					_isHit: function(t) {
						return this._storage[t]
					},
					addCache: function(t, e) {
						this._storage[t] = [e, this._getNow()]
					},
					getCache: function(t) {
						var e = !1;
						return this._isHit(t) ? this._isExpire(t) ? (this._remove(t), e) : this._getVal(t) : e
					},
					updateCache: function(t, e) {
						return this._isHit(t) ? this._storage[t][0].allData = this._storage[t][0].allData.concat(e.allData) : this._storage[t] = [e, this._getNow()], this._storage[t][0]
					}
				});
			exports.Cache = Cache, exports.ExpireCache = ExpireCache;


		}, {
			"../../lib/class": 119
		}
	],
	171: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class");
			angular.module("ddWeb.service.ImgOperator", []).factory("ImgOperator", [
				function() {
					var i = Class.create({
						initialize: function(i, t, e) {
							this._imgWrapDiv = i, this._hideLoadingDomFunc = t, this._scale = null, this._screenWidth = null, this._screenHeight = null, this._originTransitionCss = null, this._originPageX = null, this._originPageY = null, this._originTop = null, this._originLeft = null, this._isDragImg = !1, this._rotate = 0, this._isRelocate = !1, this._initSize = {}, this.initWhenCreate()
						},
						Statics: {
							create: function(t, e) {
								var s = new i(t, e);
								return s
							}
						},
						_getOffset: function(i) {
							return {
								left: Number(i.css("left").slice(0, -2)),
								top: Number(i.css("top").slice(0, -2))
							}
						},
						_saveImgOriginData: function(i, t) {
							this._originPageX = t.pageX, this._originPageY = t.pageY, this._originTop = i.top, this._originLeft = i.left
						},
						_forbiddenHtml5Drag: function() {
							this._image.attr("draggable", !1)
						},
						_isFirstMove: function() {
							return null === this._originPageX && null === this._originPageY
						},
						_move: function(i) {
							var t = i.pageX - this._originPageX + this._originLeft,
								e = i.pageY - this._originPageY + this._originTop;
							this._imgWrapDiv.css("left", t.toFixed(1) + "px"), this._imgWrapDiv.css("top", e.toFixed(1) + "px"), this._isRelocate = !0
						},
						_setSize: function(i, t) {
							this._scale > 1 ? this._setHeight(t) : this._setWidth(i)
						},
						_posToCenter: function() {
							this._imgWrapDiv.css("left", this._getLeft(this._centerLeft, this._getImgWidth())), this._imgWrapDiv.css("top", this._getTop(this._centerTop, this._getImgHeight()))
						},
						_getImgWidth: function() {
							return this._imgWrapDiv.width()
						},
						_getImgHeight: function() {
							return this._imgWrapDiv.height()
						},
						_getLeft: function(i, t) {
							return i - t / 2
						},
						_getTop: function(i, t) {
							return i - t / 2
						},
						_setNoAnimate: function() {
							this._image.css("transition", "none")
						},
						_restoreAnimate: function() {
							this._image.css("transition", this._originTransitionCss)
						},
						_getScreenWidth: function() {
							return $(document).width()
						},
						_getScreenHeight: function() {
							return $(document).height()
						},
						_setWidth: function(i) {
							this._imgWrapDiv.width(i), this._imgWrapDiv.height(i / this._scale)
						},
						_setHeight: function(i) {
							this._imgWrapDiv.height(i), this._imgWrapDiv.width(i * this._scale)
						},
						_isMaxSize: function(i, t) {
							var e = this._screenHeight / 2;
							return this._scale > 1 && e >= t ? !1 : i > this._screenWidth
						},
						_isMinSize: function(i, t) {
							var e = 50;
							return 0 > i || 0 > t ? !0 : this._initSize.width < e || this._initSize.height < e ? !1 : e > i || e > t
						},
						_initCenterData: function() {
							this._centerLeft = this._screenWidth / 2, this._centerTop = this._screenHeight / 2
						},
						_changeCenterDataWhenRelocate: function() {
							this._isRelocate && (this._centerLeft = parseInt(this._imgWrapDiv.css("left")) + this._getImgWidth() / 2, this._centerTop = parseInt(this._imgWrapDiv.css("top")) + this._getImgHeight() / 2, this._isRelocate = !1)
						},
						_setSizeSpeed: function() {
							this._speedX = Math.max(.2 * this._getImgWidth(), 100), this._speedY = Math.max(.2 * this._getImgHeight(), 100)
						},
						_resizeImg: function() {
							var i = null,
								t = null;
							i = this._getImgWidth(), this._initSize.width = i, this._screenWidth / 1.5 <= i && (i = this._screenWidth / 1.5, this._setWidth(i), this._initSize.width = i), t = this._getImgHeight(), this._initSize.height = t, this._screenHeight / 1.2 <= t && (t = this._screenHeight / 1.2, this._setHeight(t), this._initSize.height = t)
						},
						initWhenCreate: function() {
							this._imgWrapDiv.hide(), this._screenWidth = this._getScreenWidth(), this._screenHeight = this._getScreenHeight(), this._isSwitchImg = !1, this._isDispose = !1
						},
						zoomIn: function() {
							var i = null,
								t = null,
								e = 0,
								s = 0;
							this._image && (i = this._getImgWidth(), t = this._getImgHeight(), e = i + this._speedX, s = t + this._speedY, this._resizeAroundCenter(e, s))
						},
						zoomOut: function() {
							var i = null,
								t = null,
								e = 0,
								s = 0;
							this._image && (i = this._getImgWidth(), t = this._getImgHeight(), e = i - this._speedX, s = t - this._speedY, this._isMinSize(e, s) || this._resizeAroundCenter(e, s))
						},
						_resizeAroundCenter: function(i, t) {
							this._changeCenterDataWhenRelocate(), this._setSize(i, t), this._setNoAnimate(), this._posToCenter()
						},
						rotate: function() {
							this._rotate -= 90, this._applyRotate()
						},
						_applyRotate: function() {
							var i = this._image;
							i && (this._restoreAnimate(), i.css({
								transform: "rotate(" + this._rotate + "deg)"
							}))
						},
						init: function(i, t) {
							var e = this,
								s = new Image;
							s.src = i, s.onload = function() {
								e._isDispose || e._isSwitchWhileLoading() || (e._hideLoadingDomFunc(), e._image = $(s), e._imgWrapDiv.append(e._image), e._initImg(s, t))
							}, s.onerror = function(i) {
								s._hasError !== !0 && (s._hasError = !0, s.src = "https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png")
							}
						},
						_isSwitchWhileLoading: function() {
							return this._isSwitchImg
						},
						replaceImg: function(i, t) {
							this._isSwitchImg = !0, this._imgWrapDiv.hide(), this._replaceCurrentImg(i), this._reset(), this._initImg(i, t)
						},
						_replaceCurrentImg: function(i) {
							this._image && this._image.remove(), this._image = $(i), this._imgWrapDiv.append(this._image)
						},
						_reset: function() {
							this._isDragImg = !1, this._isRelocate = !1, this._rotate = 0
						},
						_restoreRotate: function() {},
						rollToZoom: function(i) {
							this._isRollUp(i) ? this.zoomIn(this._screenWidth) : this._isRollDown(i) && this.zoomOut()
						},
						_isRollUp: function(i) {
							return i.deltaY >= 1
						},
						_isRollDown: function(i) {
							return i.deltaY <= -1
						},
						startDrag: function(i) {
							this._isDragImg = !0, this._saveImgOriginData(this._getOffset(this._imgWrapDiv), i)
						},
						endDrag: function() {
							this._isDragImg = !1
						},
						moveImgWrapDiv: function(i) {
							this._isDragImg && !this._isFirstMove() && this._move(i)
						},
						_initImg: function(i, t) {
							var t = t || {};
							t.rotate && (this._rotate = t.rotate), this._initWrapDivSize(i), this._scale = this._getImgWidth() / this._getImgHeight(), this._initCenterData(), this._forbiddenHtml5Drag(), this._applyRotate(), this._initUI(), this._originTransitionCss = this._image.css("transition"), this._setSizeSpeed(), this._initImgEvent(i)
						},
						_initImgEvent: function(i) {
							$(i).on("click", function(i) {
								i.stopPropagation()
							})
						},
						_initWrapDivSize: function(i) {
							this._imgWrapDiv.width(i.width), this._imgWrapDiv.height(i.height)
						},
						_initUI: function() {
							this._resizeImg(), this._posToCenter(), this._setDownloadAttr(), this._imgWrapDiv.show()
						},
						_setDownloadAttr: function() {
							var i = this._image.attr("src"),
								t = i.split("/").pop();
							$(".dimmer-img-download-btn").attr("download", t).attr("href", i).attr("nwsaveas", t)
						},
						dispose: function() {
							this._isDispose = !0, this._image && this._image.off()
						}
					});
					return i
				}
			]);


		}, {
			"../../lib/class": 119
		}
	],
	172: [
		function(require, module, exports) {
			"use strict";
			require("./imgTool"), require("../tool/tool");
			var Class = require("../../lib/class");
			angular.module("ddWeb.service.ImgSwitcher", ["ddWeb.service.imgTool", "ddWeb.service.tool"]).factory("ImgSwitcher", ["imgTool", "tool",
				function(i, e) {
					var t = Class.create({
						initialize: function(i, e, t) {
							this._imgOperator = i, this._showLoadingDomFunc = e, this._hideLoadingDomFunc = t, this._isDispose = !1
						},
						Statics: {
							create: function(i, e, o) {
								var n = new t(i, e, o);
								return n
							}
						},
						_newestUniqueKey: null,
						_switch: function(i, t) {
							var o = null,
								n = this;
							this._loading = !0, this._deferShowLoading(), this._newestUniqueKey = e.buildUniqueKey(), o = new Image, o.src = i,
							function(i) {
								o.onload = function() {
									n._isDispose || n.isSwitchWhileLoading(i) || (n._loading = !1, n._hideLoadingDomFunc(), n._imgOperator.replaceImg(this, t))
								}, o.onerror = function(i) {
									o._hasError !== !0 && (o._hasError = !0, o.src = "https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png")
								}
							}(this._newestUniqueKey)
						},
						_deferShowLoading: function() {
							var i = this;
							setTimeout(function() {
								i._loading && i._showLoadingDomFunc()
							}, 50)
						},
						isSwitchWhileLoading: function(i) {
							return i !== this._newestUniqueKey
						},
						goPrev: function(e) {
							var t = {};
							e.rotate && (t.rotate = e.rotate), this._switch(i.getImgSrc(e), t)
						},
						goNext: function(e) {
							var t = {};
							e.rotate && (t.rotate = e.rotate), this._switch(i.getImgSrc(e), t)
						},
						dispose: function() {
							this._isDispose = !0
						}
					});
					return t
				}
			]);


		}, {
			"../../lib/class": 119,
			"../tool/tool": 384,
			"./imgTool": 175
		}
	],
	173: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.chaCallService";
			require("../../service/events"), require("../../service/toast/toast"), require("../../service/audio");
			var LoginStatusCode = require("../login/LoginStatusCode"),
				app = angular.module(moduleName, [require("@ali/ding-api")["interface"].ConferenceI, "ddWeb.events", "ddWeb.toast", "ddWeb.audio", require("../login/loginStatus")]);
			app.factory("chatCallService", ["ConferenceI", "$q", "EVENTS", "$rootScope", "toastService", "audioService", "$timeout", "loginStatus",
				function(e, t, a, o, r, i, l, s) {
					function n() {
						l(function() {
							m = S.UNCALL, o.$broadcast(a.CHANGE_CALL_STATE, m)
						}, v)
					}

					function c(l, c) {
						var u = t.defer();
						return s.getLoginStatus() !== LoginStatusCode.LOGINED ? (r.show("您当前处于离线状态，请检查网络后再试", {
							type: "error",
							maxVisible: 2
						}), u.promise) : m !== S.UNCALL ? (r.show("正在为您呼叫，请稍候", {
							type: "error",
							maxVisible: 2
						}), u.promise) : (e.createCall(l, function(e) {
							if (200 === e.code && 200 === e.body.code) n(), m = S.CALLSUCCESS, o.$broadcast(a.CHANGE_CALL_STATE, m), i.play("call"), r.show("正在呼叫" + c + "，请接听钉钉回拨来电", {
								type: "information",
								maxVisible: 2
							}), u.resolve();
							else {
								m = S.UNCALL;
								var t = "电话唤起失败，请稍候再试。";
								e.body.reason && (t = e.body.reason), r.show(t, {
									type: "error",
									maxVisible: 2
								}), u.reject()
							}
						}), u.promise)
					}

					function u() {
						return m === S.UNCALL ? !0 : !1
					}

					function C() {
						return window.localStorage.chatCallUseState
					}

					function d(e) {
						window.localStorage.chatCallUseState = e
					}
					var S = {
						UNCALL: 0,
						CALLSUCCESS: 1
					}, L = {
							NOWATCH: "0",
							MOUSEOVER: "1",
							CLICK: "2"
						}, m = S.UNCALL,
						v = 8e3;
					return {
						createCall: c,
						checkCallState: u,
						getCallUseState: C,
						setCallUseState: d,
						chatCallUseStates: L,
						chatCallStates: S
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/audio": 169,
			"../../service/events": 221,
			"../../service/toast/toast": 378,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"@ali/ding-api": 453
		}
	],
	174: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.colorTransfer";
			angular.module(moduleName, []).factory("colorTransfer", [
				function() {
					function e(e) {
						if (!e) return "";
						var r = /^0x([0-9a-fA-F]{8})/,
							a = e.match(r);
						if (!a) return "";
						var n = a[1],
							t = parseInt(n.slice(0, 2), 16),
							a = parseInt(n.slice(2, 4), 16),
							s = parseInt(n.slice(4, 6), 16),
							o = parseInt(n.slice(6, 8), 16);
						return "rgba(" + a + ", " + s + ", " + o + ", " + t + ")"
					}
					return e
				}
			]), module.exports = moduleName;


		}, {}
	],
	175: [
		function(require, module, exports) {
			require("../../service/mediaId/mediaId"), angular.module("ddWeb.service.imgTool", ["ddWeb.mediaId"]).factory("imgTool", ["mediaId",
				function(e) {
					return {
						getImgSrc: function(i) {
							return e.mid2Url(i.mediaId, {
								imageSize: "origin"
							})
						}
					}
				}
			]);


		}, {
			"../../service/mediaId/mediaId": 267
		}
	],
	176: [
		function(require, module, exports) {
			var app = angular.module("ddWeb.service.textCellService", []);
			app.factory("textCellService", ["$timeout",
				function(e) {
					function t(e) {
						var t = {
							st: "?".charCodeAt(0),
							ed: "?".charCodeAt(0)
						};
						return rightRange = {
							st: "?".charCodeAt(0),
							ed: "?".charCodeAt(0)
						}, e >= t.st && e <= t.ed ? "l" : e >= rightRange.st && e <= rightRange.ed ? "r" : !1
					}

					function r(e) {
						var t, r, n;
						if (t = "", "string" == typeof e) r = u.START + e + u.END;
						else {
							for (++A, n = 0; A > n; n++) t += u.COUNTER;
							r = u.START + t + e.toReplaceText + u.END, s.push(r), d.push(e)
						}
						return r
					}

					function n(e) {
						var t, r = {}, n = e.length,
							a = "",
							l = 0,
							c = 0,
							T = "",
							A = !1;
						for (thisTextArray = angular.copy(d), i = 0; i < n; i++)
							if (t = e.charCodeAt(i), t == f.START) A && (a += T), l = 0, A = !0, T = u.START;
							else
						if (t == f.END) {
							if (c = l, T += u.END, l > 0) {
								var s = thisTextArray[c - 1];
								if (s && s.toReplaceText === o(T)) {
									var C, h = s.replaceText,
										R = s.toReplaceText;
									a += h, C = h.substr(1, h.length - 2), r[C] = R.substr(1, R.length - 2)
								} else A && (a += T)
							} else A && (a += T);
							A = !1
						} else t == f.COUNTER ? (T += u.COUNTER, ++l) : (T += e[i], A || (a += e[i]));
						return A && (a += T), {
							filterMsg: a,
							filterCellMap: r
						}
					}

					function a(e, t, r) {
						var n, a = e.length,
							l = t;
						if (r) {
							var i = !1;
							for (n = t; n >= 0; n--) {
								if (e.charCodeAt(n) == f.START) {
									i = !0, l = n;
									break
								}
								if (e.charCodeAt(n) === f.END) break
							}
							if (l === t) return t + 1
						} else {
							for (n = t; a > n; n++) {
								if (e.charCodeAt(n) == f.END) {
									l = n;
									break
								}
								if (e.charCodeAt(n) == f.START) break
							}
							if (l === t) return t - 1
						}
						return l
					}

					function l(e, t) {
						var r, n = (e.length, null),
							l = null,
							i = t.st,
							o = t.ed,
							c = {
								st: t.st,
								ed: t.ed
							};
						for (r = t.st; r < t.ed; r++)(e.charCodeAt(r) == f.START || e.charCodeAt(r) == f.END) && (null != n && (n = e.charCodeAt(r), i = r), l = e.charCodeAt(r), o = r);
						return null != n && null != l ? n == f.START ? l == f.START && (c.ed = a(e, o + 1, !1)) : l == f.END ? c.st = a(e, i - 1, !0) : (c.ed = a(e, o + 1, !1), c.st = a(e, i - 1, !0)) : (c.ed = a(e, o + 1, !1), c.st = a(e, i - 1, !0)), c
					}

					function o(e) {
						var t, r, n = e.length,
							a = "";
						for (t = 0; n > t; t++) r = e.charCodeAt(t), r != f.START && r != f.COUNTER && r != f.END && (a += e[t]);
						return a
					}

					function c(e) {
						return o(e)
					}

					function T() {
						A = 0, s = [], d = []
					}
					var u = {
						START: "\x00",
						END: "",
						COUNTER: ""
					}, f = {
							START: 0,
							END: 1,
							COUNTER: 2
						}, A = 0,
						s = [],
						d = [];
					return {
						createCell: r,
						filterAtCell: n,
						reset: T,
						filterFaceCell: c,
						strictCell: l,
						getCellArray: function() {
							return s
						},
						getTextArray: function() {
							return d
						},
						FLAG_CODE: f,
						trimFlag: o,
						checkEmojiUnicode: t
					}
				}
			]);


		}, {}
	],
	177: [
		function(require, module, exports) {
			var moduleName = "ddWeb.service.typingService",
				app = angular.module(moduleName, [require("@ali/ding-api")["interface"].Typing]);
			app.factory("typingService", ["Typing",
				function(e) {
					function n(n, i, a) {
						var r = {
							conversationId: n,
							type: 0,
							command: i
						};
						e.send(r, function(e) {
							a && a()
						})
					}
					return {
						sendTyping: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-api": 453
		}
	],
	178: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chat.typingType";
			angular.module(moduleName, []).value("typingType", {
				TYPING: 0,
				CANCELTYPING: 1
			}), module.exports = moduleName;


		}, {}
	],
	179: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.chatCompileService";
			angular.module(moduleName, [require("./conversation/ContentType"), require("../directive/chat/msgBox")]).factory("chatCompileService", ["$compile", "ContentType",
				function(e, n) {
					function o(e, n) {
						var o = null,
							r = n.$new();
						return r.info = e, e.msg.isSupport2Show() ? o = i(r, function(e, n) {}) : (o || (o = i(r, function(e, n) {})), o)
					}
					var i = e(angular.element('<div msg-box info="info"></div>'));
					e(angular.element('<div sys-info info="info"></div>'));
					return {
						createDom: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../directive/chat/msgBox": 20,
			"./conversation/ContentType": 182
		}
	],
	180: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				_ = require("lodash"),
				EventEmitter = require("wolfy87-eventemitter"),
				CloudSettingTopic = Class.create({
					initialize: function(t) {
						this.topicName = t, this.version = 0, this.targetVersion = null, this.haveInited = !1, this.data = null, this.isRequesting = !1
					},
					Implements: EventEmitter,
					EventsName: {
						INIT: "init",
						UPDATE: "update"
					},
					updateData: function(t, e) {
						this.data = t, this.version = e, null === this.targetVersion && (this.targetVersion = e), this.isRequesting = !1, this.haveInited || (this.haveInited = !0, this.emit(this.EventsName.INIT, t)), this.emit(this.EventsName.UPDATE, t)
					},
					setTargetVersion: function(t) {
						this.targetVersion = t
					},
					getData: function() {
						var t = this;
						return this.haveInited === !0 ? Promise.resolve(this.data) : new Promise(function(e, i) {
							t.once(t.EventsName.INIT, function(t) {
								e(t)
							}), setTimeout(function() {
								i({
									body: {
										reason: "请求超时"
									}
								})
							}, 1e4)
						})
					}
				});
			module.exports = CloudSettingTopic;


		}, {
			"../../lib/class": 119,
			"lodash": 470,
			"wolfy87-eventemitter": 476
		}
	],
	181: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.cloudSetting",
				LoginStatusCode = require("../login/LoginStatusCode"),
				log = require("../log/localLog"),
				_ = require("lodash"),
				CloudSettingTopic = require("./CloudSettingTopic"),
				RequestCombine = require("../../lib/RequestCombine");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].CsConfigI, require("../login/loginStatus"), require("../events")]).factory("cloudSetting", ["CsConfigI", "$rootScope", "loginStatus", "EVENTS",
				function(e, o, t, r) {
					var i = {}, n = new RequestCombine(function() {
							a()
						}, 100),
						u = function(e) {
							var o = new CloudSettingTopic(e);
							return i[e] = o, n.request(""), o
						}, a = function() {
							if (t.getLoginStatus() === LoginStatusCode.LOGINED) {
								var o = Object.keys(i).filter(function(e) {
									var o = i[e];
									return o.isRequesting === !1 && o.version !== o.targetVersion
								});
								if (!o || 0 === o.length) return;
								var r = o.map(function(e) {
									return i[e].isRequesting = !0, {
										topic: e,
										version: i[e].version
									}
								});
								e.getConf(r, function(e) {
									200 === e.code ? e.body && Array.isArray(e.body) && e.body.forEach(function(e) {
										var o = e.topic,
											t = e.version;
										try {
											i[o].updateData(JSON.parse(e.data), t)
										} catch (r) {
											log.error("update cs config error", r.toString()), i[o].isRequesting = !1
										}
									}) : log.error("get cs config error", JSON.stringify(e))
								})
							}
						};
					return o.$on(r.LOGIN_STATE_CHANGE, function(e, o) {
						o === LoginStatusCode.LOGINED && a()
					}), {
						register: u
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../lib/RequestCombine": 118,
			"../events": 221,
			"../log/localLog": 259,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"./CloudSettingTopic": 180,
			"@ali/ding-api": 453,
			"lodash": 470
		}
	],
	182: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.ContentType";
			angular.module(moduleName, []).value("ContentType", {
				TEXT: 1,
				IMG: 2,
				AUDIO: 3,
				FILE: 4,
				SHARE: 102,
				OA: 300,
				MAIL: 400,
				ORG_SPACE_FILE: 500,
				IM_SPACE_FILE: 501,
				CARD: 600,
				EOF: -1e3,
				GROUP_ANNOUNCE: 700
			}), module.exports = moduleName;


		}, {}
	],
	183: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.Conv",
				_ = require("lodash"),
				SENDSTATUS = require("./SendStatus"),
				SuperGroupStatus = require("./SuperGroupStatus"),
				LoginStatusCode = require("../login/LoginStatusCode"),
				MsgType = require("./MsgType"),
				ua = require("../ua");
			require("./msgCache"), require("./msg/Msg"), require("./msg/msgFactory"), require("./ImgList"), require("../events"), require("../audio"), require("../user/userManager"), require("../app/nw"), require("../notification");
			var $my = require("../user/my");
			require("../toast/toast");
			var ConvExtensionType = require("./convExtensionType");
			require("../log/log"), require("../widget/emailOpenService");
			var ConvType = require("./ConvType"),
				groupSupportType = require("../groupSupportType/groupSupportType");
			angular.module(moduleName, ["ddWeb.conv.msgCache", "ddWeb.conv.Msg", "ddWeb.conv.msgFactory", "ddWeb.conv.ImgList", require("@ali/ding-api")["interface"].IDLMessage, require("@ali/ding-api")["interface"].IDLConversation, require("@ali/ding-api")["interface"].IMI, require("@ali/ding-api")["interface"].ContactI, require("../storage/ddStorage"), "ddWeb.audio", "ddWeb.nw", "ddWeb.user.userManager", "ddWeb.events", "ddWeb.notification", "ddWeb.toast", "ddWeb.log.log", require("../widget/emailOpenService"), require("./ContentType"), require("./GroupRole"), require("./msgInstanceHelper"), require("../login/loginStatus"), require("../chat/typingService"), require("../chat/typingType"), require("../user/userConcernMap")]).factory("Conv", ["Msg", "msgCache", "IDLMessage", "IDLConversation", "IMI", "$rootScope", "EVENTS", "msgFactory", "nw", "audioService", "userManager", "notification", "ImgList", "toastService", "$filter", "log", "emailOpenService", "ContentType", "GroupRole", "ContactI", "msgInstanceHelper", "ddStorage", "loginStatus", "$timeout", "typingService", "typingType", "userConcernMap",
				function(e, t, s, i, n, o, a, r, d, c, u, h, g, p, v, l, f, M, y, I, m, b, S, C, T, w, E) {
					function x(e, t) {
						if (this.myuid = $my.uid, this.baseConversation = e.baseConversation, this.convId = e.baseConversation.conversationId, this.updateTime = 0, this.lastMessageContent = "", this.lastMessageType = "", this.lastMessageAuthor = "", this.msgIds = [], this.showSize = 0, this.messages = [], this.recentAtUids = [], this.draft = null, this.draftTime = 0, this.newMsg = 0, this.isActive = !1, this.hasAt = !1, this.isSingleChat = !1, this.notificationOff = !1, this.hasNewMsgButNotNotify = !1, this.isToMySelf = !1, this.isShowTyping = !1, this.canSendTyping = !1, this.typingTimer = null, this.isOAConv = !1, this.isTop = !1, this.hasFollowMsg = !1, this.disableSendTypingTimer = null, this.hasGroupAnnounce = !1, 1 == this.baseConversation.type) {
							var s = this.baseConversation.conversationId.split(":"),
								i = this.myuid === parseInt(s[0]) ? parseInt(s[1]) : parseInt(s[0]),
								n = "uids:" + i + ";";
							this.baseConversation.icon = n, this.baseConversation.title = null, this.getTitle(), this.isSingleChat = !0, this.isToMySelf = s[0] === s[1]
						}
						this._genLastMsg(), this.members = null, this.allowedShow = !0, this.isDiscard = !1;
						var o = this.baseConversation.tag;
						if (o && (-1 !== L.indexOf(o) ? this.allowedShow = !0 : this.allowedShow = !1), this.baseConversation.tag === ConvType.JUMP && (this.isRedirectType = !0, this.allowedShow = !1, this.baseConversation.extension && -1 !== O.indexOf(this.baseConversation.extension.type) && (this.allowedShow = !0)), this.baseConversation.tag === ConvType.ANNOUNCEMENT && (this.isOAConv = !0), this.baseConversation.tag === ConvType.FILEHELPER && (this.baseConversation.extension && "1" === this.baseConversation.extension.show_in_web ? this.allowedShow = !0 : this.allowedShow = !1), this.isSingleChat) {
							var s = this.convId.split(":").map(function(e) {
								return parseInt(e)
							});
							s[0] > s[1] && (this.allowedShow = !1, this.isDiscard = !0)
						}
						if (this.notificationOff = 1 === e.baseConversation.notificationOff ? !0 : !1, this.isTop = e.baseConversation.sort > 0, t && e.lastMessages && e.lastMessages.length > 0) {
							this.lastMessage = m.instance(e.lastMessages[0]), this._genLastMsg(), this.updateTime = this.lastMessage.baseMessage.createdAt;
							var a = this;
							this.lastMessage.receiverMessageStatus && 2 !== this.lastMessage.receiverMessageStatus.readStatus && setTimeout(function() {
								a.getLatestMsg()
							}, 500)
						} else this.updateTime = null;
						this.imgMsgList = new g(this), this.initRedirectType()
					}
					var N = 20,
						A = 1500,
						O = groupSupportType.conversation.allowedShowJumpType,
						L = groupSupportType.conversation.fullSupportGroupType;
					return x.prototype.initRedirectType = function() {
						this.isRedirectType && this.baseConversation.extension && this.baseConversation.extension.type === ConvExtensionType.EMAIL && o.$broadcast(a.SHOW_EMAIL, this)
					}, x.prototype.getTitle = function(e) {
						if (this.baseConversation.title) return void(e && e(this.baseConversation.title));
						if (1 === this.baseConversation.type) {
							this.baseConversation.nick = "";
							var t = this,
								s = this.baseConversation.conversationId.split(":"),
								i = this.myuid === parseInt(s[0]) ? parseInt(s[1]) : parseInt(s[0]);
							u.getUsers([i]).then(function(s) {
								var i = s[0];
								i && (t.baseConversation.title = i.remarkNameObj.alias || i.userProfileModel.nick, t.baseConversation.nick = i.userProfileModel.nick, o.$watch(function() {
									return i.remarkNameObj.alias || i.userProfileModel.nick
								}, function(e) {
									e && (t.baseConversation.title = e)
								}), e && e(i.userProfileModel.nick))
							})
						}
					}, x.prototype.setSize = function(e, i) {
						var n = this,
							o = 0;
						if ("number" == typeof e) o = e;
						else if ("string" == typeof e && "+" === e.charAt(0)) {
							var a = parseInt(e.slice(1));
							a && (o = this.showSize + a)
						}
						if (this.msgIds.length >= o) this.showSize = o, this._genMsgList(), i && i();
						else {
							var d = this.msgIds.length > 0 ? t.getMsg(this.convId, this.msgIds[0]).baseMessage.createdAt : new Date - 0;
							s.listMessages(this.convId, !1, d, N, function(e) {
								if (200 === e.code) {
									var t = e.body;
									if (t = t.map(function(e) {
										return e.sendStatus = SENDSTATUS.SENDED, e
									}), e.body.length < N / 2) {
										var s = r.genEOFMsg();
										t.push(s), l.info("Conv setSize EOF!")
									}
									var o = n._updateMsgList(t, !0);
									n.showSize += o, n._genMsgList(), i && i()
								}
							})
						}
					}, x.prototype._genMsgList = function() {
						var e = this;
						this.msgIds = _.uniq(this.msgIds);
						var s = this.msgIds.slice(-1 - this.showSize);
						this.messages = s.map(function(s) {
							return t.getMsg(e.convId, s)
						})
					}, x.prototype._updateMsgList = function(s, i) {
						if (this.isDiscard) return 0;
						var n = this,
							i = i || !1,
							s = s.map(function(t) {
								return t instanceof e ? t : m.instance(t)
							});
						s = s.sort(function(e, t) {
							return e.baseMessage.createdAt - t.baseMessage.createdAt
						});
						var r = 0;
						0 === this.msgIds.length ? s.forEach(function(e) {
							n.msgIds.push(e.getId()), r++, t.cacheMsg(n.convId, e)
						}) : i ? s.forEach(function(e) {
							var s = 0,
								i = e.getId();
							if (-1 === n.msgIds.indexOf(i)) {
								for (; s !== n.msgIds.length && t.getMsg(n.convId, n.msgIds[s]).baseMessage.createdAt < e.baseMessage.createdAt;) s++;
								n.msgIds.splice(s, 0, i), r++
							}
							t.cacheMsg(n.convId, e)
						}) : s.forEach(function(e) {
							var s = n.msgIds.length,
								i = e.getId();
							if (-1 === n.msgIds.indexOf(i)) {
								for (; 0 !== s && t.getMsg(n.convId, n.msgIds[s - 1]).baseMessage.createdAt >= e.baseMessage.createdAt;) s -= 1;
								n.msgIds.splice(s, 0, i), r++
							}
							t.cacheMsg(n.convId, e)
						});
						var u = this._calcNewMsg();
						return this.isActive && "hidden" !== document.visibilityState && d.isHide() !== !0 && d.isMini() !== !0 || (u - this.newMsg > 0 && (this.newMsg = u, this.notificationOff || this.baseConversation.superGroup === SuperGroupStatus.SUPER ? this.hasNewMsgButNotNotify = !0 : (this.allowedShow && (c.play("message"), d.setRequestAttention()), o.$broadcast(a.NEW_MSG_COUNT_CHANGE))), this.newMsg = u), this.msgIds.length > 0 && (this.lastMessage = t.getMsg(this.convId, this.msgIds[this.msgIds.length - 1]), this._genLastMsg()), r
					}, x.prototype._calcNewMsg = function() {
						for (var e = 0, s = this.msgIds.length; s > 0; s--) {
							var i = t.getMsg(this.convId, this.msgIds[s - 1]);
							if (2 !== i.baseMessage.creatorType && i.baseMessage.type !== MsgType.SILENCE) {
								if (i.EOF) return e;
								if (!i.baseMessage.openIdEx || i.baseMessage.openIdEx.openId === $my.getId()) return e;
								if (i.receiverMessageStatus && 2 === i.receiverMessageStatus.readStatus) return e;
								if (i.baseMessage && i.baseMessage.content) {
									var n = i.baseMessage.content.contentType,
										o = n === M.AUDIO && i.audioMsgHaveSeen,
										a = (n === M.IM_SPACE_FILE || n === M.ORG_SPACE_FILE) && i.spaceFileMsgHaveSeen;
									if (o || a) return e
								}
								e++
							}
						}
						return e
					}, x.prototype._genLastMsg = function() {
						var e = this,
							t = "",
							s = null,
							i = "";
						if (this.hasAt || this.hasFollowMsg || this.hasGroupAnnounce || !this.draft) {
							var n = this.lastMessage;
							if (n && n.baseMessage && n.baseMessage.content) {
								this.updateTime = n.baseMessage.createdAt;
								var o = n.getContent(),
									a = o.contentType;
								this.hasFollowMsg && 2 !== n.baseMessage.creatorType && (i = "[特别关注]"), this.hasGroupAnnounce && (i = "[群公告]"), this.hasAt && (i = "[有人@你]"), a === M.TEXT ? t = o.textContent.text : a === M.IMG ? t = "[图片]" : a === M.AUDIO ? t = "[语音]" : a === M.FILE || a === M.ORG_SPACE_FILE || a === M.IM_SPACE_FILE ? t = "[文件]" : a === M.SHARE ? t = "[分享]" : a === M.OA ? (t = "[微应用消息]", o.attachments.length && o.attachments[0].extension && o.attachments[0].extension.h_tl && (t = "[" + o.attachments[0].extension.h_tl + "]")) : t = a === M.MAIL ? "[邮件]" : a === M.CARD ? "[名片]" : a === M.GROUP_ANNOUNCE ? _.get(o, "attachments[0].extension.text") || "" : "", n.baseMessage.openIdEx && n.baseMessage.openIdEx.openId && n.baseMessage.openIdEx.openId !== e.myuid && 1 === n.baseMessage.creatorType ? u.getUsers([n.baseMessage.openIdEx.openId]).then(function(o) {
									s = o[0], e._updateLastMsgInfo(n.baseMessage.createdAt, i, s, t)
								}, function() {
									e._updateLastMsgInfo(n.baseMessage.createdAt, i, s, t)
								}) : e._updateLastMsgInfo(n.baseMessage.createdAt, i, s, t)
							} else e._updateLastMsgInfo(null, i, s, t)
						} else t = this.draft, i = "[草稿]", e._updateLastMsgInfo(this.draftTime, i, s, t)
					}, x.prototype._updateLastMsgInfo = function(e, t, s, i) {
						e && e < this.updateTime || (this.updateTime = e, this.lastMessageType = t, (this.isSingleChat || this.isOAConv) && (s = null), this.lastMessageAuthor = s, this.lastMessageContent = i)
					}, x.prototype.sendTyping = function(e) {
						this.isSingleChat && !this.isToMySelf && (T.sendTyping(this.convId, e), this.disableSendTyping())
					}, x.prototype.disableSendTyping = function() {
						var e = this,
							t = 6e4;
						this.disableSendTypingTimer && (C.cancel(this.disableSendTypingTimer), this.disableSendTypingTimer = null), this.disableSendTypingTimer = C(function() {
							e.canSendTyping = !1
						}, t)
					}, x.prototype.active = function(e) {
						if (this.isActive = !0, this.clearNewMsg(), this.isRedirectType && this.lastMessage) {
							var t = this.lastMessage.getId();
							this.updateToRead(t, t)
						}
						var s = this;
						s.setSize(N, e), s.showSize > 0 && s.getLatestMsg()
					}, x.prototype.getLatestMsg = function(e) {
						var i = this;
						s.listMessages(i.convId, !1, new Date - 0, N, function(s) {
							if (200 === s.code) {
								if (s.body.length > 0) {
									var n = s.body;
									n = n.map(function(e) {
										return e.sendStatus = SENDSTATUS.SENDED, e
									})
								} else {
									var o = r.genEOFMsg(),
										n = [o];
									l.info("Conv active EOF!")
								}
								var a = i._updateMsgList(n, !0);
								if (N > a) i.showSize += a;
								else {
									var d = i.msgIds.length - a,
										c = i.msgIds.splice(0, d);
									c.forEach(function(e) {
										t.delMsgCache(i.convId, e)
									}), i.showSize = a
								}
								i._genMsgList(), e && e()
							}
						})
					}, x.prototype.clearNewMsg = function(e) {
						if (this.newMsg = 0, this.hasAt = !1, this.hasFollowMsg = !1, this.hasGroupAnnounce = !1, this.hasNewMsgButNotNotify = !1, this._genLastMsg(), this.baseConversation.superGroup !== SuperGroupStatus.SUPER) {
							this.baseConversation.notificationOff || o.$broadcast(a.NEW_MSG_COUNT_CHANGE);
							for (var s = 0, i = this.msgIds.length - 1; 5 > s && i >= 0; s++, i--) {
								var n = t.getMsg(this.convId, this.msgIds[i]);
								n.updateToRead(e)
							}
						}
					}, x.prototype.deactive = function() {
						this.isActive = !1, this.sendTyping(w.CANCELTYPING)
					}, x.prototype.updateToRead = function(e, t) {
						if (this.baseConversation.superGroup !== SuperGroupStatus.SUPER && this.isActive && "hidden" !== document.visibilityState && d.isHide() !== !0 && d.isMini() !== !0)
							for (var s = !1, e = parseInt(e), t = parseInt(t), i = 0; i < this.messages.length; i++) {
								var n = this.messages[i];
								if (n.getId() === e && (s = !0), s && (l.info("updateReadStatus:", "msgId:" + n.getId() + " updated"), n.updateToRead(), n.getId() === t)) break
							}
					}, x.prototype.saveDraft = function(e) {
						this.draft = "" == e.trim() ? "" : e, this.draftTime = new Date - 0, this._genLastMsg()
					}, x.prototype.pullHistory = function(e) {
						this.setSize("+" + N, e)
					}, x.prototype._showSysMsg = function(e) {
						var t = this.lastMessage ? this.lastMessage.baseMessage.createdAt : 0,
							s = r.genSysMsg({
								cid: this.convId,
								lastTime: t,
								text: e
							}),
							i = this._updateMsgList([s], !1);
						this.showSize += i, this._genMsgList(), o.$digest()
					}, x.prototype._checkOnline = function() {
						var e = this;
						return S.getLoginStatus() !== LoginStatusCode.LOGINED ? (e._showSysMsg("您当前处于离线状态，不能发送消息"), !1) : !0
					}, x.prototype.sendTextMsg = function(e, t) {
						var s = this,
							i = this.lastMessage ? this.lastMessage.baseMessage.createdAt : 0;
						return this._checkOnline() ? (this.draft = null, r.genSendingTextMsg({
							cid: s.convId,
							lastTime: i,
							text: e,
							extra: t
						}).then(function(e) {
							var t = m.instance(e);
							return s._sendMsg(t)
						})) : Promise.reject({
							body: {
								reason: "当前离线"
							}
						})
					}, x.prototype._sendMsg = function(e) {
						var t = this;
						o.$broadcast(a.MAKE_CID_TO_FIRST, t.convId);
						var s = t._updateMsgList([e]);
						return t.showSize += s, t._genMsgList(), e.send().then(function() {
							t._sendMsgSuccess(e)
						})["catch"](function(e) {
							if (500 == e.code && e.body && e.body[0] && "130003" == e.body[0]) {
								var s = "您当前已经退出该群，不能发送消息";
								t.baseConversation.isDisband && (s = "该群已经被解散，不能发送消息"), t._showSysMsg(s)
							}
						})
					}, x.prototype.sendImgMsg = function(e, t) {
						var s = this,
							t = t || {}, i = this.lastMessage ? this.lastMessage.baseMessage.createdAt : 0;
						return this._checkOnline() ? r.genSendingImgMsg({
							cid: s.convId,
							lastTime: i,
							file: e,
							mediaId: t.mediaId,
							picSize: t.picSize
						}).then(function(e) {
							var t = m.instance(e);
							return s._sendMsg(t)
						}) : Promise.reject({
							body: {
								reason: "当前离线"
							}
						})
					}, x.prototype._sendMsgSuccess = function(e) {
						var s = this;
						t.cacheMsg(s.convId, e);
						var i = s.msgIds.indexOf(e.baseMessage.uuid);
						i > -1 && (s.msgIds[i] = e.getId()), s._genMsgList()
					}, x.prototype.reSend = function(e) {
						var s = this,
							i = t.getMsg(s.convId, e);
						return l.info("reSend uuid: " + e), i ? Promise.resolve().then(function() {
							var e = s.msgIds.indexOf(i.baseMessage.uuid); - 1 !== e && (s.msgIds.splice(e, 1), s.showSize -= 1);
							var t = s._updateMsgList([i]);
							s.showSize += t, s._genMsgList()
						}).then(function() {
							return i.reSend()
						}).then(function() {
							s._sendMsgSuccess(i), o.$broadcast(a.MAKE_CID_TO_FIRST, s.convId)
						}) : (console.log("Error: Can't find msg for resend"), Promise.reject({
							body: {
								reason: "系统错误"
							}
						}))
					}, x.prototype.sendSpaceFileMsg = function(e, t) {
						var s = this,
							i = this.lastMessage ? this.lastMessage.baseMessage.createdAt : 0;
						return this._checkOnline() ? r.genSendingSpaceFileMsg({
							cid: this.convId,
							lastTime: i,
							file: e,
							spaceFileObj: t,
							orgId: _.get(s, "baseConversation.extension.id"),
							isCompanyGroup: !s.isSingleChat && s.baseConversation.tag === ConvType.COMPANY_GROUP,
							getSpaceIdPromise: s.getIMSpaceId.bind(s)
						}).then(function(e) {
							var t = m.instance(e);
							return s._sendMsg(t)
						}) : Promise.reject({
							body: {
								reason: "当前离线"
							}
						})
					}, x.prototype.receiveMsg = function(e) {
						var t = this,
							s = e.content.contentType,
							i = r.genReceiveMsg(e, this.baseConversation.memberCount);
						if (e.type !== MsgType.SILENCE) {
							var n = e.openIdEx.openId,
								c = E.get(n);
							if (0 !== c.status && 2 !== c.status || t.isActive && "hidden" !== document.visibilityState && d.isHide() !== !0 && d.isMini() !== !0 || (t.hasFollowMsg = !0), 1 == s) {
								var g = e.content.atOpenIds,
									n = e.openIdEx.openId;
								e.content.textContent.text;
								!g || !g[t.myuid] || t.isActive && "hidden" !== document.visibilityState && d.isHide() !== !0 && d.isMini() !== !0 || (t.hasAt = !0, u.getUsers([n]).then(function(t) {
									if (0 !== t.length) {
										var s = {
											name: t[0].remarkNameObj.alias || t[0].userProfileModel.nick,
											text: m.instance(i).getContent().textContent.text,
											tip: "@你"
										};
										h.notify(s, function() {
											o.$broadcast("leftpannel.openChatByGroup", e), ua.isNw && d.activeWindow()
										})
									}
								}))
							}
							if (this.isRedirectType && this.baseConversation.extension && this.baseConversation.extension.type === ConvExtensionType.EMAIL && e.extension && "5" !== e.extension.folderType) {
								var p = {
									name: "",
									text: "",
									tip: "",
									type: "mail"
								};
								p.name = e.extension && e.extension.fromName ? "【" + e.extension.fromName + "】" : p.name, p.name += e.extension && e.extension.subject ? e.extension.subject : "【无主题】", p.text = e.extension && e.extension.summary ? e.extension.summary : "";
								var v = "true" == b.getItemWithUid("dingEmailNotification") ? !0 : !1;
								v && h.notify(p, function() {
									f.openEmail(), t.clearNewMsg(!0), o.$digest()
								})
							}
							s !== M.GROUP_ANNOUNCE || t.isActive || (t.hasGroupAnnounce = !0)
						}
						var l = t._updateMsgList([i]);
						l && (t.showSize += l, e.type !== MsgType.SILENCE && o.$broadcast(a.MAKE_CID_TO_FIRST, t.convId)), t._genMsgList(), t._updateCanSendTypingStatus(i)
					}, x.prototype._updateCanSendTypingStatus = function(e) {
						if (this.isActive && this.isSingleChat) {
							var t = e.baseMessage.conversationId.split(":"),
								s = this.myuid === parseInt(t[0]) ? parseInt(t[1]) : parseInt(t[0]),
								i = e.baseMessage.openIdEx.openId;
							s === i && (this.canSendTyping = !0, this.isShowTyping = !1)
						}
					}, x.prototype.updateShowTyping = function(e) {
						var t = this;
						0 === e.command ? (this.isShowTyping = !0, this.isShowTyping && this.typingTimer && C.cancel(this.typingTimer), this.typingTimer = C(function() {
							t.isShowTyping = !1, t.typingTimer = null
						}, 5e3)) : 1 === e.command && (C.cancel(this.typingTimer), this.isShowTyping = !1, this.typingTimer = null), this.disableSendTyping()
					}, x.prototype.updateBaseConv = function(e) {
						Object.keys(e).forEach(function(t) {
							"" === e[t] && delete e[t]
						}), 1 === e.isQuit && o.$broadcast(a.HIDE_CONV, this.convId), e.memberCount && e.memberCount !== this.baseConversation.memberCount && (this.members = null), $.extend(this.baseConversation, e), this.isTop = this.baseConversation.sort > 0, this.updateNotificationState(), this.updateConvShowState()
					}, x.prototype.updateConvShowState = function() {
						_.has(this, "baseConversation.hide") && 1 === this.baseConversation.hide && o.$broadcast(a.HIDE_CONV, this.convId)
					}, x.prototype.updateMsgStatus = function(e) {
						var s = e.messageId,
							i = t.getMsg(this.convId, s);
						i && i.updateStatus(e.status)
					}, x.prototype.updateMsgReadStatus = function(e) {
						var s = e.messageId,
							i = t.getMsg(this.convId, s);
						i && i.updateReadStatus(e.status)
					}, x.prototype.updateMsgToDing = function(e) {
						var s = e.dingEntity.id,
							i = t.getMsg(this.convId, s);
						i && i.updateToDing(e)
					}, x.prototype.getMembers = function(e, t) {
						var s = this;
						this.isSingleChat ? (s.members = s.convId.split(":").map(function(e) {
							return {
								openIdEx: {
									openId: parseInt(e),
									tag: -1
								},
								role: y.MEMBER
							}
						}), s.isToMySelf && (s.members = s.members.splice(0, 1)), e && e(this.members)) : this.members && !t ? e && e(this.members) : i.listMembers(this.convId, 0, A, function(t) {
							200 === t.code && (s.members = t.body, e && e(s.members))
						})
					}, x.prototype.updateNotificationState = function() {
						this.notificationOff = 1 === this.baseConversation.notificationOff ? !0 : !1, this.hasNewMsgButNotNotify = this.notificationOff
					}, x.prototype.sendNotificationOff = function(e, t) {
						var s = this;
						i.updateNotificationOff(this.convId.toString(), parseInt(e), function(i) {
							200 === i.code ? (s.baseConversation.notificationOff = e, t && t()) : (p.show("设置消息免打扰失败", {
								type: "error"
							}), t && t(i))
						})
					}, x.prototype.hide = function(e, t) {
						var s = this;
						o.$broadcast(a.HIDE_CONV, s.convId), e && p.show('删除会话 "' + s.baseConversation.title + '" 成功', {
							type: "success"
						}), i.updateStatus([this.convId], 0, function(e) {
							200 === e.code && t && t(e)
						})
					}, x.prototype.quit = function(e) {
						var t = r.genUUID(),
							s = this,
							n = $my.userProfileModel.nick,
							d = {
								uuid: t,
								conversationId: s.convId,
								type: 1,
								creatorType: 2,
								tag: 0,
								content: {
									contentType: 1,
									textContent: {
										text: n + " 退出群聊"
									}
								}
							}, c = s.baseConversation.icon,
							u = s._dealWithIcon(c);
						s._updateIcon(u, [s.myuid], function() {
							i.quitSilent(s.convId, !0, d, function(t) {
								200 === t.code ? (e && e(t), p.show('退出群聊 "' + s.baseConversation.title + '" 成功', {
									type: "success"
								}), o.$broadcast(a.HIDE_CONV, s.convId)) : t.body && t.body.reason && p.show(t.body.reason, {
									type: "error"
								})
							})
						})
					}, x.prototype.disband = function() {
						var e = this;
						i.disband(e.convId, function(t) {
							if (200 === t.code) p.show('解散群组 "' + e.baseConversation.title + '" 成功', {
								type: "success"
							}), o.$broadcast(a.HIDE_CONV, e.convId);
							else {
								var s = "解散群组失败";
								t.body && t.body.reason && (s = t.body.reason), p.show(s, {
									type: "error"
								})
							}
						})
					}, x.prototype.setTop = function(e, t) {
						var s = this;
						i.setTop(this.convId, e, function(e) {
							if (200 == e.code) {
								var i = e.body;
								s.baseConversation.sort = i, o.$broadcast(a.CONV_PIN_STATUS_CHANGE, s.convId), t && t(i)
							} else p.show("设置群置顶失败", {
								type: "error"
							}), t && t(s.baseConversation.sort, e)
						})
					}, x.prototype.getMsgById = function(e) {
						return t.getMsg(this.convId, e)
					}, x.prototype.updateTitle = function(e) {
						var t = this,
							s = r.genUUID(),
							n = $my.userProfileModel.nick,
							o = {
								uuid: s,
								conversationId: t.convId,
								type: 1,
								creatorType: 2,
								tag: 0,
								content: {
									contentType: 1,
									textContent: {
										text: n + '修改群名称为"' + e + '"'
									}
								}
							};
						i.updateTitle(t.convId, e, o, function(s) {
							200 == s.code && (t.baseConversation.title = e)
						})
					}, x.prototype.convertToOrgGroup = function(e, t, s) {
						var i = this;
						n.convertToOrgGroup(i.convId, e, function(e) {
							200 == e.code ? (i.baseConversation.tag = ConvType.COMPANY_GROUP, i.baseConversation.extension || (i.baseConversation.extension = {}), i.baseConversation.extension.id = t.id, i.baseConversation.extension.orgName = t.orgName, s(null), p.show("设置企业群成功", {
								type: "success"
							})) : (p.show(e.body.reason || "设置失败", {
								type: "error"
							}), s(e))
						})
					}, x.prototype.removeMembers = function(e, t) {
						var s = this;
						u.getUsers(e).then(function(e) {
							var n = [],
								o = "";
							e.forEach(function(e) {
								n.push(e.userProfileModel.uid), o += "," + e.userProfileModel.nick
							}), o = o.substr(1, o.length);
							var a = r.genUUID(),
								d = {
									uuid: a,
									conversationId: s.convId,
									type: 1,
									creatorType: 2,
									tag: 0,
									content: {
										contentType: 1,
										textContent: {
											text: o + " 被管理员 " + $my.userProfileModel.nick + " 移出群"
										}
									}
								};
							t && (d.receivers = t), i.removeMembers(s.convId, n, !0, d, function(e) {
								if (200 != e.code) p.show("移除人员失败", {
									type: "error"
								});
								else {
									s.members && n.forEach(function(e) {
										var t = s.members.indexOf(e);
										s.members.splice(t, 1)
									});
									var t = s.baseConversation.icon,
										i = s._dealWithIcon(t);
									s._updateIcon(i, n)
								}
							})
						})
					}, x.prototype.addMembers = function(e, t) {
						var s = this;
						u.getUsers(e).then(function(e) {
							var n = [],
								o = "";
							e.forEach(function(e) {
								n.push(e.userProfileModel.uid), o += "," + e.userProfileModel.nick
							}), o = o.substr(1, o.length);
							var a = r.genUUID(),
								d = {
									uuid: a,
									conversationId: s.convId,
									type: 1,
									creatorType: 2,
									tag: 0,
									content: {
										contentType: 1,
										textContent: {
											text: $my.userProfileModel.nick + "把 " + o + " 加入群"
										}
									}
								};
							i.addMembers(s.convId, n, d, function(e) {
								if (200 != e.code) p.show("添加人员失败", {
									type: "error"
								});
								else {
									s.members && n.forEach(function(e) {
										var t = {
											openIdEx: {
												openId: e
											},
											role: y.MEMBER
										};
										s.members.push(t)
									});
									var i = s.baseConversation.icon,
										o = s._dealWithIcon(i);
									s._updateIcon(o, []), t && t()
								}
							})
						})
					}, x.prototype._dealWithIcon = function(e) {
						if (e instanceof Array) return e;
						if (-1 != e.indexOf("uids:")) {
							var t = e.split("uids:")[1];
							return t = t.split(";"), t.pop(), t.map(function(e) {
								return parseInt(e)
							})
						}
						if (-1 == e.indexOf("$:")) return console.log("无法解析icon" + e), [];
						var s = e.split("$:")[1];
						try {
							return s = JSON.parse(s), s.map(function(e) {
								return parseInt(e.uId)
							})
						} catch (i) {
							return console.log(i), []
						}
					}, x.prototype._difference = function(e, t) {
						return e.filter(function(e) {
							return -1 != t.indexOf(e) ? !1 : !0
						})
					}, x.prototype._updateIcon = function(e, t, s) {
						var n = this;
						n.getMembers(function(o) {
							var a = o.map(function(e) {
								return e.openIdEx.openId
							});
							a = n._difference(a, e), e = n._difference(e, t), a = a.splice(0, 4 - e.length), e = e.concat(a), u.getUsers(e).then(function(e) {
								var t = e.map(function(e) {
									return {
										mediaId: e.userProfileModel.avatarMediaId,
										nick: e.userProfileModel.nick,
										uId: e.userProfileModel.uid.toString()
									}
								}),
									o = "$:" + JSON.stringify(t),
									a = n.convId;
								i.updateIcon(a, o, null, function(e) {
									200 == e.code ? (n.baseConversation.icon = o, s && s()) : s && s(e)
								})
							})
						})
					}, x.prototype.update2WithDrawMsg = function(e) {
						var s = this,
							i = t.getMsg(this.convId, e);
						i && i.update2WithDrawMsg(function() {
							s._genLastMsg(), s.newMsg = s._calcNewMsg(), s.baseConversation.notificationOff || s.baseConversation.superGroup === SuperGroupStatus.SUPER || o.$broadcast(a.NEW_MSG_COUNT_CHANGE)
						})
					}, x.prototype.updateMsgExtensionByMid = function(e, s) {
						var i = t.getMsg(this.convId, e);
						i && i.updateMsgExtension(s)
					}, x.prototype.clearMsg = function() {
						var e = this;
						i.clear(this.convId, function(t) {
							200 === t.code ? (e.msgIds = [], e.lastMessage = null, e._genMsgList(), e._genLastMsg(), e.newMsg = e._calcNewMsg(), e.baseConversation.notificationOff || e.baseConversation.superGroup === SuperGroupStatus.SUPER || o.$broadcast(a.NEW_MSG_COUNT_CHANGE)) : p.show("清空会话聊天失败", {
								type: "error"
							})
						})
					}, x.prototype.shouldShow = function() {
						return this.allowedShow && !this.isDiscard && 1 !== this.baseConversation.isQuit
					}, x.prototype.destroy = function() {
						var e = this;
						this.messages = [], this.lastMessage = null, this.msgIds.forEach(function(s) {
							t.delMsgCache(e.convId, s)
						}), this.msgIds = []
					}, x.prototype.zip = function() {
						var e = this;
						if (!this.isActive) {
							var s = Math.max(this.newMsg, 2 * N);
							if (this.msgIds.length > s) {
								var i = this.msgIds.splice(0, this.msgIds.length - s);
								i.forEach(function(s) {
									t.delMsgCache(e.convId, s)
								})
							}
						}
					}, x.prototype.getIMSpaceId = function() {
						var e = this,
							t = _.get(this, "baseConversation.extension.newCSpaceIdIM");
						if (t) return Promise.resolve(t);
						if (this.isSingleChat) var s = this.convId;
						else var s = this.baseConversation.title;
						var i = this.convId;
						return new Promise(function(t, n) {
							I.generateCSpaceIdAndConsistent(null, i, s, function(s) {
								200 === s.code ? (t(s.body), _.set(e, "baseConversation.extension.newCSpaceIdIM", s.body)) : n(s)
							})
						})
					}, x.prototype.cancelMsgSending = function(e) {
						var t = this.msgIds.indexOf(e); - 1 !== t && (this.msgIds.splice(t, 1), this.showSize--, this._genMsgList())
					}, x.prototype.updateAuthority = function(e, t) {
						var s = this;
						i.updateAuthority(s.convId.toString(), parseInt(e), function(i) {
							200 === i.code ? (s.baseConversation.authority = e, t && t()) : (p.show("设置仅群主可管理失败", {
								type: "error"
							}), t && t(i))
						})
					}, x
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../audio": 169,
			"../chat/typingService": 177,
			"../chat/typingType": 178,
			"../events": 221,
			"../groupSupportType/groupSupportType": 241,
			"../log/log": 260,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../notification": 304,
			"../storage/ddStorage": 372,
			"../toast/toast": 378,
			"../ua": 390,
			"../user/my": 400,
			"../user/userConcernMap": 403,
			"../user/userManager": 404,
			"../widget/emailOpenService": 413,
			"./ContentType": 182,
			"./ConvType": 184,
			"./GroupRole": 185,
			"./ImgList": 186,
			"./MsgType": 188,
			"./SendStatus": 189,
			"./SuperGroupStatus": 190,
			"./convExtensionType": 191,
			"./msg/Msg": 195,
			"./msg/msgFactory": 198,
			"./msgCache": 199,
			"./msgInstanceHelper": 200,
			"@ali/ding-api": 453,
			"lodash": 470
		}
	],
	184: [
		function(require, module, exports) {
			"use strict";
			var ConvType = {
				ORDINARY_GROUP: 0,
				JUMP: 1,
				COMPANY_GROUP: 2,
				SECRETARY: 5,
				FILEHELPER: 6,
				ANNOUNCEMENT: 7,
				CRM_GROUP: 8
			};
			module.exports = ConvType;


		}, {}
	],
	185: [
		function(require, module, exports) {
			var moduleName = "ddWeb.conv.GroupRole";
			angular.module(moduleName, []).value("GroupRole", {
				BOSS: 1,
				MEMBER: 3
			}), module.exports = moduleName;


		}, {}
	],
	186: [
		function(require, module, exports) {
			require("./msgCache"), angular.module("ddWeb.conv.ImgList", ["ddWeb.conv.msgCache"]).factory("ImgList", ["msgCache",
				function(e) {
					var n = function(e) {
						this.conv = e
					};
					return n.prototype = {
						getNext: function(n) {
							var t = this._getIndex(n),
								s = null;
							if (-1 !== t)
								for (var o = t + 1; o < this.conv.msgIds.length; o++) {
									var r = e.getMsg(this.conv.convId, this.conv.msgIds[o]);
									if (2 === r.baseMessage.content.contentType) {
										s = r;
										break
									}
								}
							return s
						},
						getPre: function(n) {
							var t = this._getIndex(n),
								s = null;
							if (-1 !== t)
								for (var o = t - 1; o >= 0; o--) {
									var r = e.getMsg(this.conv.convId, this.conv.msgIds[o]);
									if (r.baseMessage.content && 2 === r.baseMessage.content.contentType) {
										s = r;
										break
									}
								}
							return s
						},
						_getIndex: function(e) {
							var e = parseInt(e);
							return isNaN(e) ? void 0 : this.conv.msgIds.indexOf(e)
						}
					}, n
				}
			]);


		}, {
			"./msgCache": 199
		}
	],
	187: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				SELF: 1,
				SYSTEM: 2,
				EOF: 10
			};


		}, {}
	],
	188: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				NORMAL: 1,
				SILENCE: 3
			};


		}, {}
	],
	189: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				SENDING: 0,
				SENDED: 1,
				SENDFAIL: -1,
				WAITING_SEND: 2,
				SENDING_WITH_PROGRESS: 3
			};


		}, {}
	],
	190: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				ORDINARY: 0,
				SUPER: 1
			};


		}, {}
	],
	191: [
		function(require, module, exports) {
			"use strict";
			var convExtensionType = {
				EMAIL: "1",
				FRIEND: "2",
				FREECALL: "3",
				FILESHELPER: "4"
			};
			module.exports = convExtensionType;


		}, {}
	],
	192: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.convFactory";
			require("./Conv.js"), angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLConversation, "ddWeb.conv.Conv"]).factory("convFactory", ["IDLConversation", "Conv",
				function(e, o) {
					var n = /\d+:\d/;
					return {
						genConv: function(t, a, r) {
							e.getByIdUnlimited(t, function(e) {
								if (200 === e.code)
									if (e.body && e.body.baseConversation) {
										var i = new o(e.body, a);
										r(i)
									} else
								if (n.test(t)) {
									var d = {
										conversationId: t,
										type: 1,
										memberCount: 2,
										title: "",
										icon: "",
										createAt: new Date - 0
									}, i = new o({
											baseConversation: d
										}, a);
									r(i)
								}
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"./Conv.js": 183,
			"@ali/ding-api": 453
		}
	],
	193: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conversation",
				ua = require("../ua");
			require("./Conv"), require("./convFactory"), require("./msg/msgFactory"), require("../user/userManager"), require("../events"), require("../app/nw"), require("../toast/toast");
			var ConvExtensionType = require("./convExtensionType");
			require("../log/log");
			var $my = require("../user/my"),
				_ = require("lodash"),
				loginStatusCode = require("../login/LoginStatusCode");
			angular.module(moduleName, ["ddWeb.conv.Conv", "ddWeb.conv.convFactory", "ddWeb.conv.msgFactory", require("@ali/ding-api")["interface"].IDLConversation, require("@ali/ding-api")["interface"].IDLDing, "ddWeb.events", require("../api/MsgSub"), "ddWeb.nw", "ddWeb.toast", "ddWeb.user.userManager", "ddWeb.log.log", require("@ali/ding-api")["interface"].ConversationI]).factory("conversation", ["Conv", "IDLConversation", "$state", "MsgSub", "convFactory", "$rootScope", "EVENTS", "IDLDing", "nw", "toastService", "$filter", "msgFactory", "userManager", "log", "ConversationI", "$timeout", "$q",
				function(e, n, o, t, i, r, s, a, d, c, u, v, f, g, l, b, p) {
					function C(e) {
						return e.lastMessage && e.lastMessage.baseMessage ? e.lastMessage.baseMessage.createdAt : e.lastMessages && e.lastMessages.length > 0 ? e.lastMessages[0].baseMessage.createdAt : e.baseConversation.createAt
					}

					function y() {
						E.pinOrder.sort(function(e, n) {
							return C(O[n]) - C(O[e])
						})
					}

					function I(e) {
						var n = O[e];
						if (n) {
							var o = E.pinOrder.indexOf(e),
								t = E.order.indexOf(e);
							0 == n.baseConversation.sort ? -1 != o && (E.pinOrder.splice(o, 1), -1 == t && E.order.unshift(e)) : -1 != t && (E.order.splice(t, 1), -1 == o && E.pinOrder.unshift(e))
						}
					}

					function h(e) {
						l.getFilesHelperConversationId(function(n) {
							e(n.body)
						})
					}

					function m(e) {
						h(function(o) {
							n.listNewest(1e3, function(n) {
								if (200 === n.code) {
									var t = [],
										i = [];
									n.body && Array.isArray(n.body) && (n.body.forEach(function(e, n) {
										e.baseConversation.sort > 0 ? i.push(e) : t.push(e)
									}), t = t.sort(function(e, n) {
										return C(n) - C(e)
									}), t = t.slice(0, M), e && e(t, i, o, n))
								} else e && e([], [])
							})
						})
					}
					var M = 60,
						O = {}, E = {
							order: [],
							pinOrder: [],
							activeConvId: null,
							lastActiveConvId: null
						}, S = !1,
						x = function() {
							S = !0, m(function(n, o, t, i) {
								var r = [],
									s = [],
									a = [].concat(n, o);
								a.forEach(function(n) {
									var o = new e(n, !0);
									O[o.convId] = o, o.shouldShow() && (o.baseConversation.sort > 0 ? s.push(o.convId) : o.baseConversation.extension && o.baseConversation.extension.type === ConvExtensionType.FILESHELPER ? r.unshift(o.convId) : r.push(o.convId))
								}), E.order = r, E.pinOrder = s, t && A(t, !0, function(e) {
									N(t)
								}), y()
							})
						};
					r.$on(s.LOGIN_STATE_CHANGE, function(n, o) {
						o === loginStatusCode.LOGINED && S === !0 && m(function(n, o) {
							n = n.reverse(), o = o.reverse();
							var t = [].concat(o, n);
							t.forEach(function(n) {
								var o = n.baseConversation.conversationId;
								if (O[o]) {
									var t = O[o];
									if (t.updateBaseConv(n.baseConversation), t.shouldShow())
										if (t.baseConversation.sort > 0) {
											var i = E.pinOrder.indexOf(o); - 1 !== i && E.pinOrder.splice(i, 1), E.pinOrder.unshift(o)
										} else {
											var r = E.order.indexOf(o); - 1 !== r && E.order.splice(r, 1), E.order.unshift(o)
										}
									n.lastMessages && n.lastMessages.length > 0 && O[o].lastMessage && n.lastMessages[0].baseMessage.messageId !== O[o].lastMessage.getId() && O[o].getLatestMsg(), n.lastMessages && n.lastMessages.length > 0 && !O[o].lastMessage && O[o].getLatestMsg()
								} else {
									var t = new e(n, !0);
									O[o] = t, t.shouldShow() && (t.baseConversation.sort > 0 ? E.pinOrder.unshift(o) : E.order.unshift(o))
								}
								I(o), y()
							})
						})
					});
					var N = function(e) {
						var n = E.order.indexOf(e),
							o = E.pinOrder.indexOf(e);
						if (-1 !== n && E.order.splice(n, 1), -1 !== o && E.pinOrder.splice(o, 1), O[e].shouldShow()) {
							var t = O[e].baseConversation.sort > 0;
							t ? E.pinOrder.unshift(e) : E.order.unshift(e)
						}
					}, A = function(e, n, o) {
							O[e] ? o(O[e]) : i.genConv(e, n, function(t) {
								O[e] ? o(O[e]) : (O[e] = t, n === !0 && N(e), o(t))
							})
						};
					t.subscribe("/s/msg", function(e, n) {
						n({
							updateStatus: !1
						});
						var o = e.body.conversationId;
						A(o, !0, function(n) {
							n.receiveMsg(e.body)
						});
						var t = $.extend(!0, {}, e);
						t.body.content = null, t.body.extension = null, g.info("receive msg", JSON.stringify(t))
					}), t.subscribe("/s/convex", function(e, n) {
						n({});
						var o = e.body.conversationId;
						A(o, !1, function(n) {
							n.updateBaseConv(e.body)
						}), g.info("receive convex", JSON.stringify(e))
					}), t.subscribe("/s/conp", function(e, n) {
						n({});
						var o = e.body.conversationId;
						A(o, !0, function(n) {
							n.updateBaseConv(e.body), I(o)
						}), g.info("receive conp", JSON.stringify(e))
					}), t.subscribe("/s/status", function(e, n) {
						n({});
						var o = e.body.conversationId;
						if (O[o]) {
							var t = O[o];
							t.updateMsgStatus(e.body)
						}
						g.info("receive status", JSON.stringify(e))
					}), t.subscribe("/s/readstatus", function(e, n) {
						n({}), e && e.body && Array.isArray(e.body.readStatusList) && e.body.readStatusList.forEach(function(e) {
							var n = e.conversationId;
							if (O[n]) {
								var o = O[n];
								o.updateMsgReadStatus(e), g.info("clear red point", "update readstatus from other platform for conv :" + n), o.clearNewMsg()
							}
						}), g.info("receive readstatus", JSON.stringify(e))
					}), t.subscribe("/s/typing", function(e, n) {
						n({}), e && e.body && Array.isArray(e.body.typingModels) && e.body.typingModels.forEach(function(e) {
							var n = e.conversationId;
							if (O[n]) {
								var o = O[n];
								o.updateShowTyping(e), g.info("receive a typing msg for conv " + n + " and command is " + e.command)
							}
						})
					}), t.subscribe("/s/msgInfo", function(e, n) {
						var o = _.get(e, "body.conversationId"),
							t = O[o];
						1 === _.get(e, "body.recallStatus") ? t && t.update2WithDrawMsg(e.body.messageId) : t && _.get(e, "body.messageId") && _.get(e, "body.extension") && t.updateMsgExtensionByMid(_.get(e, "body.messageId"), _.get(e, "body.extension"))
					}), r.$on(s.LOGIN_STATE_CHANGE, function(e, n) {
						2 === n && E.activeConvId && O[E.activeConvId] && O[E.activeConvId].getLatestMsg()
					}), r.$on("leftpannel.openChatByGroup", function(e, n) {
						var o = n.conversationId;
						A(o, !0, function() {
							L(o), N(o)
						})
					}), r.$on("leftpannel.openChatByUid", function(e, n) {
						var o = n.uid,
							t = $my.uid,
							i = [o, t],
							r = i.sort(function(e, n) {
								return e - n
							}).join(":");
						A(r, !0, function() {
							L(r), N(r)
						})
					}), r.$on(s.MAKE_CID_TO_FIRST, function(e, n) {
						N(n)
					}), r.$on(s.CONV_PIN_STATUS_CHANGE, function(e, n) {
						I(n)
					}), r.$on(s.HIDE_CONV, function(e, n) {
						var t = E.order.indexOf(n),
							i = E.pinOrder.indexOf(n);
						if (O[n]) {
							var a = O[n]; - 1 !== t ? E.order.splice(t, 1) : -1 !== i && E.pinOrder.splice(i, 1), a.isActive && (o.go("^.nocontent"), E.lastActiveConvId = null), a.newMsg && !a.notificationOff && r.$broadcast(s.NEW_MSG_COUNT_CHANGE), a.destroy(), delete O[n]
						}
					}), r.$on(s.CANCEL_SENDING_MSG, function(e, n) {
						var o = n.convId;
						B(o, function(e) {
							e && e.cancelMsgSending(n.msgId)
						})
					}), r.$on("openUnreadChat", function(e, n) {
						return n ? L(n) : void(-1 !== o.current.name.indexOf("authorized") && -1 === o.current.name.indexOf("authorized.im") && o.go("authorized.im"))
					}), r.$on("$stateChangeSuccess", function(e, n, o, t, i) {
						-1 === n.name.indexOf("authorized.im") && -1 !== t.name.indexOf("authorized.im") && (E.activeConvId && O[E.activeConvId] && O[E.activeConvId].deactive(), E.activeConvId = null)
					}), document.addEventListener("visibilitychange", function() {
						"visible" === document.visibilityState && E.activeConvId && O[E.activeConvId] && O[E.activeConvId].clearNewMsg()
					}), $(document).on("nw_visibilitychange", function(e, n) {
						n === !1 && E.activeConvId && O[E.activeConvId] && O[E.activeConvId].clearNewMsg()
					});
					var q = function(e) {
						if (e && e.dingEntity && e.dingEntity.extInfo && e.dingEntity.extInfo.cid) {
							var n = e.dingEntity.extInfo.cid,
								o = e.dingEntity.id;
							n && o && O[n] && O[n].updateMsgToDing(e)
						}
					}, T = function() {
							return E
						}, w = function() {
							return O
						}, L = function(e) {
							if (!O[e]) {
								console.log("Error : convId " + e + "should exist");
								var n = p.defer();
								return n.reject(), n.promise
							}
							E.activeConvId && O[E.activeConvId] && O[E.activeConvId].deactive();
							var t = O[e];
							return t.active(), E.activeConvId = E.lastActiveConvId = e, _.has(t, "baseConversation.hide") && delete t.baseConversation.hide, t.isRedirectType ? t.baseConversation.extension && t.baseConversation.extension.type === ConvExtensionType.FRIEND ? o.go("authorized.im.friendRequest") : void 0 : o.go("authorized.im.chat", {
								id: e,
								createdAt: t.updateTime
							})
						}, D = function(e) {
							return O[e] ? O[e] : (console.log("Error : convId " + e + "should exist"), {})
						}, G = function(e, n, o) {
							O[e] && O[e].hide(n, o)
						}, W = function(e) {
							O[e] && O[e].quit()
						}, F = function(e) {
							r.$broadcast(s.HIDE_CONV, e)
						}, z = function(e, n, o) {
							O[e].removeMembers(n, o)
						}, H = function(e, n, o) {
							O[e].addMembers(n, o)
						}, B = function(e, n) {
							A(e, !1, function(e) {
								n && n(e)
							})
						}, j = function(e, n) {
							O[e].updateTitle(n)
						}, J = function(e) {
							return e.sort(function(e, n) {
								return parseInt(e) - parseInt(n)
							}).join(":")
						}, P = function(e, o, t, i) {
							if (e.unshift($my.uid), 2 === e.length) {
								var r = J(e);
								return void(i && i(!0, r))
							}
							var s, a = e.slice(0, 5),
								o = o || "",
								d = t.isOrg,
								c = t.oid;
							if (d && (void 0 === c || null === c)) throw new Error("创建企业群需要oid");
							if (d) var u = 2;
							else var u = 0;
							f.getUsers(a).then(function(t) {
								o || (o = t.map(function(e) {
									return e.userProfileModel.nick
								}).join(","), e.length > 5 && (o += "等")), s = "$:" + JSON.stringify(t.slice(0, 4).map(function(e) {
									return {
										uId: e.userProfileModel.uid.toString(),
										mediaId: e.userProfileModel.avatarMediaId,
										nick: e.userProfileModel.nick
									}
								}));
								var r = {
									openIds: e,
									title: o,
									icon: s,
									type: 2,
									tag: u
								};
								c && (r.extension = {
									id: String(c)
								}), v.genCreateConvMsg(function(e) {
									n.create(r, e, function(e) {
										200 === e.code ? i && i(!0, e.body) : i && i(!1, e)
									})
								})
							})
						};
					return setInterval(function() {
						Object.keys(O).forEach(function(e) {
							O[e].zip()
						})
					}, 18e5), {
						getConvList: T,
						getAllConv: w,
						activeConv: L,
						getConvObj: D,
						hideConv: G,
						quitConv: W,
						deleteConv: F,
						addMembers: H,
						removeMembers: z,
						getConvById: B,
						updateDingMsg: q,
						createConversation: P,
						createCid: J,
						updateTitle: j,
						init: x
					}
				}
			]), module.exports = moduleName;


		}, {
			"../api/MsgSub": 146,
			"../app/nw": 161,
			"../events": 221,
			"../log/log": 260,
			"../login/LoginStatusCode": 264,
			"../toast/toast": 378,
			"../ua": 390,
			"../user/my": 400,
			"../user/userManager": 404,
			"./Conv": 183,
			"./convExtensionType": 191,
			"./convFactory": 192,
			"./msg/msgFactory": 198,
			"@ali/ding-api": 453,
			"lodash": 470
		}
	],
	194: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.msg.image",
				fileTypes = require("@ali/ding-filetypes"),
				SendStatus = require("../SendStatus"),
				fileCache = require("./fileCache"),
				localLog = require("../../log/localLog"),
				_ = require("lodash");
			angular.module(moduleName, [require("./Msg"), require("../../toast/toast"), require("../../events"), require("../../api/Upload")]).factory("ImageMsg", ["Msg", "toastService", "$rootScope", "EVENTS", "Upload",
				function(e, t, o, s, r) {
					var a = e.extend({
						initialize: function(e) {
							a.superclass.initialize.call(this, e)
						},
						EventsName: {
							PROGRESS_UPDATE: "progressUpdate",
							SEND_FAIL: "sendFail"
						},
						send: function() {
							var e = this,
								o = this.baseMessage.content;
							e.uploadProgress = 0, e.sendStatus = 0;
							var s = _.get(this, "_local.fileId"),
								n = _.get(o, "photoContent.mediaId");
							return Promise.resolve().then(function() {
								return s && fileCache.get(s) ? Promise.resolve(fileCache.get(s)) : n ? Promise.resolve() : Promise.reject({
									body: {
										reason: "获取文件失败"
									},
									code: 500
								})
							}).then(function(t) {
								return n ? Promise.resolve() : (e.sendStatus = SendStatus.SENDING_WITH_PROGRESS, r.upload(t, function(t) {
									e.uploadProgress = Math.ceil(100 * t), e.emit(e.EventsName.PROGRESS_UPDATE)
								}))
							}).then(function(t) {
								return n ? Promise.resolve() : (t.body.hd ? o.photoContent.mediaId = t.body.hd : o.photoContent.mediaId = t.body.uri, e.updateContent(o), fileCache.delCache(s), e._local.fileId = null, void localLog.info("upload success uuid: " + e.baseMessage.uuid))
							})["catch"](function(o) {
								e.emitEvent(e.EventsName.SEND_FAIL), e.sendStatus = SendStatus.SENDFAIL;
								var s = _.get(o, "body.reason") || e._defaultText.SEND_FAIL;
								s && t.show(s, {
									type: "error"
								}), localLog.error("SendImgMsg error:" + JSON.stringify(o))
							}).then(function() {
								var t = _.get(o, "photoContent.mediaId");
								return t ? a.superclass.send.call(e) : Promise.reject({
									body: {
										reason: "mediaId 不存在"
									}
								})
							}).then(function() {
								e.uploadProgress = 1, e._local.localURI = null
							})
						},
						reSend: function() {
							this.sendStatus = 0, this.baseMessage.createdAt = new Date - 0, this.send()
						}
					});
					return a
				}
			]), module.exports = moduleName;


		}, {
			"../../api/Upload": 148,
			"../../events": 221,
			"../../log/localLog": 259,
			"../../toast/toast": 378,
			"../SendStatus": 189,
			"./Msg": 195,
			"./fileCache": 197,
			"@ali/ding-filetypes": 455,
			"lodash": 470
		}
	],
	195: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.Msg",
				semver = require("semver"),
				MIN_OA_VERSION = require("../../limitConfig").MIN_MICRO_APP_NW_VERSION,
				ua = require("../../ua"),
				fileCache = require("./fileCache");
			require("../../log/log"), require("../../api/Upload"), require("../../app/nw");
			var $my = require("../../user/my");
			require("../../user/userManager");
			var Class = require("../../../lib/class"),
				SendStatus = require("../SendStatus"),
				_ = require("lodash"),
				EventEmitter = require("wolfy87-eventemitter");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLMessageStatus, require("@ali/ding-api")["interface"].IDLSend, require("@ali/ding-api")["interface"].IDLMessage, require("@ali/ding-api")["interface"].IMI, "ddWeb.api.Upload", "ddWeb.log.log", "ddWeb.nw", "ddWeb.user.userManager", require("../ContentType"), require("./msgFactory"), require("../../toast/toast")]).factory("Msg", ["IDLMessageStatus", "IDLSend", "IDLMessage", "IMI", "Upload", "log", "nw", "userManager", "ContentType", "msgFactory", "toastService",
				function(e, t, s, n, a, i, o, r, u, d, g) {
					function c(t) {
						M.push(t), 0 === p && (p = 1, setTimeout(function() {
							var t = M.join(",");
							e.updateToRead(M, function(e) {
								i.info("update msgs to read", t, JSON.stringify(e))
							}), p = 0, M = []
						}, 1e3))
					}
					var p = 0,
						M = [],
						h = Class.create({
							initialize: function(e) {
								try {
									3 === e.baseMessage.content.contentType ? (e.baseMessage.content.audioContent.audioBytes = null, e.baseMessage.content.audioContent.audioVolumns = null) : 2 === e.baseMessage.content.contentType && (e.baseMessage.content.photoContent.picBytes = null)
								} catch (t) {
									console.log(t)
								}
								var s = _.get(e, "baseMessage.openIdEx.openId");
								s && r.getUsers([s]).then(function(t) {
									0 !== t.length && t[0] && t[0].compareTag(e.baseMessage.openIdEx.tag)
								}), $.extend(this, e)
							},
							Implements: EventEmitter,
							EventsName: {
								SEND_SUCCESS: "sendSuccess",
								SEND_FAIL: "sendFail",
								UPDATE_EXTENSION: "update_extension"
							},
							_defaultText: {
								SEND_FAIL: "发送消息失败，请稍后再试"
							},
							getConvId: function() {
								return _.get(this, "baseMessage.conversationId")
							},
							getId: function() {
								if (this.sendStatus === SendStatus.SENDING || this.sendStatus === SendStatus.SENDFAIL) var e = this.baseMessage.uuid;
								else var e = this.baseMessage.messageId || this.baseMessage.uuid;
								return e
							},
							updateToRead: function(e) {
								var t = this.baseMessage.content.contentType;
								return e ? this._updateToRead() : void(this.baseMessage.openIdEx && this.baseMessage.openIdEx.openId !== $my.getId() && (this.receiverMessageStatus && 2 === this.receiverMessageStatus.readStatus || (this.baseMessage && this.baseMessage.content && (t === u.AUDIO && (this.audioMsgHaveSeen = !0), (t === u.IM_SPACE_FILE || t === u.ORG_SPACE_FILE) && (this.spaceFileMsgHaveSeen = !0)), this.EOF || 2 === this.baseMessage.creatorType || t === u.AUDIO || t === u.IM_SPACE_FILE || t === u.ORG_SPACE_FILE || this.isSupport2Show && "hidden" !== document.visibilityState && o.isHide() !== !0 && o.isMini() !== !0 && this._updateToRead())))
							},
							updateAudioMsgToRead: function() {
								this._updateToRead()
							},
							updateSpaceFileMsgToRead: function() {
								this._updateToRead()
							},
							_updateToRead: function() {
								c(this.getId());
								var e = {
									readStatus: 2
								};
								this.receiverMessageStatus = e
							},
							send: function() {
								var e = this;
								return new Promise(function(s, n) {
									t.send(e.baseMessage, function(t) {
										if (200 === t.code) e.senderMessageStatus = t.body.model, e.baseMessage.messageId = t.body.messageId, e.baseMessage.createdAt = t.body.createdAt, e.sendStatus = SendStatus.SENDED, e.emitEvent(e.EventsName.SEND_SUCCESS), i.info("sendMsg callback mid:" + e.baseMessage.messageId, "uuid: " + e.baseMessage.uuid), s(t);
										else {
											e.emitEvent(e.EventsName.SEND_FAIL), e.sendStatus = SendStatus.SENDFAIL;
											var a = _.get(t, "body.reason") || e._defaultText.SEND_FAIL;
											a && 101008 !== t.code && g.show(a, {
												type: "error"
											}), i.error("SendMsg error:" + JSON.stringify(t)), n(t)
										}
									})
								})
							},
							updateContent: function(e) {
								this.baseMessage.content = e
							},
							reSend: function() {
								return this.sendStatus = SendStatus.SENDING, this.baseMessage.createdAt = new Date - 0, this.send()
							},
							updateStatus: function(e) {
								_.get(e, "unReadCount") < _.get(this, "senderMessageStatus.unReadCount") && (this.senderMessageStatus = e)
							},
							updateReadStatus: function(e) {
								_.get(e, "readStatus") > _.get(this, "receiverMessageStatus.readStatus") && (this.receiverMessageStatus = e)
							},
							updateToDing: function(e) {
								this.baseMessage.memberExtension || (this.baseMessage.memberExtension = {}), this.baseMessage.memberExtension.dingId = e.dingId, this.baseMessage.memberTag = 2
							},
							getContent: function() {
								var e = angular.copy(this.baseMessage.content),
									t = e.contentType,
									s = /@[0-9]+[^\s@]/g;
								if (1 == t) {
									var n = e.atOpenIds,
										a = e.textContent.text,
										i = a.match(s);
									i && n && i.forEach(function(e) {
										var t = n[e.substr(1, e.length - 1)];
										t && (a = a.replace(e, "@" + n[e.substr(1, e.length - 1)]))
									}), e.textContent.text = a
								}
								return e
							},
							dingToMsg: function() {
								this.baseMessage.memberTag && 2 === this.baseMessage.memberTag && (this.baseMessage.memberTag = 0), this.baseMessage.memberExtension && this.baseMessage.memberExtension.dingId && delete this.baseMessage.memberExtension.dingId
							},
							isSupport2Show: function() {
								var e = this.baseMessage,
									t = !0;
								if (ua.isNw) {
									var s = o.version();
									semver.lt(s, MIN_OA_VERSION) && (t = !1)
								}
								return 2 === e.memberTag || e.content.contentType === u.TEXT || e.content.contentType === u.IMG || e.content.contentType === u.AUDIO || e.content.contentType === u.FILE || e.content.contentType === u.SHARE && (16 === e.content.attachments[0].type || 102 === e.content.attachments[0].type) || e.content.contentType === u.ORG_SPACE_FILE || e.content.contentType === u.IM_SPACE_FILE || e.content.contentType === u.CARD || e.content.contentType === u.OA && t || e.content.contentType === u.MAIL || e.content.contentType === u.GROUP_ANNOUNCE
							},
							withDraw: function(e) {
								var t = this;
								if (!t.hasRecall) {
									var a = _.get(t, "baseMessage.content.contentType"),
										i = $.proxy(t._handleWithDrawCallBack, t)(e);
									a === u.ORG_SPACE_FILE || a === u.IM_SPACE_FILE ? n.recallYunpanMsg(parseInt(this.baseMessage.messageId), i) : s.recallMessage(parseInt(this.baseMessage.messageId), i)
								}
							},
							_handleWithDrawCallBack: function(e) {
								var t = this;
								return function(s) {
									200 === s.code ? t.update2WithDrawMsg(e) : g.show("撤回消息失败", {
										type: "error"
									})
								}
							},
							update2WithDrawMsg: function(e) {
								var t = this;
								t.hasRecall || (r.getUsers([t.baseMessage.openIdEx.openId]).then(function(s) {
									var n = $my.getId() === t.baseMessage.openIdEx.openId ? "你" : s[0].userProfileModel.nick,
										a = d.genSysMsg({
											mid: t.baseMessage.messageId,
											cid: t.baseMessage.conversationId,
											lastTime: 0,
											text: n + "撤回了一条消息"
										});
									$.extend(t, a), e && e()
								}), t.hasRecall = !0)
							},
							updateMsgExtension: function(e) {
								var t = this;
								this.baseMessage.extension = e, t.emitEvent(t.EventsName.UPDATE_EXTENSION)
							},
							updateFromClonedMsg: function(e) {
								this.updateStatus(e.senderMessageStatus), this.updateReadStatus(e.receiverMessageStatus)
							},
							getReceiverList: function() {
								var e = this,
									t = {};
								return new Promise(function(n, a) {
									var i = [],
										o = [];
									s.listMemberStatusByMessageId(null, e.getId(), function(e) {
										if (200 === e.code) {
											for (var s = [], u = [], d = 0; d < e.body.length; d++) e.body[d].openIdEx.openId !== $my.uid && (2 === e.body[d].status ? s.push(e.body[d].openIdEx.openId) : u.push(e.body[d].openIdEx.openId));
											Promise.all([r.getUsers(s), r.getUsers(u)]).then(function(e) {
												i = e[0].map(function(e) {
													return {
														user: e
													}
												}), o = e[1].map(function(e) {
													return {
														user: e
													}
												}), t.confirmReceivers = i, t.unConfirmReceivers = o, n(t)
											}, a)
										} else a()
									})
								})
							}
						});
					return h
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../api/Upload": 148,
			"../../app/nw": 161,
			"../../limitConfig": 254,
			"../../log/log": 260,
			"../../toast/toast": 378,
			"../../ua": 390,
			"../../user/my": 400,
			"../../user/userManager": 404,
			"../ContentType": 182,
			"../SendStatus": 189,
			"./fileCache": 197,
			"./msgFactory": 198,
			"@ali/ding-api": 453,
			"lodash": 470,
			"semver": 473,
			"wolfy87-eventemitter": 476
		}
	],
	196: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.msg.spacefile",
				fileTypes = require("@ali/ding-filetypes"),
				SendStatus = require("../SendStatus"),
				fileCache = require("./fileCache"),
				spaceUploadQueue = require("../../api/spaceUploadQueue"),
				_ = require("lodash");
			angular.module(moduleName, [require("./Msg"), require("../../toast/toast"), require("../../events"), require("../../log/log"), require("../../api/SpaceUpload")]).factory("SpaceFileMsg", ["Msg", "toastService", "$rootScope", "EVENTS", "log", "SpaceUpload",
				function(e, t, a, s, n, i) {
					var l = {
						SUCCESS: 0,
						NO_SPACE_ID: 1,
						UPLOAD_FAIL: 2,
						SEND_FAIL: 3
					}, r = {
							1: "获取云盘空间失败,请稍后再试",
							2: "上传失败,请稍后再试",
							3: "发送消息失败,请稍后再试"
						}, o = {}, d = e.extend({
							initialize: function(e) {
								d.superclass.initialize.call(this, e)
							},
							EventsName: {
								PROGRESS_UPDATE: "progressUpdate",
								SEND_SUCCESS: "sendSuccess"
							},
							send: function() {
								var e = this,
									s = e.baseMessage.content;
								if (_.get(s, "attachments[0].extension.path") && _.get(s, "attachments[0].extension.s_id")) return d.superclass.send.call(e);
								var u = _.get(e, "_local.fileId");
								return Promise.resolve().then(function() {
									var t = _.get(e, "_local.getSpaceIdPromise");
									return t ? t() : Promise.reject({
										body: {
											reason: "无法获取钉盘空间"
										}
									})
								}).then(function(t) {
									if (e._isCanceled === !0) return Promise.reject({
										body: {
											reason: "已取消上传",
											silent: !0
										}
									});
									if (!u) return Promise.reject({
										body: {
											reason: "获取文件失败"
										}
									});
									_.set(e, "_local.spaceId", t);
									var a = new i(fileCache.get(u), t, function(t) {
										e.uploadProgress = Math.ceil(100 * t), e.emitEvent(e.EventsName.PROGRESS_UPDATE, [e.uploadProgress])
									});
									return o[u] = a, spaceUploadQueue.add(a, function() {
										e.sendStatus = SendStatus.SENDING
									}), a.result
								}).then(function(t) {
									var s = _.get(e, "_local.spaceId");
									_.assign(e.baseMessage.content.attachments[0].extension, {
										f_name: t.data.name,
										f_size: t.data.size + "",
										f_type: fileTypes.getTypeByName(t.data.name),
										path: t.data.path,
										s_id: s + "",
										f_id: t.data.id
									}), fileCache.delCache(u), o[u] = null, _.set(e, "_local.fileId", null), a.$digest()
								}).then(function() {
									return d.superclass.send.call(e)
								})["catch"](function(s) {
									if (_.get(s, "body.silent") === !0);
									else {
										n.info("upload fail:" + JSON.stringify(s));
										var i = _.get(s, "userMessage") || _.get(s, "body.reason") || r[l.UPLOAD_FAIL];
										t.show(i, {
											type: "error"
										})
									}
									e.sendStatus = SendStatus.SENDFAIL, e._msgSendStatus = l.UPLOAD_FAIL, o[u] = null, a.$digest()
								})
							},
							cancelSending: function() {
								if (this.sendStatus === SendStatus.SENDED) return !1;
								var e = _.get(this, "_local.fileId");
								if (e) {
									var t = _.get(o, e);
									t && (t.cancel(), spaceUploadQueue["delete"](t)), o[e] = null, fileCache.delCache(e), _.set(this, "_local.fileId", null), this._isCanceled = !0
								}
								a.$broadcast(s.CANCEL_SENDING_MSG, {
									convId: this.getConvId(),
									msgId: this.getId()
								})
							}
						});
					return d
				}
			]), module.exports = moduleName;


		}, {
			"../../api/SpaceUpload": 147,
			"../../api/spaceUploadQueue": 150,
			"../../events": 221,
			"../../log/log": 260,
			"../../toast/toast": 378,
			"../SendStatus": 189,
			"./Msg": 195,
			"./fileCache": 197,
			"@ali/ding-filetypes": 455,
			"lodash": 470
		}
	],
	197: [
		function(require, module, exports) {
			"use strict";
			var cache = {}, id = 1;
			exports.cache = function(c) {
				var e = id++;
				return cache[e] = c, e
			}, exports.delCache = function(c) {
				return cache[c] = null, !0
			}, exports.get = function(c) {
				return cache[c]
			};


		}, {}
	],
	198: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.msgFactory",
				$my = require("../../user/my"),
				_ = require("lodash"),
				SendStatus = require("./../SendStatus"),
				MsgType = require("./../MsgType"),
				MsgCreatorType = require("./../MsgCreatorType"),
				fileCache = require("./fileCache"),
				limitConfig = require("../../limitConfig"),
				fileTypes = require("@ali/ding-filetypes"),
				uriResolve = require("../../uriResolve/resolve");
			angular.module(moduleName, [require("../ContentType"), require("../../file/fileHelper"), require("../../senderExt/senderExtFactory")]).factory("msgFactory", ["ContentType", "$fileHelper", "senderExtFactory",
				function(e, t, n) {
					return {
						genUUID: function() {
							return (new Date).getTime().toString() + parseInt(1e3 * Math.random())
						},
						genSysMsg: function(e) {
							var t = this,
								a = new Date - 0,
								r = a - e.lastTime > 0 ? a : e.lastTime + 1,
								s = {
									baseMessage: {
										content: {
											contentType: 1,
											textContent: {
												text: e.text
											}
										},
										conversationId: e.cid,
										createdAt: r,
										creatorType: 2,
										memberTag: 0,
										messageId: e.mid || t.genUUID(),
										openIdEx: n.genOpenIdEx()
									},
									senderMessageStatus: {
										totalCount: 0,
										unReadCount: 0
									}
								};
							return s
						},
						genSendingMsg: function(e, t, a, r) {
							var s = new Date - 0,
								i = s - a > 0 ? s : a + 1,
								o = {
									uuid: t,
									conversationId: e,
									type: 1,
									creatorType: 1,
									content: r,
									tag: 0,
									nickName: $my.userProfileModel.nick,
									createdAt: i,
									memberTag: 0,
									openIdEx: n.genOpenIdEx()
								}, d = {
									baseMessage: o,
									senderMessageStatus: {},
									sendStatus: SendStatus.SENDING
								};
							return d
						},
						genReceiveMsg: function(e, t) {
							var n = {
								baseMessage: e,
								senderMessageStatus: {
									totalCount: t,
									unReadCount: t - 1
								},
								receiverMessageStatus: {
									readStatus: 1
								},
								sendStatus: 1
							};
							return n
						},
						genCreateConvMsg: function(e) {
							var t = this.genUUID(),
								n = new Date - 0,
								a = {
									uuid: t,
									type: 1,
									creatorType: 2,
									content: {
										contentType: 1,
										textContent: {
											text: $my.userProfileModel.nick + "发起了群聊"
										}
									},
									tag: 0,
									nickName: $my.userProfileModel.nick,
									createdAt: n,
									memberTag: 0
								};
							e && e(a)
						},
						genSendingTextMsg: function(e) {
							var t = e.cid,
								a = e.text,
								r = e.lastTime,
								s = _.get(e, "extra.atOpenIds"),
								i = {
									contentType: 1,
									textContent: {
										text: a
									}
								};
							s && (i.atOpenIds = s);
							var o = new Date - 0,
								d = o - r > 0 ? o : r + 1,
								c = {
									uuid: this.genUUID(),
									conversationId: t,
									type: 1,
									creatorType: 1,
									content: i,
									tag: 0,
									nickName: $my.userProfileModel.nick,
									createdAt: d,
									memberTag: 0,
									openIdEx: n.genOpenIdEx()
								}, l = {
									baseMessage: c,
									senderMessageStatus: {},
									sendStatus: SendStatus.SENDING
								};
							return Promise.resolve(l)
						},
						genSendingSpaceFileMsg: function(t) {
							var a, r = t.cid,
								s = t.spaceFileObj,
								i = !! t.spaceFileObj,
								o = t.file,
								d = t.lastTime,
								c = t.isCompanyGroup,
								l = parseInt(i ? s.orgId : t.orgId),
								u = t.getSpaceIdPromise,
								g = new Date - 0,
								p = g - d > 0 ? g : d + 1,
								m = i ? s.name : o.name;
							a = i || c ? e.ORG_SPACE_FILE : e.IM_SPACE_FILE;
							var y = {
								contentType: a,
								attachments: [{
									extension: {
										f_name: m,
										f_size: i ? s.size + "" : o.size + "",
										f_type: fileTypes.getTypeByName(m),
										path: i ? s.path : null,
										s_id: i ? s.spaceId + "" : null,
										f_id: i ? s.id : null,
										cid: r
									},
									isPreload: 0,
									size: 0,
									type: 0,
									url: ""
								}]
							};
							c && _.set(y, "attachments[0].extension.oid", l + "");
							var I = {
								uuid: this.genUUID(),
								conversationId: r,
								type: MsgType.NORMAL,
								creatorType: MsgCreatorType.SELF,
								content: y,
								tag: 0,
								nickName: $my.userProfileModel.nick,
								createdAt: p,
								memberTag: 0,
								openIdEx: n.genOpenIdEx()
							}, f = {
									baseMessage: I,
									senderMessageStatus: {},
									sendStatus: SendStatus.SENDING
								};
							return !i && o && (_.set(f, "_local.fileId", fileCache.cache(o)), _.set(f, "_local.getSpaceIdPromise", u)), Promise.resolve(f)
						},
						genSendingImgMsg: function(e) {
							var a = e.cid,
								r = e.lastTime,
								s = e.file,
								i = e.mediaId || null,
								o = 0;
							s ? (o = s.size, i = null) : i && (o = e.picSize || 0);
							var d = new Date - 0,
								c = d - r > 0 ? d : r + 1;
							if (!s && !i) return Promise.reject({
								body: {
									reason: "file 和 mediaId 都为空"
								}
							});
							var l = {
								mediaId: i,
								picSize: o,
								type: 1,
								orientation: 1
							}, u = {
									contentType: 2,
									photoContent: l
								}, g = {
									uuid: this.genUUID(),
									conversationId: a,
									type: 1,
									creatorType: 1,
									content: u,
									tag: 0,
									nickName: $my.userProfileModel.nick,
									createdAt: c,
									memberTag: 0,
									openIdEx: n.genOpenIdEx()
								}, p = {
									baseMessage: g,
									senderMessageStatus: {},
									sendStatus: SendStatus.SENDING,
									_local: {
										fileId: fileCache.cache(s)
									}
								};
							return s ? (_.set(p, "_local.fileId", fileCache.cache(s)), o > limitConfig.IMAGE_READ_B64_SIZE_LIMIT ? (_.set(p, "_local.localURI", uriResolve.assetsResolve("/app/img/filelogo/pic.png")), Promise.resolve(p)) : new Promise(function(e, n) {
								t.readFile(s, function() {
									var t = fileTypes.getTypeByName(s.name);
									_.set(p, "_local.localURI", s.dataURI), "jpg" !== t && "jpeg" !== t || !s.orientation || (u.photoContent.orientation = s.orientation), e(p)
								})
							})) : Promise.resolve(p)
						},
						genEOFMsg: function() {
							var t = {
								baseMessage: {
									createdAt: 0,
									messageId: this.genUUID(),
									creatorType: MsgCreatorType.EOF,
									content: {
										contentType: e.EOF
									}
								},
								EOF: !0
							};
							return t
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../file/fileHelper": 224,
			"../../limitConfig": 254,
			"../../senderExt/senderExtFactory": 369,
			"../../uriResolve/resolve": 397,
			"../../user/my": 400,
			"../ContentType": 182,
			"./../MsgCreatorType": 187,
			"./../MsgType": 188,
			"./../SendStatus": 189,
			"./fileCache": 197,
			"@ali/ding-filetypes": 455,
			"lodash": 470
		}
	],
	199: [
		function(require, module, exports) {
			var moduleName = "ddWeb.conv.msgCache";
			angular.module(moduleName, []).factory("msgCache", [
				function() {
					var e = {}, u = function(u, a) {
							var d = u + "__" + a.getId(),
								r = "";
							if (1 === a.sendStatus) {
								r = a.baseMessage.uuid;
								var t = u + "__" + r;
								delete e[t]
							}
							return e[d] && e[d].uuid && (r = e[d].uuid), e[d] ? e[d].updateFromClonedMsg(a) : e[d] = a, r && (e[d].uuid = r, e[d].baseMessage.uuid = r), a
						}, a = function(u, a) {
							var d = u + "__" + a;
							delete e[d]
						}, d = function(u, a) {
							var d = u + "__" + a;
							return e[d]
						};
					return {
						cacheMsg: u,
						delMsgCache: a,
						getMsg: d
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	200: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conv.msgInstanceHelper";
			angular.module(moduleName, [require("./msg/Msg"), require("./msg/SpaceFileMsg"), require("./msg/ImageMsg"), require("./ContentType")]).factory("msgInstanceHelper", ["Msg", "SpaceFileMsg", "ImageMsg", "ContentType",
				function(e, n, r, s) {
					var t = function(t) {
						switch (t.baseMessage.content.contentType) {
							case s.ORG_SPACE_FILE:
							case s.IM_SPACE_FILE:
								return new n(t);
							case s.IMG:
								return new r(t);
							default:
								return new e(t)
						}
					};
					return {
						instance: t
					}
				}
			]), module.exports = moduleName;


		}, {
			"./ContentType": 182,
			"./msg/ImageMsg": 194,
			"./msg/Msg": 195,
			"./msg/SpaceFileMsg": 196
		}
	],
	201: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.conversation.unreadConv",
				EventEmitter = require("wolfy87-eventemitter"),
				Class = require("../../lib/class"),
				SuperGroupStatus = require("./SuperGroupStatus");
			angular.module(moduleName, [require("./conversation"), require("../events")]).factory("unreadConv", ["conversation", "EVENTS", "$rootScope",
				function(e, t, n) {
					var r = Class.create({
						initialize: function() {
							this.unreadMsgCount = 0, this.unreadConvList = [], n.$on(t.NEW_MSG_COUNT_CHANGE, function() {
								this._reGenerate()
							}.bind(this))
						},
						Implements: EventEmitter,
						EventsName: {
							UNREAD_UPDATE: "unread_update"
						},
						_reGenerate: function() {
							var t = e.getConvList(),
								n = e.getAllConv(),
								r = 0,
								o = [];
							[].concat(t.pinOrder, t.order).forEach(function(e) {
									var t = n[e];
									t && t.newMsg && !t.notificationOff && t.baseConversation.superGroup !== SuperGroupStatus.SUPER && (r += t.newMsg, o.push(t))
								}), this.unreadConvList = o, this.unreadMsgCount = r, this.emit(this.EventsName.UNREAD_UPDATE, {
									unreadMsgCount: this.unreadMsgCount,
									unreadConvList: this.unreadConvList
								})
						}
					});
					return new r
				}
			]), module.exports = moduleName;


		}, {
			"../../lib/class": 119,
			"../events": 221,
			"./SuperGroupStatus": 190,
			"./conversation": 193,
			"wolfy87-eventemitter": 476
		}
	],
	202: [
		function(require, module, exports) {
			var docCookies = {
				getItem: function(e) {
					return e ? decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(e).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null : null
				},
				setItem: function(e, o, n, t, c, r) {
					if (!e || /^(?:expires|max\-age|path|domain|secure)$/i.test(e)) return !1;
					var s = "";
					if (n) switch (n.constructor) {
						case Number:
							s = n === 1 / 0 ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT" : "; max-age=" + n;
							break;
						case String:
							s = "; expires=" + n;
							break;
						case Date:
							s = "; expires=" + n.toUTCString()
					}
					return document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(o) + s + (c ? "; domain=" + c : "") + (t ? "; path=" + t : "") + (r ? "; secure" : ""), !0
				},
				removeItem: function(e, o, n) {
					return this.hasItem(e) ? (document.cookie = encodeURIComponent(e) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT" + (n ? "; domain=" + n : "") + (o ? "; path=" + o : ""), !0) : !1
				},
				hasItem: function(e) {
					return e ? new RegExp("(?:^|;\\s*)" + encodeURIComponent(e).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=").test(document.cookie) : !1
				},
				keys: function() {
					for (var e = document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g, "").split(/\s*(?:\=[^;]*)?;\s*/), o = e.length, n = 0; o > n; n++) e[n] = decodeURIComponent(e[n]);
					return e
				}
			};
			module.exports = docCookies;


		}, {}
	],
	203: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				DEVICE_ID_EXIST: "deviceid_exist"
			};


		}, {}
	],
	204: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("../../directive/selectorPanel/selectorPanel"), require("../../service/selectorPanel/PanelType"), require("../../directive/widget/selectorBar"), require("../../service/toast/toast"), require("../../service/conversation/conversation"), require("../../service/goldlog/goldlog"), require("../../service/widget/selectorBar/selectorBarTool"), require("../../service/log/lwlog.js");
			var $my = require("../user/my"),
				app = angular.module("ddWeb.service.CreateGroup", ["ddWeb.selectorPanel", "ddWeb.service.PanelType", "ddWeb.widget.selectorBar", "ddWeb.toast", "ddWeb.conversation", "ddWeb.goldlog", "ddWeb.service.selectorBarTool", "ddWeb.log.lwlog", require("../selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).factory("CreateGroup", ["$rootScope", "PanelType", "toastService", "conversation", "goldlog", "selectorBarTool", "lwlog", "SelectedList", "selectedItemFactory", "selectedItemType",
					function(e, t, r, i, o, l, s, c, n, a) {
						var d = Class.create({
							initialize: function(e, t) {
								this.lockedIds = [], this.disableSend = !1, this.isOrg = e, this.oid = t, this.groupName = null
							},
							init: function() {
								this._selectSelf(), this._initEvent(), this._SelectedList = new c([], this.lockedIds)
							},
							_selectSelf: function() {
								var e = n.genSelectedItem(a.USER, $my);
								this.lockedIds.push(e)
							},
							_initEvent: function() {
								var e = $(".create-group-form-left-box .selectorBar-container");
								e.on("click", function() {
									var e = "selector-bar-input";
									l.focusBar(e)
								})
							},
							submit: function(e) {
								var t = this,
									l = null,
									c = null;
								this.groupName && (c = this.groupName.trim()), l = this._getUidArr(), this._validate(l) && (this.disableSend = !0, i.createConversation(l, c, {
									isOrg: this.isOrg,
									oid: this.oid
								}, function(i, l) {
									var c = null,
										n = null;
									return t.disableSend = !1, i ? (n = arguments[1], o.log("mainpage_groupchat_create_click", "cid=" + n), s.commLog("mainpage_groupchat_create_click", "cid=" + n), e(), void t._chatWithGroup(n)) : (c = arguments[1], void(c.body[1] && r.show(c.body[1], {
										type: "error"
									})))
								}))
							},
							_getUidArr: function() {
								return this._SelectedList.getSelected().filter(function(e) {
									return e.model.uid !== $my.uid
								}).map(function(e) {
									return e.model.uid || ""
								})
							},
							_chatWithGroup: function(t) {
								e.$broadcast("leftpannel.openChatByGroup", {
									conversationId: t
								})
							},
							_validate: function(e) {
								var t = 1500;
								return e.length > t ? (r.show("人数应该为1-1500人", {
									type: "error"
								}), !1) : !0
							}
						});
						return d
					}
				]);


		}, {
			"../../directive/selectorPanel/selectorPanel": 79,
			"../../directive/widget/selectorBar": 111,
			"../../lib/class": 119,
			"../../service/conversation/conversation": 193,
			"../../service/goldlog/goldlog": 239,
			"../../service/log/lwlog.js": 262,
			"../../service/selectorPanel/PanelType": 361,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/toast/toast": 378,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"../selectorPanel/selected/selectedList": 367,
			"../user/my": 400
		}
	],
	205: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.ddPrivateApi.event",
				serviceName = "_ddPrivateApiEvent",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../unPopModal/modal")]).factory(serviceName, ["$unPopModal",
				function(e) {
					var a = "_private.event",
						r = function(e, r, t) {
							frameTalkHost.register(e, a, r, function(e) {
								t && t(e.params.event)
							})
						};
					return {
						init: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../unPopModal/modal": 396,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	206: [
		function(require, module, exports) {
			require("../listContainer/ListItem"), angular.module("ddWeb.ding.Comment", ["ddWeb.listContainer.ListItem"]).factory("Comment", ["ListItem",
				function(t) {
					var e = t.extend({
						initialize: function(t, i) {
							e.superclass.initialize.call(this, t), this.data = t, this.stateIsNew = i || !1
						},
						getId: function() {
							return this.data.commentId
						},
						makeOld: function() {
							this.stateIsNew = !1
						},
						isNew: function() {
							return this.stateIsNew
						},
						getSortValue: function() {
							return this.data.createAt
						}
					});
					return e
				}
			]);


		}, {
			"../listContainer/ListItem": 256
		}
	],
	207: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.ding.Ding",
				paddingKeys = require("./paddingKeys"),
				msgpack = require("@ali/msgpack"),
				$my = require("../user/my");
			require("../listContainer/ListContainer"), require("../listContainer/ListItem"), require("../conversation/conversation"), require("./Comment"), require("../events"), require("../user/userCache");
			var _ = require("lodash");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLDing, "ddWeb.listContainer.ListContainer", "ddWeb.ding.Comment", "ddWeb.listContainer.ListItem", "ddWeb.conversation", "ddWeb.events", "ddWeb.user.userCache", require("./DingType"), require("./DingSendStatus"), require("../log/log"), require("../user/userManager"), require("./DingReceiveStatus")]).factory("Ding", ["IDLDing", "ListContainer", "Comment", "ListItem", "conversation", "EVENTS", "$rootScope", "userCache", "DingType", "DingSendStatus", "log", "userManager", "DingReceiveStatus",
				function(t, e, i, n, s, r, o, d, a, u, m, c, h) {
					var g = n.extend({
						initialize: function(t) {
							$.extend(this, t);
							if (this.id = t.dingId, this.dingEntity && this.dingEntity.data && "string" == typeof this.dingEntity.data) try {
								this.dingEntity.data = paddingKeys(msgpack.decodeFromB64(this.dingEntity.data), "ContentModel")
							} catch (e) {
								m.error(e.toString() + " | Scene: decode ding entity , data :" + this.dingEntity.data), this.dingEntity.data = {}
							}
							if (this.dingEntity && this.dingEntity.extInfo) try {
								var i = JSON.parse(this.dingEntity.extInfo);
								this.dingEntity.extInfo = i
							} catch (n) {
								console.log(n)
							}
							this.receiverList = null, this.comments = {}, this.comments.totalCount = 0, this.updateCommentList(), this.comments.totalCount = this.dingCommentCount || 0, this.isSent = this.senderIdentity === a.SEND, this.isReceive = this.senderIdentity === a.RECEIVE, this.isMy = this.senderIdentity === a.MYSELF;
							var s = _.get(this, "senderUidEx.uid");
							s && c.getUsers([s]).then(function(t) {
								0 !== t.length && t[0] && t[0].compareTag(_.get(this, "senderUidEx.tag"))
							})
						},
						updateCommentList: function() {
							var t = this;
							this.comments.commentList = new e({
								itemConstructor: i,
								getMore: function(e, i, n) {
									if (!i || !i.EOF) {
										var s = i && i.data && i.data.createAt ? i.data.createAt : 0;
										t._getCommentList(e, s, n)
									}
								},
								autoPullData: !1
							})
						},
						extend: function(t) {
							t.dingEntity && (t.dingEntity = this.dingEntity), $.extend(this, t)
						},
						getFromConv: function(t) {
							var e = this;
							return e.fromConv ? void(t && t(e.fromConv)) : void(this.dingEntity && this.dingEntity.extInfo && this.dingEntity.extInfo.cid ? s.getConvById(this.dingEntity.extInfo.cid, function(i) {
								e.fromConv = i, t && t(i)
							}) : t && t(null))
						},
						getReceiverList: function(e, i) {
							var n = this;
							if (!this.id) return void m.error("ding id is null");
							var s = [],
								r = [];
							t.listDingReceiverListV2(n.id, function(t) {
								if (200 === t.code) {
									var i = t.body.confirmList.map(function(t) {
										return t.uid
									}),
										o = t.body.unConfirmList.map(function(t) {
											return t.uid
										});
									Promise.all([c.getUsers(i), c.getUsers(o)]).then(function(i) {
										s = i[0].map(function(t, e) {
											return {
												user: t
											}
										}), r = i[1].map(function(e, i) {
											var s = "";
											return _.get(n, "senderUidEx.uid") === $my.uid && (s = h.getStatusText(t.body.unConfirmList[i].confirmStatus), s && (s = "[" + s + "]")), {
												user: e,
												status: s,
												statusCode: t.body.unConfirmList[i].confirmStatus
											}
										}), _.set(n, "receiverList.unConfirmList", r), _.set(n, "receiverList.confirmList", s), e && e(n.receiverList)
									})
								}
							})
						},
						updateReceiverStatus: function(t, e) {
							var i = this,
								n = _.get(i, "receiverList.unConfirmList") || [];
							t.forEach(function(t) {
								for (var i = 0; i < n.length; i++)
									if (n[i].user.userProfileModel.uid === t) {
										var s = h.getStatusText(e);
										s && (n[i].status = "[" + s + "]"), n[i].statusCode = e;
										break
									}
							})
						},
						getMoreComment: function(t) {
							this.comments.commentList.showMore(t)
						},
						_getCommentList: function(e, i, n) {
							var s = this;
							t.listDingComment(this.id, !1, i, e, function(t) {
								200 === t.code && (s.comments.totalCount = t.body.totalCount, n && n(t.body.commentList))
							})
						},
						sendComment: function(e, i) {
							var n = this,
								s = {
									dingId: this.id,
									commentContentModel: e
								};
							t.sendDingComment(s, function(t) {
								200 === t.code && (s.commenterUidEx = {
									uid: $my.uid
								}, s.commentId = t.body.dingCommentId, s.createAt = t.body.dingCreateAt, n.comments.totalCount = n.comments.totalCount + 1, n.comments.commentList.update([s]))
							})
						},
						receiveComment: function(t) {
							var e = this;
							if (t.commenterUidEx && t.commenterUidEx.uid === $my.uid) var n = new i(t, !1);
							else var n = new i(t, !0);
							var s = e.comments.commentList.update([n]);
							e.comments.totalCount += s, e.modifyAt = t.createAt
						},
						updateSendStatus: function(t) {
							this.sendStatus = t
						},
						active: function() {
							this.updateCommentList(), this.comments.commentList.active(), this.getReceiverList(), o.$broadcast(r.DING_COMMENT_UNREAD_CHANGE)
						},
						deactive: function() {
							this.comments.commentList.deactive()
						},
						isNew: function() {
							return this.senderIdentity === a.RECEIVE || this.senderIdentity === a.MYSELF && this.sendStatus === u.SENT ? 1 !== this.confirmStatus : !1
						},
						getId: function() {
							return this.id
						},
						makeOld: function() {
							return !0
						},
						getSortValue: function() {
							return this.modifyAt > this.sendAt ? this.modifyAt : this.sendAt
						},
						confirm: function(e) {
							if (this.isReceive || this.isMy && this.sendStatus === u.SENT) {
								var i = this;
								t.confirmDing(this.id, function(t) {
									200 === t.code ? (e && e(!0), i.trans2Confirmed()) : e && e(!1)
								})
							}
						},
						trans2Confirmed: function() {
							(this.isReceive || this.isMy && this.sendStatus === u.SENT) && (this.confirmStatus = 1, this.getReceiverList(), o.$broadcast(r.RECEIVE_DING_CONFIRM_CHANGE))
						},
						receiverConfirm: function(t, e) {
							var i = this,
								n = _.get(i, "receiverList.unConfirmList") || [],
								s = _.get(i, "receiverList.confirmList") || [],
								r = null;
							this.unConfirmCount = e;
							for (var o = 0; o < n.length; o++)
								if (n[o].user.userProfileModel.uid === t) {
									r = n.splice(o, 1);
									break
								}
							r && r.length > 0 && s.push(r[0])
						}
					});
					return g
				}
			]), module.exports = moduleName;


		}, {
			"../conversation/conversation": 193,
			"../events": 221,
			"../listContainer/ListContainer": 255,
			"../listContainer/ListItem": 256,
			"../log/log": 260,
			"../user/my": 400,
			"../user/userCache": 401,
			"../user/userManager": 404,
			"./Comment": 206,
			"./DingReceiveStatus": 211,
			"./DingSendStatus": 212,
			"./DingType": 213,
			"./paddingKeys": 217,
			"@ali/ding-api": 453,
			"@ali/msgpack": 458,
			"lodash": 470
		}
	],
	208: [
		function(require, module, exports) {
			var moduleName = "ddWeb.ding.DingAttachmentType";
			angular.module(moduleName, []).value("DingAttachmentType", {
				TEXT: 1,
				AUDIO: 2,
				IMAGE: 3,
				FILE: 4,
				LINK: 5
			}), module.exports = moduleName;


		}, {}
	],
	209: [
		function(require, module, exports) {
			require("../listContainer/ListContainer"), angular.module("ddWeb.ding.DingListContainer", ["ddWeb.listContainer.ListContainer"]).factory("DingListContainer", ["ListContainer",
				function(t) {
					var e = t.extend({
						initialize: function(t, n) {
							e.superclass.initialize.call(this, t, n), this.hasNewComment = !1
						},
						_genShowItems: function() {
							e.superclass._genShowItems.call(this), this.reCountNewComment()
						},
						reCountNewComment: function() {
							this.hasNewComment = this.showItems.some(function(t) {
								return t.comments && t.comments.commentList ? t.comments.commentList.newCount : !1
							})
						},
						removeItem: function(t) {
							var e = this.Ids.indexOf(t); - 1 !== e && (this.Ids.splice(e, 1), this._cache[t] && delete this._cache[t], this._genShowItems(), this.genNewCount())
						}
					});
					return e
				}
			]);


		}, {
			"../listContainer/ListContainer": 255
		}
	],
	210: [
		function(require, module, exports) {
			angular.module("ddWeb.ding.DingPushType", []).value("DingPushType", {
				CREATE_DING: 1,
				CONFIRM_DING: 2,
				SELF_CONFIRM_DING: 3,
				FINISH_DING: 4,
				DING_COMMENT_CREATE: 5,
				DING_SEND: 6,
				USER_DING_COUNT: 7,
				USER_DING_STATUS_CHANGE: 8,
				DING_SEND_STATUS_CHANGE: 9,
				DING_RECEIVER_STATUS_CHANGE: 12,
				DING_AGAIN_NOTIFY: 13
			});


		}, {}
	],
	211: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.ding.DingReceiveStatus",
				defaultOption = {
					"-1": "等待提醒中",
					1: "应用内提醒中...",
					2: "短信提醒中...",
					3: "电话提醒中...",
					4: "出现未知问题，提醒失败",
					5: "等待提醒中",
					10: "未接听，已发送短信提醒",
					11: "拒接，已发送短信提醒",
					12: "接起未听完，已发送短信提醒",
					13: "不在服务区，已发送短信提醒",
					14: "已关机，已发送短信提醒",
					15: "正在通话中，已发送短信提醒",
					16: "出现未知问题，已发送短信提醒",
					17: "出现未知问题，已发送短信提醒",
					18: "出现未知问题，提醒失败",
					20: "已发送短信提醒",
					21: "提醒短信发送失败",
					22: "出现未知问题，提醒失败",
					30: "已发送应用内提醒",
					31: "应用内提醒发送失败",
					32: "对方未安装钉钉，已发送短信提醒"
				}, option = null,
				timer = null,
				app = angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLDing]);
			app.factory("DingReceiveStatus", ["IDLDing",
				function(t) {
					function e() {
						i(), t.getConfirmStatusInfo(function(t) {
							if (200 === t.code) try {
								option = JSON.parse(t.body)
							} catch (e) {
								option = defaultOption
							} else option = defaultOption
						})
					}

					function i() {
						clearTimeout(timer), timer = setTimeout(function() {
							e()
						}, 864e5)
					}

					function n(t) {
						return option[t]
					}
					return {
						init: e,
						getStatusText: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-api": 453
		}
	],
	212: [
		function(require, module, exports) {
			var moduleName = "ddWeb.ding.DingSendStatus";
			angular.module(moduleName, []).value("DingSendStatus", {
				SENT: 0,
				NOTSEND: 1
			}), module.exports = moduleName;


		}, {}
	],
	213: [
		function(require, module, exports) {
			var moduleName = "ddWeb.ding.DingType";
			angular.module(moduleName, []).value("DingType", {
				RECEIVE: 1,
				SEND: 2,
				MYSELF: 3
			}), module.exports = moduleName;


		}, {}
	],
	214: [
		function(require, module, exports) {
			angular.module("ddWeb.ding.cache", [require("./Ding")]).factory("dingCache", ["Ding",
				function(n) {
					function e(e) {
						var r = d[e.dingId];
						return r ? r.extend(e) : (r = new n(e), d[e.dingId] = r), r
					}

					function r(n) {
						return d[n]
					}
					var d = {};
					return {
						set: e,
						getDingById: r
					}
				}
			]);


		}, {
			"./Ding": 207
		}
	],
	215: [
		function(require, module, exports) {
			var $my = require("../user/my");
			angular.module("ddWeb.ding.dingFactory", [require("./DingType"), require("../senderExt/senderExtFactory")]).factory("dingFactory", ["DingType", "senderExtFactory",
				function(e, n) {
					var t = $my.uid,
						r = {
							genSentDing: function(r, d, i, a, u, g, o, y) {
								var o = o || !1,
									m = u - (new Date - 0);
								m = m > 0 ? m : 0;
								var s = r.some(function(e) {
									return e === t
								}),
									c = {
										createAt: a,
										dingEntity: {
											createAt: a,
											data: g,
											dataType: g.contentType,
											type: o ? 2 : 1
										},
										dingId: i,
										modifyAt: a,
										sendAt: u ? u : a,
										sendStatus: u ? 1 : 0,
										senderUidEx: n.genSenderUidEx(),
										urgentLevel: d,
										dingAttachments: y,
										dingCommentCount: 0,
										dingStatus: 0,
										senderIdentity: s ? e.MYSELF : e.SEND,
										dingRemainTime: m,
										totalCount: r.length,
										memberCount: s ? r.length - 1 : r.length + 1,
										unConfirmCount: r.length,
										status: 0
									};
								return c
							}
						};
					return r
				}
			]);


		}, {
			"../senderExt/senderExtFactory": 369,
			"../user/my": 400,
			"./DingType": 213
		}
	],
	216: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.ding",
				LoginStatusCode = require("../login/LoginStatusCode"),
				ua = require("../ua");
			require("../api/MsgSub"), require("./Ding"), require("./dingCache"), require("./DingListContainer"), require("./dingFactory"), require("../user/userManager"), require("../notification"), require("../events"), require("../app/nw"), require("../log/log"), require("../conversation/conversation"), require("./DingPushType"), angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLDing, require("../api/MsgSub"), "ddWeb.ding.Ding", "ddWeb.ding.cache", "ddWeb.ding.dingFactory", "ddWeb.nw", "ddWeb.user.userManager", "ddWeb.notification", "ddWeb.conversation", "ddWeb.ding.DingListContainer", "ddWeb.events", "ddWeb.log.log", "ddWeb.io.mainWS", "ddWeb.ding.DingPushType", require("./DingType"), require("./DingSendStatus"), require("../login/loginStatus")]).factory("dinglist", ["IDLDing", "Ding", "dingCache", "dingFactory", "MsgSub", "$state", "nw", "userManager", "notification", "DingListContainer", "conversation", "$rootScope", "EVENTS", "log", "DingPushType", "DingType", "DingSendStatus", "loginStatus",
				function(e, n, i, t, o, d, r, g, a, s, u, c, f, y, l, S, b, D) {
					function v(e) {
						return function(n) {
							if (200 === n.code) {
								var t = [];
								n.body && Array.isArray(n.body) && n.body.forEach(function(e) {
									var n = i.set(e);
									t.push(n)
								}), e && e(t)
							}
						}
					}

					function m() {
						return T
					}

					function I() {
						return w
					}

					function C(n, t) {
						if (!n) return void y.error("getDingById invoke error, dingId is null");
						var o = i.getDingById(n);
						return o ? void(t && t(o)) : void e.listDings([n], function(e) {
							if (200 === e.code) {
								var o = null;
								if (e.body && e.body.receiverList && e.body.receiverList.length > 0 ? o = e.body.receiverList[0] : e.body && e.body.senderList && e.body.senderList.length > 0 && (o = e.body.senderList[0]), o) {
									if (!o.dingId) return void y.error("listDings result ding id is null, dingId:" + n);
									var d = i.set(o)
								}
								t && t(d)
							}
						})
					}

					function N(n, o, d, r, g, a) {
						if (D.getLoginStatus() !== LoginStatusCode.LOGINED) return void g(!1, {
							code: 408,
							body: {
								reason: "当前网络不可用，请稍后再试"
							}
						});
						var s = (new Date).getTime().toString() + parseInt(1e3 * Math.random()),
							u = A[o];
						u ? 0 === a.length ? e.dingWithText(n, s, u, d, r, function(e) {
							if (200 === e.code) {
								var o = {
									contentType: 1,
									textContent: {
										text: r
									}
								}, a = t.genSentDing(n, u, e.body.dingId, e.body.createAt, d, o, !1),
									s = i.set(a);
								w.update([s]), g(!0, e, s)
							} else g(!1, e)
						}) : e.textDingWithAttachments(n, s, u, d, r, a, null, function(e) {
							if (200 === e.code) {
								var o = {
									contentType: 1,
									textContent: {
										text: r
									}
								}, s = t.genSentDing(n, u, e.body.dingId, e.body.createAt, d, o, !1, a),
									c = i.set(s);
								w.update([c]), g(!0, e, c)
							} else g(!1, e)
						}) : console.log("notiType 参数错误")
					}

					function E(n, i, t, o, d) {
						var r = (new Date).getTime().toString() + parseInt(1e3 * Math.random()),
							g = A[i],
							a = 2;
						e.dingV2(n, g, t, a, parseInt(o), r, function(e) {
							200 === e.code ? d(!0, e) : d(!1, e)
						})
					}

					function M(n) {
						e.canSendDingToday(function(e) {
							200 === e.code ? n(null, e.body) : n(e)
						})
					}

					function h(n, i, t, o) {
						var d = A[t];
						e.sendDingAgain(n, i, d, function(e) {
							200 === e.code ? o(!0, e) : o(!1, e)
						})
					}

					function p(e) {
						var n = i.getDingById(e);
						if (n) {
							var t = [];
							(n.isReceive || n.isMy && n.sendStatus === b.SENT) && t.push(T), (n.isSent || n.isMy) && t.push(w), t.forEach(function(n) {
								n.removeItem(e)
							}), n && (n.dingStatus = 1), R.update([n])
						}
					}

					function _(e) {
						var n = i.getDingById(e);
						if (n) {
							R.removeItem(e);
							var t = [];
							(n.isReceive || n.isMy && n.sendStatus === b.SENT) && t.push(T), (n.isSent || n.isMy) && t.push(w), t.forEach(function(e) {
								e.update([n])
							}), n && (n.dingStatus = 0)
						} else C(e, function(e) {
							var n = [];
							(e.isReceive || e.isMy && e.sendStatus === b.SENT) && n.push(T), (e.isSent || e.isMy) && n.push(w), n.forEach(function(n) {
								var i = n._cache[n.Ids[n.Ids.length - 1]];
								e && i && e.modifyAt > i.modifyAt && n.update([e])
							})
						})
					}
					var T = new s({
						itemConstructor: n,
						newItemMode: "exact",
						allowReOrder: !0,
						delayInit: !0,
						reconnRestore: !0,
						getMore: function(n, i, t) {
							if (i) var o = i.getSortValue();
							else var o = new Date - 0;
							e.pullDingList(!1, o, n, S.RECEIVE, v(t))
						}
					}),
						w = new s({
							itemConstructor: n,
							newItemMode: "exact",
							allowReOrder: !0,
							delayInit: !0,
							getMore: function(n, i, t) {
								if (i) var o = i.getSortValue();
								else var o = new Date - 0;
								e.pullDingList(!1, o, n, S.SEND, v(t))
							}
						}),
						R = new s({
							itemConstructor: n,
							newItemMode: "exact",
							allowReOrder: !0
						}),
						A = {
							TEL: 3,
							SMS: 2,
							APP: 1
						};
					c.$on(f.DING_COMMENT_UNREAD_CHANGE, function() {
						T.reCountNewComment(), w.reCountNewComment()
					}), c.$on(f.RECEIVE_DING_CONFIRM_CHANGE, function() {
						T.genNewCount()
					}), o.subscribe("/s/biz/ding", function(e, n) {
						if (n({}), e.body) switch (e.body.modelTypeInTopic) {
							case l.DING_AGAIN_NOTIFY:
							case l.CREATE_DING:
								var t = i.set(e.body.dingModel);
								T.update([t]);
								var o = t.dingEntity.data;
								if (1 == o.contentType) var s = o.textContent.text;
								else var s = "[语音]";
								var c = t.senderUidEx.uid;
								g.getUsers([c]).then(function(e) {
									0 !== e.length && a.notify({
										name: e[0].remarkNameObj.alias || e[0].userProfileModel.nick || e[0].userProfileModel.name,
										tip: " 给你发来一条ding消息",
										text: s,
										isForceNotify: t && 1 === t.urgentLevel
									}, function() {
										d.go("authorized.ding.receive"), ua.isNw && r.activeWindow()
									})
								}), u.updateDingMsg(e.body.dingModel), L._logDingMsg(e);
								break;
							case l.CONFIRM_DING:
								C(e.body.dingId, function(n) {
									n.receiverConfirm(e.body.receiverId, e.body.unconfirmCount), L._logReceiveConfirmDing(e.body.receiverId, e.body.unconfirmCount)
								});
								break;
							case l.SELF_CONFIRM_DING:
								C(e.body.dingId, function(n) {
									n.trans2Confirmed(), L._logSelfConfirmDing(e)
								});
								break;
							case l.FINISH_DING:
								break;
							case l.DING_COMMENT_CREATE:
								var f = e.body.dingId;
								C(f, function(n) {
									n.receiveComment(e.body), 1 !== n.dingStatus && ((n.isReceive || n.isMy && n.sendStatus === b.SENT) && T.makeItemFirst(n), (n.isSent || n.isMy) && w.makeItemFirst(n)), T.reCountNewComment(), w.reCountNewComment(), L._logDingComment(e)
								});
								break;
							case l.DING_SEND:
								var t = i.set(e.body.dingModel);
								w.update([t]), u.updateDingMsg(e.body.dingModel), L._logDingMsg(e);
								break;
							case l.USER_DING_COUNT:
								break;
							case l.USER_DING_STATUS_CHANGE:
								L._logDingStatusChange(e.body.dingIds, e.body.userDingOldStatus, e.body.userDingNewStatus), 1 === e.body.userDingNewStatus && 0 === e.body.userDingOldStatus ? e.body.dingIds.forEach(function(e) {
									p(e)
								}) : 0 === e.body.userDingNewStatus && 1 === e.body.userDingOldStatus ? e.body.dingIds.forEach(function(e) {
									_(e)
								}) : 2 === e.body.userDingNewStatus && 1 === e.body.userDingOldStatus && e.body.dingIds.forEach(function(e) {
									R.removeItem(e), C(e, function(e) {
										if (e && e.dingEntity && e.dingEntity.extInfo && e.dingEntity.extInfo.cid) {
											var n = u.getConvObj(e.dingEntity.extInfo.cid);
											if (!n.convId) return;
											var i = n.getMsgById(e.dingEntity.id);
											if (!i) return;
											i.dingToMsg()
										}
									})
								});
								break;
							case l.DING_SEND_STATUS_CHANGE:
								C(e.body.dingId, function(n) {
									L._logDingSendStatusChange(e.body.dingId, e.body.dingNewStatus), n.updateSendStatus(e.body.dingNewStatus), n.isMy && T.genNewCount()
								});
								break;
							case l.DING_RECEIVER_STATUS_CHANGE:
								C(e.body.dingId, function(n) {
									n.updateReceiverStatus(e.body.uids, e.body.dingConfirmStatus)
								});
								break;
							default:
								console.log("下行类型错误")
						}
					});
					var L = {
						_logDingMsg: function(e) {
							var n = $.extend(!0, {}, e);
							n.body.dingModel.dingEntity = null, y.info("receive ding msg", JSON.stringify(n))
						},
						_logDingComment: function(e) {
							var n = $.extend(!0, {}, e);
							n.body.commentContentModel = null, y.info("receive ding comment", JSON.stringify(n))
						},
						_logConfirmDing: function(e) {
							y.info("sentding confirm change", JSON.stringify(e))
						},
						_logSelfConfirmDing: function(e) {
							y.info("receiveding confirm change", JSON.stringify(e))
						},
						_logReceiveConfirmDing: function(e, n) {
							y.info("received confirm ding :", "receiverId: " + e, "unconfirmCnt:" + n)
						},
						_logDingSendStatusChange: function(e, n) {
							y.info("ding send status change:", "did :" + e, "newStatus:" + n)
						},
						_logDingStatusChange: function(e, n, i) {
							y.info("ding  status change:", "did :" + JSON.stringify(e), "oldStatus:" + n, "newStatus: " + i)
						}
					};
					return {
						getReceiveList: m,
						getSentList: I,
						getDingById: C,
						sendTextDing: N,
						msgToDing: E,
						dingAgain: h,
						canSendDingToday: M
					}
				}
			]), module.exports = moduleName;


		}, {
			"../api/MsgSub": 146,
			"../app/nw": 161,
			"../conversation/conversation": 193,
			"../events": 221,
			"../log/log": 260,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../notification": 304,
			"../ua": 390,
			"../user/userManager": 404,
			"./Ding": 207,
			"./DingListContainer": 209,
			"./DingPushType": 210,
			"./DingSendStatus": 212,
			"./DingType": 213,
			"./dingCache": 214,
			"./dingFactory": 215,
			"@ali/ding-api": 453
		}
	],
	217: [
		function(require, module, exports) {
			function paddingKeys(e, t) {
				if (e && resultModels[t]) {
					var n = resultModels[t],
						r = {};
					return Object.keys(e).forEach(function(t) {
						if ("number" == typeof parseInt(t) && n[parseInt(t)]) {
							var o = n[t][1],
								d = n[t][2];
							resultModels[o] ? r[d] = paddingKeys(e[t], o) : r[d] = e[t]
						} else r[t] = e[t]
					}), r
				}
				return e
			}
			var originModels = {
				ContentModel: {
					def: {
						contentType: ["1", "Number", "contentType", "// 其余组合类型使用attachments字段，contentType限制使用100以上\r"],
						textContent: ["2", "TextContentModel", "textContent", "// * 文本对象\r"],
						photoContent: ["3", "PhotoContentModel", "photoContent", "// * 图片对象\r"],
						audioContent: ["4", "AudioContentModel", "audioContent", "// * 语音对象\r"],
						fileContent: ["5", "FileContentModel", "fileContent", "// * 普通文件对象\r"],
						attachments: ["7", ["Array", "AttachmentModel"], "attachments", "// * 组合类型字段\r"],
						atOpenIds: ["8", ["Object", "string", "string"], "atOpenIds", "// * @功能的openId列表，key是openId（服务端不支持long类型），value是nick,\r"]
					},
					COMMENT: "// 发送的消息内容\r"
				},
				TextContentModel: {
					def: {
						text: ["1", "string", "text", "// * 文本内容\r"]
					},
					COMMENT: "// 文本消息\r"
				},
				PhotoContentModel: {
					def: {
						mediaId: ["1", "string", "mediaId", "// * mediaId\r"],
						picSize: ["2", "Number", "picSize", "// * 原始图片大小\r"],
						type: ["3", "Number", "type", "// * 图片类型，自定义\r"]
					},
					COMMENT: "// 文本消息\r"
				},
				AudioContentModel: {
					def: {
						mediaId: ["1", "string", "mediaId", "// * mediaId\r"],
						duration: ["2", "Number", "duration", "// * 语音时常\r"],
						audioVolumns: ["3", ["Array", "Number"], "audioVolumns", "// * 语音波形\r"],
						audioBytes: ["4", "byte[]", "audioBytes", "// * 语音数据，需要控制数据大小\r"]
					},
					COMMENT: "// 文本消息\r"
				},
				FileContentModel: {
					def: {
						mediaId: ["1", "string", "mediaId", "// * mediaId\r"],
						fileName: ["2", "string", "fileName", "// * 文件名\r"],
						fileType: ["3", "string", "fileType", "// * 文件类型，取文件后缀\r"],
						fileSize: ["4", "Number", "fileSize", "// * 文件大小\r"]
					},
					COMMENT: "// 文本消息\r"
				},
				OpenIdExModel: {
					def: {
						openId: ["1", "Number", "openId", "// * 信息发送者id\r"],
						tag: ["2", "Number", "tag", "// * 信息发送者的更新相关\r"]
					},
					COMMENT: "// openID扩展对象\r"
				},
				AttachmentModel: {
					def: {
						type: ["1", "Number", "type", "// * 类型\r"],
						url: ["2", "string", "url", "// * 链接\r"],
						size: ["3", "Number", "size", "// * 大小（文件大小, byte）\r"],
						data: ["4", "byte[]", "data", "// * 字节数据\r"],
						isPreload: ["5", "boolean", "isPreload", "// * 是否预加载url\r"],
						extension: ["6", ["Object", "string", "string"], "extension", "// * 扩展字段\r"]
					},
					COMMENT: "// 附件，contentType > 100 解析该字段\r"
				}
			}, resultModels = {};
			Object.keys(originModels).forEach(function(e) {
				var t = {};
				Object.keys(originModels[e].def).forEach(function(n) {
					var r = originModels[e].def[n];
					t[parseInt(r[0])] = r
				}), resultModels[e] = t
			}), module.exports = paddingKeys;


		}, {}
	],
	218: [
		function(require, module, exports) {
			var twemoji = require("twemoji"),
				uriResolve = require("../uriResolve/resolve");
			exports.parse = function(e) {
				return twemoji.parse(e, function(e, r, i) {
					return uriResolve.assetsResolve("/app/img/emoji/36x36/" + e + ".png")
				})
			};


		}, {
			"../uriResolve/resolve": 397,
			"twemoji": 474
		}
	],
	219: [
		function(require, module, exports) {
			"use strict";

			function isOnline() {
				return isSSL || forceOnline || "rc" === window.desktopEnv || "beta" === window.desktopEnv || "dev" === window.desktopEnv || "release" === window.desktopEnv
			}

			function isProductEnv() {
				return "im.dingtalk.com" === window.location.hostname && -1 === window.location.href.indexOf("env") || "release" === window.desktopEnv || "rc" === window.desktopEnv
			}
			var isSSL = "https:" === window.location.protocol,
				forceOnline = !1;
			window.location.href.indexOf("online=true") > 0 && (forceOnline = !0), module.exports = {
				isSSL: isSSL,
				isForceOnline: forceOnline,
				isOnline: isOnline(),
				isProductEnv: isProductEnv(),
				desktopEnv: window.desktopEnv
			};


		}, {}
	],
	220: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				ParamError = Class.create(Error, {
					initialize: function(r) {
						var e = Error.call(this, r);
						return this.message = e.message, Object.defineProperty(this, "stack", {
							get: function() {
								return e.stack
							}
						}), this.name = "ParamError", this
					}
				});
			module.exports = ParamError;


		}, {
			"../../lib/class": 119
		}
	],
	221: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.events";
			angular.module(moduleName, []).value("EVENTS", {
				PROFILEMODAL: "profileModal",
				LOGIN_STATE_CHANGE: "LoginStateChange",
				WS_STATE_CHANGE: "WsStateChange",
				MAKE_CID_TO_FIRST: "makeCidToFirst",
				NEW_MSG_COUNT_CHANGE: "newMsgCountChange",
				DING_COMMENT_UNREAD_CHANGE: "dingCommentUnreadChange",
				RECEIVE_DING_CONFIRM_CHANGE: "receiveDingConfirmChange",
				CONV_PIN_STATUS_CHANGE: "convPinStatusChange",
				SELECTBAR_SELECTITEM: "select2:selectItem",
				HIDE_CONV: "hideConv",
				ORGRELATIONLIST_CHANGEDEPARTMENT: "orgRelationList:changeDepartment",
				SHOW_EMAIL: "showEmail",
				CHANGE_CALL_STATE: "changeCallState",
				CONTEXTMENU_OPEN: "contextMenuOpen",
				SELECTBAR_SELECTALL: "selectorBar:selectAll",
				AUDIO_START_PLAY: "audioStartPlay",
				SENDMSG_SCROLLTOBOTTOM: "sendMsg:scrollToBottom",
				CANCEL_SENDING_MSG: "cancelSendingMsg",
				SCROLL_TO_UNREAD_CONV: "convList:scrollToUnRead",
				SEARCH_ACTIVE: "searchActive",
				SETTING_MODAL_CLOSE: "settingModalClose"
			}), module.exports = moduleName;


		}, {}
	],
	222: [
		function(require, module, exports) {
			"use strict";
			var uriResolve = require("../uriResolve/resolve");
			angular.module("ddWeb.faces_default", []).value("faces_default", [{
				name: "微笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ayYNHXXXXXbtXpXXP0ukJVXX-94-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1vsvmGVXXXXcEaXXX1ElnIXXX-64-64.png"),
				index: 1
			}, {
				name: "憨笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1c7jTHXXXXXadXXXXXbMQJpXX-90-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1v.HoGVXXXXb_XVXX1ElnIXXX-64-64.png"),
				index: 2
			}, {
				name: "色",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1w2YPHXXXXXagXpXXFGzAJFXX-92-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1Ln6oGVXXXXbGXVXXHQTKFFXX-64-64.png"),
				index: 3
			}, {
				name: "发呆",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1qePGHXXXXXafaXXXB5WbJFXX-88-90.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1Q3jxGVXXXXbvXXXX1ElnIXXX-64-64.png"),
				index: 4
			}, {
				name: "老板",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1SXrSHXXXXXbqXXXXP0ukJVXX-94-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB152zvGVXXXXasXpXX1ElnIXXX-64-64.png"),
				index: 5
			}, {
				name: "流泪",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1_0DUHXXXXXXnXXXXNXOlJVXX-94-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1pIHtGVXXXXXWXFXX1ElnIXXX-64-64.png"),
				index: 6
			}, {
				name: "害羞",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1CqPOHXXXXXcLXXXX1gs7JVXX-96-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1cILtGVXXXXc1XpXX1ElnIXXX-64-64.png"),
				index: 7
			}, {
				name: "闭嘴",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1o5bYHXXXXXaKXpXXMlUYJFXX-93-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB16a_pGVXXXXbrXVXX1ElnIXXX-64-64.png"),
				index: 8
			}, {
				name: "睡",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1I42JHXXXXXXjXVXX6J7ZJFXX-93-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1Z.HoGVXXXXb5XVXXHQTKFFXX-64-64.png"),
				index: 9
			}, {
				name: "大哭",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1cKPRHXXXXXb6XXXXJrZ6JVXX-96-86.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1H7rwGVXXXXcMXXXX1ElnIXXX-64-64.png"),
				index: 10
			}, {
				name: "尴尬",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1qKPUHXXXXXXcXXXXwrydJFXX-91-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1tB_pGVXXXXaUXVXX1ElnIXXX-64-64.png"),
				index: 11
			}, {
				name: "发怒",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ELLPHXXXXXXJXpXXC9TAJFXX-89-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1RQYrGVXXXXbcXFXX1ElnIXXX-64-64.png"),
				index: 12
			}, {
				name: "调皮",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1JZzKHXXXXXchXFXXoj1sKXXX-97-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1qSjvGVXXXXcWXXXX1ElnIXXX-64-64.png"),
				index: 13
			}, {
				name: "大笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1TI_KHXXXXXb0XFXXC9TAJFXX-89-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB18VabGpXXXXaLapXX1ElnIXXX-64-64.png"),
				index: 14
			}, {
				name: "惊讶",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1UYYFHXXXXXc_XVXXb2sPJpXX-87-86.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB12pvpGVXXXXb6XVXX1ElnIXXX-64-64.png"),
				index: 15
			}, {
				name: "流汗",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1UdTKHXXXXXcnXFXXD7A7JVXX-96-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB167YqGVXXXXXHXVXX1ElnIXXX-64-64.png"),
				index: 16
			}, {
				name: "广播",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1VTbHHXXXXXbFXVXXVWlG.VXX-129-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1e2PxGVXXXXbHXXXX1ElnIXXX-64-64.png"),
				index: 17
			}, {
				name: "阴笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1.mYJHXXXXXXDXFXXgG2BJFXX-89-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1unzvGVXXXXXTXpXX1ElnIXXX-64-64.png"),
				index: 18
			}, {
				name: "你强",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1fDPOHXXXXXXmXpXX7MgV_XXX-105-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1dMYtGVXXXXXoXFXX1ElnIXXX-64-64.png"),
				index: 19
			}, {
				name: "怒吼",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ZB6JHXXXXXbzXFXXB5WbJFXX-88-87.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1226zGVXXXXXlXpXX1ElnIXXX-64-64.png"),
				index: 20
			}, {
				name: "惊愕",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1t1PLHXXXXXaCXFXXzRGUIpXX-71-71.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1aEnsGVXXXXacXFXX1ElnIXXX-64-64.png"),
				index: 21
			}, {
				name: "疑问",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB18c2NHXXXXXaOXpXXFGzAJFXX-92-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB110.kGFXXXXbAaXXX1ElnIXXX-64-64.png"),
				index: 22
			}, {
				name: "OK",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1.MTSHXXXXXX9XXXXQ2Gh_pXX-106-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1mf6pGVXXXXbpXVXX1ElnIXXX-64-64.png"),
				index: 23
			}, {
				name: "鼓掌",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB13PLNHXXXXXbfXpXXgLt59VXX-100-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1cP2rGVXXXXbFXFXX1ElnIXXX-64-64.png"),
				index: 24
			}, {
				name: "握手",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1eX6NHXXXXXcXXpXXgO1f_pXX-106-78.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1vQHrGVXXXXa.XFXX1ElnIXXX-64-64.png"),
				index: 25
			}, {
				name: "偷笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB10rTLHXXXXXa0XFXXxpfJJVXX-95-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1sWjqGVXXXXXtXVXX1ElnIXXX-64-64.png"),
				index: 26
			}, {
				name: "无聊",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1tgfGHXXXXXaqaXXXmyuq_FXX-112-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1psrtGVXXXXXSXFXX1ElnIXXX-64-64.png"),
				index: 27
			}, {
				name: "加油",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1bkPEHXXXXXb5XFXXJrZ6JVXX-96-86.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1lw2sGVXXXXaZXFXX1ElnIXXX-64-64.png"),
				index: 28
			}, {
				name: "快哭了",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB12.zKHXXXXXbVXFXX0iLAJFXX-92-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1q4DoGVXXXXcOXVXXHQTKFFXX-64-64.png"),
				index: 29
			}, {
				name: "吐",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ZUYKHXXXXXbiXFXXFGzAJFXX-92-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1ugLtGVXXXXXiXFXXHQTKFFXX-64-64.png"),
				index: 30
			}, {
				name: "晕",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1bOPWGFXXXXayXVXXwBijJVXX-94-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB13RHoGVXXXXXhaXXXHQTKFFXX-64-64.png"),
				index: 31
			}, {
				name: "摸摸",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1tCTOHXXXXXaaXpXX9D3QJpXX-90-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1cwjuGVXXXXb3XpXX1ElnIXXX-64-64.png"),
				index: 32
			}, {
				name: "胜利",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1e9fIHXXXXXbtXVXXR6DG_pXX-107-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1BXYxGVXXXXcbXXXX1ElnIXXX-64-64.png"),
				index: 33
			}, {
				name: "飞吻",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1cr2JHXXXXXaUXFXXWdbiJXXX-83-81.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1snjtGVXXXXcMXpXX1ElnIXXX-64-64.png"),
				index: 34
			}, {
				name: "跳舞",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ycyGGVXXXXXFaXXX7MgV_XXX-105-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1ZLPnGVXXXXaEaXXX1ElnIXXX-64-64.png"),
				index: 35
			}, {
				name: "傻笑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1g66FHXXXXXaKaXXXwrydJFXX-88-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1PcDxGVXXXXb4XXXX1ElnIXXX-64-64.png"),
				index: 36
			}, {
				name: "鄙视",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1XcLMHXXXXXbBXpXXaXqkJVXX-94-89.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1fF2xGVXXXXb.XXXX1ElnIXXX-64-64.png"),
				index: 37
			}, {
				name: "嘘",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1.UvHHXXXXXcqXVXX0iLAJFXX-92-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1AkTpGVXXXXaOXVXXHQTKFFXX-64-64.png"),
				index: 38
			}, {
				name: "衰",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1uPDOHXXXXXa2XpXXiqKbJFXX-91-85.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1b02pGVXXXXbtXVXXHQTKFFXX-64-64.png"),
				index: 39
			}, {
				name: "思考",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1BBvGHXXXXXX.XVXXwrydJFXX-91-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1tNftGVXXXXXsXFXX1ElnIXXX-64-64.png"),
				index: 40
			}, {
				name: "亲亲",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB16TLIHXXXXXXyXVXXhUI7JVXX-96-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1vHrwGVXXXXXhXpXX1ElnIXXX-64-64.png"),
				index: 41
			}, {
				name: "无奈",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1bCsAGVXXXXcsaXXXHnwxFXXX-137-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1sZfuGVXXXXb0XpXX1ElnIXXX-64-64.png"),
				index: 42
			}, {
				name: "感冒",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1VHrDHXXXXXcdaXXXFGzAJFXX-92-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1_HvwGVXXXXXlXpXX1ElnIXXX-64-64.png"),
				index: 43
			}, {
				name: "对不起",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1_aYIHXXXXXXzaXXXwBijJVXX-94-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1_VrqGVXXXXavXVXXHQTKFFXX-64-64.png"),
				index: 44
			}, {
				name: "再见",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB100_GHXXXXXXnaXXXyrrG_pXX-110-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1pVPzGVXXXXXcXXXX1ElnIXXX-64-64.png"),
				index: 45
			}, {
				name: "投降",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1a1LQHXXXXXcVXXXXSTqcJFXX-88-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1OYbvGVXXXXa6XpXX1ElnIXXX-64-64.png"),
				index: 46
			}, {
				name: "哼",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1MWbQHXXXXXXNXpXX29rzJFXX-92-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1XsfrGVXXXXcIXFXXHQTKFFXX-64-64.png"),
				index: 47
			}, {
				name: "欠扁",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ckfNHXXXXXa.XpXXRPwPJpXX-90-90.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB15bHrGVXXXXcJXFXX1ElnIXXX-64-64.png"),
				index: 48
			}, {
				name: "恭喜",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB16xjGHXXXXXXmaXXXjuHAJFXX-89-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1S6boGVXXXXXpaXXX1ElnIXXX-64-64.png"),
				index: 49
			}, {
				name: "可怜",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1nK6QHXXXXXc3XXXXD7A7JVXX-96-95.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1rJUoGFXXXXaOXVXX1ElnIXXX-64-64.png"),
				index: 50
			}, {
				name: "舒服",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1XOLTHXXXXXasXXXXXbMQJpXX-90-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1eArnGVXXXXbVaXXX1ElnIXXX-64-64.png"),
				index: 51
			}, {
				name: "爱意",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1HWYSHXXXXXbAXXXXPNRWJXXX-79-79.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1cffvGVXXXXaBXpXX1ElnIXXX-64-64.png"),
				index: 52
			}, {
				name: "单挑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1DWrQHXXXXXc8XXXXuPOh_pXX-106-89.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1i2roGVXXXXX9aXXX1ElnIXXX-64-64.png"),
				index: 53
			}, {
				name: "财迷",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1pvDWHXXXXXcGXFXXvDEPJpXX-90-88.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1avTqGVXXXXXsXVXX1ElnIXXX-64-64.png"),
				index: 54
			}, {
				name: "迷惑",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1C5zQHXXXXXXdXpXXCi75_pXX-108-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1ZPvnGVXXXXccaXXX1ElnIXXX-64-64.png"),
				index: 55
			}, {
				name: "委屈",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1i2zEHXXXXXbmaXXX29rzJFXX-92-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1IwHxGVXXXXbHXXXX1ElnIXXX-64-64.png"),
				index: 56
			}, {
				name: "灵感",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1yDYRHXXXXXbKXXXX_vqrKXXX-97-87.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB17P6pGVXXXXa0XVXX1ElnIXXX-64-64.png"),
				index: 57
			}, {
				name: "天使",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1k2nEHXXXXXbRaXXXgLt59VXX-100-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1K_DrGVXXXXbrXFXX1ElnIXXX-64-64.png"),
				index: 58
			}, {
				name: "鬼脸",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB148jHHXXXXXbVXVXXcXjN_FXX-113-90.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1bBHxGVXXXXbhXXXX1ElnIXXX-64-64.png"),
				index: 59
			}, {
				name: "凄凉",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1vzjKHXXXXXbpXFXXJycZJFXX-93-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1SF6qGVXXXXanXVXX1ElnIXXX-64-64.png"),
				index: 60
			}, {
				name: "郁闷",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1kXDRHXXXXXb_XXXXP0ukJVXX-94-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1YAPwGVXXXXcMXXXX1ElnIXXX-64-64.png"),
				index: 61
			}, {
				name: "发烧",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1dXPPHXXXXXXoXpXXMb.RJpXX-87-96.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1.66rGVXXXXb8XFXX1ElnIXXX-64-64.png"),
				index: 62
			}, {
				name: "邪恶",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB15KTEHXXXXXbyaXXXtNCkJVXX-94-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB16ajsGVXXXXbiXFXX1ElnIXXX-64-64.png"),
				index: 63
			}, {
				name: "忍者",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1bJnRHXXXXXcXXXXXP0ukJVXX-94-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1_4LxGVXXXXX.XXXX1ElnIXXX-64-64.png"),
				index: 64
			}, {
				name: "炸弹",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1tf_OHXXXXXacXpXXP0ukJVXX-94-93.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1RV_pGVXXXXbBXVXX1ElnIXXX-64-64.png"),
				index: 65
			}, {
				name: "邮件",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB14rTSHXXXXXbGXXXXqUxQIVXX-76-94.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1m9DvGVXXXXcvXXXX1ElnIXXX-64-64.png"),
				index: 66
			}, {
				name: "电话",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1sJPPHXXXXXXqXpXXxdDjJXXX-83-85.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1PoTsGVXXXXahXFXX1ElnIXXX-64-64.png"),
				index: 67
			}, {
				name: "礼物",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1DUzDHXXXXXbAaXXX_mt_HXXX-47-16.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1F2TxGVXXXXbJXXXX1ElnIXXX-64-64.png"),
				index: 68
			}, {
				name: "爱心",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB19ijNHXXXXXbFXpXXP43N9VXX-102-91.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1QtYuGVXXXXceXpXX1ElnIXXX-64-64.png"),
				index: 69
			}, {
				name: "心碎",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB19aLSHXXXXXbqXXXXgQLHJVXX-95-88.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB111YvGVXXXXaDXpXX1ElnIXXX-64-64.png"),
				index: 70
			}, {
				name: "嘴唇",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1ZLbKHXXXXXbZXFXXvH3pFXXX-137-47.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1_tzpGVXXXXbDXVXX1ElnIXXX-64-64.png"),
				index: 71
			}, {
				name: "鲜花",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1UyYNHXXXXXbkXpXXzUqAHFXX-56-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1scjKGFXXXXaraXXX1ElnIXXX-64-64.png"),
				index: 72
			}, {
				name: "残花",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1LlfFHXXXXXXhaXXXMlUYJFXX-93-88.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1nq_uGVXXXXcqXpXX1ElnIXXX-64-64.png"),
				index: 73
			}, {
				name: "出差",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB1H1zIHXXXXXb.XVXXWEPHJVXX-95-92.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1..YpGVXXXXXDXVXX1ElnIXXX-64-64.png"),
				index: 74
			}, {
				name: "干杯",
				gifsrc: uriResolve.assetsResolve("app/img/face/TB18krKHXXXXXbqXFXXBWZS_XXX-105-72.gif"),
				src: uriResolve.assetsResolve("app/img/face/TB1G1pAGVXXXXatXpXX1ElnIXXX-64-64.png"),
				index: 75
			}]);


		}, {
			"../uriResolve/resolve": 397
		}
	],
	223: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.emotionCollect",
				LoginStatusCode = require("../login/LoginStatusCode");
			require("../mediaId/mediaId"), require("../toast/toast");
			var app = angular.module(moduleName, ["ddWeb.mediaId", require("@ali/ding-api")["interface"].ImgResI, require("../login/loginStatus"), "ddWeb.toast"]);
			app.factory("emotionCollectService", ["$q", "mediaId", "ImgResI", "toastService", "loginStatus",
				function(e, o, t, n, i) {
					function r(e) {
						return angular.forEach(e, function(e, t) {
							e.src = o.mid2Url(e.emotionMediaId, {
								imageSize: "thumb"
							}), e.index = parseInt(e.emotionId), e.deleteState = !1
						}), e
					}

					function d(e) {
						n.show(O[e], {
							type: "error",
							timeout: 5e3
						})
					}

					function u(e, o) {
						r(e).forEach(function(e) {
							var t = !1;
							for (var n in s)
								if (s[n].emotionMediaId === e.emotionMediaId) {
									t = !0;
									break
								}
							t || (o ? s.push(e) : s.unshift(e))
						})
					}

					function a(e) {
						return f >= e
					}

					function c() {
						for (var e in s)
							if (s[e].deleteState === !1) return I = !1, !1;
						return I = !0, !0
					}
					var s = [],
						m = !0,
						R = 0,
						l = 20,
						E = {}, f = 1048576,
						I = !1,
						O = {
							OVER_LIMIT: "此图片过大，不能超过1M",
							PULL_ERROR: "获取表情失败，请检查网络后再试",
							PIC_ERROR: "图片获取失败",
							REMOVE_ERROR: "删除表情失败，请重试",
							ADD_ERROR: "添加失败，请检查网络后再试",
							NETWORK_ERROR: "您现在处于离线状态，请检查网络后再试",
							OVER_LIST_LIMIT: "单人收藏表情达到上限",
							TOO_SMALL: "文件太小了"
						}, g = function(o, n, i) {
							var r = e.defer();
							return t.getCustomEmotions(o, n, i, function(e) {
								200 === e.code ? r.resolve(e.body) : d("PULL_ERROR")
							}), r.promise
						}, L = function() {
							var o = e.defer();
							return m ? g(null, R, l).then(function(e) {
								return m = !1, u(e, !0), R += e.length, c(), o.resolve(s), o.promise
							}) : (o.resolve(s), o.promise)
						}, v = function(o, n) {
							var r = e.defer();
							return i.getLoginStatus() !== LoginStatusCode.LOGINED ? (d("NETWORK_ERROR"), r.promise) : (t.addCustomEmotion(o.name, o.emotionMediaId, null, function(e) {
								200 == e.code && e.body ? (o.emotionId = e.body, u([o], !1), c(), r.resolve(e.body), R++) : e.body ? (d("060002" === e.body.code ? "OVER_LIMIT" : "060001" === e.body.code ? "PIC_ERROR" : "060004" === e.body.code ? "OVER_LIST_LIMIT" : "060003" === e.body.code ? "TOO_SMALL" : "ADD_ERROR"), r.reject(e.body.code)) : r.reject(e.code)
							}), r.promise)
						}, S = function() {
							var o = e.defer();
							return i.getLoginStatus() !== LoginStatusCode.LOGINED ? (o.reject(), o.promise) : (g(null, R, l).then(function(e) {
								R += e.length, u(e, !0), o.resolve()
							}, function(e) {
								o.reject()
							}), o.promise)
						}, p = function(o) {
							var n = e.defer();
							if (i.getLoginStatus() !== LoginStatusCode.LOGINED) return d("NETWORK_ERROR"), n.promise;
							var r = null,
								u = null,
								a = null;
							for (var m in s)
								if (s[m].index === o) {
									r = s[m].emotionId, u = m, a = s[m].emotionMediaId;
									break
								}
							s[u];
							s[u].deleteState = !0, c(), t.removeCustomEmotion(r, function(e) {
								200 == e.code ? (s.splice(u, 1), R--, delete E[a], c()) : (d("REMOVE_ERROR"), s[u].deleteState = !1, c())
							})
						}, _ = function(e, o) {
							return E[e] ? o(E[e]) : void t.isExistCustomEmotion(e, function(t) {
								200 == t.code && (o(t.body), E[e] = t.body)
							})
						};
					return {
						pushEmotion: v,
						rmEmotion: p,
						checkEmotionExist: _,
						initEmotionList: L,
						pullEmotions: S,
						checkMediaSize: a,
						showErrorMsg: d,
						getEmpty: function() {
							return I
						}
					}
				}
			]);


		}, {
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../mediaId/mediaId": 267,
			"../toast/toast": 378,
			"@ali/ding-api": 453
		}
	],
	224: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.file.fileHelper";
			require("./fileTypes");
			var Exif = require("exif-js");
			angular.module(moduleName, ["ddWeb.file.fileTypes"]).factory("$fileHelper", ["$q", "$fileTypes",
				function(e, r) {
					var i = {
						success: -1,
						fileNull: 0,
						overSize: 1,
						errType: 2,
						nameEmpty: 3
					}, t = {
							0: "该文件为空",
							1: "该文件大小超过30M",
							2: "该文件格式不支持",
							3: "文件名为空"
						}, n = {
							SUCCESS: -1,
							FILE_NULL: 1,
							FILE_OVER_SIZE: 2,
							IMG_OVER_SIZE: 3,
							NAME_EMPTY: 4
						}, a = {
							1: "该文件为空",
							2: "该文件大小超过700M",
							3: "该图片大小超过30M",
							4: "文件名为空"
						}, l = 734003200,
						o = 31457280;
					return {
						checkFile: function(e) {
							if (!e || 0 === e.size) return [!1, i.fileNull, t[i.fileNull]];
							var n = e.name;
							if (!n) return [!1, i.nameEmpty, t[i.nameEmpty]];
							var a = r.getTypeByName(n);
							return r.isValid(a) ? e.size > 31457280 ? [!1, i.overSize, t[i.overSize]] : [!0] : [!1, i.errType, t[i.errType]]
						},
						checkFileV2: function(e) {
							if (!e || 0 === e.size) return [!1, n.FILE_NULL, a[n.FILE_NULL]];
							var i = e.name;
							if (!i) return [!1, n.NAME_EMPTY, a[n.NAME_EMPTY]];
							if (r.isImg(r.getTypeByName(i))) {
								if (e.size > o) return [!1, n.IMG_OVER_SIZE, a[n.IMG_OVER_SIZE]]
							} else if (e.size > l) return [!1, n.FILE_OVER_SIZE, a[n.FILE_OVER_SIZE]];
							return [!0]
						},
						formatFileSize: function(e) {
							var r = ["B", "KB", "MB", "GB", "TB"];
							if (0 == e) return "0 B";
							var i = parseInt(Math.floor(Math.log(e) / Math.log(1024))),
								t = (Math.round(10 * e / Math.pow(1024, i)) / 10).toString();
							return -1 === t.indexOf(".") && (t += ".0"), t + " " + r[i]
						},
						b64ToFile: function(e, r, i) {
							for (var t = window.atob(e), n = new Uint8Array(t.length), a = 0; a < t.length; a++) n[a] = t.charCodeAt(a);
							var l = new Blob([n], {
								type: r
							});
							return l.name = i, l
						},
						bufferToFile: function(e, r, i) {
							for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++) t[n] = e[n];
							var a = new Blob([t], {
								type: r
							});
							return a.name = i, a
						},
						readFile: function(i, t) {
							if (i.dataURI) t();
							else {
								var n = e.defer(),
									a = e.defer(),
									l = new FileReader;
								l.readAsDataURL(i), l.onload = function(e) {
									i.dataURI = l.result, n.resolve()
								};
								var o = i.name,
									f = r.getTypeByName(o);
								if ("jpg" === f || "jpeg" === f) try {
									Exif.getData(i, function() {
										var e = this.exifdata;
										i.orientation = parseInt(e.Orientation), a.resolve()
									})
								} catch (u) {
									console.log(u), a.resolve()
								} else a.resolve();
								e.all([n.promise, a.promise]).then(function() {
									t()
								})
							}
						},
						escapeFileName: function(e) {
							return e.replace(/[<>\/\\|:"\*\?]/g, "_")
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"./fileTypes": 225,
			"exif-js": 464
		}
	],
	225: [
		function(require, module, exports) {
			"use strict";
			var fileTypes = require("@ali/ding-filetypes"),
				moduleName = "ddWeb.file.fileTypes";
			angular.module(moduleName, []).factory("$fileTypes", [
				function() {
					return fileTypes
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-filetypes": 455
		}
	],
	226: [
		function(require, module, exports) {
			"use strict";
			var option = {
				iframe_width: 650,
				iframe_height: 450,
				img_size_limit: 52428800,
				file_size_limit: 20971520
			};
			module.exports = option;


		}, {}
	],
	227: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				ILLEGAL_URL: "https://space.dingtalk.com/unsupported_file.png",
				TOOBIG_URL: "https://space.dingtalk.com/big_file.png"
			};


		}, {}
	],
	228: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				imgType: ["gif", "bmp", "png", "jpg", "jpeg", "ico", "tiff", "tif", "tga"],
				fileTypeCheckArr: ["ppt", "pptx", "doc", "docx", "xls", "xlsx", "pdf", "zip"],
				fileTypeNormalArr: ["txt", "java", "js", "py", "pl", "pm", "c", "cpp", "xml", "php", "ini"]
			};


		}, {}
	],
	229: [
		function(require, module, exports) {
			"use strict";
			var hostConfig = require("../hostConfig"),
				path = require("path"),
				imgType = require("./previewFileType").imgType,
				fileTypeCheckArr = require("./previewFileType").fileTypeCheckArr,
				fileTypeNormalArr = require("./previewFileType").fileTypeNormalArr,
				ILLEGAL_URL = require("./previewFileErrMsg").ILLEGAL_URL,
				TOOBIG_URL = require("./previewFileErrMsg").TOOBIG_URL,
				previewFileConfig = require("./previewFileConfig"),
				uriResolve = require("../uriResolve/resolve"),
				getFileUri = function(e) {
					return hostConfig.space + "/auth/download?spaceId=" + e.s_id + "&path=" + encodeURIComponent(e.f_id || e.path)
				}, getPreviewUri = function(e, i, r) {
					var l = path.extname(e.f_name.toLocaleLowerCase());
					return l = l.substring(1, l.length), -1 !== imgType.indexOf(l) ? parseInt(e.f_size) < previewFileConfig.img_size_limit ? _getPreviewImgUri(e, i, r) : Promise.resolve({
						preview_url: TOOBIG_URL,
						download_url: getFileUri(e),
						filename: e.f_name,
						isImg: !0,
						isUnsupport: !0
					}) : -1 !== fileTypeCheckArr.indexOf(l) ? parseInt(e.f_size) < previewFileConfig.file_size_limit ? _getPreviewFileUri(e) : Promise.resolve({
						preview_url: TOOBIG_URL,
						download_url: getFileUri(e),
						filename: e.f_name,
						isImg: !0,
						isUnsupport: !0
					}) : -1 !== fileTypeNormalArr.indexOf(l) ? _getPreviewFileUri(e) : Promise.resolve({
						preview_url: ILLEGAL_URL,
						download_url: getFileUri(e),
						filename: e.f_name,
						isImg: !0,
						isUnsupport: !0
					})
				}, _getPreviewImgUri = function(e, i, r) {
					var l = $.param({
						bizid: e.s_id,
						biztype: "file",
						objectid: e.path,
						rule: i + "w_" + r + "h_1l_100Q"
					}),
						n = hostConfig.space + "/preview/img/single?" + l;
					return Promise.resolve({
						preview_url: n,
						download_url: getFileUri(e),
						filename: e.f_name,
						isImg: !0
					})
				}, _getPreviewFileUri = function(e) {
					var i = $.param({
						bizid: e.s_id,
						objectid: e.path,
						frontend: "pc_dingding"
					}),
						r = uriResolve.apiResolve("/preview/auth?" + i);
					return new Promise(function(i, l) {
						$.ajax({
							type: "GET",
							url: r,
							dataType: "json"
						}).then(function(r) {
							"000000" === r.status ? i({
								preview_url: r.content.src,
								download_url: getFileUri(e),
								filename: e.f_name
							}) : l(r)
						}, l)
					})
				};
			module.exports = {
				getFileUri: getFileUri,
				getPreviewUri: getPreviewUri
			};


		}, {
			"../hostConfig": 242,
			"../uriResolve/resolve": 397,
			"./previewFileConfig": 226,
			"./previewFileErrMsg": 227,
			"./previewFileType": 228,
			"path": 5
		}
	],
	230: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.container.commModal",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				path = require("path");
			angular.module(moduleName, [require("../modal/modal"), require("../../directive/microApp/microAppContainer"), require("../openAPI/config"), "ddWeb.openAPI.initHelper", require("../openAPI/biz/navigation/setTitle"), require("../openAPI/biz/navigation/quit"), require("../openAPI/biz/oauth/authorize")]).factory("openCommModal", ["$modal",
				function(i) {
					var e = {
						size: "default",
						url: "about:blank",
						title: ""
					}, o = function(o) {
							var o = o || {};
							o = _.assign({}, e, o);
							var t = i.open({
								template: '<div class="dialog open-modal-container" ng-class="CommModalCtrl.size">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{CommModalCtrl.title}}</span>\n    </div>\n    <div class="body">\n        <micro-app-container container-id="CommModalCtrl.containerId" app-url="CommModalCtrl.appUrl"></micro-app-container>\n    </div>\n</div>\n',
								controller: "CommModalCtrl",
								controllerAs: "CommModalCtrl",
								resolve: {
									option: function() {
										return o
									}
								}
							});
							return t.result
						};
					return o
				}
			]).controller("CommModalCtrl", ["option", "$modalInstance", "$scope", "openAPIConfig", "openAPIInitHelper", "openAPIBizNavigationSetTitle", "openAPIBizNavigationQuit", "openAPIBizOauthAuthorize",
				function(i, e, o, t, n, r, a, l) {
					this.appUrl = i.url, this.size = i.size, this.title = i.title;
					var s = this.containerId = frameTalkHost.getNewContainerId(),
						d = this,
						m = function(i, t) {
							i.indexOf("biz.navigation.setTitle") > -1 && r.init(s, t, function(i) {
								var e = i.title || "";
								return d.title = e, o.$digest(), Promise.resolve(!0)
							}), i.indexOf("biz.navigation.quit") > -1 && a.init(s, t, function(i) {
								var o = i.message || "";
								return e.close(o), Promise.resolve(!0)
							})
						};
					t.init(s, function(i) {
						var e = i.jsApiList,
							o = i.origin;
						m(e, o), n.initOpenAPI(s, o, e)
					}), l.init(s, "*"), o.$on("$destroy", function() {
						frameTalkHost.destroyContainer(s)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/microApp/microAppContainer": 68,
			"../modal/modal": 283,
			"../openAPI/biz/navigation/quit": 312,
			"../openAPI/biz/navigation/setTitle": 314,
			"../openAPI/biz/oauth/authorize": 315,
			"../openAPI/config": 326,
			"@ali/frame-talk/host": 457,
			"lodash": 470,
			"path": 5
		}
	],
	231: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.container.slidePanel",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				path = require("path");
			angular.module(moduleName, [require("../unPopModal/modal"), require("../../directive/microApp/microAppContainer"), require("../openAPI/config"), "ddWeb.openAPI.initHelper", require("../openAPI/biz/navigation/setTitle"), require("../openAPI/biz/navigation/quit"), require("../openAPI/biz/navigation/setLeft"), require("../openAPI/biz/oauth/authorize")]).factory("openSlidePanelContainer", ["$unPopModal",
				function(e) {
					function i(i) {
						var i = i || {};
						if (i = _.assign({}, n, i), a = (new Date).getTime(), a - t >= 1e3) {
							e.dismissAll();
							var l = e.open({
								template: '<div class="unpop-modal open-slide-panel-container">\n    <div class="head">\n        <i class="close iconfont unpop-modal-close-btn"></i>\n        <span class="title">{{slidePanelCtrl.title}}</span>\n        <a href="#" ng-if="slidePanelCtrl.leftBtnText" ng-click="slidePanelCtrl.onLeftBtnClick($event)" class="left-btn">{{ slidePanelCtrl.leftBtnText }}</a>\n    </div>\n    <div class="body">\n        <micro-app-container ng-if="slidePanelCtrl.showAppPage" container-id="slidePanelCtrl.containerId" app-url="slidePanelCtrl.appUrl"></micro-app-container>\n        <div class="micro-app-default-page" ng-if="!slidePanelCtrl.showAppPage">\n            <div class="micro-app-default-icon"></div>\n            <p class="micro-app-default-text">努力开发中，敬请期待</p>\n        </div>\n    </div>\n</div>\n',
								controller: "slidePanelCtrl",
								controllerAs: "slidePanelCtrl",
								key: "slidePanel_" + i.appUrl,
								resolve: {
									option: function() {
										return i
									}
								},
								closable: !1
							});
							return t = a, l.result
						}
						return Promise.reject(!1)
					}
					var n = {
						url: "about:blank",
						title: ""
					}, t = (new Date).getTime(),
						a = (new Date).getTime();
					return i
				}
			]).controller("slidePanelCtrl", ["$scope", "option", "$modalInstance", "openAPIConfig", "openAPIInitHelper", "openAPIBizNavigationSetTitle", "openAPIBizNavigationQuit", "openAPIBizNavigationSetLeft", "openAPIBizOauthAuthorize",
				function(e, i, n, t, a, l, o, r, s) {
					var p = this;
					if (this.appUrl = i.url, this.title = i.title, this.leftBtnText = "", p.showAppPage = i.showAppPage === !1 ? !1 : !0, p.showAppPage) {
						var d = this.containerId = frameTalkHost.getNewContainerId(),
							c = function(i, t) {
								i.indexOf("biz.navigation.setTitle") > -1 && l.init(d, t, function(i) {
									var n = i.title || "";
									return p.title = n, e.$digest(), Promise.resolve(!0)
								}), i.indexOf("biz.navigation.quit") > -1 && o.init(d, t, function(e) {
									var i = e.message || "";
									return n.close(i), Promise.resolve(!0)
								}), i.indexOf("biz.navigation.setLeft") > -1 && r.init(d, t, function(i) {
									var n = i.text || "";
									return p.leftBtnText = n, e.$digest(), Promise.resolve(!0)
								})
							};
						t.init(d, function(e) {
							var i = e.jsApiList,
								n = e.origin;
							c(i, n), a.initOpenAPI(d, n, i)
						}), s.init(d, "*"), this.onLeftBtnClick = function(e) {
							e.preventDefault(), frameTalkHost.emitContainerEvent(d, "leftBtnClick", {})
						}, e.$on("$destroy", function() {
							frameTalkHost.destroyContainer(d)
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/microApp/microAppContainer": 68,
			"../openAPI/biz/navigation/quit": 312,
			"../openAPI/biz/navigation/setLeft": 313,
			"../openAPI/biz/navigation/setTitle": 314,
			"../openAPI/biz/oauth/authorize": 315,
			"../openAPI/config": 326,
			"../unPopModal/modal": 396,
			"@ali/frame-talk/host": 457,
			"lodash": 470,
			"path": 5
		}
	],
	232: [
		function(require, module, exports) {
			require("./FriendList"), require("./FriendRequestList"), require("../user/userCache"), require("../conversation/conversation");
			var $my = require("../user/my");
			require("./FriendType");
			var app = angular.module("ddWeb.friend.FriendFactory", ["ddWeb.friend.FriendList", "ddWeb.friend.FriendRequestList", "ddWeb.user.userCache", require("../api/MsgSub"), "ddWeb.conversation", "ddWeb.friend.FriendType"]);
			app.factory("FriendFactory", ["FriendList", "FriendRequestList", "userCache", "MsgSub", "conversation", "FriendType",
				function(e, r, i, n, t, d) {
					function u() {
						return b || (b = new e({
							cursor: 0,
							SIZE: 1e3
						})), b
					}

					function s() {
						return f || (f = new r({
							cursor: (new Date).getTime(),
							SIZE: 30
						})), f
					}

					function o() {
						b && (b = null)
					}

					function a() {
						f && (f = null)
					}

					function c() {
						n.subscribe("/s/biz/friend", function(e, r) {
							if (r({}), e.body) {
								var n = i.get(e.body.uid, !0);
								if (0 === e.body.status) {
									if (n && (n.friendRequestModel.status = d.NON_RELATION), e.body.initiator) {
										var u = t.createCid([e.body.uid, $my.uid]);
										t.hideConv(u, !1)
									}
								} else 1 === e.body.status && (n && (n.friendRequestModel.status = d.FRIEND), b && b.addItem(e.body))
							}
						})
					}
					var b = null,
						f = null;
					return {
						init: c,
						getFriendList: u,
						getFriendRequestList: s,
						destoryFriendList: o,
						destroyFriendRequestList: a
					}
				}
			]);


		}, {
			"../api/MsgSub": 146,
			"../conversation/conversation": 193,
			"../user/my": 400,
			"../user/userCache": 401,
			"./FriendList": 234,
			"./FriendRequestList": 236,
			"./FriendType": 237
		}
	],
	233: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("../user/userCache");
			var app = angular.module("ddWeb.friend.FriendItem", ["ddWeb.user.userCache"]);
			app.factory("FriendItem", ["userCache", "profileModalService",
				function(e, r) {
					var i = Class.create({
						initialize: function(r) {
							this.remark = r.remark || "", this.user = e.set(r.userProfileModel.uid, {
								userProfileModel: r.userProfileModel,
								friendRequestModel: {
									status: r.status || FriendType.FRIEND
								}
							}, !0)
						},
						showProfileModal: function(e, i) {
							i && i.preventDefault(), i && i.stopPropagation(), r(this.user.userProfileModel.uid, null, null, null, e || !1)
						}
					});
					return i
				}
			]);


		}, {
			"../../lib/class": 119,
			"../user/userCache": 401
		}
	],
	234: [
		function(require, module, exports) {
			require("./FriendListBaseClass"), require("./FriendItem"), require("../toast/toast"), require("./FriendType");
			var app = angular.module("ddWeb.friend.FriendList", ["ddWeb.friend.FriendListBaseClass", require("@ali/ding-api")["interface"].FriendI, "ddWeb.friend.FriendItem", "ddWeb.toast", "ddWeb.friend.FriendType"]);
			app.factory("FriendList", ["FriendListBaseClass", "FriendI", "FriendItem", "toastService", "FriendType",
				function(e, i, r, t, s) {
					var d = e.extend({
						initialize: function(e) {
							d.superclass.initialize.call(this, e)
						},
						_getDataRequest: function(e) {
							var r = this;
							i.getFriendList(this.cursor, this.SIZE, function(i) {
								r.isLoading = !1, 200 === i.code ? (r._resolveData(i), e && e()) : t.show("拉取好友列表失败，请重试", {
									type: "error"
								})
							})
						},
						_resolveData: function(e) {
							var i = this;
							i.hasMore = e.body.hasMore, i.cursor = e.body.cursor, e.body && e.body.friendList.forEach(function(e) {
								i.addItem(e)
							})
						},
						addItem: function(e) {
							var i = this;
							if (0 !== e.status && e.userProfileModel) {
								var t = new r({
									status: s.FRIEND,
									userProfileModel: e.userProfileModel
								});
								i.friendList.push(t)
							}
						}
					});
					return d
				}
			]);


		}, {
			"../toast/toast": 378,
			"./FriendItem": 233,
			"./FriendListBaseClass": 235,
			"./FriendType": 237,
			"@ali/ding-api": 453
		}
	],
	235: [
		function(require, module, exports) {
			var Class = require("../../lib/class"),
				app = angular.module("ddWeb.friend.FriendListBaseClass", []);
			app.factory("FriendListBaseClass", [
				function() {
					var i = Class.create({
						initialize: function(i) {
							this.friendList = [], this.cursor = i.cursor || 0, this.SIZE = i.SIZE || 1e3, this.hasMore = !0, this.isLoading = !1, this.loadMore()
						},
						_getDataRequest: function() {
							console.log("need to overwrite this function!")
						},
						_resolveData: function(i) {
							console.log("need to overwrite this function!")
						},
						loadMore: function(i) {
							this.hasMore && !this.isLoading && (this.isLoading = !0, this._getDataRequest(i))
						}
					});
					return i
				}
			]);


		}, {
			"../../lib/class": 119
		}
	],
	236: [
		function(require, module, exports) {
			require("./FriendListBaseClass"), require("./FriendItem"), require("../toast/toast");
			var app = angular.module("ddWeb.friend.FriendRequestList", ["ddWeb.friend.FriendListBaseClass", require("@ali/ding-api")["interface"].FriendI, "ddWeb.friend.FriendItem", "ddWeb.toast"]);
			app.factory("FriendRequestList", ["FriendListBaseClass", "FriendI", "FriendItem", "toastService",
				function(e, i, r, t) {
					var s = e.extend({
						initialize: function(e) {
							s.superclass.initialize.call(this, e)
						},
						_getDataRequest: function(e) {
							var r = this;
							i.getFriendRequestListV2(this.cursor, this.SIZE, function(i) {
								r.isLoading = !1, 200 === i.code ? (r._resolveData(i), e && e()) : t.show("拉取好友列表失败，请重试", {
									type: "error"
								})
							})
						},
						_resolveData: function(e) {
							var i = this;
							this.hasMore = e.body.hasMore, this.cursor = e.body.cursor, e.body.friendList.forEach(function(e) {
								var t = new r({
									remark: e.remark,
									status: e.status,
									userProfileModel: e.userProfileModel
								});
								i.friendList.push(t)
							})
						}
					});
					return s
				}
			]);


		}, {
			"../toast/toast": 378,
			"./FriendItem": 233,
			"./FriendListBaseClass": 235,
			"@ali/ding-api": 453
		}
	],
	237: [
		function(require, module, exports) {
			angular.module("ddWeb.friend.FriendType", []).value("FriendType", {
				NON_RELATION: 0,
				RECEIVE_FRIEND_REQUEST: 1,
				HAVE_SEND_FRIEND_REQUEST: 2,
				FRIEND: 3,
				PHONE_RELATION: 4
			});


		}, {}
	],
	238: [
		function(require, module, exports) {
			var moduleName = "ddWeb.globalURL";
			angular.module(moduleName, []).value("globalURL", {
				DOWNLOAD_URL: "http://www.dingtalk.com/?gotoDownload=true",
				WIN_APP_RELEASE_PACKAGE: "http://www.dingtalk.com/win/d/",
				MAC_APP_RELEASE_PACKAGE: "http://www.dingtalk.com/mac/d/"
			}), module.exports = moduleName;


		}, {}
	],
	239: [
		function(require, module, exports) {
			angular.module("ddWeb.goldlog", []).factory("goldlog", [
				function() {
					var o = "",
						d = function(o) {}, l = function(d, l) {
							l ? l += "&myuid=" + o : l = "myuid=" + o;
							var n = ["/ding.10000", d, l, "H46747591"];
							try {
								window.goldlog.record.apply(window.goldlog, n)
							} catch (g) {}
						};
					return {
						init: d,
						log: l
					}
				}
			]);


		}, {}
	],
	240: [
		function(require, module, exports) {
			require("../log/lwlog.js"), angular.module("ddWeb.goldlog.staylog", ["ddWeb.goldlog", "ddWeb.log.lwlog"]).factory("staylog", ["$rootScope", "$state", "goldlog", "lwlog",
				function(e, t, n, a) {
					function o() {
						i()
					}

					function i() {
						document.addEventListener("visibilitychange", function(e) {
							var n = document.visibilityState;
							l = t.current.name;
							var a = (new Date).getTime();
							if ("hidden" == n) {
								var o = a - c;
								g(l, o)
							}
							c = a
						}), $(document).on("nw_visibilitychange", function(e, n) {
							l = t.current.name;
							var a = (new Date).getTime();
							if (n) {
								var o = a - c;
								g(l, o)
							}
							c = a
						}), e.$on("$stateChangeSuccess", function(e, t, n, a, o) {
							l = a.name;
							var i = (new Date).getTime(),
								r = i - c;
							g(l, r), c = i
						})
					}

					function g(e, t) {
						e && (n.log("stay", "stayName=" + e + "&stayTime=" + t), a.commLog("stay", "stayName=" + e + "&stayTime=" + t))
					}
					var l, c = (new Date).getTime();
					return {
						init: o
					}
				}
			]);


		}, {
			"../log/lwlog.js": 262
		}
	],
	241: [
		function(require, module, exports) {
			"use strict";
			var ConvType = require("../conversation/ConvType"),
				ConvExtensionType = require("../conversation/convExtensionType"),
				groupSupportType = {
					conversation: {
						allowedShowJumpType: [ConvExtensionType.FRIEND, ConvExtensionType.FILESHELPER],
						fullSupportGroupType: [ConvType.ORDINARY_GROUP, ConvType.COMPANY_GROUP, ConvType.SECRETARY, ConvType.FILEHELPER, ConvType.ANNOUNCEMENT]
					},
					myGroup: {
						fullSupportGroupType: [ConvType.ORDINARY_GROUP, ConvType.COMPANY_GROUP]
					}
				};
			module.exports = groupSupportType;


		}, {
			"../conversation/ConvType": 184,
			"../conversation/convExtensionType": 191
		}
	],
	242: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.hostConfig",
				env = require("./env/env");
			if (env.isOnline) var login = "https://login.dingtalk.com",
			space = "https://space.dingtalk.com", cookie = "https://webalfa.dingtalk.com", wsAlternative = ["wss://webalfa-cm3.dingtalk.com/lwp", "wss://webalfa-cm10.dingtalk.com/lwp"], aladin = "https://vip.laiwang.com";
			else var login = "http://devlogin.dingtalk.com:7001",
			space = "http://devspace.dingtalk.com", cookie = "http://10.218.136.150", wsAlternative = ["ws://10.218.136.150:7001/lwp"], aladin = "http://10.189.193.238";
			module.exports = {
				login: login,
				space: space,
				cookie: cookie,
				wsAlternative: wsAlternative,
				aladin: aladin
			};


		}, {
			"./env/env": 219
		}
	],
	243: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.ImgType";
			angular.module(moduleName, []).value("IMGTYPE", {
				DTImageOrientationUndefined: 0,
				DTImageOrientationNormal: 1,
				DTImageOrientation_Flip_Horizontal: 2,
				DTImageOrientation_Rotate_180: 3,
				DTImageOrientation_Flip_Vertical: 4,
				DTImageOrientation_Transpose: 5,
				DTImageOrientation_Rotate_90: 6,
				DTImageOrientation_Transverse: 7,
				DTImageOrientation_Rotate_270: 8
			}), module.exports = moduleName;


		}, {}
	],
	244: [
		function(require, module, exports) {
			var moduleName = "ddWeb.service.Rotate";
			angular.module(moduleName, [require("./ImgType")]).factory("Rotate", ["IMGTYPE",
				function(e) {
					return function(t) {
						switch (t) {
							case e.DTImageOrientationUndefined:
								return 0;
							case e.DTImageOrientation_Rotate_180:
								return 180;
							case e.DTImageOrientation_Rotate_90:
								return 90;
							case e.DTImageOrientation_Rotate_270:
								return 270;
							default:
								return 0
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"./ImgType": 243
		}
	],
	245: [
		function(require, module, exports) {
			"use strict";
			require("./../modal/modal"), require("../../directive/img/imgPreviewDirective"), require("../mediaId/mediaId");
			var moduleName = "ddWeb.service.imgPreviewService",
				app = angular.module(moduleName, ["ddWeb.modal", "ddWeb.widget.imgPreview", "ddWeb.mediaId"]);
			app.factory("imgPreviewService", ["$modal",
				function(e) {
					function t(t, r, i, n) {
						var n = n || {}, a = r ? r : function() {}, o = i ? i : function() {}, c = e.open({
								template: "<div img-preview-directive ></div>",
								controller: "imgPreviewCtrl",
								resolve: {
									localState: function() {
										return t
									},
									getPrevStateFunc: function() {
										return a
									},
									getNextStateFunc: function() {
										return o
									},
									conf: function() {
										return n
									}
								}
							});
						return c.result
					}
					return {
						preview: t
					}
				}
			]), app.controller("imgPreviewCtrl", ["$scope", "localState", "getPrevStateFunc", "getNextStateFunc", "mediaId", "$modalInstance", "conf",
				function(e, t, r, i, n, a, o) {
					e.modalInstance = a, e.getPrevStateFunc = r, e.getNextStateFunc = i, e.localState = t, e.conf = o
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/img/imgPreviewDirective": 61,
			"../mediaId/mediaId": 267,
			"./../modal/modal": 283
		}
	],
	246: [
		function(require, module, exports) {
			"use strict";
			var DEFAULT_TIMEOUT = 5e3,
				IOReceiveMsg = function(e) {
					this.msg = e, this.headers = e.headers, this.topic = e.lwp, this._p = {}, this.result = new Promise(function(e, t) {
						this._p.resolve = e, this._p.reject = t
					}.bind(this)), this._timeoutTimer = setTimeout(function() {
						this._p.reject(new Error("timeout"))
					}.bind(this), DEFAULT_TIMEOUT)
				};
			IOReceiveMsg.prototype.respond = function(e, t, i) {
				var e = e || null,
					t = t || 200,
					i = i || {};
				i.mid = this.headers.mid, clearTimeout(this._timeoutTimer), this._p.resolve({
					headers: i,
					code: t,
					body: e
				})
			}, module.exports = IOReceiveMsg;


		}, {}
	],
	247: [
		function(require, module, exports) {
			"use strict";
			var _ = require("lodash"),
				EventEmitter = require("wolfy87-eventemitter"),
				Class = require("../../lib/class"),
				RPCError = require("./RPCError"),
				SEND_BEFORE_AUTH_LIST = ["/subscribe", "/ping", "/r/Adaptor/LoginI/umidToken", "/r/Adaptor/LoginI/login", "/r/Adaptor/LoginI/sendSmsCode", "/r/Adaptor/LoginI/tokenLogin", "/up/pre", "/up/frag", "/up/ci"],
				CACHE_WHEN_OFFLINE_LIST = ["/r/IDLMessageStatus/updateToRead"],
				defaultOption = {
					timeout: 6e4,
					cacheWhenOffline: !1
				}, MSG_CODE = {
					SUCCESS: 200,
					OFFLINE: 502,
					TIMEOUT: 504,
					DISMISS: 601
				}, timeoutMsg = {
					code: MSG_CODE.TIMEOUT,
					headers: {
						_source: "local"
					},
					body: {
						reason: "连接超时"
					}
				}, offlineMsg = {
					code: MSG_CODE.OFFLINE,
					headers: {
						_source: "local"
					},
					body: {
						reason: "连接不可用"
					}
				}, dismissMsg = {
					code: MSG_CODE.DISMISS,
					headers: {
						_source: "local"
					},
					body: {
						reason: "取消请求"
					}
				}, MSG_STATE = {
					INACTIVE: 0,
					ACTIVE: 1,
					NORMAL_END: 10,
					TIMEOUT_END: 11,
					OFFLINE_END: 12,
					DISMISS_END: 20
				}, msgId = 0,
				IOSendMsg = Class.create({
					initialize: function(e, s, t, i) {
						if (!e) throw new Error("url 不能为空");
						this.messageId = ++msgId, this.url = e;
						var s = s || {};
						s.mid = this.messageId + " 0", this.msgEntity = {
							lwp: e,
							headers: s,
							body: t
						}, this.conf = _.assign({}, defaultOption, i), this._timeoutTimer = null, this.state = MSG_STATE.INACTIVE, this._p = {}, this.result = new Promise(function(e, s) {
							this._p.resolve = e, this._p.reject = s
						}.bind(this)), this.conf.cacheWhenOffline || (this._timeoutTimer = setTimeout(function() {
							var e = _.assign({}, timeoutMsg);
							this.respond(e)
						}.bind(this), this.conf.timeout))
					},
					active: function() {
						this.state = MSG_STATE.ACTIVE
					},
					respond: function(e) {
						if (!this.isFinish()) {
							switch (e.code) {
								case MSG_CODE.OFFLINE:
									this.state = MSG_STATE.OFFLINE_END;
									break;
								case MSG_CODE.TIMEOUT:
									this.state = MSG_STATE.TIMEOUT_END;
									break;
								case MSG_CODE.DISMISS:
									this.state = MSG_STATE.DISMISS_END;
									break;
								default:
									this.state = MSG_STATE.NORMAL_END
							}
							200 === e.code ? this._p.resolve(e) : this._p.reject(new RPCError(e)), clearTimeout(this._timeoutTimer)
						}
					},
					canCacheWhenOffline: function() {
						return CACHE_WHEN_OFFLINE_LIST.indexOf(this.url) > -1
					},
					sendOfflineMsg: function() {
						var e = _.assign({}, offlineMsg);
						this.respond(e)
					},
					getMsgId: function() {
						return this.messageId
					},
					canSendBeforeAuth: function() {
						return SEND_BEFORE_AUTH_LIST.indexOf(this.url) > -1
					},
					dismiss: function() {
						this.respond(dismissMsg)
					},
					genNewMsgId: function() {
						this.messageId = ++msgId, this.msgEntity.headers.mid = this.messageId + " 0"
					},
					isFinish: function() {
						return this.state >= MSG_STATE.NORMAL_END
					}
				});
			module.exports = IOSendMsg;


		}, {
			"../../lib/class": 119,
			"./RPCError": 248,
			"lodash": 470,
			"wolfy87-eventemitter": 476
		}
	],
	248: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				_ = require("lodash"),
				RPCError = Class.create(Error, {
					initialize: function(r) {
						var e = _.get(r, "body.reason", "出错了"),
							s = Error.call(this, e);
						return this.message = s.message, Object.defineProperty(this, "stack", {
							get: function() {
								return s.stack
							}
						}), this.name = "RPCError", this.code = r.code, this.headers = r.headers, this.body = r.body, this._originMsg = r, this
					}
				});
			module.exports = RPCError;


		}, {
			"../../lib/class": 119,
			"lodash": 470
		}
	],
	249: [
		function(require, module, exports) {
			"use strict";

			function getIPList() {
				if (ua.isNw) {
					var t = _nwrequire("os"),
						e = t.networkInterfaces(),
						r = [];
					return "object" == typeof e && Object.keys(e).forEach(function(t) {
						var s = e[t];
						Array.isArray(s) && s.forEach(function(t) {
							r.push(t.address)
						})
					}), r
				}
				return []
			}
			var ua = require("../ua"),
				_ = require("lodash"),
				latestIPList = [];
			exports.recode = function() {
				latestIPList = getIPList()
			}, exports.isSame = function() {
				return latestIPList && 0 === latestIPList.length ? !0 : _.isEqual(getIPList(), latestIPList)
			};


		}, {
			"../ua": 390,
			"lodash": 470
		}
	],
	250: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.io.mainWS",
				appKey = require("../appInfo").APP_KEY,
				localIPRecord = require("./localIPRecord"),
				cookieManager = require("../cookie/cookie"),
				cookieNames = require("../cookie/cookieNames"),
				ua = require("../ua"),
				appKey = require("../appInfo").APP_KEY,
				WS3 = require("./ws3"),
				wsState = require("./wsState"),
				wsServerPool = require("./wsServerPool"),
				RPCError = require("./RPCError"),
				storage = require("../storage/storage"),
				log = require("../log/localLog"),
				LoginStatusCode = require("../login/LoginStatusCode");
			require("../app/nw"), require("../events");
			var LoginStatusCode = require("../login/LoginStatusCode");
			angular.module(moduleName, ["ddWeb.events", "ddWeb.nw", require("../login/loginStatus")]).factory("mainWS", ["$rootScope", "EVENTS", "nw", "loginStatus",
				function(e, o, t, r) {
					function n() {
						s.logout(), t.setUnread(0), window.location.reload()
					}

					function i(e) {
						d.push(e)
					}
					var u = 0,
						a = function() {
							1 !== u && (u = 1, setTimeout(function() {
								e.$digest(), u = 0
							}, 200))
						}, s = new WS3("mainWS", {
							wsServerPool: wsServerPool,
							UA: ua.fullUA,
							APP_KEY: appKey
						});
					s.connect();
					var c = function(e, o) {
						return s.auth(e, o)
					}, g = function() {
							return s.disconnect()
						}, S = function(e, o, t, r) {
							var n = s.sendMsg(e, o, t);
							return n.result.then(function(e) {
								r && r(e), a()
							})["catch"](function(e) {
								e instanceof RPCError ? r && r(e._originMsg) : log.error("mainWS send msg error" + e.toString()), a()
							}), n
						}, d = [];
					s.addListener(s.EventsName.PUSH_MSG, function(e) {
						d.forEach(function(o) {
							o(e)
						}), a()
					});
					var l = function() {
						return s.connectTime
					}, f = function() {
							return s.autoLogin()
						};
					return s.addListener(s.EventsName.STATE_CHANGE, function(e) {
						e !== wsState.SILENT_CONNECTING && e !== wsState.REGED && e !== wsState.OPENED && (e === wsState.CONNECTING ? r.setLoginStatus(LoginStatusCode.LOGINING) : e === wsState.SUBSCRIBED ? r.setLoginStatus(LoginStatusCode.LOGINED) : r.setLoginStatus(LoginStatusCode.NOT_LOGIN))
					}), {
						logout: n,
						sendMsg: S,
						regDownMsgHandle: i,
						forceOffline: g,
						auth: c,
						getConnectTime: l,
						autoLogin: f
					}
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../appInfo": 166,
			"../cookie/cookie": 202,
			"../cookie/cookieNames": 203,
			"../events": 221,
			"../log/localLog": 259,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../storage/storage": 373,
			"../ua": 390,
			"./RPCError": 248,
			"./localIPRecord": 249,
			"./ws3": 251,
			"./wsServerPool": 252,
			"./wsState": 253
		}
	],
	251: [
		function(require, module, exports) {
			"use strict";
			var localLog = require("../log/localLog"),
				deviceId = require("../tool/did"),
				IOSendMsg = require("./IOSendMsg"),
				IOReceiveMsg = require("./IOReceiveMsg"),
				wsState = require("./wsState"),
				cookieManager = require("../cookie/cookie"),
				cookieNames = require("../cookie/cookieNames"),
				syncState = require("../syncProtocol/syncState"),
				storage = require("../storage/storage"),
				localIPRecord = require("./localIPRecord"),
				ParamError = require("../error/ParamError"),
				Class = require("../../lib/class"),
				_ = require("lodash"),
				EventEmitter = require("wolfy87-eventemitter"),
				jsonp = require("jsonp"),
				querystring = require("querystring"),
				defaultOption = {
					WebSocket: window.WebSocket,
					jsonp: jsonp
				}, PRIVATE_CONN_STATE = {
					IDLE: 0,
					PREPARE_CONN: 1,
					CONNECTING: 2
				}, WS = Class.create({
					initialize: function(e, t) {
						if (this.option = _.assign({}, defaultOption, t), !this.option.wsServerPool) throw "must config wsServerPool";
						if (!this.option.APP_KEY) throw "must config APP_KEY";
						this.option.UA || (this.option.UA = window.navigator.userAgent), this.name = e, this._ws = null, this.state = wsState.CLOSED, this.wsUri = this.option.wsServerPool.getCurrentWSURI(), this.pendingMsgs = {}, this.waitingRegMsgs = [], this.offlineCacheMsgs = [], this.tmpCacheMsgs = [], this.connectTime = 0, this._subscribeTimer = null, this._refreshTokenTimer = null, this._tryConnectTime = 0, this._firstConnect = !0, this._connGuardTimer = null, this._privateConnState = PRIVATE_CONN_STATE.IDLE, this._pingTimer = null, this._pingInterval = 15e3, this._haveSubscribeSuccessOnce = !1, this._subscribe400HasHappened = !1, window.addEventListener("offline", function(e) {
							this._connect(), localLog.info("network offline")
						}.bind(this)), window.addEventListener("online", function(e) {
							this._tryConnectTime = 0, this._connect(), localLog.info("network online")
						}.bind(this))
					},
					Implements: EventEmitter,
					EventsName: {
						OPEN: "open",
						REGED: "reged",
						SUBSCRIBEED: "subscribed",
						CLOSED: "closed",
						STATE_CHANGE: "state_change",
						PUSH_MSG: "push_msg"
					},
					_setState: function(e) {
						if (e !== this.state) switch (this.state = e, this.emit(this.EventsName.STATE_CHANGE, e), e) {
							case wsState.REGED:
								this.emit(this.EventsName.REGED);
								break;
							case wsState.SUBSCRIBED:
								this.emit(this.EventsName.SUBSCRIBEED);
								break;
							case wsState.OPENED:
								this.emit(this.EventsName.OPEN);
								break;
							case wsState.CLOSED:
								this.emit(this.EventsName.CLOSED)
						}
					},
					connect: function() {
						this._setState(wsState.INITED), this._connect()
					},
					disconnect: function() {
						var e = this._ws;
						this._ws = null, this._setState(wsState.CLOSING), this._haveSubscribeSuccessOnce = !1, this._unbindEvent(e), this._onClose(), e && e.close(), this._setState(wsState.CLOSED)
					},
					_connect: function() {
						if (this.state !== wsState.CLOSED && this.state !== wsState.CLOSING && this._privateConnState === PRIVATE_CONN_STATE.IDLE) {
							Object.keys(this.pendingMsgs).forEach(function(e) {
								var t = this.pendingMsgs[e];
								t.canSendBeforeAuth() ? this.waitingRegMsgs.push(t) : this.tmpCacheMsgs.push(t), delete this.pendingMsgs[e]
							}.bind(this)), this._privateConnState = PRIVATE_CONN_STATE.PREPARE_CONN;
							var e = this._ws;
							this._unbindEvent(e), this._tryConnectTime < 2 && !this._firstConnect ? (this._setState(wsState.SILENT_CONNECTING), this._privateConnState = PRIVATE_CONN_STATE.CONNECTING, this._ws = new this.option.WebSocket(this.wsUri), this._bindEvent()) : (this._setState(wsState.CONNECTING), this._firstConnect || (this.wsUri = this.option.wsServerPool.getNewWSURI()), setTimeout(function() {
								this._privateConnState = PRIVATE_CONN_STATE.CONNECTING, this._ws = new this.option.WebSocket(this.wsUri), this._bindEvent()
							}.bind(this), Math.min(Math.pow(2, this._tryConnectTime), 3e3))), this._firstConnect = !1, this._tryConnectTime++, clearTimeout(this._connGuardTimer), this._connGuardTimer = setTimeout(function() {
								(this.state === wsState.CONNECTING || this.state === wsState.SILENT_CONNECTING) && (this._privateConnState = PRIVATE_CONN_STATE.IDLE, this._connect())
							}.bind(this), 5e3)
						}
					},
					_bindEvent: function() {
						this._ws ? (this._ws.onopen = this._onOpen.bind(this), this._ws.onmessage = this._onMessage.bind(this), this._ws.onclose = this._onClose.bind(this)) : localLog.error("this._ws is null , ws name: " + this.name)
					},
					_unbindEvent: function(e) {
						e && (e.onopen = function() {}, e.onmessage = function() {}, e.onclose = function() {})
					},
					_onOpen: function() {
						this._privateConnState = PRIVATE_CONN_STATE.IDLE, this._setState(wsState.OPENED), this._reg(), this._tryConnectTime = 0, clearTimeout(this._connGuardTimer), this.connectTime = (new Date).getTime(), localIPRecord.recode()
					},
					_onMessage: function(e) {
						try {
							var t = JSON.parse(e.data)
						} catch (s) {
							return void log.error(this.name + " parse json error :" + e.data)
						}
						if (t.code) {
							var i = _.get(t, "headers.mid").split(" ")[0];
							this.pendingMsgs[i] && this.pendingMsgs[i].respond(t)
						} else if (t.lwp) {
							var n = new IOReceiveMsg(t);
							this.emit(this.EventsName.PUSH_MSG, n), n.result.then(function(e) {
								this._send(e)
							}.bind(this))["catch"](function(e) {
								localLog.info("push msg respond error :" + e.toString() + ":" + JSON.stringify(t))
							})
						}
						clearTimeout(this._pingTimer), this._pingTimer = setTimeout(function() {
							this._ping()
						}.bind(this), this._pingInterval), window.debug === !0 && console.log("receive msg: " + JSON.stringify(e.data))
					},
					_onClose: function() {
						this._connect()
					},
					_ping: function() {
						this.sendMsg("/ping", null, null, {
							timeout: 1e4
						}).result.then(function() {}, function(e) {
							localLog.info("ws: " + this.name + "ping 检查失败 :" + e.toString()), this._connect()
						}.bind(this))
					},
					_reg: function() {
						var e = {
							"cache-header": "token app-key did ua vhost",
							vhost: "WK",
							ua: this.option.UA,
							"app-key": this.option.APP_KEY
						};
						if (!cookieManager.hasItem(cookieNames.DEVICE_ID_EXIST)) {
							var t = deviceId.getDid();
							e.did = t
						}
						var s = this.sendMsg("/reg", e, null);
						return s.result.then(function(e) {
							return this._setState(wsState.REGED), this._clearWaitingRegMsgs(), this._haveSubscribeSuccessOnce && this._subscribe(), e
						}.bind(this), function(e) {
							this._connect()
						}.bind(this))
					},
					_clearWaitingRegMsgs: function() {
						for (var e = []; this.waitingRegMsgs.length > 0;) {
							var t = this.waitingRegMsgs.shift();
							if (t.isFinish()) break;
							if (!this._send(t.msgEntity)) {
								e.push(t);
								break
							}
							this._addPending(t)
						}
						this.waitingRegMsgs = e
					},
					_clearTmpCacheMsgs: function() {
						for (var e = []; this.tmpCacheMsgs.length > 0;) {
							var t = this.tmpCacheMsgs.shift();
							if (t.isFinish()) break;
							if (!this._send(t.msgEntity)) {
								e.push(t);
								break
							}
							this._addPending(t)
						}
						this.tmpCacheMsgs = e
					},
					_clearOfflineCacheMsgs: function() {
						for (var e = []; this.offlineCacheMsgs.length > 0;) {
							var t = this.offlineCacheMsgs.shift();
							if (t.isFinish()) break;
							if (!this._send(t.msgEntity)) {
								e.push(t);
								break
							}
							this._addPending(t)
						}
						this.offlineCacheMsgs = e
					},
					auth: function(e, t) {
						var t = t || {};
						if (!e) return Promise.reject(new ParamError("authInfo 不能为空"));
						if (!e.accessToken || !_.isString(e.accessToken)) return Promise.reject(new ParamError("authInfo.accessToken 必须为字符串"));
						if (!e.refreshToken || !_.isString(e.refreshToken)) return Promise.reject(new ParamError("authInfo.refreshToken 必须为字符串"));
						if (!e.expiredTime || !_.isNumber(e.expiredTime)) return Promise.reject(new ParamError("authInfo.expiredTime 必须为数字"));
						if (!e.tmpCode || !_.isString(e.tmpCode)) return Promise.reject(new ParamError("authInfo.tmpCode 必须为字符串"));
						if (!e.uid || !_.isNumber(e.uid)) return Promise.reject(new ParamError("authInfo.uid 必须为数字"));
						var s = e.tmpCode;
						return delete e.tmpCode, this.authInfo = e, this.isTempLogin = !! t.isTempLogin, this.isAutoLogin = !! t.isAutoLogin, Promise.resolve().then(function() {
							return t.needReconnectAfterDidSet === !0 ? this._setCookie(s, !! t.isAutoLogin).then(function() {
								return this._connect(), Promise.resolve(!0)
							}.bind(this)) : (this._setCookie(s, !! t.isAutoLogin), Promise.resolve())
						}.bind(this)).then(function() {
							return this._subscribe()
						}.bind(this))
					},
					autoLogin: function() {
						if (!cookieManager.hasItem(cookieNames.DEVICE_ID_EXIST)) return localLog.info("auto login did not exist"), Promise.reject(new Error("did is not exist"));
						var e = null;
						if (e = storage.local.getItem(storage.KEYS.TOKEN), e || (e = storage.session.getItem(storage.KEYS.TOKEN)), !e) return localLog.info("auto login local token not exist"), Promise.reject(new Error("local token not exist"));
						try {
							e = JSON.parse(e)
						} catch (t) {
							return localLog.info("auto login local token syntax error"), Promise.reject(new Error("token syntax error"))
						}
						return e.expiredTime = parseInt(e.expiredTime), e.accessToken && e.refreshToken && e.expiredTime && _.isNumber(e.expiredTime) && _.isNumber(e.uid) ? (this.authInfo = e, this._subscribe()) : Promise.reject(new Error("token data not complete"))
					},
					_subscribe: function() {
						if (this.authInfo) {
							localIPRecord.isSame() || this._connect();
							var e = syncState.getSyncInfo(),
								t = e.pts + ";" + e.seq + ";" + e.timestamp,
								s = this.sendMsg("/subscribe", {
									token: this.authInfo.accessToken,
									sync: t
								});
							return s.result.then(function() {
								return this._setState(wsState.SUBSCRIBED), this._haveSubscribeSuccessOnce = !0, this._subscribe400HasHappened = !1, this._clearTmpCacheMsgs(), this._clearOfflineCacheMsgs(), this._setSubscribeTimer(), this._setRefreshTokenTimer(), this._persistAuthInfo(), this.authInfo.uid
							}.bind(this))["catch"](function(e) {
								return localLog.error("ws : " + this.name + " subscribe error : " + e.toString()), 400 === e.code && this._subscribe400HasHappened === !1 ? (this._subscribe400HasHappened = !0, cookieManager.removeItem(cookieNames.DEVICE_ID_EXIST), this._reg(), this._subscribe()) : Promise.reject(e)
							}.bind(this))
						}
						return Promise.reject(new Error("authInfo 不存在"))
					},
					_persistAuthInfo: function() {
						this.isTempLogin || (this.isAutoLogin ? (storage.local.setItem(storage.KEYS.TOKEN, JSON.stringify(this.authInfo)), storage.session.removeItem(storage.KEYS.TOKEN)) : (storage.session.setItem(storage.KEYS.TOKEN, JSON.stringify(this.authInfo)), storage.local.removeItem(storage.KEYS.TOKEN)))
					},
					_setSubscribeTimer: function() {
						clearTimeout(this._subscribeTimer), this._subscribeTimer = setTimeout(function() {
							this._subscribe()
						}.bind(this), 828e5)
					},
					_setRefreshTokenTimer: function() {
						clearTimeout(this._refreshTokenTimer);
						var e = this.authInfo.expiredTime - (new Date).getTime() - 72e5;
						_.isNumber(e) || (e = 18e5), 6e4 > e && (e = 6e4), e > 5904e5 && (e = 5904e5), this._refreshTokenTimer = setTimeout(function() {
							this.sendMsg("/r/OAuthI/refreshToken", null, [{
								refreshToken: this.authInfo.refreshToken,
								appKey: this.option.APP_KEY
							}]).result.then(function(e) {
								e.body.accessToken && e.body.refreshToken && _.isNumber(e.body.expertIn) && (this.authInfo.accessToken = e.body.accessToken, this.authInfo.refreshToken = e.body.refreshToken, this.authInfo.expiredTime = e.body.expertIn, this._subscribe())
							}.bind(this))["catch"](function(e) {
								localLog.error("refresh token error: " + e.toString()), this._setRefreshTokenTimer()
							}.bind(this))
						}.bind(this), e)
					},
					_setCookie: function(e, t) {
						var s = this.option.wsServerPool.getCurrentHTTPOrigin(),
							i = {
								code: e,
								appkey: this.option.APP_KEY
							};
						t || (i.isSession = !0);
						var n = querystring.encode(i);
						return new Promise(function(e, t) {
							this.option.jsonp(s + "/setCookie?" + n, {
								timeout: 1e4
							}, function(s, i) {
								return s ? void t(s) : void(200 === i.code ? (localLog.info("webalfa set cookie success"), e()) : (localLog.error("webalfa set cookie failure"), t(new Error("种 Cookie 失败"))))
							})
						}.bind(this))
					},
					sendMsg: function(e, t, s, i) {
						var n = new IOSendMsg(e, t, s, i);
						if (this.state === wsState.OPENED || this.state === wsState.REGED || this.state === wsState.SUBSCRIBED) {
							if ("/reg" === e) return this._send(n.msgEntity) ? this._addPending(n) : n.sendOfflineMsg(), n;
							this.state === wsState.OPENED && (n.canSendBeforeAuth() ? this.waitingRegMsgs.push(n) : n.canCacheWhenOffline() ? this.offlineCacheMsgs.push(n) : n.sendOfflineMsg()), this.state === wsState.REGED && (n.canSendBeforeAuth() ? this._send(n.msgEntity) ? this._addPending(n) : (this.waitingRegMsgs.push(n), this._connect()) : n.canCacheWhenOffline() ? this.offlineCacheMsgs.push(n) : n.sendOfflineMsg()), this.state === wsState.SUBSCRIBED && (this._send(n.msgEntity) ? this._addPending(n) : n.canCacheWhenOffline() ? this.offlineCacheMsgs.push(n) : this.tmpCacheMsgs.push(n))
						} else this.state === wsState.CLOSED || this.state === wsState.INITED ? n.sendOfflineMsg() : this.state === wsState.SILENT_CONNECTING ? n.canSendBeforeAuth() ? this.waitingRegMsgs.push(n) : this.tmpCacheMsgs.push(n) : this.state === wsState.CONNECTING && (n.canSendBeforeAuth() ? this.waitingRegMsgs.push(n) : n.canCacheWhenOffline() ? this.offlineCacheMsgs.push(n) : n.sendOfflineMsg());
						return n
					},
					_addPending: function(e) {
						e.active(), this.pendingMsgs[e.getMsgId()] = e, e.result.then(function() {
							delete this.pendingMsgs[e.getMsgId()]
						}.bind(this), function() {
							delete this.pendingMsgs[e.getMsgId()]
						}.bind(this))
					},
					_send: function(e) {
						if (this._ws && 1 === this._ws.readyState) try {
							return this._ws.send(JSON.stringify(e)), window.debug === !0 && console.log("send msg: " + JSON.stringify(e)), !0
						} catch (t) {
							return localLog.error("ws._send failure ws name :" + this.name + ", err msg: " + t.toString()), !1
						}
					},
					logout: function() {
						return cookieManager.removeItem(cookieNames.DEVICE_ID_EXIST), storage.local.removeItem(storage.KEYS.TOKEN), storage.session.removeItem(storage.KEYS.TOKEN), this.disconnect(), !0
					}
				});
			module.exports = WS;


		}, {
			"../../lib/class": 119,
			"../cookie/cookie": 202,
			"../cookie/cookieNames": 203,
			"../error/ParamError": 220,
			"../log/localLog": 259,
			"../storage/storage": 373,
			"../syncProtocol/syncState": 376,
			"../tool/did": 380,
			"./IOReceiveMsg": 246,
			"./IOSendMsg": 247,
			"./localIPRecord": 249,
			"./wsState": 253,
			"jsonp": 465,
			"lodash": 470,
			"querystring": 9,
			"wolfy87-eventemitter": 476
		}
	],
	252: [
		function(require, module, exports) {
			"use strict";

			function _fetchWsServer() {
				var e = {
					sdkver: "0.0.1",
					os: "web",
					net: "wifi",
					appkey: appKey,
					env: ALADIN_ENV
				}, r = my.getId();
				r && (e.uid = r + "@dingding");
				var t = querystring.encode(e);
				jsonp(aladinUrl + "?" + t, {
					timeout: 1e4
				}, function(e, r) {
					if (e) return void log.error("fetch the aladin servers error: " + e.toString());
					wsServerPoolIdx = 0;
					var t = r.domainList;
					log.info("fetch the aladin servers", JSON.stringify(t)), domainStorageTimeStamp = (new Date).getTime();
					var o = {
						domainList: t,
						timeStamp: domainStorageTimeStamp
					};
					window.localStorage.setItem("ws_servers", JSON.stringify(o)), _updateLocalWsServerPool(t, domainStorageTimeStamp), _updateWsServerPool()
				})
			}

			function _getWsServerListFromLocalStorage() {
				var e = window.localStorage.getItem("ws_servers");
				try {
					e = JSON.parse(e)
				} catch (r) {
					e = null
				}
				if (e) {
					var t = e.domainList;
					domainStorageTimeStamp = e.timeStamp
				}
				domainStorageTimeStamp || (domainStorageTimeStamp = -1), _updateLocalWsServerPool(t, parseInt(domainStorageTimeStamp))
			}

			function _updateLocalWsServerPool(e, r) {
				e && Array.isArray(e) && (wsServerPoolLocal = [], e.forEach(function(e) {
					var t = e.ipList;
					expireTimer && (clearTimeout(expireTimer), expireTimer = null);
					var o = (new Date).getTime() - r;
					if (e.expire && r > -1 && o > 0) {
						var i = 1e3 * e.expire - o;
						i > 0 ? setTimeout(function() {
							_fetchWsServer()
						}, i) : _fetchWsServer()
					}
					t.forEach(function(e) {
						wsServerPoolLocal.push(e)
					})
				}))
			}

			function _updateWsServerPool() {
				wsServerPool = _.union(wsServerPoolLocal, _alternativeWsServer), wsServerPoolIdx = 0
			}

			function _getAlternativeWsServers() {
				_alternativeWsServer = _getRandomServers()
			}

			function _getNewWSURI() {
				return wsServerPoolIdx === wsServerPool.length && (wsServerPoolIdx = 0, isRefetchTimerWork || (isRefetchTimerWork = !0, refetchTimer = setTimeout(function() {
					_fetchWsServer(), isRefetchTimerWork = !1, refetchTimer = null
				}, 18e4))), currentWSURI = wsServerPool[wsServerPoolIdx++]
			}

			function _getRandomServers() {
				for (var e = [], r = wsServerPoolAlternate.length, t = 0;;) {
					var o = Math.floor(Math.random() * (r - t)) + t;
					if (e.length === r - t) break; - 1 === e.indexOf(o) && e.push(o)
				}
				return e.map(function(e) {
					return wsServerPoolAlternate[e]
				})
			}

			function _init() {
				_fetchWsServer()
			}

			function getCurrentHTTPOrigin() {
				var e = new Uri(currentWSURI),
					r = "https://";
				return env.isOnline || (r = "http://"), log.info("get current using domain" + currentWSURI), r + e.host()
			}

			function reset() {
				isRefetchTimerWork = !1, refetchTimer && (clearTimeout(refetchTimer), refetchTimer = null)
			}

			function getCurrentWSURI() {
				return currentWSURI
			}
			var appKey = require("../appInfo").APP_KEY,
				env = require("../env/env"),
				Uri = require("jsuri"),
				hostConfig = require("../hostConfig"),
				_ = require("lodash"),
				log = require("../log/localLog"),
				jsonp = require("jsonp"),
				querystring = require("querystring"),
				my = require("../user/my"),
				aladinUrl = hostConfig.aladin + "/alfa",
				wsServerPoolAlternate = hostConfig.wsAlternative,
				_alternativeWsServer = [],
				wsServerPoolLocal = [],
				wsServerPool = [],
				wsServerPoolIdx = 0,
				currentWSURI = "",
				ALADIN_ENV = "online",
				isRefetchTimerWork = !1,
				refetchTimer = null,
				expireTimer = null,
				domainStorageTimeStamp = null;
			env.isOnline || (ALADIN_ENV = "test"), _getAlternativeWsServers(), _getWsServerListFromLocalStorage(), _updateWsServerPool(), _getNewWSURI(), module.exports = {
				getNewWSURI: _getNewWSURI,
				init: _init,
				getCurrentHTTPOrigin: getCurrentHTTPOrigin,
				getCurrentWSURI: getCurrentWSURI,
				reset: reset
			};


		}, {
			"../appInfo": 166,
			"../env/env": 219,
			"../hostConfig": 242,
			"../log/localLog": 259,
			"../user/my": 400,
			"jsonp": 465,
			"jsuri": 469,
			"lodash": 470,
			"querystring": 9
		}
	],
	253: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				INITED: 0,
				CONNECTING: 1,
				OPENED: 2,
				REGED: 3,
				SUBSCRIBED: 4,
				SILENT_CONNECTING: 5,
				CLOSING: 6,
				CLOSED: 7
			};


		}, {}
	],
	254: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				IMAGE_READ_B64_SIZE_LIMIT: 3145728,
				MIN_MICRO_APP_NW_VERSION: "0.4.2",
				MIN_TEMPLATE_TRAY_ICON_FOR_MAC: "0.9.50",
				WIN_APP_NEWEST_VERSION: "1.0.0",
				MAC_APP_NEWEST_VERSION: "1.0.0"
			};


		}, {}
	],
	255: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("./ListItem"), require("./ListItemEOF"), require("../events");
			var defaultConfig = {
				order: "DESC",
				defSize: 20,
				pageSize: 20,
				getMore: function(t, e, i) {},
				itemConstructor: null,
				newItemMode: "continuous",
				allowReOrder: !1,
				delayInit: !1,
				autoPullData: !0,
				reconnRestore: !1
			};
			angular.module("ddWeb.listContainer.ListContainer", ["ddWeb.listContainer.ListItemEOF", "ddWeb.listContainer.ListItem", "ddWeb.events"]).factory("ListContainer", ["ListItemEOF", "ListItem", "$rootScope", "EVENTS",
				function(t, e, i, s) {
					var n = Class.create({
						initialize: function(t, e) {
							var t = t || {};
							return this.conf = $.extend({}, defaultConfig, t), t.itemConstructor ? (this.showSize = 0, this.newCount = 0, this.showItems = [], this.Ids = [], this._cache = {}, this.stateIsActive = !1, e && Array.isArray(e) && this.update(e), this.initData(), void this.initReconnRestore()) : void console.log("itemConstructor can't be null")
						},
						initData: function() {
							if (this.conf.autoPullData !== !1)
								if (this.conf.delayInit === !0) {
									var t = this;
									setTimeout(function() {
										t.showMore()
									}, 5e3)
								} else this.showMore()
						},
						update: function(t) {
							var i = 0,
								s = this,
								n = 0;
							if (t && Array.isArray(t) && t.length > 0) {
								var t = t.map(function(t) {
									return t instanceof e || (t = new s.conf.itemConstructor(t)), t
								});
								t = t.sort(function(t, e) {
									return "DESC" === s.conf.sort ? e.getSortValue() - t.getSortValue() : t.getSortValue() - e.getSortValue()
								}), t.forEach(function(t) {
									var e = t.getId();
									s._cache[e] = t;
									var o = s.Ids.indexOf(e);
									if (-1 !== o) {
										if (s.conf.allowReOrder === !1) return;
										s.Ids.splice(o, 1), i -= 1
									}
									var r = t.getSortValue(),
										h = s._getInsertPos(r);
									s.Ids.splice(h, 0, e), i += 1, "continuous" === s.conf.newItemMode && (t.isNew() ? n += 1 : n = 0)
								})
							}
							return s.isActive() ? (s.showSize += i, s._genShowItems(), s.makeItemsOld()) : "continuous" === this.conf.newItemMode && (s.newCount += n), "exact" === this.conf.newItemMode && this.genNewCount(), i
						},
						initReconnRestore: function() {
							if (this.conf.reconnRestore !== !1) {
								var t = this;
								i.$on(s.LOGIN_STATE_CHANGE, function(e, i) {
									2 === i && (t.showSize = 0, t.newCount = 0, t.showItems = [], t.Ids = [], t._cache = {}, t.initData())
								})
							}
						},
						genNewCount: function() {
							var t = this;
							this.newCount = this.Ids.filter(function(e) {
								return t._cache[e].isNew()
							}).length
						},
						_getInsertPos: function(t) {
							var e = this,
								i = 0;
							if ("DESC" === e.conf.order)
								for (var s = 0; s <= e.Ids.length; s++) {
									if (0 === s) var n = Number.MAX_VALUE;
									else var n = e._cache[e.Ids[s - 1]].getSortValue(); if (s === e.Ids.length) var o = Number.MIN_VALUE;
									else var o = e._cache[e.Ids[s]].getSortValue(); if (n > t && t >= o) return s
								} else
									for (var s = 0; s <= e.Ids.length; s++) {
										if (0 === s) var n = Number.MIN_VALUE;
										else var n = e._cache[e.Ids[s - 1]].getSortValue(); if (s === e.Ids.length) var o = Number.MAX_VALUE;
										else var o = e._cache[e.Ids[s]].getSortValue(); if (t >= n && o > t) return s
									}
							return i
						},
						_genShowItems: function() {
							var t = this,
								e = [];
							e = "DESC" === this.conf.order ? this.Ids.slice(0, this.showSize) : this.Ids.slice(0 - this.showSize), this.showItems = e.map(function(e) {
								return t._cache[e]
							})
						},
						active: function() {
							var e = this;
							if (this.stateIsActive = !0, this.showSize = Math.min(this.conf.defSize, this.Ids.length), this._genShowItems(), this.showSize < this.conf.defSize) {
								var i = this._getLatestItem();
								this.conf.getMore(this.conf.defSize - this.showSize, i, function(i) {
									i && Array.isArray(i) && i.length > 0 ? e.update(i) : e.update([new t])
								})
							}
							"continuous" === this.conf.newItemMode && (this.makeItemsOld(), this.clearNew())
						},
						deactive: function() {
							this.stateIsActive = !1
						},
						isActive: function() {
							return this.stateIsActive
						},
						_getLatestItem: function() {
							if (this.showItems.length > 0)
								if ("DESC" === this.conf.order) var t = this.showItems[this.showItems.length - 1];
								else var t = this.showItems[0];
								else var t = null;
							return t
						},
						showMore: function(e) {
							var i = this;
							if (this.Ids.length - this.showSize >= this.conf.pageSize) this.showSize += this.conf.pageSize, this._genShowItems(), e && e();
							else {
								var s = this.conf.pageSize - Math.max(this.Ids.length - this.showSize, 0);
								this.showSize = this.Ids.length;
								var n = this._getLatestItem();
								this.conf.getMore(s, n, function(s) {
									s && Array.isArray(s) && s.length > 0 ? i.update(s) : i.update([new t]), e && e()
								}), this._genShowItems()
							}
						},
						makeItemsOld: function() {
							this.showItems.length > 0 && this.makeItemOld(this._getLatestItem())
						},
						makeItemOld: function(t) {
							t.makeOld()
						},
						clearNew: function() {
							this.newCount = 0
						},
						makeItemFirst: function(t) {
							t instanceof e || (t = new this.conf.itemConstructor(t));
							var i = t.getId();
							this._cache[i] = t;
							var s = this.Ids.indexOf(i); - 1 !== s ? this.Ids.splice(s, 1) : this.showSize += 1, this.Ids.unshift(i), this.isActive() && this._genShowItems()
						}
					});
					return n
				}
			]);


		}, {
			"../../lib/class": 119,
			"../events": 221,
			"./ListItem": 256,
			"./ListItemEOF": 257
		}
	],
	256: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			angular.module("ddWeb.listContainer.ListItem", []).factory("ListItem", [
				function() {
					var e = Class.create({
						initialize: function() {},
						isNew: function() {
							return !1
						},
						makeOld: function() {
							return !0
						},
						getId: function() {
							return console.log("You should realize the getUniqId method"), 0
						},
						getSortValue: function() {
							return console.log("You should realize the getSortValue method"), 0
						}
					});
					return e
				}
			]);


		}, {
			"../../lib/class": 119
		}
	],
	257: [
		function(require, module, exports) {
			require("./ListItem"), angular.module("ddWeb.listContainer.ListItemEOF", ["ddWeb.listContainer.ListItem"]).factory("ListItemEOF", ["ListItem",
				function(t) {
					var e = t.extend({
						initialize: function() {
							this.EOF = !0, this.id = (new Date).getTime().toString() + parseInt(1e3 * Math.random())
						},
						getId: function() {
							return this.id
						},
						getSortValue: function() {
							return Number.MIN_VALUE
						}
					});
					return e
				}
			]);


		}, {
			"./ListItem": 256
		}
	],
	258: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.log.exceptionLog",
				env = require("../env/env"),
				ua = require("../ua.js");
			require("../log/lwlog.js"), angular.module(moduleName, ["ddWeb.log.log", "ddWeb.log.lwlog"]).factory("exceptionLog", ["log", "lwlog",
				function(o, e) {
					return {
						init: function() {
							this._initNodeHandle(), this._initBrowserHandle()
						},
						_initNodeHandle: function() {
							ua.isNw && env.isProductEnv && window.process && window.process.on("uncaughtException", function(n) {
								console.log("Caught exception: " + n), o.error(n.toString()), e.errorLog("appError", n.toString())
							})
						},
						_initBrowserHandle: function() {
							window.onerror = function(o) {
								e.errorLog("webError", o.toString())
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../env/env": 219,
			"../log/lwlog.js": 262,
			"../ua.js": 390
		}
	],
	259: [
		function(require, module, exports) {
			(function(global) {
				"use strict";

				function getLogDir() {
					if (isNw) {
						var r = _nwrequire("path");
						if (ua.isMac) return r.join(global.process.env.HOME, "Library", "Application Support", "DingTalk", "appLogs");
						if (ua.isWin) return r.join(global.process.env.APPDATA, "DingDing", "appLogs");
						throw new Error("not supported platform, can't find log dir")
					}
				}

				function clearLogFile() {
					if (isNw) {
						try {
							var r = _nwrequire("fs"),
								e = _nwrequire("path");
							if (r.existsSync(logDir)) {
								var i = r.readdirSync(logDir);
								i.forEach(function(i) {
									var t = logPattern.exec(i);
									if (t && t.length > 1) {
										var o = parseInt(t[1]),
											n = parseInt(get7DaysBefore());
										n >= o && r.unlinkSync(e.join(logDir, i))
									}
								})
							}
						} catch (t) {
							console.error(t)
						}
						setTimeout(function() {
							clearLogFile()
						}, 864e5)
					}
				}

				function get7DaysBefore() {
					var r = (new Date).getTime(),
						e = new Date(r - 6048e5);
					return "" + e.getFullYear() + (e.getMonth() + 1) + e.getDate()
				}

				function mkdirp(r) {
					if (isNw) {
						var e = _nwrequire("fs"),
							i = _nwrequire("path"),
							r = i.resolve(r);
						try {
							e.mkdirSync(r)
						} catch (t) {
							switch (t.code) {
								case "ENOENT":
									mkdirp(i.dirname(r)), mkdirp(r);
									break;
								default:
									var o;
									try {
										o = e.statSync(r)
									} catch (n) {
										throw n
									}
									if (!o.isDirectory()) throw t
							}
						}
						return r
					}
				}

				function _saveLog(r, e) {
					if (isNw) {
						var i = _nwrequire("fs"),
							t = (_nwrequire("path"), _getLogFilePath(r)),
							e = "\n" + new Date + "  " + e;
						try {
							i.existsSync(logDir) || mkdirp(logDir), i.appendFileSync(t, e)
						} catch (o) {
							console.log(o)
						}
					}
				}

				function _getLogFilePath(r, e) {
					if (isNw) {
						var i = _nwrequire("path"),
							t = e ? moment(e).format("YYYYMMDD") : moment().format("YYYYMMDD"),
							o = i.join(logDir, r + "-" + t + ".log");
						return o
					}
					return null
				}
				var ua = require("../ua.js"),
					logDir, isNw = ua.isNw,
					moment = require("moment"),
					logPattern = /(\d{8})\.log$/;
				logDir = getLogDir(), clearLogFile(), module.exports = {
					info: function() {
						var r = Array.prototype.slice.apply(arguments),
							e = r.join(" | ");
						_saveLog("info", e)
					},
					error: function() {
						var r = Array.prototype.slice.apply(arguments),
							e = r.join(" | ");
						_saveLog("error", e)
					},
					getLogFilePath: _getLogFilePath
				};


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {
			"../ua.js": 390,
			"moment": 472
		}
	],
	260: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.log.log",
				localLog = require("./localLog");
			angular.module(moduleName, []).factory("log", [
				function() {
					return localLog
				}
			]), module.exports = moduleName;


		}, {
			"./localLog": 259
		}
	],
	261: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.log.logUpload",
				loginStatusCode = require("../login/LoginStatusCode"),
				_ = require("lodash"),
				ua = require("../ua"),
				statLog = require("./statLog"),
				localLog = require("./localLog"),
				moment = require("moment");
			angular.module(moduleName, [require("../io/mainWS"), require("../file/fileHelper"), require("../api/Upload"), require("../api/MsgSub")]).factory("logUpload", ["mainWS", "$fileHelper", "Upload", "MsgSub",
				function(o, e, n, r) {
					var i = function() {
						return [0, o.getConnectTime(), "wifi", "WK", "w", window.version].join(String.fromCharCode(1))
					}, t = function() {
							statLog.on(statLog.EventsName.READY_UPLOAD_LOG, function() {
								var e = i(),
									n = [e].concat(statLog.consumeAllLogs());
								o.sendMsg("/r/LwpLog/web", {}, n.join("\n"), function(o) {})
							}), r.subscribe("/push/lwp", function(o, e) {
								var n = _.get(o, "headers.cmd");
								if ("log" === n) {
									if (e(), o.body && 2 === o.body.split(" ").length) var r = o.body.split(" ")[1].split("_")[0];
									else var r = moment().format("YYYYMMDD");
									u(r)
								}
							})
						}, u = function(o) {
							if (ua.isNw) {
								var e = localLog.getLogFilePath("info", o),
									n = localLog.getLogFilePath("error", o);
								l(e).then(function(o) {
									localLog.info("upload info log result : " + JSON.stringify(o))
								})["catch"](function(o) {
									localLog.error("upload info log err : " + o.toString())
								}), l(n).then(function(o) {
									localLog.info("upload error log result : " + JSON.stringify(o))
								})["catch"](function(o) {
									localLog.error("upload error log err : " + o.toString())
								})
							}
						}, l = function(r) {
							var i = _nwrequire("fs"),
								t = _nwrequire("path");
							return Promise.resolve().then(function() {
								return new Promise(function(o, e) {
									i.access(r, i.R_OK, function(n) {
										n ? e(n) : o(r)
									})
								})
							}).then(function() {
								return new Promise(function(o, e) {
									i.readFile(r, function(n, r) {
										n ? e(n) : o(r)
									})
								})
							}).then(function(o) {
								return e.bufferToFile(o, "text/plain", t.basename(r))
							}).then(function(o) {
								return n.upload(o, function() {}, {
									isPrivate: !0
								})
							}).then(function(e) {
								return new Promise(function(n, i) {
									200 === e.code && e.body && e.body.uri ? o.sendMsg("/r/LwpLog/fileInfo", {}, {
										fileName: t.basename(r),
										version: window.version,
										message: "time=" + (new Date).toLocaleString(),
										tfsKey: e.body.uri.split("/").pop()
									}, function(o) {
										200 === o.code ? n(o) : i(o)
									}) : i(e)
								})
							})["catch"](function(o) {
								localLog.error("upload log file err :" + o.toString())
							})
						};
					return {
						init: t
					}
				}
			]), module.exports = moduleName;


		}, {
			"../api/MsgSub": 146,
			"../api/Upload": 148,
			"../file/fileHelper": 224,
			"../io/mainWS": 250,
			"../login/LoginStatusCode": 264,
			"../ua": 390,
			"./localLog": 259,
			"./statLog": 263,
			"lodash": 470,
			"moment": 472
		}
	],
	262: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.log.lwlog";
			require("../app/nw");
			var ua = require("../ua.js"),
				my = require("../user/my");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].LogI, "ddWeb.nw"]).factory("lwlog", ["LogI", "nw",
				function(e, o) {
					var r, a = {
							COMMON: 2,
							ERR: 3
						}, u = "dd",
						n = (window.navigator.userAgent, window.version),
						i = o.getNWVersion(),
						d = i ? n + "#" + i : n,
						g = ua.isMac ? "MAC" : "WINDOWS",
						m = ua.osVersion,
						l = "",
						t = "",
						s = 1,
						c = function(o, a, n) {
							if (r || (r = my.getId()), a) {
								var i = n ? "gmkey:" + a + ",gokey:" + n : "gmkey:" + a,
									c = {
										code: o,
										uid: r,
										app: u,
										appVer: d,
										os: g,
										osVer: m,
										manufacturer: l,
										model: t,
										level: s,
										message: i
									};
								e.log(c, function(e) {})
							}
						}, f = function(e, o) {
							var r = a.COMMON;
							c(r, e, o)
						}, v = function(e, o) {
							var r = a.ERR;
							c(r, e, o)
						};
					return {
						commLog: f,
						errorLog: v
					}
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../ua.js": 390,
			"../user/my": 400,
			"@ali/ding-api": 453
		}
	],
	263: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				EventEmitter = require("wolfy87-eventemitter"),
				NET_TYPE = "wifi",
				LOG_TYPE = {
					BASE: 0,
					SERVER: 1,
					CONNECT_PERFORMANCE: 2,
					PRC_ACCESS: 3,
					UPLOAD_PERFORMANCE: 4,
					ALADDIN_ACCESS: 5,
					FILE_DOWNLOAD: 6,
					RPC_LIMITING: 7
				}, intervalTime = 3e5,
				StatLog = Class.create({
					initialize: function(t) {
						this.fileDownloadLogs = [], this.fileDownloadErrCount = 0, this._timer = null, this.startTimer()
					},
					Implements: EventEmitter,
					EventsName: {
						READY_UPLOAD_LOG: "ready_upload_log"
					},
					startTimer: function() {
						this._timer = setTimeout(function() {
							this.fileDownloadLogs.length > 0 && this.emit(this.EventsName.READY_UPLOAD_LOG)
						}.bind(this), intervalTime)
					},
					writeFileDownloadLog: function(t, i, e, o) {
						this.fileDownloadLogs.push([LOG_TYPE.FILE_DOWNLOAD, t, i, e, o ? 1 : 0, NET_TYPE].join(String.fromCharCode(1))), o ? this.fileDownloadErrCount++ : this.fileDownloadErrCount = 0, this.fileDownloadErrCount > 30 && this.emit(this.EventsName.READY_UPLOAD_LOG)
					},
					consumeAllLogs: function() {
						var t = [].concat(this.fileDownloadLogs.slice(-100));
						return this.fileDownloadLogs = [], this.fileDownloadErrCount = 0, t
					}
				});
			module.exports = new StatLog;


		}, {
			"../../lib/class": 119,
			"wolfy87-eventemitter": 476
		}
	],
	264: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				NOT_LOGIN: 0,
				LOGINING: 1,
				LOGINED: 2,
				LOGIN_FAIL: 3
			};


		}, {}
	],
	265: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.login.compare2local",
				storage = require("../storage/storage");
			angular.module(moduleName, []).factory("compare2local", [
				function() {
					var e = function(e, r) {
						var a = {};
						try {
							a = JSON.parse(storage.local.getItem(storage.KEYS.LATEST_USER_INFO))
						} catch (o) {}
						a || (a = {});
						var t = a.countryKey,
							l = a.tel;
						return t && l && e && r && e === t && parseInt(r) === parseInt(l)
					};
					return {
						isSameUser: e
					}
				}
			]), module.exports = moduleName;


		}, {
			"../storage/storage": 373
		}
	],
	266: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.login.status",
				StatusCode = require("./LoginStatusCode");
			angular.module(moduleName, [require("../events")]).factory("loginStatus", ["$rootScope", "EVENTS",
				function(t, e) {
					var o = StatusCode.NOT_LOGIN,
						u = function(u) {
							u !== o && (o = u, t.$broadcast(e.LOGIN_STATE_CHANGE, u))
						}, a = function() {
							return o
						};
					return {
						setLoginStatus: u,
						getLoginStatus: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../events": 221,
			"./LoginStatusCode": 264
		}
	],
	267: [
		function(require, module, exports) {
			var mediaId = require("@ali/ding-mediaid"),
				moduleName = "ddWeb.mediaId";
			angular.module(moduleName, []).factory("mediaId", [
				function() {
					return mediaId
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-mediaid": 456
		}
	],
	268: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.appList",
				env = require("../env/env"),
				appList = {
					space: {
						name: "钉盘",
						id: -3,
						display: !1
					},
					orgMail: {
						name: "钉邮",
						id: -5,
						display: !1
					},
					RiZhi: {
						name: "日志",
						id: 2,
						display: !0
					},
					ShenPi: {
						name: "审批",
						id: -4,
						display: !1
					},
					GongGao: {
						name: "公告",
						id: -2,
						display: !1
					},
					GuanLiRiLi: {
						name: "管理日历",
						id: -6,
						display: !1
					},
					GuoJiDianHua: {
						name: "国际电话",
						id: -7,
						display: !1
					},
					QianDao: {
						name: "签到",
						id: -8,
						display: !1
					}
				};
			angular.module(moduleName, []).value("appList", appList), module.exports = moduleName;


		}, {
			"../env/env": 219
		}
	],
	269: [
		function(require, module, exports) {
			"use strict";
			var env = require("../env/env"),
				whiteAppIdList = ["2"];
			env.isProductEnv || whiteAppIdList.push("100", "4"), module.exports = whiteAppIdList;


		}, {
			"../env/env": 219
		}
	],
	270: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.authorize";
			angular.module(moduleName, [require("@ali/ding-api")["interface"].OAPII]).factory("authorize", ["OAPII",
				function(e) {
					function o(o) {
						return new Promise(function(r, u) {
							e.authorize(o.corpId, o.url, function(e) {
								200 === e.code ? r(e) : u(e)
							})
						})
					}
					return {
						getCode: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-api": 453
		}
	],
	271: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.microAppData",
				_ = require("lodash");
			angular.module(moduleName, [require("../cloudSettingCenter/cloudSetting")]).factory("microAppData", ["cloudSetting",
				function(r) {
					var e = "oa_user",
						t = r.register(e),
						o = function() {
							return t.getData()
						}, n = function(r) {
							return o().then(function(e) {
								var t = null;
								if (e && "object" == typeof e.oa_org && (t = _.get(_.find(e.oa_org, function(e, t) {
									return e.corpId === r
								}), "orgId")), t) return t;
								var o = {
									body: {
										reason: "corpId 错误"
									}
								};
								return Promise.reject(o)
							})
						};
					return {
						getData: o,
						getOrgIdByCorpId: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../cloudSettingCenter/cloudSetting": 181,
			"lodash": 470
		}
	],
	272: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.requestAuthCode";
			angular.module(moduleName, [require("@ali/ding-api")["interface"].OAPII]).factory("requestAuthCode", ["OAPII",
				function(e) {
					function u(u) {
						return new Promise(function(o, r) {
							e.authorize(u.corpId, u.url, function(e) {
								200 === e.code ? o(e) : r(e)
							})
						})
					}
					return {
						getCode: u
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/ding-api": 453
		}
	],
	273: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.microApp.space",
				_ = require("lodash");
			angular.module(moduleName, [require("./appList"), require("./microAppData")]).factory("spaceApp", ["appList", "microAppData",
				function(e, o) {
					var r = void 0,
						a = function() {
							if (void 0 !== r) return Promise.resolve(r);
							var a = e.space.id;
							return o.getData().then(function(e) {
								return e && "object" == typeof e.oa_org ? r = Object.keys(e.oa_org).some(function(o) {
									var r = e.oa_org[o],
										t = _.get(r, "oa_app." + a + ".location");
									return !!t
								}) : !1
							})["catch"](function(e) {
								console.log(e)
							})
						};
					return {
						hasPermission: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"./appList": 268,
			"./microAppData": 271,
			"lodash": 470
		}
	],
	274: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("./modal");
			var ua = require("../ua"),
				storage = require("../storage/storage"),
				semver = require("semver");
			angular.module("ddWeb.modal.updateMsgModal", ["ddWeb.modal"]).factory("updateMsgModal", ["$modal", "$q", "$sce",
				function(t, e, i) {
					function s() {
						var t = "~" + o;
						return o && semver.gt(version, o) && !semver.satisfies(version, t)
					}

					function n(t) {
						return semver.major(t) + "." + semver.minor(t) + ".*"
					}

					function a(t) {
						var e = [];
						return t.forEach(function(t) {
							t.title = i.trustAsHtml(t.title), t.description = i.trustAsHtml(t.description), 0 != !! t.title && 0 != !! t.description && (t.showOn ? ua.isNw ? ua.isMac && -1 != t.showOn.indexOf("mac") ? e.push(t) : ua.isWin && -1 != t.showOn.indexOf("win") && e.push(t) : -1 != t.showOn.indexOf("web") && e.push(t) : e.push(t))
						}), e
					}
					var o = storage.local.getItem("web-version"),
						r = storage.local.getItem("newUserState"),
						l = {
							"default": [{
								title: "将钉钉显示在任务栏上",
								description: "如果钉钉小图标被隐藏，可以将小图标拖拽到桌面上；",
								imgSrc: "https://gtd.alicdn.com/tps/TB18ajXHVXXXXabXpXXXXXXXXXX.png",
								showOn: ["win"]
							}, {
								title: "右键点击小图标",
								description: "右键点击小图标，新消息提醒点击可跳转到具体消息，点击退出会完全退出钉钉；",
								imgSrc: "https://gtd.alicdn.com/tps/TB1i059HVXXXXc8XpXXXXXXXXXX.png",
								showOn: ["win", "mac"]
							}, {
								title: "会话列表右键弹出更多操作",
								description: "右键单击会话，快速对该会话做更多操作；",
								imgSrc: "https://gtd.alicdn.com/tps/TB1RNKWHVXXXXbQXVXXXXXXXXXX.png"
							}, {
								title: "使用钉钉免费电话",
								description: "通过桌面版钉钉快速拨打钉钉免费电话（手机上会收到钉钉的回拨电话）",
								imgSrc: "https://gtd.alicdn.com/tps/TB1el1WHVXXXXc8XVXXXXXXXXXX.png"
							}, {
								title: "设置快捷键，开机自动启动（Windows）",
								description: "消息快捷键，提醒设置，开机自动启动，都可以在设置里找到",
								imgSrc: "https://gtd.alicdn.com/tps/TB1pPOUHVXXXXXIaXXXXXXXXXXX.png",
								showOn: ["mac", "win"]
							}],
							"2.11.*": [{
								title: "Windows截图增加标注功能",
								description: "全新的 Windows截图功能，提供 灵活显示/隐藏钉钉窗口、标注等功能；",
								imgSrc: "https://static.dingtalk.com/media/lADOA4EX7c0BkM0DIA_800_400.jpg",
								showOn: ["win"]
							}, {
								title: "发送消息自定义快捷键",
								description: "满足你的习惯，选择适合你的发送消息方式",
								imgSrc: "https://static.dingtalk.com/media/lADOA4Edys0BkM0DIA_800_400.jpg"
							}, {
								title: "架构和联系人合并",
								description: "组织架构和关系合并入联系人中",
								imgSrc: "https://static.dingtalk.com/media/lADOA4EX7s0BkM0DIA_800_400.jpg"
							}, {
								title: "提升钉钉运行性能",
								description: "让钉钉更快，更流畅",
								imgSrc: "https://static.dingtalk.com/media/lADOA4GLT80BkM0DIA_800_400.jpg"
							}]
						};
					return function(i) {
						var o = e.defer(),
							d = null,
							c = null;
						if (storage.local.setItem("web-version", version), "firstTip" === r && window.localStorage.setItem("newUserState", "secTip"), r) {
							var X = n(version);
							if (!s() || !l[X]) return o.resolve(), o.promise;
							d = l[X]
						} else window.localStorage.setItem("newUserState", "firstTip"), d = l["default"], c = "欢迎使用钉钉";
						var p = a(d);
						if (0 === p.length) return o.resolve(), o.promise;
						var m = t.open({
							template: '<div class="dialog middle dialog-update-msg">\n     <div class="head" ng-show="!!updateMsgModal.title">\n         <i class="iconfont close"></i>\n         <span class="title">{{updateMsgModal.title}}</span>\n     </div>\n     <div class="body">\n        <ul class="update-msg-list">\n            <li ng-repeat="item in updateMsgModal.updateItems" class="msg-item">\n                <div class="title">\n                    <span>{{$index+1}}、</span>\n                    <span ng-bind-html="item.title"></span>\n                </div>\n                <div class="content">\n                    <div ng-if="!!item.imgSrc">\n                        <img class="img-container" ng-src="{{item.imgSrc}}" />\n                    </div>\n                    <div ng-bind-html="item.description" class="content-des"></div>\n                </div>\n\n            </li>\n        </ul>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-click="updateMsgModal.ok()">开始使用</button>\n     </div>\n </div>\n',
							controller: "updateMsgModalCtrl",
							controllerAs: "updateMsgModal",
							resolve: {
								toShowUpdateItems: function() {
									return p
								},
								title: function() {
									return c
								}
							}
						});
						return m.result
					}
				}
			]).controller("updateMsgModalCtrl", ["$modalInstance", "toShowUpdateItems", "title",
				function(t, e, i) {
					this.title = "钉钉新功能介绍", i && (this.title = i), this.ok = function() {
						t.close("ok")
					}, this.updateItems = e
				}
			]);


		}, {
			"../storage/storage": 373,
			"../ua": 390,
			"./modal": 283,
			"path": 5,
			"semver": 473
		}
	],
	275: [
		function(require, module, exports) {
			var moduleName = "ddWeb.modal.actionSheet",
				serviceName = "actionSheetModal",
				_ = require("lodash"),
				path = require("path");
			angular.module(moduleName, [require("./modal")]).factory(serviceName, ["$modal",
				function(t) {
					return function(e) {
						var n = {
							title: "actionSheet",
							cancelButton: "取消",
							otherButtons: ["test"]
						}, o = _.assign({}, n, e);
						return t.open({
							template: '<div class="dialog mini action-sheet">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-bind-html="actionSheet.title | emoj"></span>\n    </div>\n    <div class="body">\n        <ul>\n            <li class="action-sheet-item" ng-repeat="btn in actionSheet.otherButtons" ng-click="actionSheet.selectAction($index)">{{btn}}</li>\n        </ul>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="actionSheet.cancel()">{{actionSheet.cancelButton}}</button>\n    </div>\n</div>\n',
							controller: "actionSheetCtrl",
							controllerAs: "actionSheet",
							resolve: {
								options: function() {
									return o
								}
							},
							closable: !0,
							autofocus: !1
						}).result
					}
				}
			]).controller("actionSheetCtrl", ["$modalInstance", "options",
				function(t, e) {
					this.title = e.title, this.cancelButton = e.cancelButton, this.otherButtons = e.otherButtons, this.otherButtons = _.uniq(this.otherButtons);
					var n = {
						buttonIndex: -1
					};
					this.selectAction = function(e) {
						n.buttonIndex = e, t.close(n)
					}, this.cancel = function() {
						t.close(n)
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	276: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.modal.addFriend",
				path = require("path");
			require("./modal"), require("./profileModal"), angular.module(moduleName, ["ddWeb.modal", require("@ali/ding-api")["interface"].UserI, "ddWeb.service.profileModal"]).factory("$addFriend", ["$modal",
				function(e) {
					return function() {
						var r = e.open({
							template: '<form ng-submit=\'addFriendCtrl.submit($event)\' class="dialog mini add-friend-modal">\r\n    <div class="head">\r\n        <i class="close iconfont"></i>\r\n        <span class="title">添加好友</span>\r\n    </div>\r\n    <div class="body">\r\n        <input class="input" type="text" autofocus="true" name="telephone" ng-model="addFriendCtrl.telephone" ng-change="addFriendCtrl.errorMsg=\'\'" required placeholder="请输入手机号">\r\n        <div ng-show="addFriendCtrl.errorMsg" class="error">{{addFriendCtrl.errorMsg}}</div>\r\n        <span class="loading" ng-if="addFriendCtrl.isLoading">\r\n            <div class="bounce1"></div>\r\n            <div class="bounce2"></div>\r\n            <div class="bounce3"></div>\r\n        </span>\r\n    </div>\r\n    <div class="foot">\r\n        <button type="submit" ng-class="{disabled:!addFriendCtrl.telephone}" ng-disabled="!addFriendCtrl.telephone" class="blue">确定</button>\r\n    </div>\r\n</form>\r\n',
							controller: "addFriendCtrl",
							controllerAs: "addFriendCtrl"
						});
						return r.result
					}
				}
			]).controller("addFriendCtrl", ["$modalInstance", "UserI", "profileModalService",
				function(e, r, d) {
					var n = this;
					this.telephone = "", this.submit = function(l) {
						l.preventDefault();
						var i = n.telephone;
						i ? (n.isLoading = !0, r.getUserProfileExtensionByMobile(i, function(r) {
							n.isLoading = !1, 200 == r.code ? (e.close(i), d(null, null, null, i)) : r.body && r.body.reason && (n.errorMsg = r.body.reason)
						})) : n.errorMsg = "请填写手机号"
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"./profileModal": 289,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	277: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.modal.addFriendByUid",
				path = require("path");
			require("./modal"), require("./profileModal");
			var $my = require("../user/my");
			angular.module(moduleName, ["ddWeb.modal", require("@ali/ding-api")["interface"].FriendI]).factory("$addFriendByUid", ["$modal",
				function(d) {
					return function() {
						var i = d.open({
							template: '<form ng-submit=\'addFriendByUidCtrl.submit($event)\' class="dialog mini add-friend-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">添加好友</span>\n    </div>\n    <div class="body">\n        <input class="input" type="text" autofocus="true" name="uid" ng-model="addFriendByUidCtrl.uid" ng-change="addFriendByUidCtrl.errorMsg=\'\'" required placeholder="请输入uid">\n        <div ng-show="addFriendByUidCtrl.errorMsg" class="error">{{addFriendByUidCtrl.errorMsg}}</div>\n        <span class="loading" ng-if="addFriendByUidCtrl.isLoading">\n            <div class="bounce1"></div>\n            <div class="bounce2"></div>\n            <div class="bounce3"></div>\n        </span>\n    </div>\n    <div class="foot">\n        <button type="submit" ng-class="{disabled:!addFriendByUidCtrl.uid}" ng-disabled="!addFriendByUidCtrl.uid" class="blue">确定</button>\n    </div>\n</form>\n',
							controller: "addFriendByUidCtrl",
							controllerAs: "addFriendByUidCtrl"
						});
						return i.result
					}
				}
			]).controller("addFriendByUidCtrl", ["$modalInstance", "FriendI",
				function(d, i) {
					var e = this;
					this.uid = "", this.submit = function(n) {
						n.preventDefault(), i.sendFriendRequest({
							uid: e.uid,
							source: 3,
							remark: "我是钉钉开发" + $my.userProfileModel.nick
						}, function(i) {
							console.log(i), d.close()
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"../user/my": 400,
			"./modal": 283,
			"./profileModal": 289,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	278: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal.alert";
			require("./modal"), angular.module(moduleName, ["ddWeb.modal"]).factory("$alert", ["$modal",
				function(t) {
					var e = {
						title: "",
						content: ""
					};
					return function(n) {
						var n = n || {};
						n = $.extend({}, e, n);
						var l = t.open({
							template: '<div class="dialog mini alert-modal">\n    <div class="head" ng-show="!!Alert.title">\n        <span class="title">{{Alert.title}}</span>\n    </div>\n    <div class="body">\n        <p ng-bind-html="Alert.content"></p>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="Alert.ok()">{{Alert.buttonName}}</button>\n    </div>\n</div>\n',
							controller: "AlertCtrl",
							controllerAs: "Alert",
							resolve: {
								options: function() {
									return n
								}
							},
							closable: !1,
							enterTriggerEl: ".ok"
						});
						return l.result
					}
				}
			]).controller("AlertCtrl", ["$modalInstance", "options",
				function(t, e) {
					this.title = e.title, this.content = e.content, this.buttonName = e.buttonName || "确定", this.ok = function() {
						t.close({
							buttonIndex: 0
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"path": 5
		}
	],
	279: [
		function(require, module, exports) {
			require("../modal/modalHelper"), angular.module("ddWeb.service.alertMsgModal", ["ddWeb.service.modalHelper"]).factory("alertMsgModalService", ["$rootScope", "$q", "$controller", "$compile", "$templateCache", "$sce", "modalHelperService",
				function(l, o, e, n, c, r, a) {
					function i(o, e, n, c, i, d) {
						var t = null,
							f = null;
						f = a.compileTemplate("confirmModal.html"), t = a.insertDomAndReturnScope(f, null, c), t.msg = r.trustAsHtml(o), t.msgTitle = void 0 === d ? "确认消息" : d, l.$$phase || l.$apply(), a.showModal("modal-confirm", m, null, i), $("#nw-modal-confirm").on("click", function(l) {
							e && e(l)
						}), $("#nw-modal-cancel").on("click", function(l) {
							n && n(l)
						})
					}

					function m(l) {
						l.parent().children("#modal-confirm").remove(), d()
					}

					function d() {
						$("#nw-modal-confirm").off("click"), $("#nw-modal-cancel").off("click")
					}
					return {
						showModal: i
					}
				}
			]);


		}, {
			"../modal/modalHelper": 284
		}
	],
	280: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal.confirm";
			require("./modal"), angular.module(moduleName, ["ddWeb.modal"]).factory("$confirm", ["$modal",
				function(n) {
					var i = {
						title: "",
						content: "",
						isWarning: !1,
						confirmText: "确定",
						cancelText: "取消"
					};
					return function(t) {
						var t = t || {};
						t = $.extend({}, i, t);
						var o = n.open({
							template: '<div class="dialog mini confirm">\n    <div class="head" ng-show="!!Confirm.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Confirm.title}}</span>\n    </div>\n    <div class="body">\n        <div class="content"><span ng-bind-html="Confirm.content|emoj"></span></div>\n    </div>\n    <div class="foot">\n        <button ng-class="Confirm.isWarning?\'red\':\'blue\'" ng-click="Confirm.confirm()">{{Confirm.confirmText}}</button>\n        <button ng-class="Confirm.isWarning?\'blue\':\'red\'" class="confirm-cancel" ng-click="Confirm.cancel()">{{Confirm.cancelText}}</button>\n    </div>\n</div>\n',
							controller: "ConfirmCtrl",
							controllerAs: "Confirm",
							resolve: {
								options: function() {
									return t
								}
							},
							closable: !0,
							enterTriggerEl: ".confirm-cancel"
						});
						return o.result
					}
				}
			]).controller("ConfirmCtrl", ["$modalInstance", "options",
				function(n, i) {
					this.title = i.title, this.content = i.content, this.isWarning = i.isWarning, this.confirmText = i.confirmText, this.cancelText = i.cancelText, this.confirm = function() {
						n.close()
					}, this.cancel = function() {
						n.dismiss()
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"path": 5
		}
	],
	281: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				createGroup = "ddWeb.service.createGroupModal";
			require("./modal"), require("../../service/search/search/SearchType"), require("../../service/selectorPanel/PanelType"), require("../../service/tool/modelHelper"), require("../../service/tool/multiOrgTool"), require("../../service/search/SearchState");
			var $my = require("../../service/user/my");
			require("../../service/createGroup/CreateGroup"), angular.module(createGroup, ["ddWeb.service.PanelType", "ddWeb.service.modelHelper", "ddWeb.service.multiOrgTool", "ddWeb.service.SearchType", "ddWeb.service.ActionType", "ddWeb.service.SearchState", "ddWeb.service.CreateGroup"]).factory("createGroupModalService", ["$modal",
				function(e) {
					function r(r) {
						var a = e.open({
							template: '<div class="dialog create-group-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title" ng-if="createGroupModalCtrl.tag===1">发起聊天</span>\n        <span class="title" ng-if="createGroupModalCtrl.tag===2">企业群聊天</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <div class="search-bar-box">\n                <p class="explainText">群成员:\n                  <span class="select-user-count">\n                    <i class="iconfont loop-loading selector-bar-loading" ng-if="createGroupModalCtrl.isSearching">&#xe657;</i>已选 {{createGroupModalCtrl._SelectedList.getSelected().length}} 人\n                  </span>\n                </p>\n                <selector-bar \n                      search-state="createGroupModalCtrl.searchState"\n                      menu-data="createGroupModalCtrl.menuData"\n                      search-type="createGroupModalCtrl.searchType"\n                      placeholder="搜索名字、拼音、手机号..."\n                      is-searching="createGroupModalCtrl.isSearching"\n                      selected-list="createGroupModalCtrl._SelectedList"\n\n                ></selector-bar>\n            </div>\n            <div class="group-input-box">\n                <p class="explainText">群名称:</p>\n                <div class="input-box">\n                    <input name="title" class="input gourp-name-input" placeholder="请输入群名称（非必填）" type="text" maxlength="20"\n                           autocomplete="off" ng-model="createGroupModalCtrl.groupName"/>\n                </div>\n            </div>\n        </div>\n        <div class="right">\n            <p class="explainText">选择群成员:</p>\n\n            <div selector-panel class="selector-panel"\n                 menu-data="createGroupModalCtrl.menuData"\n                 org-data-arr="createGroupModalCtrl.orgDataArr"\n                 selected-list="createGroupModalCtrl._SelectedList"\n                 ></div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-disabled="createGroupModalCtrl.disableSend||createGroupModalCtrl.selected.length===0" ng-click="createGroupModalCtrl.submit(createGroupModalCtrl.submitCb)">确定</button>\n    </div>\n</div>\n',
							controller: "createGroupModalCtrl",
							controllerAs: "createGroupModalCtrl",
							resolve: {
								orgData: function() {
									return r
								}
							},
							closable: !0,
							autofocus: !1
						});
						return a.result
					}
					return {
						showModal: r
					}
				}
			]).controller("createGroupModalCtrl", ["$modalInstance", "createGroupModalService", "orgData", "PanelType", "modelHelper", "SearchType", "multiOrgTool", "SearchState", "CreateGroup",
				function(e, r, a, t, l, o, s, n, c) {
					var i = this,
						d = null,
						p = null;
					this.menuData = null, this.searchState = n.LOCK, this.searchType = [], this.isSearching = !1, a ? (this.tag = 2, d = [t.ORG], p = [a], this.searchType = [o.ORG], $.extend(this, new c(!0, a.oid))) : (this.tag = 1, l.isOrgUser($my) ? (d = [t.ORG, t.FRIEND], p = s.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees), this.searchType = [o.LOCAL, o.ORG, o.FRIEND]) : (d = [t.FRIEND], this.searchType = [o.LOCAL, o.FRIEND]), $.extend(i, new c(!1))), i.menuData = {
						panelTypeArr: d,
						orgDataArr: p
					}, i.init(), i.submitCb = function() {
						e.close()
					}
				}
			]), module.exports = createGroup;


		}, {
			"../../service/createGroup/CreateGroup": 204,
			"../../service/search/SearchState": 342,
			"../../service/search/search/SearchType": 355,
			"../../service/selectorPanel/PanelType": 361,
			"../../service/tool/modelHelper": 381,
			"../../service/tool/multiOrgTool": 382,
			"../../service/user/my": 400,
			"./modal": 283,
			"path": 5
		}
	],
	282: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.groupAddMembersModal",
				path = require("path");
			require("./modal"), require("../selectorPanel/PanelType"), require("../tool/modelHelper"), require("../tool/multiOrgTool"), require("../search/SearchState"), require("../search/search/SearchType");
			var $my = require("../user/my");
			require("../toast/toast"), require("../../directive/selectorPanel/selectorPanel"), require("../../directive/widget/selectorBar"), require("../widget/selectorBar/selectorBarTool"), angular.module(moduleName, ["ddWeb.modal", "ddWeb.service.PanelType", "ddWeb.service.modelHelper", "ddWeb.service.multiOrgTool", "ddWeb.service.SearchState", "ddWeb.toast", "ddWeb.selectorPanel", "ddWeb.widget.selectorBar", "ddWeb.service.selectorBarTool", "ddWeb.service.SearchType", require("../selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]).factory("groupAddMembersModalService", ["$modal", "selectorBarTool",
				function(e, r) {
					function t(r) {
						var t = e.open({
							template: '<div class="dialog add-group-member-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">添加新成员</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <p class="explainText">新添成员:\n              <span class="select-user-count">\n                <i class="iconfont loop-loading selector-bar-loading" ng-if="groupAddMembersModalCtrl.isSearching">&#xe657;</i>已选 {{groupAddMembersModalCtrl._SelectedList.getSelected().length}} 人\n              </span>\n            </p>\n            <selector-bar \n                  selected-list="groupAddMembersModalCtrl._SelectedList"\n                  search-state="groupAddMembersModalCtrl.searchState"\n                  menu-data="groupAddMembersModalCtrl.menuData"\n                  search-type="groupAddMembersModalCtrl.searchType"\n                  placeholder="搜索名字、拼音、手机号..."\n                  is-searching="groupAddMembersModalCtrl.isSearching"\n            ></selector-bar>\n            \n        </div>\n        <div class="right">\n            <p class="explainText">选择联系人:</p>\n\n            <div selector-panel class="selector-panel"\n                 menu-data="groupAddMembersModalCtrl.menuData"\n                 org-data-arr="groupAddMembersModalCtrl.orgDataArr"\n                 selected-list="groupAddMembersModalCtrl._SelectedList">\n            </div>\n\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-disabled="groupAddMembersModalCtrl.isDisabled()" ng-click="groupAddMembersModalCtrl.submit()">确定</button>\n    </div>\n</div>\n',
							controller: "groupAddMembersModalCtrl",
							controllerAs: "groupAddMembersModalCtrl",
							resolve: {
								isCompanyGroup: function() {
									return r.isCompanyGroup
								},
								orgData: function() {
									return {
										oid: r.oid,
										orgName: r.orgName
									}
								},
								lockedIds: function() {
									return r.lockedIds
								}
							},
							closable: !0,
							autofocus: !1
						});
						return t.result
					}
					return {
						showModal: t
					}
				}
			]).controller("groupAddMembersModalCtrl", ["$modalInstance", "isCompanyGroup", "orgData", "lockedIds", "PanelType", "selectorBarTool", "modelHelper", "multiOrgTool", "SearchState", "toastService", "SearchType", "SelectedList", "selectedItemFactory", "selectedItemType",
				function(e, r, t, l, s, a, o, d, n, c, i, u, p, m) {
					function g(e) {
						return e.map(function(e) {
							return e.model.uid
						})
					}

					function h(e, r) {
						var t = null;
						return e ? r ? (t = [s.ORG], v.searchType = [i.ORG]) : (t = [s.ORG, s.FRIEND], v.searchType = [i.LOCAL, i.ORG, i.FRIEND]) : r ? (t = null, v.searchType = []) : (t = [s.FRIEND], v.searchType = [i.LOCAL, i.FRIEND]), t
					}

					function b(e, l) {
						return e ? r && t.oid && t.orgName ? [t] : d.convertOrgEmployeeExtensionModelListToOrgDataList(l) : null
					}
					var v = this;
					this.lockedIds = l || [], this.menuData = null, this.searchType = [], this.searchState = n.LOCK, this.isSearching = !1;
					var M = this.lockedIds.map(function(e) {
						return p.genSelectedItem(m.USER, e, !0)
					});
					this._SelectedList = new u([], M), this.focusBar = function() {
						var e = "selector-bar-input";
						a.focusBar(e)
					}, this.isDisabled = function() {
						var e = 1,
							r = 1500;
						return this._SelectedList.getSelected().length < e || this._SelectedList.getSelected().length > r
					}, this.submit = function() {
						e.close(g(this._SelectedList.getSelected()))
					};
					var S = null,
						y = null;
					y = o.isOrgUser($my), S = h(y, r), null === S ? v.searchState = n.LOCK : v.searchState = n.OPEN, v.menuData = {
						panelTypeArr: S,
						orgDataArr: b(y, $my.orgEmployees)
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/selectorPanel/selectorPanel": 79,
			"../../directive/widget/selectorBar": 111,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../search/SearchState": 342,
			"../search/search/SearchType": 355,
			"../selectorPanel/PanelType": 361,
			"../selectorPanel/selected/selectedList": 367,
			"../toast/toast": 378,
			"../tool/modelHelper": 381,
			"../tool/multiOrgTool": 382,
			"../user/my": 400,
			"../widget/selectorBar/selectorBarTool": 424,
			"./modal": 283,
			"path": 5
		}
	],
	283: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal";
			require("../animation/transition"), angular.module(moduleName, ["ui.bootstrap.transition"]).factory("$$stackedMap", function() {
				return {
					createNew: function() {
						var e = [];
						return {
							add: function(n, t) {
								e.push({
									key: n,
									value: t
								})
							},
							get: function(n) {
								for (var t = 0; t < e.length; t++)
									if (n == e[t].key) return e[t]
							},
							keys: function() {
								for (var n = [], t = 0; t < e.length; t++) n.push(e[t].key);
								return n
							},
							top: function() {
								return e[e.length - 1]
							},
							remove: function(n) {
								for (var t = -1, o = 0; o < e.length; o++)
									if (n == e[o].key) {
										t = o;
										break
									}
								return e.splice(t, 1)[0]
							},
							removeTop: function() {
								return e.splice(e.length - 1, 1)[0]
							},
							length: function() {
								return e.length
							}
						}
					}
				}
			}).directive("modalBackdrop", ["$timeout",
				function(e) {
					return {
						restrict: "EA",
						replace: !0,
						template: '<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n',
						link: function(n, t, o) {
							n.backdropClass = o.backdropClass || "", n.animate = !1, e(function() {
								n.animate = !0
							})
						}
					}
				}
			]).directive("modalWindow", ["$modalStack", "$timeout",
				function(e, n) {
					return {
						restrict: "EA",
						scope: {
							index: "@"
						},
						replace: !0,
						transclude: !0,
						template: '<div tabindex="-1" role="dialog" class="ding-modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-content" modal-transclude></div>\n</div>',
						link: function(t, o, r) {
							o.addClass(r.windowClass || ""), t.size = r.size, "true" === r.closable && o.on("click", ".modal-content", function(e) {
								t.close(e)
							}), o.on("click", ".close", function(e) {
								t.close(e)
							}), n(function() {
								t.animate = !0, o[0].querySelectorAll("[autofocus]").length || o[0].focus()
							}), t.close = function(n) {
								var t = e.getTop();
								t && t.value.backdrop && "static" != t.value.backdrop && n.target === n.currentTarget && (n.preventDefault(), n.stopPropagation(), e.dismiss(t.key, "backdrop click"))
							}
						}
					}
				}
			]).directive("modalTransclude", function() {
				return {
					link: function(e, n, t, o, r) {
						r(e.$parent, function(e) {
							n.empty(), n.append(e)
						})
					}
				}
			}).factory("$modalStack", ["$transition", "$timeout", "$document", "$compile", "$rootScope", "$$stackedMap",
				function(e, n, t, o, r, a) {
					function i() {
						for (var e = -1, n = p.keys(), t = 0; t < n.length; t++) p.get(n[t]).value.backdrop && (e = t);
						return e
					}

					function l(e) {
						var n = t.find("body").eq(0),
							o = p.get(e).value;
						p.remove(e), s(o.modalDomEl, o.modalScope, 300, function() {
							o.modalScope.$destroy(), n.toggleClass(f, p.length() > 0), c()
						})
					}

					function c() {
						if (d && -1 == i()) {
							var e = u;
							s(d, u, 150, function() {
								e.$destroy(), e = null
							}), d = void 0, u = void 0
						}
					}

					function s(t, o, r, a) {
						function i() {
							i.done || (i.done = !0, t.remove(), a && a())
						}
						o.animate = !1;
						var l = e.transitionEndEventName;
						if (l) {
							var c = n(i, r);
							t.bind(l, function() {
								n.cancel(c), i(), o.$apply()
							})
						} else n(i)
					}
					var d, u, f = "modal-open",
						p = a.createNew(),
						m = {};
					return r.$watch(i, function(e) {
						u && (u.index = e)
					}), t.bind("keydown", function(e) {
						var n;
						27 === e.which && (n = p.top(), n && n.value.keyboard && (e.preventDefault(), r.$apply(function() {
							m.dismiss(n.key, "escape key press")
						})))
					}), t.bind("keydown.$modal", function(e) {
						var n;
						13 === e.which && (n = p.top(), n && n.value.enterTriggerEl && (e.preventDefault(), n.value.modalDomEl.find(n.value.enterTriggerEl).trigger("click")))
					}), m.open = function(e, n) {
						p.add(e, {
							deferred: n.deferred,
							modalScope: n.scope,
							keyboard: n.keyboard,
							enterTriggerEl: n.enterTriggerEl,
							backdrop: n.backdrop,
							beforeDismiss: n.beforeDismiss
						});
						var a = t.find("body").eq(0),
							l = i();
						if (l >= 0 && !d) {
							u = r.$new(!0), u.index = l;
							var c = angular.element("<div modal-backdrop></div>");
							c.attr("backdrop-class", n.backdropClass), d = o(c)(u), a.append(d)
						}
						var s = angular.element("<div modal-window></div>");
						s.attr({
							"template-url": n.windowTemplateUrl,
							"window-class": n.windowClass,
							size: n.size,
							index: p.length() - 1,
							closable: n.closable
						}).html(n.content);
						var m = o(s)(n.scope);
						p.top().value.modalDomEl = m, a.append(m), a.addClass(f)
					}, m.close = function(e, n) {
						var t = p.get(e);
						t && (t.value.deferred.resolve(n), l(e))
					}, m.dismiss = function(e, n) {
						function t() {
							o.value.deferred.reject(n), l(e)
						}
						var o = p.get(e);
						if (o)
							if (o.value.beforeDismiss && "function" == typeof o.value.beforeDismiss) {
								var r = o.value.beforeDismiss(n);
								if (r.then) r.then(function() {
									t()
								}, function() {});
								else {
									if (r === !1) return;
									t()
								}
							} else t()
					}, m.dismissAll = function(e) {
						for (var n = this.getTop(); n;) this.dismiss(n.key, e), n = this.getTop()
					}, m.getTop = function() {
						return p.top()
					}, m.changeEnterEl = function(e, n) {
						var t = p.get(e);
						t && t.value && (t.value.enterTriggerEl = n)
					}, m
				}
			]).provider("$modal", function() {
				var e = {
					options: {
						keyboard: !0,
						closable: !0,
						enterTriggerEl: "",
						backdrop: !0
					},
					$get: ["$injector", "$rootScope", "$q", "$http", "$templateCache", "$controller", "$modalStack",
						function(n, t, o, r, a, i, l) {
							function c(e) {
								return e.template ? o.when(e.template) : r.get(angular.isFunction(e.templateUrl) ? e.templateUrl() : e.templateUrl, {
									cache: a
								}).then(function(e) {
									return e.data
								})
							}

							function s(e) {
								var t = [];
								return angular.forEach(e, function(e) {
									(angular.isFunction(e) || angular.isArray(e)) && t.push(o.when(n.invoke(e)))
								}), t
							}
							var d = {};
							return d.open = function(n) {
								var r = o.defer(),
									a = o.defer(),
									d = {
										result: r.promise,
										opened: a.promise,
										close: function(e) {
											l.close(d, e)
										},
										dismiss: function(e) {
											l.dismiss(d, e)
										},
										changeEnterEl: function(e) {
											l.changeEnterEl(d, e)
										}
									};
								if (n = angular.extend({}, e.options, n), n.resolve = n.resolve || {}, !n.template && !n.templateUrl) throw new Error("One of template or templateUrl options is required.");
								var u = o.all([c(n)].concat(s(n.resolve)));
								return u.then(function(e) {
									var o = (n.scope || t).$new();
									o.$close = d.close, o.$dismiss = d.dismiss;
									var a, c = {}, s = 1;
									n.controller && (c.$scope = o, c.$modalInstance = d, angular.forEach(n.resolve, function(n, t) {
										c[t] = e[s++]
									}), a = i(n.controller, c), n.controllerAs && (o[n.controllerAs] = a)), l.open(d, {
										scope: o,
										deferred: r,
										content: e[0],
										keyboard: n.keyboard,
										closable: n.closable,
										enterTriggerEl: n.enterTriggerEl,
										beforeDismiss: n.beforeDismiss,
										size: n.size,
										backdrop: n.backdrop,
										backdropClass: n.backdropClass,
										windowClass: n.windowClass,
										windowTemplateUrl: n.windowTemplateUrl
									})
								}, function(e) {
									r.reject(e)
								}), u.then(function() {
									a.resolve(!0)
								}, function() {
									a.reject(!1)
								}), d
							}, d
						}
					]
				};
				return e
			}), module.exports = moduleName;


		}, {
			"../animation/transition": 144,
			"path": 5
		}
	],
	284: [
		function(require, module, exports) {
			angular.module("ddWeb.service.modalHelper", []).factory("modalHelperService", ["$rootScope", "$compile", "$templateCache",
				function(n, o, e) {
					return {
						compileTemplate: function(n) {
							var t = null;
							return t = e.get(n).toString().trim(), o($(t))
						},
						insertDomAndReturnScope: function(o, e, t) {
							var i = n.$new(),
								e = e || "modalList",
								t = t || function() {};
							return o(i, function(n, o) {
								$("#" + e).append(n), t(n), n.on("$destroy", function() {
									i.$destroy()
								})
							}), i
						},
						showModal: function(n, o, e, t) {
							var o = o || function() {}, e = e || function() {}, t = t || function() {};
							$("#" + n).modal("hide"), $("#" + n).modal("setting", {
								onVisible: function() {
									e()
								},
								onShow: function() {
									t($(this))
								},
								onHide: function() {
									o($(this)), $(this).remove()
								}
							}).modal("show")
						},
						closeModal: function(n) {
							$("#" + n).modal("setting", {
								onHide: function() {
									$(this).remove()
								}
							}).modal("hide")
						}
					}
				}
			]);


		}, {}
	],
	285: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.msgReceiverListModal",
				path = require("path"),
				_ = require("lodash");
			require("./profileModal.js"), require("./modalHelper"), require("../user/userManager"), require("../user/userCache");
			var $my = require("../user/my");
			require("../conversation/conversation"), angular.module(moduleName, [require("@ali/ding-api")["interface"].IDLMessage, require("@ali/ding-api")["interface"].IDLDing, "ddWeb.service.profileModal", "ddWeb.user.userManager", "ddWeb.user.userCache", "ddWeb.conversation", require("./modal"), require("./sendDingModal"), require("../ding/dinglist"), require("../ding/DingSendStatus")]).factory("msgReceiverListModalService", ["$q", "IDLMessage", "IDLDing", "profileModalService", "userManager", "$modal",
				function(e, i, n, s, r, t) {
					function l(e, i) {
						var n = {
							isMsg: i,
							isShowDing: i && 1 === e.baseMessage.content.contentType,
							hasData: !1,
							isAllRead: !1
						}, s = t.open({
								template: '<div class="dialog middle receiver-list-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <div class="header">\n            {{mrlCtrl.title}}\n        </div>\n    </div>\n    <div class="body">\n        <div class="ui list relaxed divided">\n            <span class="loading" ng-if="!mrlCtrl.dataReady">\n            <div class="bounce1"></div>\n            <div class="bounce2"></div>\n            <div class="bounce3"></div>\n            </span>\n            <div ng-if="mrlCtrl.unConfirmedRec.length === 0" class="unreadList-all-read">全部已读</div>\n\n            <div ng-if="mrlCtrl.unConfirmedRec.length > 0 && mrlCtrl.unConfirmedRec.length !== 0" class="clearfix">\n                <div>\n                    <span ng-if="!mrlCtrl.isMsg">未确认</span>\n                    <span ng-if="mrlCtrl.isMsg">未读</span>\n                    <span>({{mrlCtrl.unConfirmedRec.length}})</span>\n                    <a href="javascript:;" class="ding-again-btn" ng-click="mrlCtrl.dingAgain()" ng-if="!mrlCtrl.isMsg&&mrlCtrl.isShowDingAgain">再次提醒</a>\n                </div>\n\n                <div class="item-list clearfix">\n                    <div class="people" ng-repeat="item in mrlCtrl.unConfirmedRec" htitle="{{item.user.remarkNameObj.alias || item.user.userProfileModel.nick}}{{item.status}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid"\n                                   ng-click="mrlCtrl.showUserProfile(item.user.userProfileModel.uid)"\n                                   class="dinglist-tool-pointer"></dd-avatar>\n                        <div class="unconfirm-loading-box" ng-if="!mrlCtrl.isMsg && item.statusCode < 10&&mrlCtrl.isShowDingAgain">\n                            <i class="close iconfont unconfirm-loading-btn">&#xe668;</i>\n                        </div>\n                        <p ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n                    </div>\n                </div>\n            </div>\n\n            <div ng-if="mrlCtrl.confirmRec.length > 0 && mrlCtrl.unConfirmedRec.length !== 0">\n                <div>\n                    <span ng-if="!mrlCtrl.isMsg">已确认</span>\n                    <span ng-if="mrlCtrl.isMsg">已读</span>\n                    <span>({{mrlCtrl.confirmRec.length}})</span>\n                </div>\n                <div class="item-list clearfix">\n                    <div class="people" ng-repeat="item in mrlCtrl.confirmRec" htitle="{{item.user.remarkNameObj.alias || item.user.userProfileModel.nick}}">\n                        <dd-avatar uid="item.user.userProfileModel.uid"\n                                   ng-click="mrlCtrl.showUserProfile(item.user.userProfileModel.uid)"\n                                   class="dinglist-tool-pointer"></dd-avatar>\n                        <p ng-bind-html="(item.user.remarkNameObj.alias || item.user.userProfileModel.nick)|emoj"></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-show="!mrlCtrl.isShowDing" ng-click="mrlCtrl.close()">确定</button>\n        <button class="blue" ng-show="mrlCtrl.isShowDing" ng-click="mrlCtrl.msgToDing()">DING一下</button>\n    </div>\n</div>\n',
								controller: "msgReceiverListCtrl",
								controllerAs: "mrlCtrl",
								resolve: {
									options: function() {
										return n
									},
									msg: function() {
										return e
									}
								}
							});
						return s.result
					}
					return {
						showModal: l
					}
				}
			]).controller("msgReceiverListCtrl", ["$modalInstance", "options", "msg", "profileModalService", "userManager", "$q", "conversation", "sendDingModalService", "dinglist", "DingSendStatus",
				function(e, i, n, s, r, t, l, a, o, d) {
					this.isMsg = i.isMsg, i.isMsg ? this.title = "消息接收人列表" : this.title = "消息确认详情", this.dataReady = !1, this.msg = n, this.isShowDing = i.isShowDing, this.showUserProfile = function(i) {
						e.close("ok"), s(i)
					}, this.msgToDing = function() {
						var i = this,
							n = l.getConvObj(i.msg.baseMessage.conversationId),
							s = i.unConfirmedRec.map(function(e) {
								return e.user.userProfileModel.uid
							}),
							r = [];
						n.getMembers(function(n) {
							r = n.map(function(e) {
								return e.openIdEx.openId
							}), e.close("ok"), a.showModal({
								msgId: i.msg.baseMessage.messageId,
								content: i.msg ? i.msg.getContent().textContent.text : "",
								selectedUids: s,
								customUids: r,
								disableEdit: !0
							})
						})
					}, this.close = function() {
						e.close("ok")
					};
					var c = this;
					this.isMsg ? n.getReceiverList().then(function(e) {
						c.confirmRec = e.confirmReceivers, c.unConfirmedRec = e.unConfirmReceivers, n.senderMessageStatus.unReadCount = c.unConfirmedRec.length, c.dataReady = !0
					}) : o.getDingById(n.baseMessage.memberExtension.dingId, function(e) {
						e.getReceiverList(function(i) {
							c.confirmRec = i.confirmList, c.unConfirmedRec = i.unConfirmList, c.dataReady = !0, c.isShowDingAgain = e.sendStatus !== d.NOTSEND
						})
					}), this.dingAgain = function() {
						a.dingAgain(n.baseMessage.memberExtension.dingId)
					}
				}
			]), module.exports = moduleName;


		}, {
			"../conversation/conversation": 193,
			"../ding/DingSendStatus": 212,
			"../ding/dinglist": 216,
			"../user/my": 400,
			"../user/userCache": 401,
			"../user/userManager": 404,
			"./modal": 283,
			"./modalHelper": 284,
			"./profileModal.js": 289,
			"./sendDingModal": 293,
			"@ali/ding-api": 453,
			"lodash": 470,
			"path": 5
		}
	],
	286: [
		function(require, module, exports) {
			var path = require("path"),
				moduleName = "ddWeb.modal.multiFileUpload";
			require("./modal"), require("../file/fileHelper"), require("../file/fileTypes"), angular.module(moduleName, ["ddWeb.modal", "ddWeb.file.fileHelper", "ddWeb.file.fileTypes"]).factory("$multiFileUpload", ["$modal", "$q",
				function(e, l) {
					var i = function(i) {
						var i = i || [];
						if (0 === i.length) return l.defer().promise;
						var n = e.open({
							template: '<div class="dialog multifile-upload-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">上传文件</span>\n    </div>\n    <div class="body">\n        <div class="file-list">\n            <p class="summary">本次选择 {{files.length}} 个文件，可以发送 {{getValidFiles().length}} 个。</p>\n            <div class="file-item clearfix" ng-repeat="item in files">\n                <div class="file-icon" ng-class="item.iconClass"></div>\n                <div class="content">\n                    <div class="file-name">{{item.name}}</div>\n                    <div class="file-size">({{item.showSize}})</div>\n                </div>\n                <div class="error">{{item.checkResult[2]}}</div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="ok()">发送</button>\n    </div>\n</div>\n',
							controller: "multiFileUploadCtrl",
							resolve: {
								files: function() {
									return i
								}
							},
							enterTriggerEl: ".ok"
						});
						return n.result
					};
					return {
						open: i
					}
				}
			]).controller("multiFileUploadCtrl", ["$scope", "files", "$modalInstance", "$fileHelper", "$fileTypes",
				function(e, l, i, n, s) {
					var l = l || [];
					if (!(l instanceof Array)) try {
						l = Array.prototype.slice.apply(l)
					} catch (t) {
						return console.log("files 不能转换成 Array, 请检查传参数是否正确"), !1
					}
					l.forEach(function(e) {
						e.checkResult = n.checkFileV2(e), e.iconClass = s.getFileIconByType(s.getTypeByName(e.name)), e.showSize = n.formatFileSize(e.size)
					}), e.files = l, e.getValidFiles = function() {
						return e.files.filter(function(e) {
							return e.checkResult[0]
						})
					}, e.ok = function() {
						i.close(e.getValidFiles())
					}, e.cancel = function() {
						i.dismiss("cancel")
					}
				}
			]), module.exports = moduleName;


		}, {
			"../file/fileHelper": 224,
			"../file/fileTypes": 225,
			"./modal": 283,
			"path": 5
		}
	],
	287: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				_ = require("lodash"),
				moduleName = "ddWeb.modal.openApiConfirm";
			require("./modal"), angular.module(moduleName, ["ddWeb.modal"]).factory("$openApiConfirm", ["$modal",
				function(n) {
					var t = {
						title: "",
						content: "",
						confirmText: "确定",
						cancelText: "取消"
					};
					return function(o) {
						var e = _.assign({}, t, o),
							i = n.open({
								template: '<div class="dialog mini confirm">\n    <div class="head" ng-show="!!Confirm.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Confirm.title}}</span>\n    </div>\n    <div class="body">\n        <div class="content"><span ng-bind-html="Confirm.content|emoj"></span></div>\n    </div>\n    <div class="foot">\n        <button ng-class="Confirm.isWarning?\'red\':\'blue\'" ng-click="Confirm.confirm()">{{Confirm.confirmText}}</button>\n        <button ng-class="Confirm.isWarning?\'blue\':\'red\'" class="confirm-cancel" ng-click="Confirm.cancel()">{{Confirm.cancelText}}</button>\n    </div>\n</div>\n',
								controller: "openApiConfirmCtrl",
								controllerAs: "Confirm",
								resolve: {
									options: function() {
										return e
									}
								},
								closable: !0,
								enterTriggerEl: ".confirm-cancel"
							});
						return i.result
					}
				}
			]).controller("openApiConfirmCtrl", ["$modalInstance", "options",
				function(n, t) {
					this.title = t.title, this.content = t.content, this.confirmText = t.confirmText, this.cancelText = t.cancelText, t.buttonLabels && (this.confirmText = t.buttonLabels[0], this.cancelText = t.buttonLabels[1]), this.confirm = function() {
						n.close({
							buttonIndex: 0
						})
					}, this.cancel = function() {
						n.close({
							buttonIndex: 1
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	288: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal.previewFileModal",
				ua = require("../ua"),
				app = angular.module(moduleName, [require("./modal"), require("../../directive/previewFile/previewFile"), require("../app/download/fileFactory"), require("../app/download/LocalCache"), require("../app/download/openFile")]);
			app.factory("previewFileModal", ["$modal",
				function(e) {
					function i(i) {
						var l = e.open({
							template: '<div class=\'preview-file-modal\'>\n    <i class="iconfont close dimmer-btns-close" title="关闭">&#xe632;</i>\n    <div class="info-span">\n        <span class="file-name">{{previewFile.option.filename}}</span>\n        <a class="download-btn" ng-if="!previewFile.isNw||(previewFile.isNw&&!previewFile._DLFile.isActive&&!previewFile._DLFile.isFinish)" href="{{previewFile.option.download_url}}" target="_blank" download="{{previewFile.option.filename}}" nwdirectory nwsaveas="{{previewFile.option.filename}}" ng-click="previewFile.download($event)">\n            <button class="blue">下载</button>\n        </a>\n        <a class="download-btn" href="javascript:;" ng-if="previewFile.isNw&&previewFile._DLFile.isActive&&!previewFile._DLFile.isFinish">\n            <div class="downloading-box">\n                <button class="blue">下载中</button>\n                <div progress-bar progress="previewFile._DLFile.progress" ng-if="previewFile._DLFile.isActive"></div>\n            </div>\n        </a>\n        <a class="download-btn" href="javascript:;" ng-if="previewFile.isNw&&previewFile._DLFile.isFinish" ng-click="previewFile.openFile($event)">\n            <button class="blue">打开</button>\n        </a>\n    </div>\n    <div preview-file option=\'previewFile.option\' class="preview-file-wrap"></div>\n</div>\n',
							controller: "previewFileModalCtrl",
							controllerAs: "previewFile",
							closable: !0,
							resolve: {
								option: function() {
									return i
								}
							}
						});
						return l.result
					}
					return i
				}
			]), app.controller("previewFileModalCtrl", ["$scope", "$modalInstance", "fileFactory", "DLLocalCache", "openFileService", "option",
				function(e, i, l, o, n, r) {
					var a = this;
					this.option = r, this._DLFile = l.getFileObj(a.option.download_url, a.option.filename);
					var t = function() {
						e.$digest()
					};
					a._DLFile.proxy.on(a._DLFile.EVENTS.STRAT, t), a._DLFile.proxy.on(a._DLFile.EVENTS.PROGRESS, t), a._DLFile.proxy.on(a._DLFile.EVENTS.FINISH, t), this.isNw = ua.isNw, this.download = function(e) {
						r.onDownload && r.onDownload(), ua.isNw && (e.preventDefault(), a._DLFile.download())
					}, this.openFile = function(e) {
						e.preventDefault(), n.open({
							url: a._DLFile.url
						}).then(function() {}, function() {
							a._DLFile.reset()
						})
					}, e.$on("$destroy", function() {
						a._DLFile.proxy && (a._DLFile.proxy.off(a._DLFile.EVENTS.STRAT, t), a._DLFile.proxy.off(a._DLFile.EVENTS.PROGRESS, t), a._DLFile.proxy.off(a._DLFile.EVENTS.FINISH, t))
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/previewFile/previewFile": 72,
			"../app/download/LocalCache": 157,
			"../app/download/fileFactory": 159,
			"../app/download/openFile": 160,
			"../ua": 390,
			"./modal": 283,
			"path": 5
		}
	],
	289: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.service.profileModal",
				serviceName = "profileModalService";
			require("./modal"), require("../goldlog/goldlog"), require("../log/lwlog"), require("../chat/chatCallService"), require("../user/userManager"), require("../events.js"), require("../toast/toast"), require("../../directive/widget/focus");
			var $my = require("../user/my");
			require("../conversation/conversation"), require("../friend/FriendType"), require("../../directive/widget/editBar"), require("../user/userRemarksSync"), require("../mediaId/mediaId"), require("../../service/modal/sendDingModal");
			var uriResolve = require("../../service/uriResolve/resolve");
			angular.module(moduleName, ["ddWeb.modal", "ddWeb.goldlog", "ddWeb.log.lwlog", require("@ali/ding-api")["interface"].FriendI, "ddWeb.service.chaCallService", "ddWeb.user.userManager", "ddWeb.toast", "ddWeb.widget.focus", "ddWeb.modal.confirm", "ddWeb.conversation", "ddWeb.friend.FriendType", "ddWeb.widget.editBar", "ddWeb.mediaId", "ddWeb.modal.sendDingModal"]).factory(serviceName, ["$modal",
				function(e) {
					return function(o, i, l, r, n, a) {
						var s = e.open({
							template: ' <div class="profile-card">\n     <header class="header">\n         <div class="bg"  ng-class="{\'default-bg-img\':!profileModal.user.userProfileModel.avatarMediaId,\'user-bg-img\':profileModal.user.userProfileModel.avatarMediaId}" style="background-image:url({{profileModal.avatarUrl}})"></div>\n         <i class="iconfont close dialog-close"></i>\n         <dd-avatar  class="big border-thick" mediaid = "profileModal.card.avatarMediaId || profileModal.user.userProfileModel.avatarMediaId" nick="profileModal.card.name || profileModal.user.userProfileModel.nick" name="profileModal.user.userProfileModel.name" ></dd-avatar>\n         <div class="detail-info">\n             <div class="name" title=""><span ng-bind-html="((!profileModal.user.userProfileModel.isDataComplete?profileModal.card.name:\'\') ||profileModal.user.remarkNameObj.alias||profileModal.user.userProfileModel.nick)|emoj"></span></div>\n            <i class="iconfont icon-org" ng-if="profileModal.user.userProfileModel.isOrgUser"></i>\n            <i class="iconfont icon-sex" ng-class="{\'male\':profileModal.user.userProfileModel.gender==\'M\',\'female\':profileModal.user.userProfileModel.gender==\'F\'}"></i>\n            <i class="iconfont icon-follow" htitle="{{profileModal.followMsg}}" ng-class="{\'follow\':profileModal.isFollowing,\'unfollow\':!profileModal.isFollowing}" ng-click="profileModal.toggleFollow()" ng-if="profileModal.showFollow"></i>\n         </div>\n         <div class="certification" ng-if="profileModal.showCertification" title="{{profileModal.certificationTitle}}">钉钉认证：{{profileModal.certificationTitle}}</div>\n         <button class="button add-friend" ng-if="profileModal.user.userPermissionModel.canBeSendFriendRequest && (profileModal.user.friendRequestModel.status === profileModal.FriendType.NON_RELATION||profileModal.user.friendRequestModel.status === profileModal.FriendType.PHONE_RELATION)" ng-click="profileModal.openRequestFriend()">添加好友</button>\n         <button class="button red del-friend" ng-if="profileModal.user.friendRequestModel.status === profileModal.FriendType.FRIEND"  ng-click="profileModal.removeFriend()">解除好友</button>\n         <button class="button disabled" ng-if="profileModal.user.friendRequestModel.status === profileModal.FriendType.HAVE_SEND_FRIEND_REQUEST">已发送好友请求</button>\n         <button class="button add-friend" ng-if="profileModal.user.friendRequestModel.status === profileModal.FriendType.RECEIVE_FRIEND_REQUEST" ng-click="profileModal.user.acceptFriend()">接受</button>\n     </header>\n     <article class="detail-content">\n        <loading ng-hide="!profileModal.isLoading"></loading>\n        <dl class="detail-box" ng-hide="profileModal.isLoading">\n            <dt class="box-title">个人信息</dt>\n            <dt class="box-item">\n                <label class="label">昵称</label>\n                <span class="cnt">\n                    <span ng-bind-html="profileModal.user.userProfileModel.nick|emoj"></span>\n                    <span class="unactived" ng-if="!profileModal.user.userProfileModel.isActive">未激活</span>\n                </span>\n            </dt>\n            <dt class="box-item" ng-if="profileModal.showRemarkEdit">\n                <label class="label">备注</label>\n                <edit-bar is-edit-bar-open="profileModal.isEditBarOpen" custom-value="profileModal.user.remarkNameObj.alias" default-value="profileModal.user.userProfileModel.nick" save-action="profileModal.saveRemarkName"></edit-bar>\n            </dt>\n            <dt class="box-item" ng-if="profileModal.user.userProfileModel.city">\n                <label class="label">地区</label>\n                <span class="cnt">{{profileModal.user.userProfileModel.city}}</span>\n            </dt>\n        </dl>\n         <dl ng-hide="profileModal.isLoading" class="detail-box" ng-repeat="orgData in profileModal.user.orgEmployees" ng-if="orgData.orgEmployeeModel">\n             <dt class="box-title">{{orgData.orgEmployeeModel.orgName}}</dt>\n             <dt class="box-item">\n                 <label class="label" htitle="姓名">姓名</label>\n                 <span class="cnt">{{orgData.orgEmployeeModel.orgUserName}}</span>\n             </dt>\n             <dt class="box-item" ng-if="profileModal.hideMobileNumber(orgData.orgEmployeeModel.orgUserMobile);">\n                 <label class="label" htitle="电话">电话</label>\n                 <span class="cnt">+{{orgData.orgEmployeeModel.stateCode}}-{{profileModal.hideMobileNumber(orgData.orgEmployeeModel.orgUserMobile)}}</span>\n             </dt>\n             <dt class="box-item" ng-if="orgData.orgEmployeeModel.orgEmail">\n                 <label class="label" htitle="邮箱">邮箱</label>\n                 <span class="cnt"><a href="mailto:{{orgData.orgEmployeeModel.orgEmail}}">{{orgData.orgEmployeeModel.orgEmail}}</a></span>\n             </dt>\n             <dt class="box-item" ng-if="orgData.orgEmployeeModel.orgMasterDisplayName">\n                 <label class="label" htitle="主管">主管</label>\n                 <span class="cnt">{{orgData.orgEmployeeModel.orgMasterDisplayName}}</span>\n             </dt>\n             <dt class="box-item" ng-repeat="orgNodeItem in orgData.orgNodeItemList">\n                 <label class="label" htitle="部门">部门</label>\n                 <span class="cnt">{{orgNodeItem.dept.deptName || orgData.orgEmployeeModel.depts[$index].deptName}}</span>\n             </dt>\n             <dt class="box-item" ng-repeat="item in orgData.orgExtPropertyList" class="item" ng-show="item.itemValue && item.itemValue.length > 0">\n                 <label class="label" htitle="{{item.itemName}}">{{item.itemName}}</label>\n                 <span class="cnt">{{item.itemValue}}</span>\n             </dt>\n         </dl>\n\n     </article>\n     <footer class="footer">\n        <div class="actions-wrapper" ng-show="!profileModal.isOpenAddFriend && (profileModal.user.userPermissionModel.canBeSentMsg || profileModal.showChatCall || profileModal.showSendDing)">\n             <a href="javascript:;" class="footer-item send-msg chatto-action-btn" ng-click="profileModal.chatTo(profileModal.user.userProfileModel.uid,$event)" ng-class="{\'disabled\':!profileModal.user.userPermissionModel.canBeSentMsg}">\n                 <i class="iconfont">&#xe61c;</i><span>发消息</span>\n             </a>\n             <a href="javascript:;" class="footer-item free-call" ng-click="profileModal.createCall()" ng-class="{\'disabled\':!profileModal.showChatCall||profileModal.isCalling}">\n                 <i class="iconfont">&#xe61b;</i><span>免费电话</span>\n             </a>\n             <a href="javascript:;" class="footer-item send-ding" ng-click="profileModal.sendDing()" ng-class="{\'disabled\':!profileModal.showSendDing}" >\n                 <i class="iconfont">&#xe61a;</i><span>DING一下</span>\n             </a>\n         </div>\n         <div class="add-friend-wrapper" ng-show="profileModal.isOpenAddFriend">\n             <p class="des">请输入请求好友说明：<a href="javascript:void(0)" class="profile-addFriend-back" ng-click="profileModal.closeRequestFriend();">返回</a></p>\n\n             <input type="text" class="input req-msg" placeholder="请输入请求好友说明" ng-model="profileModal.addFriendInfo" focus="profileModal.focusOnAddFriendInfo"/>\n             <button class="send-friend-req add-friend-btn" ng-class="{disabled:profileModal.isAdding || !profileModal.addFriendInfo}" ng-click="profileModal.sendFriend(profileModal.user.userProfileModel.uid,$event)">发送</button>\n         </div>\n     </footer>\n </div>\n',
							controller: "profileModalCtrl",
							controllerAs: "profileModal",
							resolve: {
								uid: function() {
									return o
								},
								orgStaffId: function() {
									return i
								},
								orgId: function() {
									return l
								},
								mobile: function() {
									return r
								},
								isAutoOpenRequest: function() {
									return n
								},
								card: function() {
									return a
								}
							},
							enterTriggerEl: ".chatto-action-btn"
						});
						return s.result
					}
				}
			]).controller("profileModalCtrl", ["$scope", "$modalInstance", "uid", "goldlog", "lwlog", "userManager", "orgStaffId", "orgId", "mobile", "FriendI", "EVENTS", "chatCallService", "$rootScope", "toastService", "$timeout", "$confirm", "conversation", "FriendType", "isAutoOpenRequest", "$q", "mediaId", "sendDingModalService", "card",
				function(e, o, i, l, r, n, a, s, d, t, c, u, f, g, p, M, m, b, h, v, E, w, F) {
					var y = this,
						C = $my.uid;
					y.showChatCall = !1, y.isLoading = !0, y.isOpenAddFriend = !1, y.uid = i, y.focusOnAddFriendInfo = !1, y.addFriendInfo = null, y.showRemarkEdit = !1, y.showSendDing = !1, y.FriendType = b, y.isEditBarOpen = !1, y.isCalling = !1, y.card = F, y.showCertification = !1, y.certificationTitle = "", y.isFollowing = !1, y.followMsg = "特别关注", y.showFollow = !1, i && (l.log("profile_one_user_enter", "uid=" + i), r.commLog("profile_one_user_enter", "uid=" + i), s = null), n.getUserWithExt(i, a, d, s).then(function(o) {
						o && (y.isLoading = !1, y.isAdding = !1, y.user = o, y.uid = o.userProfileModel.uid, o.userPermissionModel.canBeSendConference && parseInt(C) !== y.uid && (y.showChatCall = !0), o.userPermissionModel.canBeSendDing && parseInt(C) !== y.uid && (y.showSendDing = !0), parseInt(C) !== y.uid && (y.showFollow = !0), h && y.openRequestFriend(), y.uid && parseInt(C) !== y.uid && (y.showRemarkEdit = !0), y.avatarUrl = uriResolve.assetsResolve("app/img/profile_modal_bg.png"), o.userProfileModel.avatarMediaId && (y.avatarUrl = E.mid2Url(o.userProfileModel.avatarMediaId, {
							imageSize: "origin"
						})), y.showCertification = o.userProfileModel.isOrgUser && o.userProfileModel.labels.length, y.showCertification && (y.certificationTitle = o.userProfileModel.labels.join(" ")), e.$watch(function() {
							return y.user.followObj.status
						}, function(e) {
							y.isFollowing = 0 === e || 2 === e, y.followMsg = y.isFollowing ? "取消关注" : "特别关注"
						}))
					}, function() {
						setTimeout(function() {
							g.show("获取人员信息失败", {
								type: "error"
							}), o.dismiss()
						}, 400)
					}), u.checkCallState() ? y.isCalling = !1 : y.isCalling = !0;
					var I = u.chatCallStates;
					f.$on(c.CHANGE_CALL_STATE, function(e, o) {
						o == I.UNCALL ? y.isCalling = !1 : o === I.CALLSUCCESS && (y.isCalling = !0)
					}), e.$watch(function() {
						return y.isEditBarOpen
					}, function(e) {
						e ? o.changeEnterEl(".edit-bar-confirm-btn") : o.changeEnterEl(".chatto-action-btn")
					}), y.createCall = function() {
						if (y.showChatCall && !y.isCalling) {
							var e = {
								calleeUid: y.uid
							}, o = y.user.remarkNameObj.alias || y.user.userProfileModel.nick;
							u.createCall(e, o).then(function(e) {
								y.isCalling = !0
							}, function(e) {})
						}
					}, y.saveRemarkName = function(e) {
						var o = v.defer();
						return y.user.setRemark(e.value).then(function() {
							o.resolve()
						}, function() {
							g.show("修改备注名失败", {
								type: "error"
							}), o.reject()
						}), o.promise
					}, y.toggleFollow = function() {
						y.isFollowing ? (y.isFollowing = !1, y.user.unFollow().then(function() {}, function() {
							y.isFollowing = !0, g.show("取消失败", {
								type: "error"
							})
						})) : (y.isFollowing = !0, y.user.follow().then(function() {}, function() {
							y.isFollowing = !1, g.show("关注失败", {
								type: "error"
							})
						}))
					}, y.hideMobileNumber = function(e) {
						if (this.user.userPermissionModel.couldShowMobile) return e;
						if (!e) return "";
						for (var e = e.toString(), o = e.substring(0, 3), i = e.length, l = e.substring(i - 4, i), r = i - 7, n = "", a = 0; r > a; a++) n += "*";
						return o + n + l
					}, y.chatTo = function(e) {
						y.user.userPermissionModel.canBeSentMsg && (f.$broadcast("leftpannel.openChatByUid", {
							uid: e
						}), l.log("profile_sendmsg_click", "uid=" + e), r.commLog("profile_sendmsg_click", "uid=" + e), o.close())
					}, y.openRequestFriend = function() {
						if (y.user.friendRequestModel.status == b.NON_RELATION || y.user.friendRequestModel.status == b.RECEIVE_FRIEND_REQUEST || y.user.friendRequestModel.status == b.PHONE_RELATION) {
							y.isOpenAddFriend = !0;
							var e = $my.userProfileModel.nick;
							y.addFriendInfo = "我是" + e, p(function() {
								y.focusOnAddFriendInfo = !0
							}, 200)
						}
						o.changeEnterEl(".add-friend-btn")
					}, y.closeRequestFriend = function() {
						y.isOpenAddFriend = !1, o.changeEnterEl(".chatto-action-btn")
					}, y.sendFriend = function(e) {
						if (y.addFriendInfo && e && !y.isAdding) {
							if (y.addFriendInfo.length > 20) return void g.show("验证信息不能超过20个字", {
								type: "error"
							});
							y.isAdding = !0, t.sendFriendRequest({
								uid: e,
								source: 3,
								remark: y.addFriendInfo
							}, function(e) {
								200 == e.code ? y.user.friendRequestModel.status = b.HAVE_SEND_FRIEND_REQUEST : e.body && e.body.reason && g.show(e.body.reason, {
									type: "error"
								}), y.isAdding = !1, y.isOpenAddFriend = !1, o.changeEnterEl(".chatto-action-btn")
							})
						}
					}, y.removeFriend = function() {
						o.close(), M({
							title: "确认消息",
							content: "确定要解除好友？解除后会删除与对方的会话记录。",
							isWarning: !0
						}).then(function() {
							y.user && y.user.removeFriend(function() {
								var e = m.createCid([y.user.userProfileModel.uid, $my.uid]);
								m.hideConv(e, !1)
							})
						})
					}, y.sendDing = function() {
						if (y.showSendDing) {
							var e = [],
								o = [];
							e.push(y.user.userProfileModel.uid), o.push(y.user.userProfileModel.uid), w.showModal({
								selectedUids: e,
								customUids: o
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/widget/editBar": 98,
			"../../directive/widget/focus": 100,
			"../../service/modal/sendDingModal": 293,
			"../../service/uriResolve/resolve": 397,
			"../chat/chatCallService": 173,
			"../conversation/conversation": 193,
			"../events.js": 221,
			"../friend/FriendType": 237,
			"../goldlog/goldlog": 239,
			"../log/lwlog": 262,
			"../mediaId/mediaId": 267,
			"../toast/toast": 378,
			"../user/my": 400,
			"../user/userManager": 404,
			"../user/userRemarksSync": 406,
			"./modal": 283,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	290: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				_ = require("lodash"),
				moduleName = "ddWeb.modal.prompt";
			angular.module(moduleName, [require("./modal")]).factory("$prompt", ["$modal",
				function(t) {
					var e = {
						title: "",
						message: "",
						buttonLabels: ["取消", "确定"]
					};
					return function(o) {
						var o = o || {};
						o = _.assign({}, e, o);
						var n = t.open({
							template: '<div class="dialog mini prompt-modal">\n    <div class="head" ng-show="!!Prompt.title">\n        <i class="iconfont close"></i>\n        <span class="title">{{Prompt.title}}</span>\n    </div>\n    <div class="body">\n        <p ng-show="!!Prompt.message">{{Prompt.message}}</p>\n        <textarea ng-model="Prompt.value"></textarea>\n    </div>\n    <div class="foot">\n        <button ng-show="label" ng-repeat="label in Prompt.buttonLabels track by $index" class="blue" ng-click="Prompt.ok($index)">{{ label }}</button>\n    </div>\n</div>\n',
							controller: "PromptCtrl",
							controllerAs: "Prompt",
							resolve: {
								options: function() {
									return o
								}
							}
						});
						return n.result
					}
				}
			]).controller("PromptCtrl", ["$modalInstance", "options",
				function(t, e) {
					var o = this;
					this.title = e.title, this.message = e.message, this.buttonLabels = e.buttonLabels.slice(0, 2), this.value = "", this.ok = function(e) {
						t.close({
							buttonIndex: e,
							value: o.value
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	291: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.quitCompanyModal",
				path = require("path");
			require("./modal"), require("../../service/safe/safe"), require("../toast/toast"), angular.module(moduleName, ["ddWeb.modal", require("@ali/ding-api")["interface"].ContactI, "ddWeb.safe", "ddWeb.toast"]).factory("quitCompanyModalService", ["$rootScope", "$controller", "$modal",
				function(a, e, n) {
					function l(a, e) {
						var l = n.open({
							template: '<div class="dialog middle">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title">申请退出</span>\n    </div>\n    <div class="body">\n        <div class="quit-company-container">\n            <p class="reminder-bar">请选择退出原因：<span class="stress">*</span></p>\n            <ul class="reasons clearfix">\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="11"/>\n                    <label>离职</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="12"/>\n                    <label>非企业员工</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="13"/>\n                    <label>广告骚扰</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="14"/>\n                    <label>欺诈</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="15"/>\n                    <label>政治</label>\n                </li>\n                <li class="reason-item">\n                    <input type="radio" ng-model="quitCompanyCtrl.radioName" value="16"/>\n                    <label>其它</label>\n                </li>\n            </ul>\n            <p class="reminder-bar">其它补充（选填）</p>\n            <textarea class="textarea extro-reason" ng-model="quitCompanyCtrl.reasonExtra"></textarea>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="quitCompanyCtrl.goConfirm()" ng-disabled="quitCompanyCtrl.radioName === \'\'" ng-class="{\'disabled\':quitCompanyCtrl.radioName === \'\'}">确定</button>\n    </div>\n</div>',
							controller: "quitCompanyCtrl",
							controllerAs: "quitCompanyCtrl",
							resolve: {
								authLevel: function() {
									return a
								},
								oid: function() {
									return e
								}
							}
						});
						return l.result
					}
					return {
						showModal: l
					}
				}
			]).controller("quitCompanyCtrl", ["$rootScope", "$modalInstance", "authLevel", "oid", "ContactI", "safe", "toastService",
				function(a, e, n, l, o, t, i) {
					var r = this;
					r.authLevel = n, r.oid = l, r.radioName = "", r.reasonExtra = "", r.goConfirm = function() {
						r.quitModel = {
							orgId: r.oid,
							reason: t.escapeHTML(r.reasonExtra),
							code: r.radioName
						}, r.confirmPopup = !0, e.close(r.quitModel)
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../service/safe/safe": 341,
			"../toast/toast": 378,
			"./modal": 283,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	292: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.modal.selectPanelModal",
				serviceName = "selectPanelModal",
				path = require("path");
			require("../../service/selectorPanel/PanelType"), require("../../service/tool/multiOrgTool"), require("../../service/user/userManager");
			var $my = require("../user/my"),
				_ = require("lodash");
			angular.module(moduleName, [require("./modal"), "ddWeb.service.PanelType", require("../selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType"), require("../../service/search/search/SearchType"), require("../../service/mediaId/mediaId"), require("../../service/widget/avatarExplainer"), require("../../directive/selectorPanel/selectorPanel"), "ddWeb.user.userManager"]).factory(serviceName, ["$modal",
				function(e) {
					return function(t) {
						var l = e.open({
							template: '<div class="dialog select-panel-modal">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title">{{selectPanelModal.option.window.title}}</span>\n    </div>\n    <div class="body">\n        <div\n            ng-if="selectPanelModal.option.selectorPanel.display"\n            selector-panel\n            menu-data="selectPanelModal.menuData"\n            custom-uids="selectPanelModal.customUids"\n            selected-list="selectPanelModal._SelectedList"\n            is-multiple = "selectPanelModal.multiple"\n            show-company-name-conf = "selectPanelModal.showCompanyNameConf"\n        ></div>\n        <div class="selector-and-content">\n            <div class="selector-choices-wrapper" ng-if="selectPanelModal.option.selectorBar.display" ng-class = "{\'no-content\':!selectPanelModal.option.contentBox.display}">\n                <selector-bar \n                          selected-list="selectPanelModal._SelectedList"\n                          search-state="selectPanelModal.searchState"\n                          menu-data="selectPanelModal.menuData"\n                          search-type="selectPanelModal.searchType"\n                          placeholder="{{selectPanelModal.option.selectorBar.placeholder}}"\n                          custom-uids="selectPanelModal.customUids"\n                          is-searching="selectPanelModal.isSearching"\n                          >\n                </selector-bar>\n                <span class="select-user-count" ng-class=""><i class="iconfont loop-loading selector-bar-loading" ng-if="selectPanelModal.isSearching">&#xe657;</i><span>{{selectPanelModal._SelectedList.getSelected().length}}/{{selectPanelModal.max}}</span></span>\n            </div>\n            <div class="content-wrapper" ng-if="selectPanelModal.option.contentBox.display">\n                <textarea class="textarea select-text" ng-model="selectPanelModal.content" ng-disabled="selectPanelModal.option.contentBox.defaultContent"></textarea>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button ng-click="selectPanelModal.submit()" ng-disabled="selectPanelModal.lockedIds.length === 0 && selectPanelModal._SelectedList.getSelected().length===0">确定</button>\n    </div>\n</div>\n',
							controller: "selectPanelModalCtrl",
							controllerAs: "selectPanelModal",
							resolve: {
								option: function() {
									return t
								}
							},
							closable: t.window.closable,
							autofocus: t.window.autofocus
						});
						return l.result
					}
				}
			]).controller("selectPanelModalCtrl", ["$modalInstance", "$scope", "option", "SelectedList", "selectedItemFactory", "selectedItemType", "multiOrgTool", "PanelType", "SearchType", "mediaId", "avatarExplainer", "userManager",
				function(e, t, l, n, s, a, o, i, r, c, d, u) {
					function m(e, t) {
						var l = e.indexOf(t); - 1 !== l && e.splice(l, 1)
					}

					function p() {
						var e = l.selectorPanel.panelTypes;
						if (!y) {
							var t = [i.ORG, i.COMPANY_GROUP];
							t.forEach(function(t) {
								m(e, t)
							})
						}
						if ("SELECT_USER" === S) {
							var t = [i.COMPANY_GROUP, i.GROUP];
							t.forEach(function(t) {
								m(e, t)
							});
							var n = l.orgId;
							n || m(e, i.ORG)
						}
						if ("SELECT_ORG_USER" === S) {
							var s = [i.FRIEND, i.GROUP, i.COMPANY_GROUP, i.CUSTOM];
							s.forEach(function(t) {
								m(e, t)
							})
						}
						if ("SELECT_CONVERSATION" === S) {
							var n = l.orgId;
							n || m(e, i.ORG)
						}
						return h(e), e
					}

					function h(e) {
						var t = [],
							l = -1 !== e.indexOf(i.CUSTOM);
						l ? t.push(r.CUSTOM) : ("SELECT_ORG_USER" !== S && t.push(r.LOCAL), e.forEach(function(e) {
							switch (e) {
								case i.ORG:
									t.push(r.ORG);
									break;
								case i.FRIEND:
									t.push(r.FRIEND);
									break;
								case i.GROUP:
									t.push(r.GROUP);
									break;
								case i.COMPANY_GROUP:
									t.push(r.GROUP);
									break;
								case i.CONV:
									t.push(r.GROUP), t.push(r.ORG), t.push(r.FRIEND)
							}
						})), f.searchType = t
					}

					function P() {
						var e = null,
							t = l.orgId;
						if (t) {
							var n = [],
								s = $my.getOrgByOid(t);
							if (s ? n.push(s) : (m(O, i.ORG), console.log("你不在这个企业内或者ID" + t + "出错")), 0 === n.length) {
								var a = o.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees),
									r = o.getCurrentOrgData(a[0], a);
								n.push(r)
							} else e = o.convertOrgEmployeeExtensionModelListToOrgDataList(n)
						}
						return e
					}

					function v() {
						f.menuData = {
							panelTypeArr: O,
							orgDataArr: M
						}
					}

					function g() {
						var e = f._SelectedList.getSelected(),
							t = {
								conversations: [],
								content: ""
							};
						return e.forEach(function(e) {
							if (e.type === a.GROUP) var l = {
								conversationId: e.model.conversationId,
								title: e.text
							};
							else if (e.type === a.USER) {
								var n = e.model.uid + ":" + $my.userProfileModel.uid;
								parseInt(e.model.uid) > parseInt($my.userProfileModel.uid) && (n = $my.userProfileModel.uid + ":" + e.model.uid);
								var l = {
									conversationId: n,
									title: e.text
								};
								l.iconPromise = Promise.resolve(l.icon)
							}
							t.conversations.push(l)
						}), t.content = f.content, t
					}
					var f = this;
					this.option = l, this.isSearching = !1, this.multiple = l.multiple, this.max = l.max;
					var S = l.type,
						y = $my.orgEmployees && $my.orgEmployees.length,
						O = null,
						M = null;
					f.customUids = l.selectorPanel.customUids, f.content = this.option.contentBox.defaultContent, f.canSubmit = !1, this.showCompanyNameConf = l.selectorPanel.showCompanyNameConf, this.selectedUids = l.selectorPanel.selectedUids || [], this.disabledUids = l.selectorPanel.disabledUids || [], O = p(), M = P(), v();
					var E = _.get(l, "selectorPanel.lockedIds.uids"),
						U = _.get(l, "selectorPanel.lockedIds.cids"),
						R = [],
						I = [];
					E && E.length > 0 && (R = E.map(function(e) {
						return s.genSelectedItem(a.USER, e, !0)
					})), U && U.length > 0 && (I = U.map(function(e) {
						if (-1 !== e.indexOf(":")) {
							var t = e.split(":");
							if ($my.userProfileModel.uid === parseInt(t[0])) var l = t[1];
							else var l = t[0];
							return s.genSelectedItem(a.USER, l, !0)
						}
						return s.genSelectedItem(a.GROUP, e, !0)
					}));
					var C = R.concat(I);
					f.lockedIds = C, this.multiple || (this.max = 1), this._SelectedList = new n([], C, this.max), Array.isArray(this.selectedUids) && 0 !== this.selectedUids.length && u.getUsers(f.selectedUids).then(function(e) {
						var t = e.map(function(e) {
							return s.genSelectedItem(a.USER, e)
						});
						f._SelectedList.addItems(t)
					}), Array.isArray(this.disabledUids) && 0 !== this.disabledUids.length && u.getUsers(f.disabledUids).then(function(e) {
						var t = e.map(function(e) {
							return s.genSelectedItem(a.USER, e)
						});
						f._SelectedList.disableItems(t)
					}), this.submit = function() {
						"SELECT_USER" === S || "SELECT_ORG_USER" === S ? e.close(f._SelectedList.getSelected()) : "SELECT_CONVERSATION" === S && e.close(g())
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/selectorPanel/selectorPanel": 79,
			"../../service/mediaId/mediaId": 267,
			"../../service/search/search/SearchType": 355,
			"../../service/selectorPanel/PanelType": 361,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/tool/multiOrgTool": 382,
			"../../service/user/userManager": 404,
			"../../service/widget/avatarExplainer": 410,
			"../selectorPanel/selected/selectedList": 367,
			"../user/my": 400,
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	293: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.modal.sendDingModal",
				moment = require("moment"),
				path = require("path"),
				_ = require("lodash");
			require("./modal");
			var $my = require("../user/my");
			require("../ding/dinglist"), require("../../directive/sendDing/dingFileUploader"), require("../../directive/selectorPanel/selectorPanel"), require("../../service/selectorPanel/PanelType"), require("../../service/tool/modelHelper"), require("../../service/tool/multiOrgTool"), require("../../service/search/search/SearchType"), require("../../service/widget/selectorBar/selectorBarTool"), require("../../service/user/userManager"), require("../../directive/widget/selectorBar"), require("../../service/widget/selectorBar/ActionType"), require("../../service/toast/toast"), require("../../service/goldlog/goldlog"), require("../../service/log/lwlog.js");
			var app = angular.module(moduleName, ["ddWeb.modal", "ddWeb.ding", "ddWeb.sendDing.dingFileUploader", "ddWeb.selectorPanel", "ddWeb.service.PanelType", "ddWeb.service.modelHelper", "ddWeb.service.multiOrgTool", "ddWeb.service.SearchType", "ddWeb.user.userManager", "ddWeb.service.selectorBarTool", "ddWeb.widget.selectorBar", "ddWeb.service.ActionType", require("./confirm"), require("../../directive/sendDing/datetimePicker"), require("../../directive/sendDing/dingAttachment"), "ddWeb.toast", "ddWeb.goldlog", "ddWeb.log.lwlog", require("../selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType"), require("../ding/DingAttachmentType")]);
			app.factory("sendDingModalService", ["$modal", "$confirm", "dinglist", "toastService",
				function(e, n, t, i) {
					function d(t) {
						var t = t || {};
						t._hasEdited = !1;
						var i = e.open({
							template: '<div class="dialog send-ding-box">\n    <div class="head">\n        <i class="iconfont close"></i>\n        <span class="title" ng-if="!sendDing.isDingAgain">DING一下</span>\n        <span class="title" ng-if="sendDing.isDingAgain">请选择再次提醒对象</span>\n    </div>\n    <div class="body">\n        <div\n            selector-panel\n            menu-data="sendDing.menuData"\n            locked-ids="sendDing.lockedIds"\n            custom-uids="sendDing.customUids"\n            selected-list="sendDing._SelectedList"\n        ></div>\n        <div class="selector-and-content">\n            <div class="selector-choices-wrapper">\n            <selector-bar \n                          search-state="sendDing.searchState"\n                          menu-data="sendDing.menuData"\n                          search-type="sendDing.searchType"\n                          locked-ids="sendDing.lockedIds"\n                          placeholder="搜索名字、拼音、手机号..."\n                          action-type="sendDing.actionType"\n                          custom-uids="sendDing.customUids"\n                          is-searching="sendDing.isSearching"\n                          selected-list="sendDing._SelectedList"\n                          >\n                </selector-bar>\n                <span class="select-user-count" ng-class="{\'select-user-err-count\':sendDing._SelectedList.getSelected().length>sendDing.dingLimit}"><i class="iconfont loop-loading selector-bar-loading" ng-if="sendDing.isSearching">&#xe657;</i>{{sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length}}/{{sendDing.dingLimit}}</span>\n            </div>\n            <div class="content-wrapper">\n                <div class="audio-box clearfix" ng-if="sendDing.contentType===2">\n                    <audio-player audio-media-id="sendDing.content" audio-duration="sendDing.audioDuration" log="ding_voice_play"></audio-player>\n                </div>\n                <textarea ng-if="sendDing.contentType===1" class="textarea ding-text" ng-change="sendDing.onContentChange()" ng-model="sendDing.content" ng-disabled="sendDing.disableEdit"></textarea>\n                <ding-attachment attachment="sendDing.attachment" ng-if="sendDing.attachment"></ding-attachment>\n                <ding-file-uploader></ding-file-uploader>\n            </div>\n        </div>\n        <div class="clearfix notice-time-type" ng-class="{\'definte-notice-time\':sendDing.currentTimeMode.type===\'DEFINITETIME\', \'date-picker-hide\': !sendDing.dtPickerShow}">\n            <dd-drop-down\n                class="notice-time"\n                repeat-data="sendDing.DATETIME"\n                on-select="sendDing.onSelectTimeMode"\n                ng-model="sendDing.currentTimeMode"\n                ng-if="!sendDing.isDingAgain"\n                >\n                <dd-drop-down-match class="eye selected-country">\n                    <span class="rem">提醒时间：</span>\n                    <span class="choiced-content">{{$selectItem.text}}</span>\n                    <i class="iconfont tri">&#xe633;</i>\n                </dd-drop-down-match>\n                <dd-drop-down-choices>\n                    <span class="menu">{{$repeatItem.text}}</span>\n                </dd-drop-down-choices>\n            </dd-drop-down>\n            <span class="ding-again-tips" ng-if="sendDing.isDingAgain">再次提醒将不会创建一个新的DING</span>\n            <div date-time-picker ng-if="sendDing.currentTimeMode.type===\'DEFINITETIME\'" time="sendDing.currentTime" on-dt-picker-show="sendDing.onDtPickerShow()" on-dt-picker-close="sendDing.onDtPickerClose()"></div>\n            <dd-drop-down\n                class="notice-type"\n                repeat-data="sendDing.NOTITYPE"\n                on-select="sendDing.onSelectNotitype"\n                ng-model="sendDing.currentNotitype"\n                >\n                <dd-drop-down-match class="eye selected-country">\n                    <span class="rem">提醒方式：</span>\n                    <span class="choiced-content">{{$selectItem.text}}</span>\n                    <i class="iconfont tri">&#xe633;</i>\n                </dd-drop-down-match>\n                <dd-drop-down-choices>\n                    <span class="menu">{{$repeatItem.text}}</span>\n                </dd-drop-down-choices>\n            </dd-drop-down>\n        </div>\n    </div>\n    <div class="foot">\n        <button ng-disabled="sendDing.content.length===0||sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length===0||sendDing._SelectedList.getLocked().length+sendDing._SelectedList.getSelected().length>sendDing.dingLimit||(sendDing.filesList.length!=0&&!sendDing.isUploadFinish)||sendDing.disableSend" ng-click="sendDing.submit()">\n            <span ng-if="!sendDing.isDingAgain">发送</span>\n            <span ng-if="sendDing.isDingAgain">再次发送</span>\n        </button>\n    </div>\n</div>\n',
							controller: "sendDingModalCtrl",
							controllerAs: "sendDing",
							resolve: {
								option: function() {
									return t || {}
								}
							},
							closable: !0,
							autofocus: !1,
							beforeDismiss: function() {
								return t._hasEdited ? n({
									content: "关闭会清空你的输入信息，是否确认？"
								}) : !0
							}
						});
						return i.result
					}

					function s(e) {
						t.getDingById(e, function(n) {
							var t = _.get(n, "receiverList.unConfirmList") || [];
							t = t.filter(function(e) {
								return e.statusCode >= 10
							}).map(function(e) {
								return e.user.userProfileModel.uid
							}), 0 === t.length ? i.show("当前没有可以再次 DING 的人", {
								type: "error"
							}) : d({
								did: e,
								disableEdit: !0,
								isDingAgain: !0,
								customUids: t,
								selectedUids: t,
								dingAttachments: n.dingAttachments
							})
						})
					}
					return {
						showModal: d,
						dingAgain: s
					}
				}
			]), app.controller("sendDingModalCtrl", ["$modalInstance", "option", "dinglist", "PanelType", "modelHelper", "multiOrgTool", "SearchType", "userManager", "selectorBarTool", "ActionType", "$scope", "$confirm", "toastService", "$state", "goldlog", "lwlog", "SelectedList", "selectedItemFactory", "selectedItemType", "DingAttachmentType",
				function(e, n, t, i, d, s, o, r, a, c, l, g, u, p, m, h, D, y, T, v) {
					function f() {
						var e = [];
						return A.filesList.forEach(function(n) {
							e.push(A.dingFileModelList[n.itemIndex])
						}), e
					}

					function I(e) {
						var n = e.uidAttr,
							t = e.notiType,
							i = e.remindTime,
							d = e.content,
							s = e.mid,
							o = e.did;
						return A.disableSend = !0, A.isUploadFinish = !0, A.isDingAgain ? void E(o, n, t) : void(s && "" != s ? b(n, t, i, s) : S(n, t, i, d))
					}

					function S(e, n, i, d) {
						var s = [];
						A.attachment ? s.push(A.attachment) : s = f(), t.sendTextDing(e, n, i, d, L, s)
					}

					function b(e, n, i, d) {
						t.msgToDing(e, n, i, d, L)
					}

					function E(n, i, d) {
						t.dingAgain(n, i, d, function(n, t) {
							if (n) e.close(), u.show("再次提醒成功", {
								type: "success"
							});
							else {
								A.disableSend = !1;
								var i = _.get(t, "body.reason");
								u.show(i || "再次提醒失败", {
									type: "error"
								})
							}
						})
					}

					function L(n, t) {
						if (n) e.close(), p.go("authorized.ding.send"), m.log("mainpage_sendDing_create_click", "dingId=" + t.body.dingId), h.commLog("mainpage_sendDing_create_click", "dingId=" + t.body.dingId);
						else {
							if (A.disableSend = !1, 408 == t.code) return void(t.body && t.body.reason ? u.show(t.body.reason, {
								type: "error"
							}) : u.show("请求超时", {
								type: "error"
							}));
							t.body && t.body.reason && u.show(t.body.reason, {
								type: "error"
							})
						}
					}
					var A = this;
					this.uidAttr = [], this.selectedUids = n.selectedUids || [], this.lockedIds = n.lockedIds || [], this.customUids = n.customUids || [], this.content = n.content || "", this.msgId = n.msgId, this.did = n.did, this.isSearching = !1, this.disableEdit = n.disableEdit || !1, this.isDingAgain = n.isDingAgain || !1, this.contentType = n.contentType || 1, this.disableUpload = n.disableEdit || n.disableUpload || !1, this.filesList = [], n.dingAttachments && _.isArray(n.dingAttachments) && (this.attachment = n.dingAttachments[0]), this._SelectedList = new D([], this.lockedIds), this.did && t.getDingById(this.did, function(e) {
						A.contentType = _.get(e, "dingEntity.data.contentType"), 1 === e.dingEntity.data.contentType ? A.content = _.get(e, "dingEntity.data.textContent.text") : 2 === e.dingEntity.data.contentType && (A.content = _.get(e, "dingEntity.data.audioContent.mediaId"), A.audioDuration = parseInt(_.get(e, "dingEntity.data.audioContent.duration") / 1e3))
					}), 0 !== this.selectedUids.length && r.getUsers(A.selectedUids).then(function(e) {
						var n = e.map(function(e) {
							return y.genSelectedItem(T.USER, e)
						});
						A._SelectedList.addItems(n)
					}), A.dingLimit = 50, $my.userProfileModel.isOrgUser ? A.dingLimit = 600 : $my.orgEmployees && $my.orgEmployees.length > 0 ? A.dingLimit = 100 : A.dingLimit = 50, t.canSendDingToday(function(e, n) {
						e ? console.log(e) : A.dingLimit = n.remainCount
					});
					var w = null,
						M = null;
					this.customUids && 0 != this.customUids.length ? (w = [i.CUSTOM], this.searchType = [o.CUSTOM]) : d.isOrgUser($my) ? (w = [i.ORG, i.FRIEND], M = s.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees), this.searchType = [o.LOCAL, o.ORG, o.FRIEND]) : (w = [i.FRIEND], this.searchType = [o.LOCAL, o.FRIEND]), A.menuData = {
						panelTypeArr: w,
						orgDataArr: M
					}, A.isUploadFinish = !0, A.dingFileModelList = [], A.NOTITYPE = [{
						text: "电话",
						type: "TEL"
					}, {
						text: "短信",
						type: "SMS"
					}, {
						text: "应用内",
						type: "APP"
					}];
					var N = sessionStorage.getItem("ding_notiType");
					if (N) try {
						A.currentNotitype = JSON.parse(N)
					} catch (x) {
						console.log(x)
					} else A.currentNotitype = A.NOTITYPE[0];
					if (void 0 != n.alertType && _.isNumber(n.alertType) && A.NOTITYPE[n.alertType] && (A.currentNotitype = A.NOTITYPE[n.alertType]), A.onSelectNotitype = function(e) {
						sessionStorage.setItem("ding_notiType", JSON.stringify({
							text: e.text,
							type: e.type
						}))
					}, A.DATETIME = [{
						text: "立即发送",
						type: "RIGHTNOW"
					}, {
						text: "在指定时间发送",
						type: "DEFINITETIME"
					}], A.currentTimeMode = A.DATETIME[0], A.currentTime = null, n.alertDate && n.alertDate.value && n.alertDate.format) {
						var P = moment(n.alertDate.value, n.alertDate.format).format("YYYY-MM-DD HH:mm");
						P && (A.currentTime = P, A.currentTimeMode = A.DATETIME[1])
					}
					A.submit = function(e) {
						var n = null;
						return n = A.currentTime && "RIGHTNOW" !== A.currentTimeMode.type ? moment(A.currentTime, "YYYY-MM-DD HH:mm").valueOf() : null, A.uidAttr = A._SelectedList.getSelected().concat(A._SelectedList.getLocked()).map(function(e) {
							return e.model.uid || ""
						}), A.content.length > 1500 ? void u.show("DING文字不能超过1500字", {
							type: "information"
						}) : void("TEL" === A.currentNotitype.type && A.uidAttr.length > 40 ? g({
							title: "建议你使用短信或应用内提示",
							content: "电话通知的人数较多，对方未及时接听可能产生多个来电回拨",
							confirmText: "继续发送",
							cancelText: "取消"
						}).then(function() {
							I({
								uidAttr: A.uidAttr,
								notiType: A.currentNotitype.type,
								remindTime: n,
								content: A.content,
								mid: A.msgId,
								did: A.did
							})
						}) : I({
							uidAttr: A.uidAttr,
							notiType: A.currentNotitype.type,
							remindTime: n,
							content: A.content,
							mid: A.msgId,
							did: A.did
						}))
					}, A.onContentChange = function() {
						A.content.length > 0 ? n._hasEdited = !0 : n._hasEdited = !1
					}, A.dtPickerShow = !1, A.onDtPickerShow = function() {
						A.dtPickerShow = !0
					}, A.onDtPickerClose = function() {
						A.dtPickerShow = !1
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/selectorPanel/selectorPanel": 79,
			"../../directive/sendDing/datetimePicker": 80,
			"../../directive/sendDing/dingAttachment": 81,
			"../../directive/sendDing/dingFileUploader": 82,
			"../../directive/widget/selectorBar": 111,
			"../../service/goldlog/goldlog": 239,
			"../../service/log/lwlog.js": 262,
			"../../service/search/search/SearchType": 355,
			"../../service/selectorPanel/PanelType": 361,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/toast/toast": 378,
			"../../service/tool/modelHelper": 381,
			"../../service/tool/multiOrgTool": 382,
			"../../service/user/userManager": 404,
			"../../service/widget/selectorBar/ActionType": 417,
			"../../service/widget/selectorBar/selectorBarTool": 424,
			"../ding/DingAttachmentType": 208,
			"../ding/dinglist": 216,
			"../selectorPanel/selected/selectedList": 367,
			"../user/my": 400,
			"./confirm": 280,
			"./modal": 283,
			"lodash": 470,
			"moment": 472,
			"path": 5
		}
	],
	294: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				ua = require("../ua");
			require("./modal"), require("../app/nw");
			var storage = require("../storage/storage");
			require("../app/versionCmp"), require("../notification"), require("../app/appAutoRun"), require("../tool/tool"), require("../toast/toast"), require("../events"), angular.module("ddWeb.modal.settingModal", ["ddWeb.modal", "ddWeb.nw", "ddWeb.versionCmp", "ddWeb.notification", "ddWeb.appAutoRun", "ddWeb.service.tool", "ddWeb.toast", require("../../directive/widget/hotkey"), require("../storage/ddStorage"), require("../widget/hotkeyManager"), "ddWeb.events", require("../../directive/widget/radiobox")]).factory("settingModal", ["$modal",
				function(t) {
					return function(e) {
						var n = t.open({
							template: ' <div class="dialog mini">\n     <div class="head">\n         <i class="iconfont close"></i>\n         <span class="title">设置</span>\n     </div>\n     <div class="body">\n         <div class="settings">\n             <div class="setting-item desk-notice" ng-if="settingModal.settingSwitcher.notification">\n                 <span class="rem">桌面通知权限</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.notification">\n                     <label></label>\n                 </div>\n             </div>\n             <div class="setting-item desk-notice" ng-if="settingModal.settingSwitcher.dingEmailNotification">\n                 <span class="rem">钉邮桌面通知</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.dingEmailNotification">\n                     <label></label>\n                 </div>\n             </div>\n             <div class="setting-item reminder-voice" ng-if="settingModal.settingSwitcher.beep">\n                 <span class="rem">打开提示音</span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.beep">\n                     <label></label>\n                 </div>\n             </div>\n\n             <hotkey ng-repeat = "item in settingModal.hotkeyEditState" hotkey-setting="settingModal.localSetting[item.key]" identifier="{{item.key}}" ng-if="item.value"></hotkey>\n\n             <div class="setting-item" ng-if="settingModal.settingSwitcher.autorun">\n                 <span class="rem">开机自动启动<span ng-if="!settingModal.canSetAutoRun" class="autorun-open-label">（此版本不支持，请到官网下载新版本）</span></span>\n                 <div class="toggle" dd-checkbox ng-model="settingModal.localSetting.autorun">\n                     <label></label>\n                 </div>\n             </div>\n\n             <div class="setting-item clearfix">\n                 <span class="rem">发送消息快捷键</span>\n                 <div class="radio-list">\n                     <dd-radiobox ng-model="settingModal.localSetting.sendMessageShortcut" value="Enter">\n                         Enter 发送 , Ctrl+Enter 换行\n                     </dd-radiobox>\n                     <dd-radiobox ng-model="settingModal.localSetting.sendMessageShortcut" value="Ctrl+Enter">\n                         Enter 换行 , Ctrl+Enter 发送\n                     </dd-radiobox>\n                 </div>\n             </div>\n\n             <div class="dd-version-item">\n                 <span ng-if="settingModal.isNw">nw:{{settingModal.nwversion}}</span>\n                 <span>v{{settingModal.ddVersion}}</span>\n             </div>\n         </div>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-click="settingModal.submitSetting()">确定</button>\n     </div>\n </div>\n',
							controller: "settingModalCtrl",
							controllerAs: "settingModal",
							resolve: {}
						});
						return n.result
					}
				}
			]).controller("settingModalCtrl", ["$modalInstance", "nw", "versionCmp", "notification", "appAutoRun", "hotkeyManager", "tool", "toastService", "ddStorage", "$rootScope", "EVENTS",
				function(t, e, n, i, o, a, s, l, r, c, d) {
					function g() {
						b.isNw && (b.canSetAutoRun = "smaller" != n.checkCurrentVersionWith("0.3.0"))
					}

					function u() {
						M.forEach(function(t) {
							t.value && a.setHotkey(t.key, b.localSetting[t.key])
						})
					}

					function v() {
						M.forEach(function(t) {
							t.value && (b.localSetting[t.key] = a.getHotkey(t.key).value)
						})
					}

					function f() {
						var t = [],
							e = "快捷键不能重复";
						if (M.forEach(function(e) {
							e.value && t.push(b.localSetting[e.key])
						}), m(t)) return !0;
						var n = function(t, e) {
							return t && e && t === e
						};
						return s.hasRepeatItem(t, n) ? (l.show(e, {
							type: "error"
						}), !1) : !0
					}

					function m(t) {
						return 0 === t.filter(function(t) {
							return t && t.length > 0
						}).length
					}

					function p() {
						var t = storage.local.getItem("notification"),
							e = storage.local.getItem("isBeepOpen"),
							n = storage.local.getItem("autorun"),
							i = r.getItemWithUid("dingEmailNotification"),
							o = r.getItem("sendMessageShortcut") || "Enter";
						t = "true" === t, e = "true" === e, i = "true" === i, b.isNw && b.canSetAutoRun && !b.isMac && (n = n ? "true" === n : !0, b.localSetting.autorun = n), v(), b.localSetting.notification = t, b.localSetting.beep = e, b.localSetting.dingEmailNotification = i, b.localSetting.sendMessageShortcut = o
					}

					function S() {
						f() && (b.localSetting.notification && i.init(function(t) {
							"granted" == t ? b.localSetting.notification = !0 : (b.localSetting.notification = !1, storage.local.setItem("notification", b.localSetting.notification))
						}), storage.local.setItem("notification", b.localSetting.notification), r.setItemWithUid("dingEmailNotification", b.localSetting.dingEmailNotification), r.setItem("sendMessageShortcut", b.localSetting.sendMessageShortcut), b.isNw && !b.isMac && b.canSetAutoRun && (storage.local.setItem("autorun", b.localSetting.autorun), o.setAppAutoRun(b.localSetting.autorun, function(t) {})), storage.local.setItem("isBeepOpen", b.localSetting.beep), u(), t.close("ok"), c.$broadcast(d.SETTING_MODAL_CLOSE))
					}

					function h() {
						g(), p()
					}
					var b = this,
						M = a.getHotkeyEditState();
					this.title = "设置", this.isNw = ua.isNw, this.isMac = ua.isMac, this.settingSwitcher = {
						notification: !0,
						beep: !0,
						autorun: this.isNw && !this.isMac,
						dingEmailNotification: !0
					}, this.canSetAutoRun = null, this.localSetting = {}, this.hotkeyEditState = M, h(), this.isNw && (this.nwversion = e.version()), this.ddVersion = window.version, this.submitSetting = S
				}
			]);


		}, {
			"../../directive/widget/hotkey": 102,
			"../../directive/widget/radiobox": 109,
			"../app/appAutoRun": 152,
			"../app/nw": 161,
			"../app/versionCmp": 165,
			"../events": 221,
			"../notification": 304,
			"../storage/ddStorage": 372,
			"../storage/storage": 373,
			"../toast/toast": 378,
			"../tool/tool": 384,
			"../ua": 390,
			"../widget/hotkeyManager": 415,
			"./modal": 283,
			"path": 5
		}
	],
	295: [
		function(require, module, exports) {
			var moduleName = "ddWeb.modal.spaceFileModal",
				path = require("path"),
				cspacePlugin = require("@ali/space-plugin");
			angular.module(moduleName, [require("./modal"), require("../toast/toast"), require("../spacePlugin/config")]).factory("spaceFileModal", ["$modal", "toastService", "spacePluginConfig",
				function(e, o, i) {
					i();
					var l = function(e) {
						cspacePlugin.validateFileSelect(e).then(function() {
							a(e)
						}, function(i) {
							var l = "钉盘访问失败，请稍后重试";
							switch (i.errorCode) {
								case 1006:
									l = "保存 " + e.file.fileName + " 失败，没有权限";
									break;
								case 1007:
									l = "您还没有加入任何企业";
									break;
								case 1008:
									l = "获取钉盘列表失败，请稍后重试"
							}
							o.show(l, {
								type: "error"
							}), e.onValidateError && e.onValidateError(i)
						})
					}, a = function(o) {
							e.open({
								template: '<div class="dialog space-file-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{spaceFile.title}}</span>\n    </div>\n    <div class="body" style="position: relative;" space-file option="spaceFile.option" close-modal="spaceFile.closeModal()"></div>\n</div>\n',
								resolve: {
									option: function() {
										return o
									}
								},
								controller: "spaceFileModalCtrl",
								controllerAs: "spaceFile",
								closable: !0,
								autofocus: !1
							})
						};
					return {
						showModal: l
					}
				}
			]).controller("spaceFileModalCtrl", ["$modalInstance", "option",
				function(e, o) {
					this.option = o, this.title = "", "1" === this.option.dialogType ? this.title = "选择文件" : "2" === this.option.dialogType && (this.title = "选择保存目录"), this.closeModal = function() {
						e.close()
					}
				}
			]).directive("spaceFile", ["toastService",
				function(e) {
					return {
						restrict: "AE",
						scope: {
							option: "=",
							closeModal: "&"
						},
						template: '<div class="space-file-dialog-inner"></div>',
						link: function(o, i, l) {
							var a = o.option;
							cspacePlugin.openFileSelectDialog({
								dialogType: a.dialogType,
								container: i[0],
								file: a.file,
								orgId: a.orgId,
								targetSpaceId: a.targetSpaceId,
								targetUserOrgList: a.targetUserOrgList,
								onSelect: function(i) {
									a.onSelect && a.onSelect(), o.closeModal && o.closeModal(), "1" === a.dialogType ? (i.successList && i.successList.length && a.onSuccess && a.onSuccess(i.successList), i.failedList && i.failedList.length && e.show(i.failedList.length + " 个文件发送失败", {
										type: "error"
									})) : "2" === a.dialogType && i.then(function(o) {
										if (o && !o.success || o.data.failedList && o.data.failedList.length) {
											var i = "保存 " + a.file.fileName + " 失败";
											o.userMessage && (i = o.userMessage), a.onError && a.onError(), e.show(i, {
												type: "error"
											})
										} else a.onSuccess && a.onSuccess(o.data), e.show("保存 " + a.file.fileName + " 成功", {
											type: "success"
										})
									}, function() {
										a.onError && a.onError(), e.show("保存 " + a.file.fileName + " 失败", {
											type: "error"
										})
									}).always(function() {
										a.alwaysCallback && a.alwaysCallback()
									})
								},
								onSelectError: function(o) {
									console.log(o), 1010 === o.errorCode ? e.show("最多只能选择 20 个文件", {
										type: "error"
									}) : e.show("操作失败，请稍后重试", {
										type: "error"
									})
								}
							})
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../spacePlugin/config": 370,
			"../toast/toast": 378,
			"./modal": 283,
			"@ali/space-plugin": 459,
			"path": 5
		}
	],
	296: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("./modal"), require("../tool/multiOrgTool");
			var moduleName = "ddWeb.service.switchOrgModal";
			angular.module(moduleName, ["ddWeb.modal", "ddWeb.service.multiOrgTool"]).factory("switchOrgModalService", ["$modal", "$q", "multiOrgTool",
				function(t, r, e) {
					function o(r) {
						var o = null;
						return r && r.orgEmployees ? 1 === r.orgEmployees.length ? l(r.orgEmployees) : (o = t.open({
							template: '<div class="dialog mini switch-org-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">请选择企业</span>\n    </div>\n    <div class="body">\n        <ul>\n            <li ng-click="switchOrgModalCtrl.switch(item)" ng-class="{selected: switchOrgModalCtrl.isSelected(item)}" ng-repeat="item in switchOrgModalCtrl.orgDataArr">\n                {{item.orgName}}\n            </li>\n        </ul>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="switchOrgModalCtrl.submit()">确定</button>\n    </div>\n</div>\n',
							controller: "switchOrgModalCtrl",
							controllerAs: "switchOrgModalCtrl",
							resolve: {
								orgDataArr: function() {
									return e.convertOrgEmployeeExtensionModelListToOrgDataList(r.orgEmployees)
								}
							},
							closable: !0,
							autofocus: !1
						}), o.result) : void 0
					}

					function l(t) {
						var o = null,
							l = null;
						return o = e.convertOrgEmployeeExtensionModelListToOrgDataList(t), l = r.defer(), l.resolve(e.getCurrentOrgData(o[0], o)), l.promise
					}
					return {
						showModal: o
					}
				}
			]).controller("switchOrgModalCtrl", ["$modalInstance", "$timeout", "orgDataArr", "multiOrgTool",
				function(t, r, e, o) {
					this.targetOrgData = null, this.orgDataArr = e, this["switch"] = function(t) {
						this.targetOrgData = t
					}, this.submit = function() {
						t.close(this.targetOrgData)
					}, this.close = function() {
						t.dismiss("取消")
					}, this.isSelected = function(t) {
						return o.isOrgDataEqual(this.targetOrgData, t)
					}, this["switch"](o.getCurrentOrgData(this.orgDataArr[0], this.orgDataArr))
				}
			]), module.exports = moduleName;


		}, {
			"../tool/multiOrgTool": 382,
			"./modal": 283,
			"path": 5
		}
	],
	297: [
		function(require, module, exports) {
			var moduleName = "ddWeb.service.transferGroupBossModal",
				path = require("path"),
				LoginStatusCode = require("../login/LoginStatusCode");
			require("./modalHelper"), require("../user/userCache"), require("../toast/toast");
			var $my = require("../user/my");
			angular.module(moduleName, ["ddWeb.user.userCache", require("../user/userManager"), require("./modal"), require("../conversation/conversation"), require("@ali/ding-api")["interface"].IDLConversation, require("../conversation/msg/msgFactory"), require("../conversation/GroupRole"), "ddWeb.toast", require("../login/loginStatus"), require("../log/log")]).factory("transferGroupBossService", ["$modal",
				function(e) {
					function r(r) {
						var o = e.open({
							template: '<div class="dialog middle transfer-group-boss-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <div class="header">请选择新的群主</div>\n    </div>\n    <div class="body">\n        <loading ng-if="!tbCtrl.dataReady"></loading>\n        <div class="people" ng-class="{\'checked\': tbCtrl.checkedUid === item.userProfileModel.uid}" ng-repeat="item in tbCtrl.avatarList" ng-click="tbCtrl.onItemClick(item.userProfileModel.uid)">\n            <dd-avatar uid="item.userProfileModel.uid"></dd-avatar>\n            <p class="name" ng-bind-html="(item.remarkNameObj.alias || item.userProfileModel.nick)|emoj" htitle="{{item.remarkNameObj.alias || item.userProfileModel.nick}}" htitle-offset="left"></p>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue small" ng-click="tbCtrl.setGroupBoss()" ng-disabled="tbCtrl.isDisabled">确认</button>\n        <button class="red small" ng-click="tbCtrl.cancel()">取消</button>\n    </div>\n</div>\n',
							controller: "transferGroupBossCtrl",
							controllerAs: "tbCtrl",
							resolve: {
								info: function() {
									return r
								}
							}
						});
						return o.result
					}
					return {
						showModal: r
					}
				}
			]).controller("transferGroupBossCtrl", ["$scope", "$modalInstance", "info", "userManager", "conversation", "IDLConversation", "msgFactory", "GroupRole", "toastService", "loginStatus", "log",
				function(e, r, o, t, i, n, a, s, l, d, c) {
					var u = this,
						f = i.getConvObj(o.cid);
					u.conv = f, u.conv.getMembers(), u.avatarList = [], u.dataReady = !1, u.checkedUid = null, u.isDisabled = !0, e.$watch(function() {
						return f.members
					}, function(e) {
						if (e && 0 !== e.length) {
							u.avatarList = [];
							var r = [];
							e.forEach(function(e) {
								e.role !== s.BOSS && r.push(e.openIdEx.openId)
							}), t.getUsers(r).then(function(e) {
								e.forEach(function(e) {
									e && u.avatarList.push(e)
								}), u.dataReady = !0
							})
						}
					}, !0), u.onItemClick = function(e) {
						u.checkedUid === e ? (u.checkedUid = null, u.isDisabled = !0) : (u.checkedUid = e, u.isDisabled = !1)
					}, u.setGroupBoss = function() {
						if (u.isDisabled = !0, d.getLoginStatus() !== LoginStatusCode.LOGINED) return void l.show("当前网络不可用，请稍后再试", {
							type: "error"
						});
						r.close();
						var e = {
							uuid: a.genUUID(),
							conversationId: o.cid,
							type: 1,
							creatorType: 2,
							tag: 0,
							content: {
								contentType: 1,
								textContent: {
									text: "你已被" + $my.userProfileModel.nick + "设置为该群群主"
								}
							}
						};
						n.updateOwner(o.cid, u.checkedUid, e, function(e) {
							if (200 === e.code) {
								var r = u.avatarList.filter(function(e) {
									return e.userProfileModel.uid === u.checkedUid
								}),
									o = r[0].remarkNameObj.alias || r[0].userProfileModel.nick;
								l.show("已转让群主给" + o, {
									type: "success"
								}), m(u.checkedUid)
							} else l.show("转让群主失败", {
								type: "error"
							}), c.info("transfer group boss", JSON.stringify(e))
						})
					}, u.cancel = function() {
						r.dismiss()
					};
					var m = function(e) {
						u.conv.members.forEach(function(e) {
							e.openIdEx.openId === $my.uid ? e.role = s.MEMBER : e.openIdEx.openId === u.checkedUid && (e.role = s.BOSS)
						})
					}
				}
			]), module.exports = moduleName;


		}, {
			"../conversation/GroupRole": 185,
			"../conversation/conversation": 193,
			"../conversation/msg/msgFactory": 198,
			"../log/log": 260,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../toast/toast": 378,
			"../user/my": 400,
			"../user/userCache": 401,
			"../user/userManager": 404,
			"./modal": 283,
			"./modalHelper": 284,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	298: [
		function(require, module, exports) {
			var moduleName = "ddWeb.modal.transferMsg",
				path = require("path"),
				_ = require("lodash");
			require("../../directive/selectorPanel/selectorPanel"), require("../../directive/widget/selectorBar"), require("../../service/tool/multiOrgTool"), require("../widget/selectorBar/ActionType");
			var $my = require("../user/my"),
				app = angular.module(moduleName, [require("./modal"), require("../search/search/SearchType"), require("../selectorPanel/PanelType"), "ddWeb.service.multiOrgTool", "ddWeb.selectorPanel", "ddWeb.widget.selectorBar", require("../selectorPanel/selected/selectedList"), require("../../service/selectorPanel/selected/selectedItemFactory"), require("../../service/selectorPanel/selected/selectedItemType")]);
			app.factory("transferMsg", ["$modal",
				function(e) {
					return function(r) {
						var s = e.open({
							template: '<div class="dialog add-group-member-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">{{transferMsg.title}}</span>\n    </div>\n    <div class="body">\n        <div class="left">\n            <p class="explainText">新添成员:\n              <span class="select-user-count">\n                <i class="iconfont loop-loading selector-bar-loading" ng-if="transferMsg.isSearching">&#xe657;</i>已选 {{transferMsg.selected.length}} 人\n              </span>\n            </p>\n            <selector-bar \n                  search-state="transferMsg.searchState"\n                  menu-data="transferMsg.menuData"\n                  search-type="transferMsg.searchType"\n                  placeholder="搜索名字、拼音、手机号..."\n                  is-searching="transferMsg.isSearching"\n                  selected-list="transferMsg._SelectedList"\n            ></selector-bar>\n            \n        </div>\n        <div class="right">\n            <p class="explainText">选择联系人:</p>\n\n            <div selector-panel class="selector-panel"\n                 menu-data="transferMsg.menuData"\n                 org-data-arr="transferMsg.orgDataArr"\n                 selected-list="transferMsg._SelectedList"\n                 >\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-disabled="transferMsg.isDisabled()" ng-click="transferMsg.submit()">确定</button>\n    </div>\n</div>\n',
							resolve: {
								option: function() {
									return r
								}
							},
							controller: "transferMsgCtrl",
							controllerAs: "transferMsg"
						});
						return s.result
					}
				}
			]).controller("transferMsgCtrl", ["$scope", "option", "PanelType", "SearchType", "multiOrgTool", "SelectedList", "selectedItemFactory", "selectedItemType",
				function(e, r, s, t, n, a, l, i) {
					function o() {
						return $my.orgEmployees && $my.orgEmployees.length > 0
					}
					var c = null,
						d = null,
						u = this;
					this.title = _.get(r, "title") || "转发", this.menuData = null, this.selectedUids = _.get(r, "selectedUids") || [], this.customUids = _.get(r, "customUids") || [], this._SelectedList = new a, o() ? (c = [s.ORG, s.FRIEND, s.COMPANY_GROUP], d = n.convertOrgEmployeeExtensionModelListToOrgDataList($my.orgEmployees), this.searchType = [t.LOCAL, t.ORG, t.FRIEND, t.GROUP]) : (c = [s.FRIEND, s.GROUP], this.searchType = [t.LOCAL, t.FRIEND]), u.menuData = {
						panelTypeArr: c,
						orgDataArr: d
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/selectorPanel/selectorPanel": 79,
			"../../directive/widget/selectorBar": 111,
			"../../service/selectorPanel/selected/selectedItemFactory": 365,
			"../../service/selectorPanel/selected/selectedItemType": 366,
			"../../service/tool/multiOrgTool": 382,
			"../search/search/SearchType": 355,
			"../selectorPanel/PanelType": 361,
			"../selectorPanel/selected/selectedList": 367,
			"../user/my": 400,
			"../widget/selectorBar/ActionType": 417,
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	299: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal.updateAlert",
				serviceName = "updateAlert",
				_ = require("lodash");
			angular.module(moduleName, [require("./modal"), require("../app/nw"), require("../globalUrl")]).factory(serviceName, ["$modal",
				function(t) {
					return function(e) {
						var n = t.open({
							template: '<div class="dialog mini force-update-alert">\n    <div class="head" ng-show="!!updateAlertCtrl.title">\n        <span class="title">{{updateAlertCtrl.title}}</span>\n        <i class="close iconfont" ng-if="!updateAlertCtrl.isForceUpdate"></i>\n    </div>\n    <div class="body">\n        <p class="update-title" ng-if="updateAlertCtrl.updateTitle">{{updateAlertCtrl.updateTitle}}</p>\n        <p class="update-title" ng-if= "updateAlertCtrl.isDoDownload">全新的钉钉客户端已经准备完毕，此版本需要重新下载和安装。</p>\n        <div class="update-content">\n            <p>更新内容：</p>\n            <ol class="update-content-list">\n                <li ng-repeat="item in updateAlertCtrl.desc">{{ item }}</li>\n            </ol>\n        </div>\n        <p class="update-tip" ng-if= "updateAlertCtrl.isDoDownload">如果未能成功下载，请到官网(http://www.dingtalk.com/?gotoDownload=true)下载最新版本</p>\n    </div>\n    <div class="foot">\n        <button ng-repeat="item in updateAlertCtrl.buttonList" ng-click="item.action()" ng-class="{\'red\':item.type===\'warning\',\'blue\':item.type===\'normal\'}">{{item.name}}</button>\n    </div>\n</div>\n',
							controller: "updateAlertCtrl",
							controllerAs: "updateAlertCtrl",
							resolve: {
								updateConf: function() {
									return e
								}
							},
							closable: !e.isForce,
							autofocus: !1
						});
						return n.result
					}
				}
			]).controller("updateAlertCtrl", ["$modalInstance", "nw", "globalURL", "updateConf",
				function(t, e, n, l) {
					var a = this,
						o = function() {
							var n = l.downloadURL;
							e.openExternal(n), a.isForceUpdate || t.close("ok")
						}, i = function() {
							t.close()
						}, r = function() {
							t.dismiss()
						};
					this.title = "升级提醒", this.desc = l.desc || [], this.isForceUpdate = !! l.isForce, this.isDoDownload = !! l.isDoDownload, this.updateTitle = l.updateTitle, this.buttonList = [];
					var d = {
						downloadBtn: {
							name: "下载",
							action: o,
							type: "normal"
						},
						confirmBtn: {
							name: "确定",
							action: i,
							type: "normal"
						},
						cancelBtn: {
							name: "取消",
							action: r,
							type: "warning"
						}
					}, s = ["download", "confirm", "cancel"];
					l.buttonList && l.buttonList.forEach(function(t) {
						-1 !== s.indexOf(t) && a.buttonList.push(_.get(d, t + "Btn"))
					})
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../globalUrl": 238,
			"./modal": 283,
			"lodash": 470,
			"path": 5
		}
	],
	300: [
		function(require, module, exports) {
			"use strict";
			var path = require("path");
			require("./modal"), require("../file/fileTypes"), require("../file/fileHelper"), angular.module("ddWeb.modal.uploadFile", ["ddWeb.modal", "ddWeb.file.fileTypes", "ddWeb.file.fileHelper", require("../../directive/uploadFileContent/uploadFileContent")]).factory("$uploadFilePreview", ["$modal", "$q",
				function(e, i) {
					var l = {
						isFromScreenShot: !1
					};
					return function(o, n) {
						if (!o) return i.defer().promise;
						var n = n || {};
						n = $.extend({}, l, n);
						var t = e.open({
							template: '<div class="dialog middle">\n    <div class="head">\n        <i class="iconfont close" ng-click="UploadFile.cancel()"></i>\n        <span class="title">{{UploadFile.title}}</span>\n    </div>\n    <div class="body">\n        <upload-file-content file="UploadFile.file" options="UploadFile.options"></upload-file-content>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-if="UploadFile.isFromScreenShot" ng-click="UploadFile.cancel()">复制图片</button>\n        <button class="blue ok" ng-click="UploadFile.ok()">发送</button>\n    </div>\n</div>',
							controller: "UploadFile",
							controllerAs: "UploadFile",
							resolve: {
								file: function() {
									return o
								},
								options: function() {
									return n
								}
							},
							enterTriggerEl: ".ok"
						});
						return t.result
					}
				}
			]).controller("UploadFile", ["file", "$modalInstance", "options", "$fileHelper", "$fileTypes", "$sce", "$scope",
				function(e, i, l, o, n, t, r) {
					this.isFromScreenShot = l.isFromScreenShot, this.file = e, this.options = l, this.title = "";
					var s = n.getTypeByName(e.name),
						a = n.isImg(s);
					a ? this.title = "发送图片" : this.title = "文件上传", this.ok = function() {
						i.close(e)
					}, this.cancel = function() {
						i.dismiss()
					}
				}
			]);


		}, {
			"../../directive/uploadFileContent/uploadFileContent": 83,
			"../file/fileHelper": 224,
			"../file/fileTypes": 225,
			"./modal": 283,
			"path": 5
		}
	],
	301: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.modal.uploadMultiImgs";
			require("./modal"), require("../file/fileHelper"), require("../file/fileTypes"), angular.module(moduleName, ["ddWeb.modal", "ddWeb.file.fileHelper", "ddWeb.file.fileTypes", require("../api/Upload"), require("../mediaId/mediaId"), require("../../directive/widget/progressBar")]).factory("$uploadMultiImgs", ["$modal", "$q",
				function(e, i) {
					var n = function(n, l) {
						var n = n || [];
						if (0 === n.length) return i.defer().promise;
						var r = e.open({
							template: '<div class="dialog multifile-upload-modal">\n    <div class="head">\n        <i class="close iconfont"></i>\n        <span class="title">上传图片</span>\n    </div>\n    <div class="body">\n        <div class="file-list">\n            <p class="summary">本次选择 {{files.length}} 个文件，可以发送 {{validFiles.length}} 个。</p>\n            <div class="file-item clearfix" ng-repeat="item in files">\n                <div class="file-icon" ng-class="item.iconClass"></div>\n                <div class="content">\n                    <div class="file-name">{{item.name}}<span>({{item.showSize}})</span></div>\n                    <div class="file-progress">\n                    <progress-bar ng-if="item.checkResult[0] && item.isImg && item.progress !== 100 && !item.overSize" progress="item.progress"></progress-bar>\n                    <span ng-if="!item.checkResult[0] || !item.isImg || item.overSize">{{item.checkResult[2]}}</span>\n                    <span ng-if="item.progress === 100">上传成功</span>\n                    </div>                    \n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="foot">\n        <button class="blue" ng-click="ok()" ng-disabled="!canSubmit">确定</button>\n    </div>\n</div>\n',
							controller: "uploadMultiImgsCtrl",
							resolve: {
								files: function() {
									return n
								},
								maxCountLimit: function() {
									return l
								}
							},
							enterTriggerEl: ".ok"
						});
						return r.result
					};
					return {
						open: n
					}
				}
			]).controller("uploadMultiImgsCtrl", ["$scope", "files", "$modalInstance", "$fileHelper", "$fileTypes", "Upload", "mediaId", "maxCountLimit",
				function(e, i, n, l, r, s, t, a) {
					function o() {
						i.forEach(function(e) {
							e.checkResult = l.checkFileV2(e), e.iconClass = r.getFileIconByType(r.getTypeByName(e.name)), e.showSize = l.formatFileSize(e.size), e.fileType = r.getTypeByName(e.name), e.isImg = r.isImg(e.fileType), e.isImg || (e.checkResult[2] = "非图片不能上传")
						})
					}

					function c() {
						e.canSubmit = m === e.validFiles.length
					}

					function u(e) {
						return s.upload(e, function(i) {
							e.progress = parseInt(100 * i)
						}).then(function(i) {
							m++, c();
							var n = null;
							n = i.body.hd ? i.body.hd : i.body.uri, n && (e.thumbSrc = t.mid2Url(n, {
								imageSize: "thumb"
							}), e.originSrc = t.mid2Url(n, {
								imageSize: "origin"
							}))
						})
					}

					function d() {
						var i = Promise.resolve();
						e.validFiles.forEach(function(e) {
							i = i.then(function() {
								return u(e)
							})
						})
					}
					var i = i || [],
						m = 0,
						f = a > 10 ? 10 : a;
					if (!(i instanceof Array)) try {
						i = Array.prototype.slice.apply(i)
					} catch (p) {
						return console.log("files 不能转换成 Array, 请检查传参数是否正确"), !1
					}
					e.files = i, e.canSubmit = !1, o(), e.getValidFiles = function() {
						var i = e.files.filter(function(e) {
							return e.checkResult[0] && e.isImg
						}),
							n = i.length > f ? f : i.length;
						return i.forEach(function(e, i) {
							i >= n && (e.overSize = !0, e.checkResult[2] = "超过上传数量限制，不能上传")
						}), i.slice(0, n)
					}, e.validFiles = e.getValidFiles(), d(), e.ok = function() {
						var i = e.validFiles.map(function(e) {
							return {
								filename: e.name,
								thumbSrc: e.thumbSrc,
								originSrc: e.originSrc,
								fileSize: e.size
							}
						});
						n.close(i)
					}, e.cancel = function() {
						n.dismiss("cancel")
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/widget/progressBar": 108,
			"../api/Upload": 148,
			"../file/fileHelper": 224,
			"../file/fileTypes": 225,
			"../mediaId/mediaId": 267,
			"./modal": 283,
			"path": 5
		}
	],
	302: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				moduleName = "ddWeb.service.pwdModify";
			require("../modal/modal"), require("../../service/modifyPassword/pwdStrength"), require("../../service/toast/toast"), angular.module(moduleName, ["ddWeb.modal", require("@ali/ding-api")["interface"].UserI, "ddWeb.service.pwdStrength", "ddWeb.toast"]).factory("pwdModify", ["$rootScope", "$q", "$controller", "$compile", "$templateCache", "$sce", "$modal",
				function(n, e, d, t, o, i, s) {
					var l = {
						title: "",
						content: "",
						closable: !0,
						hasTitle: !1
					};
					return function(n) {
						var n = n || {};
						n = $.extend({}, l, n);
						var e = s.open({
							template: ' <div class="dialog mini modify-password-dialog">\n <form>\n     <div class="head">\n         <i class="iconfont close" ng-if="pwdModify.closable" ng-click="pwdModify.closeModal()"></i>\n         <span class="title">修改密码</span>\n\n     </div>\n     <div class="body">\n        <div class="dialog-pwd-warning" ng-if="pwdModify.modalContentTitle"><i class="iconfont">&#xe63c;</i><span>{{pwdModify.modalContentTitle}}</span></div>\n         <div class="form-area modify-password">\n             <ul class="form-items">\n                 <li class="form-item old-pwd">\n                     <label for="" class="title">原密码：</label>\n                     <input type="password" class="input" ng-model = "pwdModify.oldPwd"/>\n\n                 </li>\n                 <li class="form-item">\n                     <p class="extro-des">建议用英文字母(大小写区分)加数字或符号的混合密码</p>\n                     <label for="" class="title">新密码：</label>\n                     <input type="password" class="input" ng-model = "pwdModify.newPwd" ng-class="pwdModify.shortenInput"/>\n                     <div class="pwd-strength-panel" ng-class="pwdModify.pwdSt" ng-if="pwdModify.pwdStrengthMsg!=\'\'">\n                         <div class="pwd-strength-msg">{{pwdModify.pwdStrengthMsg}}</div>\n                         <div class="pwd-strength-display">\n                             <div class="pwd-strength-block"></div> \n                             <div class="pwd-strength-block"></div> \n                             <div class="pwd-strength-block"></div>\n                         </div>\n                     </div>\n\n                 </li>\n                 <li class="form-item">\n                     <label for="" class="title" >确认新密码：</label>\n                     <input type="password" class="input" ng-model ="pwdModify.confirmPwd"/>\n                 </li>\n             </ul>\n         </div>\n     </div>\n     <div class="foot">\n         <button class="blue" ng-class="{\'onloading\':pwdModify.connecting}" ng-click="pwdModify.modifyPwdConfirm()" value="确定" type="submit" ng-disabled="!pwdModify.pwdSubmitable || !pwdModify.oldPwd || !pwdModify.newPwd || !pwdModify.confirmPwd">确定</button>\n     </div>\n     </form>\n </div>\n',
							controller: "pwdModifyCtrl",
							controllerAs: "pwdModify",
							resolve: {
								options: function() {
									return n
								}
							},
							closable: n.closable
						});
						return e.result
					}
				}
			]).controller("pwdModifyCtrl", ["$scope", "$modalInstance", "options", "$q", "UserI", "pwdStrength", "$sce", "toastService",
				function(n, e, d, t, o, i, s, l) {
					function r(n) {
						var e = t.defer();
						return o.checkPwd(n, function(n) {
							200 == n.code ? e.resolve(n.body) : n.body && n.body.reason ? n.body.code && "11028" == n.body.code ? e.reject(m.PWD_CHECK_TOO_MUCH) : e.reject(n.body.reason) : e.reject(m.SERVER_ERROR)
						}), e.promise
					}

					function a(n) {
						var e = t.defer();
						return o.changePwd(n, function(n) {
							e.resolve(n)
						}), e.promise
					}

					function c(n) {
						g.pwdMsg = {
							msg: s.trustAsHtml(n)
						}, l.show(g.pwdMsg.msg, {
							type: "error"
						}), g.connecting = !1, g.pwdSubmitable = !0
					}

					function p(n) {
						g.pwdMsg = g.pwdMsg = {
							msg: s.trustAsHtml(n)
						}, l.show(g.pwdMsg.msg, {
							type: "success"
						})
					}

					function w(n) {
						var e = g.oldPwd,
							d = g.newPwd,
							t = g.confirmPwd;
						if (e.length < 4) return void c(m.OLD_PWD_ERROR);
						if (d.length < 4) return void c(m.PWD_SHORT);
						if (d == e) return void c(m.PWD_SAME);
						if (d !== t) return void c(m.PWD_NOT_CONSIST);
						var o = i.getPwdStrength(d);
						return "weak" == o ? void c(m.PWD_NOT_STRONG) : void r(e).then(function(n) {
							return n ? a(d) : void c(m.OLD_PWD_ERROR)
						}, function(n) {
							c(n)
						}).then(function(e) {
							e && (200 == e.code ? (p("修改密码成功，三秒后登出，请重新登录"), n()) : c(m.SERVER_ERROR))
						})
					}

					function f() {
						g.pwdSubmitable && (g.connecting = !0, g.pwdSubmitable = !1, w(function() {
							setTimeout(function() {
								e.close(!0)
							}, 3e3)
						}))
					}

					function u() {
						e.close(!1)
					}
					var m = {
						OLD_PWD_ERROR: "原密码错误",
						PWD_NOT_CONSIST: "确认密码不一致",
						SERVER_ERROR: "服务器内部错误",
						PWD_SHORT: "密码必须长于4位",
						PWD_SAME: "新密码不能和旧密码相同",
						PWD_NOT_STRONG: "新密码安全程度应该高于弱，建议使用英文字母(大小写区分)加数字或符号的混合密码",
						PWD_CHECK_TOO_MUCH: "您已进行多次修改，为了账户安全，请稍后重试"
					}, g = this,
						v = {
							weak: "弱",
							middle: "中",
							strong: "强"
						};
					this.closable = d.closable, this.msgTitle = d.title, d.hasTitle && (this.modalContentTitle = s.trustAsHtml("您的密码安全等级比较低，为了您的信息安全，请更改密码")), this.pwdMsg = {
						msg: ""
					}, this.pwdSubmitable = !1, this.closeModal = u, this.connecting = !1, this.modifyPwdConfirm = f, this.pwdStrengthMsg = "", n.$watch("pwdModify.newPwd", function(n) {
						if (n) {
							var e = i.getPwdStrength(n);
							g.pwdStrengthMsg = v[e], g.pwdSt = e, g.shortenInput = "shorten-input"
						}
					}), n.$watch("pwdModify.confirmPwd", function(n) {
						void 0 != n && (n == g.newPwd ? g.pwdSubmitable = !0 : g.pwdSubmitable = !1)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../service/modifyPassword/pwdStrength": 303,
			"../../service/toast/toast": 378,
			"../modal/modal": 283,
			"@ali/ding-api": 453,
			"path": 5
		}
	],
	303: [
		function(require, module, exports) {
			angular.module("ddWeb.service.pwdStrength", []).factory("pwdStrength", [
				function() {
					function r(r) {
						var t = n(r);
						return 50 > t ? "weak" : 70 > t ? "middle" : "strong"
					}

					function n(r) {
						var n = o(r),
							i = r.length;
						return t(i) + e(n) + u(n) + f(n) + a(n)
					}

					function t(r) {
						return 4 >= r ? 5 : 8 > r ? 10 : r >= 8 ? 25 : 0
					}

					function e(r) {
						var n = r.NUMBER;
						return n > 1 && 3 > n ? 10 : n >= 3 ? 20 : 0
					}

					function u(r) {
						var n = r.LOWER,
							t = r.UPPER;
						return n > 0 && t > 0 ? 20 : n > 0 && 0 == t || 0 == n && t > 0 ? 10 : 0
					}

					function f(r) {
						var n = r.CHARACTER;
						return 1 == n ? 10 : n > 1 ? 20 : 0
					}

					function a(r) {
						var n = r.NUMBER,
							t = r.LOWER,
							e = r.UPPER,
							u = r.CHARACTER;
						if (n > 0 && t > 0 && e > 0 && u > 0) return 10;
						if ((t > 0 && 0 == e || 0 == t && e > 0) && n > 0 && u > 0) return 5;
						var i = t > 0 || e > 0;
						return n > 0 && i || n > 0 && u > 0 || i > 0 && u > 0 ? 2 : 0
					}

					function o(r) {
						var n = {};
						for (var t in R) n[t] = c(r, R[t]);
						return n
					}
					var R = {
						UPPER: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
						LOWER: "abcdefghijklmnopqrstuvwxyz",
						NUMBER: "0123456789",
						CHARACTER: "!@#$%^&*?_~/\\(){}[]<>.-+=|,"
					}, c = function(r, n) {
							var t = 0;
							if (0 == r.length) return 0;
							for (i = 0; i < r.length; i++) n.indexOf(r.charAt(i)) > -1 && t++;
							return t
						};
					return {
						getPwdStrength: r,
						getPwdScore: n
					}
				}
			]);


		}, {}
	],
	304: [
		function(require, module, exports) {
			"use strict";
			var ua = require("./ua"),
				uriResolve = require("./uriResolve/resolve");
			angular.module("ddWeb.notification", []).factory("notification", ["$window",
				function(i) {
					function e(e) {
						i.Notification.requestPermission(e)
					}

					function t(e, t) {
						var o = "true" == localStorage.getItem("notification") ? !0 : !1;
						if (o || e.isForceNotify)
							if (e.isForceNotify && ua.isNw || i.Notification && "granted" === Notification.permission) {
								e.text && e.text.length > 35 && (e.text = e.text.substr(0, 35) + "..."), e.name && e.name.length > 25 && (e.name = e.name.substr(0, 25) + "...");
								var n = {
									"default": uriResolve.assetsResolve("/app/img/notification/dingding.png"),
									mail: uriResolve.assetsResolve("/app/img/notification/mail.jpg")
								}, a = "default";
								e.type && (a = e.type);
								var s = new Notification(e.name + e.tip, {
									body: e.text,
									icon: n[a]
								});
								s.onshow = function() {
									setTimeout(function() {
										s && (s.close(), s = null)
									}, 5e3)
								}, s.onclick = function() {
									t && t(), s && (s.close(), s = null)
								}
							} else console.log("no permission")
					}
					return {
						init: e,
						notify: t
					}
				}
			]);


		}, {
			"./ua": 390,
			"./uriResolve/resolve": 397
		}
	],
	305: [
		function(require, module, exports) {
			"use strict";
			var _ = require("lodash"),
				OpenAPIList = function(t) {
					this.apiListMethodIndex = {}, this.apiListIdIndex = {}, t && Array.isArray(t) && t.forEach(function(t) {
						this._updateAPI(t)
					}.bind(this))
				};
			OpenAPIList.prototype._updateAPI = function(t) {
				this.apiListIdIndex[t.id] = t, this.apiListMethodIndex[t.method] = t
			}, OpenAPIList.prototype.getIdByMethod = function(t) {
				return _.get(this.apiListMethodIndex, t + ".id")
			}, OpenAPIList.prototype.getMethodById = function(t) {
				return _.get(this.apiListIdIndex, t + ".method")
			}, OpenAPIList.prototype.getAPIById = function(t) {
				return this.apiListIdIndex[t]
			}, OpenAPIList.prototype.getAPIByMethod = function(t) {
				return this.apiListMethodIndex[t]
			}, module.exports = OpenAPIList;


		}, {
			"lodash": 470
		}
	],
	306: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.auth",
				log = require("../log/localLog"),
				Uri = require("jsuri"),
				OpenAPIList = require("./OpenAPIList");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].OAPII, require("@ali/ding-api")["interface"].CommonI, require("../cloudSettingCenter/cloudSetting")]).factory("openAPIAuth", ["OAPII", "cloudSetting", "CommonI",
				function(e, r, n) {
					function i(e) {
						var r = ["dev2.dingtalk.com"],
							n = new Uri(e).host();
						return -1 !== r.indexOf(n)
					}

					function t(e) {
						return i(e) ? Promise.resolve({
							level: "safe"
						}) : new Promise(function(r, i) {
							n.checkUrl(e, function(e) {
								200 === e.code ? r(e.body) : i(!1)
							})
						})
					}
					var o = "oa_jsapi",
						u = r.register(o),
						a = function() {
							return u.getData()
						}, c = function(e) {
							return a().then(function(r) {
								var n = e.origin || "";
								return t(n).then(function(r) {
									return "safe" === r.level ? Promise.resolve(e.jsApiList) : Promise.reject(!1)
								}, function() {
									return Promise.reject(!1)
								})
							})
						};
					return {
						auth: c
					}
				}
			]), module.exports = moduleName;


		}, {
			"../cloudSettingCenter/cloudSetting": 181,
			"../log/localLog": 259,
			"./OpenAPIList": 305,
			"@ali/ding-api": 453,
			"jsuri": 469
		}
	],
	307: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.chat.chooseConversation",
				serviceName = "openAPIBizContactChooseConversation",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				$my = require("../../../user/my");
			angular.module(moduleName, [require("../../../selectorPanel/PanelType"), require("../../../modal/selectPanelModal"), require("../../../mediaId/mediaId"), require("@ali/ding-api")["interface"].ContactI]).factory(serviceName, ["PanelType", "selectPanelModal",
				function(e, o) {
					var a = "biz.chat.chooseConversation",
						t = {
							window: {
								title: "选择会话",
								closable: !0,
								autofocus: !1
							},
							contentBox: {
								display: !1,
								defaultContent: ""
							},
							selectorPanel: {
								display: !0,
								panelTypes: [e.CONV],
								lockedIds: {
									cids: []
								},
								customUids: []
							},
							selectorBar: {
								display: !0,
								placeholder: "搜索会话"
							},
							type: "SELECT_CONVERSATION"
						}, r = function(e, r) {
							frameTalkHost.register(e, a, r, function(e) {
								o(t).then(function(o) {
									var a = _.get(o, "conversations[0].conversationId"),
										t = _.get(o, "conversations[0].title");
									a ? e.respond({
										id: a,
										title: t
									}) : e.respond("error", !0)
								}, function(o) {
									e.respond(o, !0)
								})
							})
						};
					return {
						init: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../mediaId/mediaId": 267,
			"../../../modal/selectPanelModal": 292,
			"../../../selectorPanel/PanelType": 361,
			"../../../user/my": 400,
			"@ali/ding-api": 453,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	308: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.contact.choose",
				serviceName = "openAPIBizContactChoose",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../selectorPanel/PanelType"), require("../../../modal/selectPanelModal"), require("../../../mediaId/mediaId"), require("../../../microApp/microAppData"), require("@ali/ding-api")["interface"].ContactI]).factory(serviceName, ["PanelType", "selectPanelModal", "mediaId", "ContactI", "microAppData",
				function(e, r, a, o, t) {
					var n = "biz.contact.choose",
						i = {
							window: {
								title: "选人",
								closable: !0,
								autofocus: !1
							},
							contentBox: {
								display: !1,
								defaultContent: ""
							},
							selectorPanel: {
								display: !0,
								panelTypes: [e.ORG],
								lockedIds: {
									uids: []
								},
								customUids: []
							},
							selectorBar: {
								display: !0,
								placeholder: "搜索企业联系人"
							},
							orgId: null,
							type: "SELECT_ORG_USER",
							multiple: !0,
							max: 1500
						}, d = function(e, d) {
							frameTalkHost.register(e, n, d, function(e) {
								function n() {
									return s.users ? new Promise(function(e, r) {
										o.getOrgEmpInfoByStaffIds(u, s.users, function(a) {
											200 === a.code ? e(a.body) : r({
												reason: "拉取用户信息出错，请重试"
											})
										})
									}) : Promise.resolve()
								}
								var d = e.params,
									l = d.corpId,
									u = null,
									s = {};
								t.getData().then(function(e) {
									if (e && "object" == typeof e.oa_org) {
										if (u = _.get(_.find(e.oa_org, function(e, r) {
											return e.corpId === l
										}), "orgId"), !u) {
											var r = {
												body: {
													reason: "corpID 错误, 不存在"
												}
											};
											return Promise.reject(r)
										}
										return s = _.assign({}, i, d, {
											orgId: u
										}), Promise.resolve()
									}
								}).then(function() {
									return n()
								}).then(function(o) {
									var t = [];
									if (o) {
										var n = o.map(function(e) {
											return e.uid
										});
										s.selectorPanel.lockedIds.uids = n;
										var t = o.map(function(e) {
											if (e.orgAvatarMediaId) var r = a.mid2Url(e.orgAvatarMediaId, {
												imageSize: "thumb"
											});
											return {
												name: e.orgUserName,
												avatar: r,
												emplId: e.orgStaffId
											}
										})
									}
									return r(s).then(function(r) {
										var o = r.map(function(e) {
											var r = null,
												o = null;
											return e.user ? (r = _.get(e, "user.userProfileModel.avatarUrl"), o = _.get(e, "user.employee.orgStaffId")) : e.model && (_.get(e, "model.avatarMediaId") && (r = a.mid2Url(_.get(e, "model.avatarMediaId"), {
												imageSize: "thumb"
											})), o = _.get(e, "model.orgStaffId")), {
												name: e.text,
												avatar: r,
												emplId: o
											}
										});
										e.respond(o.concat(t))
									})
								}, function(r) {
									e.respond(r, !0)
								})
							})
						};
					return {
						init: d
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../mediaId/mediaId": 267,
			"../../../microApp/microAppData": 271,
			"../../../modal/selectPanelModal": 292,
			"../../../selectorPanel/PanelType": 361,
			"@ali/ding-api": 453,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	309: [
		function(require, module, exports) {
			var moduleName = module.exports = "ddWeb.openAPI.biz.customContact.choose",
				serviceName = "openAPIBizCustomContactChoose",
				frameTalkHost = require("@ali/frame-talk/host"),
				_ = require("lodash"),
				paramsValidate = require("../../../tool/params-validate");
			angular.module(moduleName, [require("../../../selectorPanel/PanelType"), require("../../../modal/selectPanelModal"), require("../../../microApp/microAppData"), require("@ali/ding-api")["interface"].ContactI, require("../../../user/userManager")]).factory(serviceName, ["PanelType", "selectPanelModal", "ContactI", "microAppData", "userManager",
				function(e, o, r, a, n) {
					function t(e, o) {
						return o && Array.isArray(o) && o.length > 0 ? new Promise(function(a, n) {
							r.getOrgEmpInfoByStaffIds(e, o, function(e) {
								200 === e.code ? a(e.body) : n({
									reason: "拉取用户信息出错，请重试"
								})
							})
						}) : Promise.resolve()
					}
					var s = "biz.customContact.choose",
						i = {
							corpId: "",
							users: [],
							isShowCompanyName: !1,
							title: "自定义选人"
						}, l = function(r, l) {
							frameTalkHost.register(r, s, l, function(r) {
								var s = {
									window: {
										title: "自定义选人",
										closable: !0,
										autofocus: !1
									},
									contentBox: {
										display: !1,
										defaultContent: ""
									},
									selectorPanel: {
										display: !0,
										panelTypes: [e.CUSTOM],
										lockedIds: {
											uids: []
										},
										customUids: [],
										showCompanyNameConf: {
											isShow: !1,
											orgId: null
										}
									},
									selectorBar: {
										display: !0,
										placeholder: "搜索"
									},
									orgId: null,
									type: "SELECT_USER",
									multiple: !1
								}, l = r.params;
								l = _.assign({}, i, l);
								var u = {
									users: "Array",
									corpId: "String",
									isShowCompanyName: "Boolean",
									title: "String"
								}, c = paramsValidate(l, u);
								if (c.length > 0) return r.respond(c.join(","), !0);
								l.corpId;
								l.title && (s.window.title = l.title), s.selectorPanel.showCompanyNameConf.isShow = l.isShowCompanyName, a.getOrgIdByCorpId(l.corpId).then(function(e) {
									return s.selectorPanel.showCompanyNameConf.orgId = e, t(e, l.users)
								}).then(function(e) {
									if (e && Array.isArray(e)) {
										var a = e.map(function(e) {
											return e.uid
										}),
											t = {};
										a.forEach(function(e, o) {
											t[e] = l.users[o]
										});
										var i = e.map(function(e) {
											return {
												uid: e.uid,
												orgId: e.orgId,
												name: e.orgUserName
											}
										});
										l.isShowCompanyName && n.getUsers(a).then(function(e) {
											e.forEach(function(e, o) {
												e.setUserEmployeeInfo([i[o]])
											})
										}), s.selectorPanel.customUids = a
									}
									return o(s).then(function(e) {
										var o = e.map(function(e) {
											var o = _.get(e, "user.userProfileModel.nick"),
												r = _.get(e, "user.userProfileModel.uid");
											l.isShowCompanyName && (o = _.get(e, "user.employeeBaseModel[" + s.selectorPanel.showCompanyNameConf.orgId + "].name"));
											var a = _.get(e, "user.userProfileModel.avatarUrl"),
												n = _.get(t, "" + r);
											return {
												name: o,
												avatar: a,
												emplId: n
											}
										});
										r.respond(o)
									})
								})["catch"](function(e) {
									r.respond(e, !0)
								})
							})
						};
					return {
						init: l
					}
				}
			]);


		}, {
			"../../../microApp/microAppData": 271,
			"../../../modal/selectPanelModal": 292,
			"../../../selectorPanel/PanelType": 361,
			"../../../tool/params-validate": 383,
			"../../../user/userManager": 404,
			"@ali/ding-api": 453,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	310: [
		function(require, module, exports) {
			var moduleName = module.exports = "ddWeb.openAPI.biz.customContact.multipleChoose",
				serviceName = "openAPIBizCustomContactMultipleChoose",
				frameTalkHost = require("@ali/frame-talk/host"),
				_ = require("lodash"),
				paramsValidate = require("../../../tool/params-validate");
			angular.module(moduleName, [require("../../../selectorPanel/PanelType"), require("../../../modal/selectPanelModal"), require("../../../microApp/microAppData"), require("@ali/ding-api")["interface"].ContactI, require("../../../user/userManager")]).factory(serviceName, ["PanelType", "selectPanelModal", "ContactI", "microAppData", "userManager",
				function(e, r, a, o, n) {
					function t(e, r) {
						return r && Array.isArray(r) && r.length > 0 ? new Promise(function(o, n) {
							a.getOrgEmpInfoByStaffIds(e, r, function(e) {
								200 === e.code ? o(e.body) : n({
									reason: "拉取用户信息出错，请重试"
								})
							})
						}) : Promise.resolve()
					}
					var s = "biz.customContact.multipleChoose",
						i = {
							corpId: "",
							users: [],
							isShowCompanyName: !1,
							title: "自定义选人",
							selectedUsers: [],
							disabledUsers: [],
							max: 10
						}, l = function(a, l) {
							frameTalkHost.register(a, s, l, function(a) {
								var s = {
									window: {
										title: "自定义选人",
										closable: !0,
										autofocus: !1
									},
									contentBox: {
										display: !1,
										defaultContent: ""
									},
									selectorPanel: {
										display: !0,
										panelTypes: [e.CUSTOM],
										lockedIds: {
											uids: []
										},
										customUids: [],
										showCompanyNameConf: {
											isShow: !1,
											orgId: null
										},
										selectedUids: [],
										disabledUids: []
									},
									selectorBar: {
										display: !0,
										placeholder: "搜索"
									},
									orgId: null,
									type: "SELECT_USER",
									multiple: !0
								}, l = a.params;
								l = _.assign({}, i, l);
								var u = {
									users: "Array",
									corpId: "String",
									isShowCompanyName: "Boolean",
									title: "String",
									selectedUsers: "Array",
									disabledUsers: "Array",
									max: "Number"
								}, d = paramsValidate(l, u);
								if (d.length > 0) return a.respond(d.join(","), !0);
								l.corpId;
								l.title && (s.window.title = l.title), _.isNumber(l.max) && (s.max = l.max > 1500 ? 1500 : l.max, l.max < 0 && (l.max = 0), s.max = l.max), l.selectedUsers = l.selectedUsers || [], l.disabledUsers = l.disabledUsers || [], s.selectorPanel.showCompanyNameConf.isShow = l.isShowCompanyName, o.getOrgIdByCorpId(l.corpId).then(function(e) {
									return s.selectorPanel.showCompanyNameConf.orgId = e, t(e, l.users)
								}).then(function(e) {
									if (e && Array.isArray(e)) {
										var o = e.map(function(e) {
											return e.uid
										}),
											t = {};
										o.forEach(function(e, r) {
											t[e] = l.users[r]
										});
										var i = e.map(function(e) {
											return {
												uid: e.uid,
												orgId: e.orgId,
												name: e.orgUserName
											}
										});
										l.isShowCompanyName && n.getUsers(o).then(function(e) {
											e.forEach(function(e, r) {
												e.setUserEmployeeInfo([i[r]])
											})
										}), s.selectorPanel.customUids = o;
										var u = l.disabledUsers.map(function(r) {
											var a = null;
											return e.forEach(function(e) {
												e.orgStaffId === r && (a = e)
											}), a
										}).filter(function(e) {
											return !!e
										}),
											d = l.selectedUsers.map(function(r) {
												var a = null;
												return e.forEach(function(e) {
													e.orgStaffId === r && (a = e)
												}), a
											}).filter(function(e) {
												return !!e
											})
									}
									if (u && Array.isArray(u)) {
										var o = u.map(function(e) {
											return e.uid
										});
										s.selectorPanel.disabledUids = o
									}
									if (d && Array.isArray(d)) {
										var o = d.map(function(e) {
											return e.uid
										});
										o = o.filter(function(e) {
											return -1 === s.selectorPanel.disabledUids.indexOf(e)
										}), s.selectorPanel.selectedUids = o.slice(0, l.max)
									}
									return r(s).then(function(e) {
										var r = e.map(function(e) {
											var r = _.get(e, "user.userProfileModel.nick"),
												a = _.get(e, "user.userProfileModel.uid");
											l.isShowCompanyName && (r = _.get(e, "user.employeeBaseModel[" + s.selectorPanel.showCompanyNameConf.orgId + "].name"));
											var o = _.get(e, "user.userProfileModel.avatarUrl"),
												n = _.get(t, "" + a);
											return {
												name: r,
												avatar: o,
												emplId: n
											}
										});
										a.respond(r)
									})
								})["catch"](function(e) {
									a.respond(e, !0)
								})
							})
						};
					return {
						init: l
					}
				}
			]);


		}, {
			"../../../microApp/microAppData": 271,
			"../../../modal/selectPanelModal": 292,
			"../../../selectorPanel/PanelType": 361,
			"../../../tool/params-validate": 383,
			"../../../user/userManager": 404,
			"@ali/ding-api": 453,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	311: [
		function(require, module, exports) {
			var moduleName = "ddWeb.openAPI.biz.ding.post",
				serviceName = "openAPIBizDingPost",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				moment_JSimpleFormater = require("moment-jdateformatparser"),
				mediaId = require("@ali/ding-mediaid"),
				paramsValidate = require("../../../tool/params-validate");
			angular.module(moduleName, [require("../../../modal/sendDingModal"), require("../../../microApp/microAppData"), require("@ali/ding-api")["interface"].ContactI, require("../../../selectorPanel/selected/selectedItemFactory"), require("../../../selectorPanel/selected/selectedItemType"), require("../../../ding/DingAttachmentType")]).factory(serviceName, ["sendDingModalService", "microAppData", "ContactI", "selectedItemFactory", "selectedItemType", "DingAttachmentType",
				function(e, t, a, r, i, n) {
					function o(e, t) {
						return t && Array.isArray(t) && t.length > 0 ? new Promise(function(r, i) {
							a.getOrgEmpInfoByStaffIds(e, t, function(e) {
								200 === e.code ? r(e.body) : i({
									reason: "拉取用户信息出错，请重试"
								})
							})
						}) : Promise.resolve()
					}
					var m = "biz.ding.post",
						d = {
							users: [],
							corpId: "",
							type: 1,
							attachment: {},
							text: "",
							alertType: 0,
							alertDate: {}
						}, l = function(a, r) {
							frameTalkHost.register(a, m, r, function(a) {
								var r = a.params,
									r = _.assign({}, d, r),
									i = {
										users: "Array",
										corpId: "String",
										type: "Number",
										attachment: "Object",
										text: "String",
										alertType: "Number",
										alertDate: "Object"
									}, m = paramsValidate(r, i);
								if (m.length > 0) return a.respond(m.join(","), !0);
								var l = {};
								t.getOrgIdByCorpId(r.corpId).then(function(e) {
									return o(e, r.users)
								}).then(function(t) {
									if (t && t.length > 0) {
										var i = t.map(function(e) {
											return e.uid
										});
										l.selectedUids = i
									}
									if (l.content = r.text, l.type = r.type, l.alertType = r.alertType, r.alertDate && (r.alertDate.format && (r.alertDate.format = moment_JSimpleFormater().toMomentFormatString(r.alertDate.format)), l.alertDate = r.alertDate), r.attachment) {
										var o = {}, m = !1;
										if (1 === r.type) {
											if (o.type = n.IMAGE, r.attachment.images && Array.isArray(r.attachment.images) && r.attachment.images[0]) try {
												o.mediaId = mediaId.url2Mid(r.attachment.images[0])
											} catch (d) {
												console.log(d)
											}
											o.mediaId && (m = !0)
										} else if (2 === r.type) {
											o.type = n.LINK;
											var c = {
												title: r.attachment.title,
												text: r.attachment.text,
												picMediaId: r.attachment.image,
												linkUrl: r.attachment.url
											};
											if (o.linkContent = c, c.picMediaId) try {
												c.picMediaId = mediaId.url2Mid(c.picMediaId)
											} catch (d) {
												console.log(d)
											}
											c.title && c.linkUrl && (m = !0)
										}
										m && (l.dingAttachments = [o], l.disableUpload = !0)
									}
									e.showModal(l).then(function() {
										a.respond()
									})
								})["catch"](function(e) {
									a.respond(e, !0)
								})
							})
						};
					return {
						init: l
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../ding/DingAttachmentType": 208,
			"../../../microApp/microAppData": 271,
			"../../../modal/sendDingModal": 293,
			"../../../selectorPanel/selected/selectedItemFactory": 365,
			"../../../selectorPanel/selected/selectedItemType": 366,
			"../../../tool/params-validate": 383,
			"@ali/ding-api": 453,
			"@ali/ding-mediaid": 456,
			"@ali/frame-talk/host": 457,
			"lodash": 470,
			"moment-jdateformatparser": 471
		}
	],
	312: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.navigation.quit",
				serviceName = "openAPIBizNavigationQuit",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					var e = "biz.navigation.quit",
						a = function(a, i, n) {
							frameTalkHost.register(a, e, i, function(e) {
								var a = e.params;
								n(a).then(function(a) {
									e.respond(a)
								}, function(a) {
									e.respond(a, !0)
								})
							})
						};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	313: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.navigation.setLeft",
				serviceName = "openAPIBizNavigationSetLeft",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					var e = "biz.navigation.setLeft",
						a = function(a, t, i) {
							frameTalkHost.register(a, e, t, function(e) {
								var a = e.params;
								i(a).then(function(a) {
									e.respond(a)
								}, function(a) {
									e.respond(a, !0)
								})
							})
						};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	314: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.navigation.setTitle",
				serviceName = "openAPIBizNavigationSetTitle",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					var e = "biz.navigation.setTitle",
						a = function(a, i, t) {
							frameTalkHost.register(a, e, i, function(e) {
								var a = e.params;
								t(a).then(function(a) {
									e.respond(a)
								}, function(a) {
									e.respond(a, !0)
								})
							})
						};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	315: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.oauth.authorize",
				serviceName = "openAPIBizOauthAuthorize",
				jsuri = require("jsuri"),
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				localLog = require("../../../log/localLog");
			angular.module(moduleName, [require("../../../microApp/authorize")]).factory(serviceName, ["authorize",
				function(e) {
					var r = "biz.oauth.authorize",
						o = function(o, a) {
							frameTalkHost.register(o, r, a, function(r) {
								var o = r.params;
								e.getCode({
									corpId: o.corpId,
									url: o.redirectURI
								}).then(function(e) {
									var a = new jsuri(o.redirectURI).addQueryParam("code", e.body).addQueryParam("state", o.state).toString();
									r.respond(a)
								})["catch"](function(e) {
									r.respond(e), localLog.error("micro app authorize", e.toString())
								})
							})
						};
					return {
						init: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../log/localLog": 259,
			"../../../microApp/authorize": 270,
			"@ali/frame-talk/host": 457,
			"jsuri": 469,
			"lodash": 470
		}
	],
	316: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.downloadFile",
				serviceName = "openAPIBizUtilDownloadFile",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				ua = require("../../../ua"),
				mediaId = require("@ali/ding-mediaid"),
				Uri = require("jsuri"),
				app = angular.module(moduleName, [require("../../../app/download/DLManager")]);
			app.factory(serviceName, ["DLManager",
				function(e) {
					var a = "biz.util.downloadFile",
						r = function(r, o) {
							frameTalkHost.register(r, a, o, function(a) {
								var r, o = a.params,
									i = new Uri(o.url);
								if ("https" === i.protocol() && "oapi.dingtalk.com" === i.host() && "/media/get" === i.path() && (r = i.getQueryParamValue("media_id")) && "@" === r[0]) try {
									o.url = mediaId.mid2Url(r)
								} catch (n) {}
								ua.isNw ? e.download({
									url: o.url,
									name: o.name,
									onProgress: function(e, r) {
										a.emit("onProgress", {
											downloaded: e,
											total: r,
											progress: parseInt(e / r * 100)
										})
									}
								}).then(function() {
									a.respond(!0)
								})["catch"](function(e) {
									a.respond(e)
								}) : (window.open(o.url), a.respond(!0))
							})
						};
					return {
						init: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../app/download/DLManager": 155,
			"../../../ua": 390,
			"@ali/ding-mediaid": 456,
			"@ali/frame-talk/host": 457,
			"jsuri": 469,
			"lodash": 470
		}
	],
	317: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.util.isLocalFileExist",
				serviceName = "openAPIBizUtilIsLocalFileExist",
				frameTalkHost = require("@ali/frame-talk/host"),
				ua = require("../../../ua"),
				app = angular.module(moduleName, [require("../../../app/download/openFile")]);
			app.factory(serviceName, ["openFileService",
				function(e) {
					var i = "biz.util.isLocalFileExist",
						a = function(a, r) {
							frameTalkHost.register(a, i, r, function(i) {
								var a = i.params;
								e.isExist(a).then(function(e) {
									i.respond(e)
								})
							})
						};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../app/download/openFile": 160,
			"../../../ua": 390,
			"@ali/frame-talk/host": 457
		}
	],
	318: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.util.open",
				serviceName = "openAPIBizUtilOpen",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../modal/profileModal"), require("../../../microApp/microAppData"), require("../../../toast/toast"), require("@ali/ding-api")["interface"].UserI]).factory(serviceName, ["profileModalService", "microAppData", "UserI",
				function(e, r, o) {
					function a(a, i) {
						var a = a || {}, n = a.corpId,
							t = a.id;
						if (n && t) r.getOrgIdByCorpId(n).then(function(e) {
							return new Promise(function(r, a) {
								o.getUserProfileExtensionByStaffId(t, e, function(e) {
									if (200 === e.code) {
										var o = _.get(e, "body.userProfileModel.uid");
										o ? r(o) : a({
											body: {
												reason: "获取用户信息失败"
											}
										})
									} else a({
										body: {
											reason: "获取用户信息失败"
										}
									})
								})
							})
						}).then(function(r) {
							return e(r)
						})["catch"](function(e) {
							i.respond(e, !0)
						});
						else {
							var s = {
								body: {
									reason: "corpId 和 staffId 不能为空;"
								}
							};
							i.respond(s, !0)
						}
					}
					var i = "biz.util.open",
						n = function(e, r) {
							frameTalkHost.register(e, i, r, function(e) {
								var r = e.params,
									o = r.name;
								switch (o) {
									case "profile":
										a(r.params, e);
										break;
									default:
										var i = {
											body: {
												reason: 'not supported name : "' + o + '";'
											}
										};
										e.respond(i, !0)
								}
							})
						};
					return {
						init: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../microApp/microAppData": 271,
			"../../../modal/profileModal": 289,
			"../../../toast/toast": 378,
			"@ali/ding-api": 453,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	319: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.util.openLink",
				serviceName = "openAPIBizUtilOpenLink",
				frameTalkHost = require("@ali/frame-talk/host"),
				ua = require("../../../ua"),
				app = angular.module(moduleName, [require("../../../app/nw")]);
			app.factory(serviceName, ["nw",
				function(e) {
					var r = "biz.util.openLink",
						a = function(a, n) {
							frameTalkHost.register(a, r, n, function(r) {
								var a = r.params,
									n = a.url;
								n ? ua.isNw ? (e.openExternal(n), r.respond(!0)) : (window.open(n), r.respond(!0)) : r.respond("url 不能为空", !0)
							})
						};
					return {
						init: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../app/nw": 161,
			"../../../ua": 390,
			"@ali/frame-talk/host": 457
		}
	],
	320: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.util.openLocalFile",
				serviceName = "openAPIBizUtilOpenLocalFile",
				frameTalkHost = require("@ali/frame-talk/host"),
				ua = require("../../../ua"),
				app = angular.module(moduleName, [require("../../../app/download/openFile")]);
			app.factory(serviceName, ["openFileService",
				function(e) {
					var a = "biz.util.openLocalFile",
						o = function(o, r) {
							frameTalkHost.register(o, a, r, function(a) {
								ua.isNw ? e.open({
									url: a.params.url,
									path: a.params.path
								}).then(function() {
									a.respond(!0)
								}, function() {
									a.respond(!1)
								}) : a.respond(!1)
							})
						};
					return {
						init: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../app/download/openFile": 160,
			"../../../ua": 390,
			"@ali/frame-talk/host": 457
		}
	],
	321: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.openModal",
				serviceName = "openAPIBizUtilOpenModal",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../frameContainer/commModal")]).factory(serviceName, ["openCommModal",
				function(e) {
					var a = "biz.util.openModal",
						o = {
							size: "default",
							url: "about:blank",
							title: ""
						}, r = function(r, n) {
							frameTalkHost.register(r, a, n, function(a) {
								var r = a.params,
									n = _.assign({}, o, r);
								e(n).then(function(e) {
									a.respond(e)
								}, function(e) {
									a.respond(e, !0)
								})
							})
						};
					return {
						init: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../frameContainer/commModal": 230,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	322: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.openSlidePanel",
				serviceName = "openAPIBizUtilOpenSlidePanel",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../frameContainer/slidePanel")]).factory(serviceName, ["openSlidePanelContainer",
				function(e) {
					var n = "biz.util.openSlidePanel",
						a = {
							url: "about:blank",
							title: ""
						}, i = function(i, r) {
							frameTalkHost.register(i, n, r, function(n) {
								var i = n.params,
									r = _.assign({}, a, i);
								e(r).then(function(e) {
									n.respond(e)
								}, function(e) {
									n.respond(e, !0)
								})
							})
						};
					return {
						init: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../frameContainer/slidePanel": 231,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	323: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.previewFile",
				serviceName = "openAPIBizUtilPreviewFile",
				frameTalkHost = require("@ali/frame-talk/host"),
				spaceFileHelper = require("../../../file/spaceFileHelper"),
				previewFileConfig = require("../../../file/previewFileConfig"),
				app = angular.module(moduleName, [require("../../../modal/previewFileModal")]);
			app.factory(serviceName, ["previewFileModal",
				function(e) {
					function i(i, l) {
						frameTalkHost.register(i, r, l, function(i) {
							var r = i.params;
							spaceFileHelper.getPreviewUri(r, previewFileConfig.iframe_width, previewFileConfig.iframe_height).then(function(i) {
								e(i)
							})
						})
					}
					var r = "biz.util.previewFile";
					return {
						init: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../file/previewFileConfig": 226,
			"../../../file/spaceFileHelper": 229,
			"../../../modal/previewFileModal": 288,
			"@ali/frame-talk/host": 457
		}
	],
	324: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.previewImage",
				serviceName = "openAPIBizUtilPreviewImage",
				_ = require("lodash"),
				validator = require("validator"),
				frameTalkHost = require("@ali/frame-talk/host"),
				uriResolve = require("../../../uriResolve/resolve");
			angular.module(moduleName, [require("../../../img/imgPreviewService")]).factory(serviceName, ["imgPreviewService",
				function(e) {
					var r = "biz.util.previewImage",
						i = function(i, a) {
							frameTalkHost.register(i, r, a, function(r) {
								var i = r.params,
									a = i.urls,
									n = i.current,
									o = 0;
								if (!Array.isArray(a) && !n) return void r.respond({
									reason: "预览图不能为空"
								}, !0);
								if (!Array.isArray(a) && n && (a = [n]), Array.isArray(a) && n) {
									var t = a.indexOf(n);
									t > -1 && (o = t)
								}
								var u = function(e) {
									var r = a[e],
										i = "https://static.dingtalk.com/media/lALOAQIv_M0BLM0BaA_360_300.png";
									return validator.isURL(r, {
										allow_protocol_relative_urls: !0
									}) && (i = uriResolve.assetsResolve(r)), {
										mediaId: i,
										index: e
									}
								}, l = function(e) {
										return a[e.index + 1] ? u(e.index + 1) : null
									}, s = function(e) {
										return a[e.index - 1] ? u(e.index - 1) : null
									};
								e.preview(u(o), s, l, {
									hideSaveEmotion: !0
								}).then(function(e) {
									r.respond(e)
								}, function(e) {
									r.respond(e, !0)
								})
							})
						};
					return {
						init: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../img/imgPreviewService": 245,
			"../../../uriResolve/resolve": 397,
			"@ali/frame-talk/host": 457,
			"lodash": 470,
			"validator": 475
		}
	],
	325: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.biz.util.uploadImage",
				serviceName = "openAPIBizUtilUploadImage",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../modal/uploadMultiImgs")]).factory(serviceName, ["$uploadMultiImgs",
				function(e) {
					var t = "biz.util.uploadImage",
						i = function(i, a) {
							frameTalkHost.register(i, t, a, function(t) {
								var i = t.params,
									a = 1,
									r = document.createElement("input");
								r.setAttribute("type", "file"), i.multiple === !0 && (r.setAttribute("multiple", "multiple"), a = i.max || 3), r.setAttribute("accept", "image/png, image/jpeg, image/jpg, image/gif, image/bmp, image/webp"), r.addEventListener("change", function(i) {
									e.open(this.files, a).then(function(e) {
										var i = e.map(function(e) {
											return e.originSrc
										});
										i.filter(function(e) {
											return !!e
										}), t.respond(i)
									}, function(e) {
										t.respond(e, !0)
									})
								}, !1), r.click()
							})
						};
					return {
						init: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../modal/uploadMultiImgs": 301,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	326: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.config",
				frameTalk = require("@ali/frame-talk");
			angular.module(moduleName, [require("./auth")]).factory("openAPIConfig", ["openAPIAuth",
				function(e) {
					var n = "config",
						i = function(i, r) {
							frameTalk.register(i, n, "*", function(n) {
								var i = n.params;
								console.info("version:" + i.version), i.origin = n.frameOrigin, e.auth(i).then(function(e) {
									r({
										jsApiList: e,
										origin: n.frameOrigin
									}), n.respond(!0)
								})["catch"](function(e) {})
							})
						};
					return {
						init: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"./auth": 306,
			"@ali/frame-talk": 457
		}
	],
	327: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.notification.actionSheet",
				serviceName = "openAPIDeviceNotificationActionSheet",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				paramsValidate = require("../../../tool/params-validate");
			angular.module(moduleName, [require("../../../modal/actionSheetModal")]).factory(serviceName, ["actionSheetModal",
				function(e) {
					var t = "device.notification.actionSheet",
						a = {
							title: "actionSheet",
							cancelButton: "取消",
							otherButtons: []
						}, o = function(o, i) {
							frameTalkHost.register(o, t, i, function(t) {
								var o = t.params,
									i = _.assign({}, a, o),
									n = {
										title: "String",
										cancelButton: "String",
										otherButtons: "Array"
									}, r = paramsValidate(i, n);
								return r.length > 0 ? t.respond(r.join(","), !0) : void e(i).then(function(e) {
									t.respond(e)
								}, function(e) {
									t.respond(e, !0)
								})
							})
						};
					return {
						init: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../modal/actionSheetModal": 275,
			"../../../tool/params-validate": 383,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	328: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.notification.alert",
				serviceName = "openAPIDeviceNotificationAlert",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../modal/alert")]).factory(serviceName, ["$alert",
				function(e) {
					var t = "device.notification.alert",
						o = {
							title: "提示",
							content: "确定吗？",
							buttonName: "确定"
						}, n = function(n, r) {
							frameTalkHost.register(n, t, r, function(t) {
								var n = t.params;
								o.content = n.message;
								var r = _.assign({}, o, n);
								return _.trim(r.content) ? void e(r).then(function(e) {
									t.respond(e)
								}, function(e) {
									t.respond(e)
								}) : void t.respond({
									body: "content 参数不能为空"
								})
							})
						};
					return {
						init: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../modal/alert": 278,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	329: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.notification.confirm",
				serviceName = "openAPIDeviceNotificationConfirm",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../modal/openApiConfirm")]).factory(serviceName, ["$openApiConfirm",
				function(e) {
					var o = "device.notification.confirm",
						n = {
							title: "提示",
							content: "你确定吗？"
						}, t = function(t, i) {
							frameTalkHost.register(t, o, i, function(o) {
								var t = o.params,
									i = _.assign({}, n, t);
								return i.message && (i.content = i.message), !i.buttonLabels || i.buttonLabels[0] && i.buttonLabels[1] ? void e(i).then(function(e) {
									o.respond(e)
								}, function(e) {
									o.respond(e)
								}) : void o.respond({
									body: {
										reason: "button labels 不能为空"
									}
								}, !0)
							})
						};
					return {
						init: t
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../modal/openApiConfirm": 287,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	330: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.notification.prompt",
				serviceName = "openAPIDeviceNotificationPrompt",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../modal/prompt")]).factory(serviceName, ["$prompt",
				function(e) {
					var t = {
						title: "提示",
						message: "确定吗",
						buttonLabels: ["取消", "确定"]
					}, o = "device.notification.prompt",
						r = function(r, i) {
							frameTalkHost.register(r, o, i, function(o) {
								var r = o.params;
								!_.trim(r.title) && delete r.title, !_.trim(r.message) && delete r.message;
								var i = _.assign({}, t, r),
									a = i.buttonLabels.some(function(e) {
										return !!e
									});
								return a ? void e(i).then(function(e) {
									o.respond(e)
								}, function(e) {
									o.respond(e, !0)
								}) : void o.respond({
									body: {
										reason: "button labels 不能全部为空"
									}
								}, !0)
							})
						};
					return {
						init: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../modal/prompt": 290,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	331: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.notification.toast",
				serviceName = "openAPIDeviceNotificationToast",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host");
			angular.module(moduleName, [require("../../../toast/toast")]).factory(serviceName, ["toastService",
				function(e) {
					var t = {
						text: "",
						timeout: 2,
						type: "information"
					}, a = "device.notification.toast",
						o = function(o, i) {
							frameTalkHost.register(o, a, i, function(a) {
								var o = a.params;
								isNaN(parseInt(o.duration)) || (t.timeout = parseInt(o.duration)), isNaN(parseInt(o.delay)) || (t.delay = parseInt(o.delay));
								var i = _.assign({}, t, o);
								i.timeout > 5 && (i.timeout = 5), i.timeout < 2 && (i.timeout = 2), i.delay > 10 && (i.delay = 10), setTimeout(function() {
									e.show(i.text, {
										timeout: 1e3 * i.timeout,
										type: i.type
									})
								}, (i.delay ? 1e3 * i.delay : 0) || 0)
							})
						};
					return {
						init: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../toast/toast": 378,
			"@ali/frame-talk/host": 457,
			"lodash": 470
		}
	],
	332: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.init";
			angular.module(moduleName, []).factory("openAPIInit", [
				function(e, n, o, t, u, a, i, m, r, d, l, c, f, p) {
					var s = function() {};
					return {
						init: s
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	333: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.initHelper";
			angular.module(moduleName, [require("./device/notification/alert"), require("./device/notification/confirm"), require("./device/notification/toast"), require("./device/notification/prompt"), require("./device/notification/actionSheet"), require("./biz/util/open"), require("./biz/util/openModal"), require("./biz/util/openSlidePanel"), require("./biz/util/uploadImage"), require("./biz/util/downloadFile"), require("./biz/util/openLocalFile"), require("./biz/util/isLocalFileExist"), require("./biz/util/previewImage"), require("./biz/util/previewFile"), require("./biz/util/openLink"), require("./biz/contact/choose"), require("./biz/customContact/choose"), require("./biz/customContact/multipleChoose"), require("./biz/chat/chooseConversation"), require("./biz/ding/post"), require("./runtime/permission/requestAuthCode")]).factory("openAPIInitHelper", ["openAPIDeviceNotificationAlert", "openAPIDeviceNotificationConfirm", "openAPIDeviceNotificationToast", "openAPIDeviceNotificationPrompt", "openAPIDeviceNotificationActionSheet", "openAPIBizUtilOpen", "openAPIBizUtilOpenModal", "openAPIBizUtilOpenSlidePanel", "openAPIBizUtilUploadImage", "openAPIBizUtilDownloadFile", "openAPIBizUtilOpenLocalFile", "openAPIBizUtilPreviewImage", "openAPIBizUtilPreviewFile", "openAPIBizUtilIsLocalFileExist", "openAPIBizUtilOpenLink", "openAPIBizContactChoose", "openAPIBizCustomContactChoose", "openAPIBizCustomContactMultipleChoose", "openAPIBizContactChooseConversation", "openAPIBizDingPost", "openAPIRuntimePermissionRequestAuthCode",
				function(i, e, o, t, n, r, l, a, u, c, p, s, z, d, m, I, P, b, A, v, q) {
					var f = {
						"device.notification.alert": i,
						"device.notification.confirm": e,
						"device.notification.toast": o,
						"device.notification.prompt": t,
						"device.notification.actionSheet": n,
						"biz.util.open": r,
						"biz.util.openModal": l,
						"biz.util.openSlidePanel": a,
						"biz.util.uploadImage": u,
						"biz.util.downloadFile": c,
						"biz.util.openLocalFile": p,
						"biz.util.isLocalFileExist": d,
						"biz.util.previewImage": s,
						"biz.util.previewFile": z,
						"biz.util.openLink": m,
						"biz.contact.choose": I,
						"biz.customContact.choose": P,
						"biz.customContact.multipleChoose": b,
						"biz.chat.chooseConversation": A,
						"biz.ding.post": v,
						"runtime.permission.requestAuthCode": q
					}, C = function(i, e, o) {
							o && Array.isArray(o) && o.forEach(function(o) {
								f[o] && f[o].init(i, e)
							})
						};
					return {
						initOpenAPI: C
					}
				}
			]), module.exports = moduleName;


		}, {
			"./biz/chat/chooseConversation": 307,
			"./biz/contact/choose": 308,
			"./biz/customContact/choose": 309,
			"./biz/customContact/multipleChoose": 310,
			"./biz/ding/post": 311,
			"./biz/util/downloadFile": 316,
			"./biz/util/isLocalFileExist": 317,
			"./biz/util/open": 318,
			"./biz/util/openLink": 319,
			"./biz/util/openLocalFile": 320,
			"./biz/util/openModal": 321,
			"./biz/util/openSlidePanel": 322,
			"./biz/util/previewFile": 323,
			"./biz/util/previewImage": 324,
			"./biz/util/uploadImage": 325,
			"./device/notification/actionSheet": 327,
			"./device/notification/alert": 328,
			"./device/notification/confirm": 329,
			"./device/notification/prompt": 330,
			"./device/notification/toast": 331,
			"./runtime/permission/requestAuthCode": 334
		}
	],
	334: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.openAPI.runtime.permission.requestAuthCode",
				serviceName = "openAPIRuntimePermissionRequestAuthCode",
				jsuri = require("jsuri"),
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				localLog = require("../../../log/localLog");
			angular.module(moduleName, [require("../../../microApp/requestAuthCode")]).factory(serviceName, ["requestAuthCode",
				function(e) {
					var r = "runtime.permission.requestAuthCode",
						o = function(o, u) {
							frameTalkHost.register(o, r, u, function(r) {
								var o = r.params;
								e.getCode({
									corpId: o.corpId,
									url: o.url
								}).then(function(e) {
									r.respond({
										code: e.body
									})
								})["catch"](function(e) {
									r.respond(e), localLog.error("micro app requestAuthCode", e.toString())
								})
							})
						};
					return {
						init: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../../log/localLog": 259,
			"../../../microApp/requestAuthCode": 272,
			"@ali/frame-talk/host": 457,
			"jsuri": 469,
			"lodash": 470
		}
	],
	335: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.openWindow",
				ua = require("../ua");
			require("../app/nw"), angular.module(moduleName, ["ddWeb.nw"]).factory("$OpenWindow", ["nw",
				function(e) {
					var o = function() {
						ua.isNw || (this.window = window.open("about:blank"))
					};
					return o.prototype.resolve = function(o) {
						if (ua.isNw) e.openExternal(o);
						else try {
							this.window && (this.window.location.href = o)
						} catch (n) {
							console.log(n)
						}
					}, o
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../ua": 390
		}
	],
	336: [
		function(require, module, exports) {
			require("../tree/TreeCache"), angular.module("ddWeb.org.OrgCache", ["ddWeb.tree.TreeCache"]).factory("OrgCache", ["TreeCache",
				function(e) {
					var d = e.extend({
						initialize: function(e) {
							d.superclass.initialize.call(this), this.oid = e
						},
						genId: function(e) {
							var d = this.oid,
								r = "";
							if (0 == e.nodeType) r = e.dept.deptId ? d + "-" + e.nodeType + "-" + e.dept.deptId : d + "";
							else if (1 === e.nodeType) {
								var i = e.employee,
									t = i.uid,
									n = i.orgStaffId;
								r = t ? d + "-" + e.nodeType + "-" + i.uid : n ? d + "-" + e.nodeType + "-" + i.orgStaffId : d + ""
							}
							return r
						}
					});
					return d
				}
			]);


		}, {
			"../tree/TreeCache": 387
		}
	],
	337: [
		function(require, module, exports) {
			require("./OrgCache"), angular.module("ddWeb.org.OrgCacheFactory", ["ddWeb.org.OrgCache"]).factory("OrgCacheFactory", ["OrgCache",
				function(r) {
					function e(e) {
						return a[e] ? a[e] : (a[e] = new r(e), a[e])
					}
					var a = {};
					return {
						getOrgCacheByOid: e
					}
				}
			]);


		}, {
			"./OrgCache": 336
		}
	],
	338: [
		function(require, module, exports) {
			require("../tree/Tree"), require("./OrgTreeNode"), require("./OrgCacheFactory");
			var $my = require("../user/my"),
				_ = require("lodash");
			angular.module("ddWeb.org.OrgTree", ["ddWeb.tree.Tree", "ddWeb.org.OrgCacheFactory", "ddWeb.org.OrgTreeNode"]).factory("OrgTree", ["Tree", "OrgCacheFactory", "OrgTreeNode",
				function(e, r, t) {
					var o = e.extend({
						initialize: function(e) {
							this.orgData = e, this.myTreeNode = null, this.rootTreeNode = null, this.currentTreeNode = null, this.currentOrgDepts = [], this.oid = this.orgData.orgDetail.orgId, this._initOrgTree()
						},
						genOrgTreeNode: function(e, o) {
							var i = this.oid,
								n = r.getOrgCacheByOid(i),
								d = n.genId(e);
							if (n.getCache(d)) return n.getCache(d);
							var a = new t(e, d, i, o);
							return n.setCache(d, a), a
						},
						genRootNode: function() {
							var e = this.orgData,
								r = {}, t = null;
							this.oid;
							return t = e.orgDetail.orgName, r = {
								dept: {
									deptName: t
								},
								nodeType: 0,
								isRoot: !0
							}, this.genOrgTreeNode(r)
						},
						_constructMyNode: function() {
							var e = this,
								r = {
									nodeType: 1,
									userProfile: $my.userProfileModel,
									employee: e.orgData.orgEmployeeModel
								};
							return this.genOrgTreeNode(r)
						},
						_initOrgTree: function() {
							var e = this,
								r = this.genRootNode(),
								t = this._constructMyNode();
							e.myTreeNode = t, e.rootTreeNode = r, e.changeDeptByIndex(-1)
						},
						buildDispatchPath: function(e) {
							var r = this,
								t = r.rootTreeNode;
							return e.forEach(function(e) {
								var o = r.genOrgTreeNode(e);
								o.updateParent(t), t = o
							}), r.myTreeNode.id !== t.id && r.myTreeNode.updateParent(t), t
						},
						findDeptByIndex: function(e, r) {
							var t = this,
								o = null,
								i = r[e];
							return o = t.buildDispatchPath(i.masterNodeList)
						},
						changeDeptByIndex: function(e) {
							var r = this;
							if (-1 === e) r.currentTreeNode = r.rootTreeNode;
							else {
								var t = this.orgData.orgNodeItemList;
								r.currentTreeNode = r.findDeptByIndex(e, t)
							}
						}
					});
					return o
				}
			]);


		}, {
			"../tree/Tree": 386,
			"../user/my": 400,
			"./OrgCacheFactory": 337,
			"./OrgTreeNode": 339,
			"lodash": 470
		}
	],
	339: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.org.OrgTreeNode";
			require("../tree/TreeNode"), require("./OrgCacheFactory"), require("../tree/TreeEOFNode"), require("../toast/toast"), require("../user/userCache"), angular.module(moduleName, ["ddWeb.tree.TreeNode", "ddWeb.org.OrgCacheFactory", require("@ali/ding-api")["interface"].ContactI, "ddWeb.tree.TreeEOFNode", "ddWeb.toast", "ddWeb.user.userCache", require("../log/log")]).factory("OrgTreeNode", ["TreeNode", "OrgCacheFactory", "ContactI", "TreeEOFNode", "toastService", "userCache", "log",
				function(e, r, t, i, o, n, d) {
					var a = e.extend({
						initialize: function(e, r, t, i) {
							a.superclass.initialize.call(this, e), this.defaultSize = 20, this.pageSize = 20, this.offset = 0, this.id = r, this.oid = t, this.queryOption = this._getQueryOptionByItem(e, t), i && this.updateParent(i), 1 === e.nodeType && e.userProfile && (this.detail.user = n.set(e.userProfile.uid, e.userProfile, !1)), this.hasMore = !0
						},
						getId: function() {
							return this.id
						},
						updateChildren: function(t) {
							var i = this,
								o = r.getOrgCacheByOid(this.oid);
							null === i.children && (i.children = []), t = t.map(function(r) {
								var t = o.genId(r),
									n = o.getCache(t);
								if (n) {
									var d = n.parents.indexOf(i); - 1 === d ? (n.updateParent(i), n.changeCurrentParentIndex(n.parents.length - 1)) : n.changeCurrentParentIndex(d)
								} else r instanceof e ? n = r : (n = new a(r, t, i.oid, i), o.setCache(t, n));
								return -1 == i.children.indexOf(n) ? n : void 0
							}), this.children = this.children.concat(t)
						},
						getMore: function(e, r, i) {
							var n = this.queryOption,
								a = this;
							t.getOrgRelations(n.keyword, n.keyType, n.deptType, n.orgId, r, e, function(e) {
								d.info("pull arch data with queryOption " + JSON.stringify(n) + "offset" + r), 200 == e.code && e.body ? (a.hasMore = e.body.hasMore, a.offset += a.pageSize, i(e.body.values)) : (i(!1), o.show("拉取部门人员失败，请稍候再试", {
									type: "error"
								}), d.error("pull arch error"))
							})
						},
						active: function(e) {
							var r = this;
							this.children || this.getMore(this.defaultSize, this.offset, function(t) {
								t && Array.isArray(t) && r.updateChildren(t), e && e(t)
							})
						},
						showMore: function(e) {
							var r = this;
							this.getMore(this.pageSize, this.offset, function(t) {
								t && Array.isArray(t) && t.length > 0 && r.updateChildren(t), e && e(t)
							})
						},
						showAll: function(e) {
							var r = this;
							if (r.hasMore) this.showMore(function(t) {
								return !t && e ? e(!1) : void r.showAll(e)
							});
							else {
								var t = $.extend(!0, [], r.children);
								t.push(r), e && e(t)
							}
						},
						_getQueryOptionByItem: function(e, r) {
							var t = {};
							if (t.orgId = r, t.deptType = 0, 0 === e.nodeType) {
								var i = e.dept;
								t.keyType = 0, t.keyword = i.deptId
							} else if (1 === e.nodeType) {
								var i = e.employee,
									o = i.uid,
									n = i.orgStaffId;
								o ? (t.keyType = 1, t.keyword = i.uid) : n ? (t.keyType = 2, t.keyword = i.orgStaffId) : (t.keyType = 2, t.keyword = null)
							}
							return t
						},
						destroy: function() {
							this.children = null, this.parents = []
						}
					});
					return a
				}
			]);


		}, {
			"../log/log": 260,
			"../toast/toast": 378,
			"../tree/TreeEOFNode": 388,
			"../tree/TreeNode": 389,
			"../user/userCache": 401,
			"./OrgCacheFactory": 337,
			"@ali/ding-api": 453
		}
	],
	340: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.refreshCookie",
				hostConfig = require("../hostConfig");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].LoginI, require("../events")]).factory("refreshCookie", ["LoginI", "$rootScope", "EVENTS",
				function(n, e, o) {
					function t() {
						e.$on(o.LOGIN_STATE_CHANGE, function(n, e) {
							2 === e && (clearInterval(a), a = setInterval(function() {
								i()
							}, 432e5), i())
						})
					}

					function i() {
						return s().then(function() {
							return u()
						}).then(function() {
							f = 0
						})["catch"](function() {
							return r()
						})
					}

					function r() {
						return f += 1, f >= 5 ? Promise.reject(new Error("Can't set cookies")) : Promise.resolve().then(function() {
							return new Promise(function(n, e) {
								setTimeout(function() {
									n()
								}, 5e3)
							})
						}).then(function() {
							return i()
						})
					}

					function s() {
						return new Promise(function(e, o) {
							n.createTempSessionInfo(function(n) {
								200 === n.code ? $.ajax(hostConfig.login + "/login/createSessionInfoByTemp.jsonp", {
									dataType: "jsonp",
									data: {
										sessionId: n.body
									}
								}).then(function(n) {
									n.success === !0 ? e() : o(n)
								}, function() {
									o()
								}) : o(n)
							})
						})
					}

					function u() {
						return new Promise(function(n, e) {
							$.ajax(hostConfig.space + "/v1/ding/token", {
								dataType: "jsonp"
							}).then(function(o) {
								o.success === !0 ? n() : e()
							}, function() {
								e()
							})
						})
					}

					function c() {
						$.ajax(hostConfig.login + "/login/clearSession.jsonp", {
							dataType: "jsonp",
							data: {
								sessionId: token
							}
						}).done(function(n) {})
					}
					var a = null,
						f = 0;
					return {
						init: t,
						clearSession: c,
						refresh: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../events": 221,
			"../hostConfig": 242,
			"@ali/ding-api": 453
		}
	],
	341: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.safe";
			angular.module(moduleName, []).factory("safe", [
				function() {
					function e(e) {
						return String(e).replace(/[&<>"'\/]/g, function(e) {
							return r[e]
						})
					}
					var r = {
						"&": "&amp;",
						"<": "&lt;",
						">": "&gt;",
						'"': "&quot;",
						"'": "&#39;",
						"/": "&#x2F;"
					};
					return {
						escapeHTML: e
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	342: [
		function(require, module, exports) {
			angular.module("ddWeb.service.SearchState", []).value("SearchState", {
				OPEN: 0,
				CLOSE: 1,
				LOCK: 2
			});


		}, {}
	],
	343: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../../lib/class");
			require("../search/SearchManager"), require("../search/SearchType"), angular.module("ddWeb.service.SearchBar", ["ddWeb.service.SearchManager", "ddWeb.service.SearchType"]).factory("SearchBar", ["SearchManager", "$q", "SearchType",
				function(e, r, a) {
					var t = Class.create({
						initialize: function(r, a) {
							this.searchManager = new e(r, a)
						},
						query: function(e) {
							var t = r.defer(),
								n = [],
								c = [],
								s = this;
							return this.searchManager.query(e).then(function(e) {
								c !== e && (c = e, n = s.transformData(e)), 0 === n.length ? (n.push({
									type: a.SYSTEM,
									text: "没有匹配到任何结果"
								}), t.reject(n)) : t.resolve(n)
							}, function(e) {}, function(e) {
								c = e, n = s.transformData(e), t.notify(n)
							}), t.promise
						},
						transformData: function(e) {
							var r = [];
							return e.forEach(function(e) {
								e.children.forEach(function(a) {
									a.groupName = e.text, r.push(a)
								})
							}), r
						},
						getGroupName: function(e) {
							return e.groupName
						},
						selectingHandler: function(e) {
							this.searchManager.selectingHandler(e)
						},
						setSearchData: function(e) {
							this.searchManager.setSearchData(e)
						},
						setSearchState: function(e) {
							this.searchManager.setSearchState(e)
						}
					});
					return t
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../search/SearchManager": 354,
			"../search/SearchType": 355
		}
	],
	344: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.search.chatWith";
			require("./search/SearchType"), require("../toast/toast"), require("../tool/tool"), require("../modal/profileModal"), require("../goldlog/goldlog"), require("../log/lwlog.js"), require("../user/userManager"), angular.module(moduleName, ["ddWeb.service.SearchType", require("@ali/ding-api")["interface"].UserI, "ddWeb.toast", "ddWeb.goldlog", "ddWeb.service.profileModal", "ddWeb.log.lwlog", "ddWeb.service.tool", "ddWeb.user.userManager"]).factory("chatWith", ["SearchType", "$rootScope", "UserI", "tool", "toastService", "goldlog", "lwlog", "profileModalService", "userManager",
				function(e, o, r, a, i, d, l, t, n) {
					var s = function(o) {
						e.GROUP === o.type ? c(o.model) : u(o.model)
					}, u = function(e) {
							function r(e) {
								if (!e.userPermissionModel.canBeSentMsg) return c && c.unableClickReason ? void i.show(c.unableClickReason, {
									type: "information"
								}) : void t(a, s, u);
								if (!a) {
									if (!e.userProfileModel || !e.userProfileModel.uid) return;
									a = data.userProfileModel.uid
								}
								d.log("chat_search_people", "uid=" + a), l.commLog("chat_search_people", "uid=" + a), o.$broadcast("leftpannel.openChatByUid", {
									uid: a
								})
							}
							var a = e.uid,
								s = e.orgStaffId,
								u = e.orgId,
								c = e.permission;
							n.getUserWithExt(a, s, null, u).then(function(e) {
								r(e)
							}, function(e) {
								var o = "该用户目前不可访问";
								e.body && e.body.reason && (o = e.body.reason), i.show(o, {
									type: "warning"
								})
							})
						}, c = function(e) {
							o.$broadcast("leftpannel.openChatByGroup", {
								conversationId: e.conversationId
							}), d.log("chat_search_group", "cid=" + e.conversationId), l.commLog("chat_search_group", "cid=" + e.conversationId)
						};
					return s
				}
			]), module.exports = moduleName;


		}, {
			"../goldlog/goldlog": 239,
			"../log/lwlog.js": 262,
			"../modal/profileModal": 289,
			"../toast/toast": 378,
			"../tool/tool": 384,
			"../user/userManager": 404,
			"./search/SearchType": 355,
			"@ali/ding-api": 453
		}
	],
	345: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.FriendSearch",
				Class = require("../../../lib/class");
			require("./Search"), require("../../tool/tool"), require("./SearchType"), require("../searchTool"), require("../../user/userManager"), angular.module(moduleName, ["ddWeb.service.Search", require("@ali/ding-api")["interface"].FriendI, "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool", "ddWeb.user.userManager"]).factory("FriendSearch", ["$rootScope", "$compile", "$q", "Search", "FriendI", "tool", "SearchType", "searchTool", "userManager",
				function(e, r, i, t, a, s, c, n, u) {
					var o = Class.create({
						initialize: function() {
							o.superclass.initialize.call(this)
						},
						Extends: t,
						Statics: {
							create: function() {
								var e = new this;
								return e
							}
						},
						type: c.FRIEND,
						name: "好友",
						canSearch: !0,
						getSearchDataPromise: function(e) {
							var r = i.defer(),
								t = this,
								c = this.getCache(e);
							return c ? r.resolve(c) : (a.searchFriend(e, 0, this.P_TOSEARCHSIZE, function(i) {
								if (!t.P_isTimeout) {
									if (s.isError(i)) return void r.reject(t.P_errorMsg);
									var a = i.body.values,
										c = t.rebuildDataList(a);
									r.resolve(c), t.cache(e, c)
								}
							}), this.P_timeoutReject(r)), r.promise
						},
						rebuildDataList: function(e) {
							var r = [],
								i = this;
							return e.forEach(function(e, t) {
								e && u.getUser(e.uid).then(function(t) {
									r.push({
										id: n.buildId(),
										text: n.buildText(e.nick),
										type: i.type,
										model: {
											uid: e.uid,
											avatarMediaId: e.avatarMediaId,
											name: n.buildText(e.name),
											nick: n.buildText(e.nick)
										},
										user: t[0]
									})
								})
							}), {
								text: this.name,
								type: this.type,
								children: r
							}
						},
						isItem: function(e) {
							return e.type === this.type
						}
					});
					return o
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../tool/tool": 384,
			"../../user/userManager": 404,
			"../searchTool": 359,
			"./Search": 353,
			"./SearchType": 355,
			"@ali/ding-api": 453
		}
	],
	346: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.GroupSearch",
				Class = require("../../../lib/class");
			require("./Search"), require("../../goldlog/goldlog"), require("../../log/lwlog.js"), require("../../tool/tool"), require("./SearchType"), require("../searchTool");
			var ConvType = require("../../conversation/ConvType");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].ConversationI, "ddWeb.goldlog", "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool", "ddWeb.log.lwlog"]).factory("GroupSearch", ["$rootScope", "$compile", "$q", "Search", "ConversationI", "goldlog", "tool", "SearchType", "searchTool", "lwlog",
				function(e, r, o, t, i, a, n, s, c, l) {
					var u = Class.create({
						initialize: function() {
							u.superclass.initialize.call(this)
						},
						Extends: t,
						Statics: {
							create: function() {
								var e = new this;
								return e
							}
						},
						type: s.GROUP,
						name: "群组",
						canSearch: !0,
						getSearchDataPromise: function(e) {
							var r = o.defer(),
								t = this,
								a = this.getCache(e);
							return a ? r.resolve(a) : (i.searchConversation(e, 0, this.P_TOSEARCHSIZE, function(o) {
								if (!t.P_isTimeout) {
									if (n.isError(o)) return void r.reject(t.P_errorMsg);
									var i = o.body,
										a = i.filter(function(e) {
											return e.baseConversation.tag !== ConvType.ANNOUNCEMENT
										}),
										s = t.rebuildDataList(a);
									r.resolve(s), t.cache(e, s)
								}
							}), this.P_timeoutReject(r)), r.promise
						},
						rebuildDataList: function(e) {
							var r = [],
								o = this;
							return e.forEach(function(e, t) {
								var i = e.baseConversation;
								r.push({
									id: c.buildId(),
									text: c.buildText(i.title),
									type: o.type,
									model: {
										tag: i.tag,
										icon: i.icon,
										conversationId: i.conversationId,
										extension: i.extension
									}
								})
							}), {
								text: this.name,
								type: this.type,
								children: r
							}
						},
						isItem: function(e) {
							return e.type === this.type
						}
					});
					return u
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../conversation/ConvType": 184,
			"../../goldlog/goldlog": 239,
			"../../log/lwlog.js": 262,
			"../../tool/tool": 384,
			"../searchTool": 359,
			"./Search": 353,
			"./SearchType": 355,
			"@ali/ding-api": 453
		}
	],
	347: [
		function(require, module, exports) {
			var Class = require("../../../../lib/class");
			require("../Search"), require("../../../goldlog/goldlog"), require("../../../log/lwlog.js"), require("../../../tool/tool"), require("../SearchType"), require("../../searchTool"), require("../../../user/userManager"), require("./getLocalSearchResult"), angular.module("ddWeb.service.CustomSearch", ["ddWeb.goldlog", "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool", "ddWeb.log.lwlog", "ddWeb.user.userManager", "ddWeb.LocalSearch.getLocalSearchResult"]).factory("CustomSearch", ["$rootScope", "$compile", "$q", "Search", "goldlog", "tool", "SearchType", "searchTool", "lwlog", "userManager", "getLocalSearchResult",
				function(e, r, t, i, o, a, l, s, u, c, d) {
					var n = Class.create({
						initialize: function(e) {
							n.superclass.initialize.call(this), this.customUids = e
						},
						Extends: i,
						Statics: {
							create: function(e) {
								var r = new this(e);
								return r
							}
						},
						type: l.CUSTOM,
						name: "",
						canSearch: !0,
						getSearchDataPromise: function(e) {
							var r = t.defer(),
								i = this;
							return i.customUids && 0 !== i.customUids.length ? c.getUsers(i.customUids).then(function(t) {
								var o = {};
								t.forEach(function(e) {
									o[e.userProfileModel.uid] = e
								});
								var a = d(e, o);
								r.resolve(i.rebuildDataList(a))
							}) : r.resolve([]), r.promise
						},
						rebuildDataList: function(e) {
							var r = [],
								t = this;
							return e.forEach(function(e, i) {
								e && r.push({
									id: s.buildId(),
									text: s.buildText(e.userProfileModel.nick),
									type: t.type,
									model: {
										uid: e.userProfileModel.uid,
										avatarMediaId: e.userProfileModel.avatarMediaId,
										name: s.buildText(e.userProfileModel.name),
										nick: s.buildText(e.userProfileModel.nick)
									},
									user: e
								})
							}), {
								text: this.name,
								type: this.type,
								children: r
							}
						},
						isItem: function(e) {
							return e.type === this.type
						}
					});
					return n
				}
			]);


		}, {
			"../../../../lib/class": 119,
			"../../../goldlog/goldlog": 239,
			"../../../log/lwlog.js": 262,
			"../../../tool/tool": 384,
			"../../../user/userManager": 404,
			"../../searchTool": 359,
			"../Search": 353,
			"../SearchType": 355,
			"./getLocalSearchResult": 349
		}
	],
	348: [
		function(require, module, exports) {
			var Class = require("../../../../lib/class");
			require("../Search"), require("../../../goldlog/goldlog"), require("../../../log/lwlog.js"), require("../../../tool/tool"), require("../SearchType"), require("../../searchTool"), require("../../../user/userManager"), require("./getLocalSearchResult"), angular.module("ddWeb.service.LocalSearch", ["ddWeb.goldlog", "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool", "ddWeb.log.lwlog", "ddWeb.user.userManager", "ddWeb.LocalSearch.getLocalSearchResult"]).factory("LocalSearch", ["$rootScope", "$compile", "$q", "Search", "goldlog", "tool", "SearchType", "searchTool", "lwlog", "userManager", "getLocalSearchResult",
				function(e, r, a, l, i, t, o, s, c, u, d) {
					var n = Class.create({
						initialize: function() {
							n.superclass.initialize.call(this)
						},
						Extends: l,
						Statics: {
							create: function() {
								var e = new this;
								return e
							}
						},
						type: o.LOCAL,
						name: "",
						canSearch: !0,
						getSearchDataPromise: function(e) {
							var r = a.defer(),
								l = this,
								i = u.getAllUsers(),
								t = d(e, i);
							return r.resolve(l.rebuildDataList(t)), r.promise
						},
						rebuildDataList: function(e) {
							var r = [],
								a = this;
							return e.forEach(function(e, l) {
								e && r.push({
									id: s.buildId(),
									text: s.buildText(e.userProfileModel.nick),
									type: a.type,
									model: {
										uid: e.userProfileModel.uid,
										avatarMediaId: e.userProfileModel.avatarMediaId,
										name: s.buildText(e.userProfileModel.name),
										nick: s.buildText(e.userProfileModel.nick)
									},
									user: e
								})
							}), {
								text: this.name,
								type: this.type,
								children: r
							}
						},
						isItem: function(e) {
							return e.type === this.type
						}
					});
					return n
				}
			]);


		}, {
			"../../../../lib/class": 119,
			"../../../goldlog/goldlog": 239,
			"../../../log/lwlog.js": 262,
			"../../../tool/tool": 384,
			"../../../user/userManager": 404,
			"../../searchTool": 359,
			"../Search": 353,
			"../SearchType": 355,
			"./getLocalSearchResult": 349
		}
	],
	349: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.LocalSearch.getLocalSearchResult",
				_ = require("lodash"),
				app = angular.module(moduleName, [require("../../../user/UserType")]);
			app.factory("getLocalSearchResult", ["UserType",
				function(e) {
					function r(r, u, t) {
						var s = [],
							p = t || i;
						for (var o in u) {
							if (s.length >= p) break;
							var N = u[o].userProfileModel,
								I = u[o],
								d = u[o].remarkNameObj;
							if (N.remarkNameObj = d, N && N.type === e.ORDINARY_USER) {
								var l = (N.name || "").indexOf(r),
									f = (N.nick || "").indexOf(r);
								if (-1 === l)
									if (-1 === f) {
										var c = n(N.name).indexOf(r);
										if (-1 === c) {
											var y = n(N.nickPinyin).indexOf(r);
											if (-1 === y) {
												var A = (N.nickPinyin || "").replace(/\^/g, "").toLowerCase().indexOf(r);
												if (-1 === A) {
													var x = d ? (d.alias || "").indexOf(r) : -1;
													if (-1 === x) {
														var m = d ? (d.pinyin || "").replace(/\^/g, "").toLowerCase().indexOf(r) : -1; - 1 === m || s.push({
															user: I,
															index: m,
															type: a.ALISA_PINYIN
														})
													} else s.push({
														user: I,
														index: x,
														type: a.ALIAS
													})
												} else s.push({
													user: I,
													index: A,
													type: a.NICK_PINYIN
												})
											} else s.push({
												user: I,
												index: y,
												type: a.NICK_PINYIN_FIRST_CHAR
											})
										} else s.push({
											user: I,
											index: c,
											type: a.NAME_FIRST_CHAR
										})
									} else s.push({
										user: I,
										index: f,
										type: a.NICK
									});
									else s.push({
										user: I,
										index: l,
										type: a.NAME
									})
							}
						}
						return s = s.sort(function(e, r) {
							return e.type === r.type ? e.index - r.index : e.type - r.type
						}), s.map(function(e) {
							return e.user
						})
					}

					function n(e) {
						return e ? e.toLowerCase().split("^").map(function(e) {
							return e.charAt(0)
						}).join("") : ""
					}
					var i = 3,
						a = {
							NAME: 1,
							NICK: 2,
							NAME_FIRST_CHAR: 3,
							NICK_PINYIN_FIRST_CHAR: 4,
							NICK_PINYIN: 5,
							ALIAS: 6,
							ALISA_PINYIN: 7
						};
					return r
				}
			]), module.exports = moduleName;


		}, {
			"../../../user/UserType": 399,
			"lodash": 470
		}
	],
	350: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("./Search"), require("../../goldlog/goldlog"), require("../../log/lwlog.js"), require("../../tool/tool"), require("./SearchType"), require("../searchTool"), require("../../user/userManager"), angular.module("ddWeb.service.MobileSearch", ["ddWeb.goldlog", "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool", "ddWeb.log.lwlog", "ddWeb.user.userManager"]).factory("MobileSearch", ["$rootScope", "$compile", "$q", "Search", "goldlog", "tool", "SearchType", "searchTool", "lwlog", "userManager",
				function(e, r, t, i, o, a, l, s, c, n) {
					var u = Class.create({
						initialize: function() {
							u.superclass.initialize.call(this)
						},
						Extends: i,
						Statics: {
							create: function() {
								var e = new this;
								return e
							}
						},
						type: l.MOBILE,
						name: "网络搜索",
						canSearch: !1,
						getSearchDataPromise: function(e) {
							var r = t.defer(),
								i = this;
							return /^\d+$/.test(e) ? r.resolve(i.rebuildDataList(e)) : r.reject(), this.P_timeoutReject(r), r.promise
						},
						rebuildDataList: function(e) {
							var r = [],
								t = this;
							return r.push({
								id: s.buildId(),
								text: s.buildText(e),
								type: t.type,
								model: {
									mobile: parseInt(e)
								}
							}), {
								text: this.name,
								type: this.type,
								children: r
							}
						},
						isItem: function(e) {
							return e.type === this.type
						},
						_createFirstChar: function(e) {
							return e ? e.toLowerCase().split("^").map(function(e) {
								return e.charAt(0)
							}).join("") : ""
						}
					});
					return u
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../goldlog/goldlog": 239,
			"../../log/lwlog.js": 262,
			"../../tool/tool": 384,
			"../../user/userManager": 404,
			"../searchTool": 359,
			"./Search": 353,
			"./SearchType": 355
		}
	],
	351: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.OrgSearch",
				Class = require("../../../lib/class");
			require("./Search"), require("../../tool/tool"), require("./SearchType"), require("../searchTool"), angular.module(moduleName, ["ddWeb.service.Search", require("@ali/ding-api")["interface"].ContactI, "ddWeb.service.tool", "ddWeb.service.SearchType", "ddWeb.service.searchTool"]).factory("OrgSearch", ["$rootScope", "$compile", "$q", "Search", "ContactI", "tool", "SearchType", "searchTool",
				function(e, r, i, t, a, o, s, n) {
					var c = Class.create({
						initialize: function(e, r) {
							c.superclass.initialize.call(this), this._oid = e.oid, this.name = e.orgName, this._indexOfMultiOrg = r
						},
						Extends: t,
						Statics: {
							create: function(e, r) {
								var i = new this(e, r);
								return i
							}
						},
						type: s.ORG,
						name: null,
						canSearch: !0,
						_indexOfMultiOrg: null,
						getSearchDataPromise: function(e) {
							var r = i.defer(),
								t = this;
							if (this._isNotOrgUser()) r.resolve([]);
							else {
								var s = this.getCache(e);
								s ? r.resolve(s) : (a.search(e, this._oid, 0, this.P_TOSEARCHSIZE, function(i) {
									if (!t.P_isTimeout) {
										if (o.isError(i)) return void r.reject(t.P_errorMsg);
										var a = t.rebuildDataList(i.body.values);
										r.resolve(a), t.cache(e, a)
									}
								}), this.P_timeoutReject(r))
							}
							return r.promise
						},
						_isNotOrgUser: function() {
							return !this._oid
						},
						rebuildDataList: function(e) {
							var r = [],
								i = this;
							return e.forEach(function(e, t) {
								var a = e.userProfile ? e.userProfile : {}, o = e.employee,
									s = null,
									c = "";
								s = o.orgNickName && "" !== o.orgNickName ? o.orgUserName + ("(" + o.orgNickName + ")") : o.orgUserName, o.depts && o.depts.length > 0 && (c = o.depts.map(function(e) {
									return e.deptName
								}).join(","), c = n._handleText(c));
								var d = {
									avatarMediaId: a.avatarMediaId,
									nick: n.buildText(o.orgNickName, a.nick),
									name: n.buildText(o.orgUserName, a.name),
									uid: o.uid,
									orgStaffId: o.orgStaffId,
									orgId: o.orgId,
									permission: e.permission,
									dept: c
								};
								r.push({
									id: n.buildId(),
									text: n.buildText(s),
									type: i.type,
									model: d
								})
							}), {
								text: this.name,
								type: this.type,
								indexOfMultiOrg: this._indexOfMultiOrg,
								children: r
							}
						},
						_buildCacheKey: function(e) {
							return [this.type, this._oid, e].join(String.fromCharCode(1))
						},
						isItem: function(e) {
							return e.type === this.type
						}
					});
					return c
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../tool/tool": 384,
			"../searchTool": 359,
			"./Search": 353,
			"./SearchType": 355,
			"@ali/ding-api": 453
		}
	],
	352: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../../lib/class");
			require("./getSearchIndex"), require("../searchTool"), require("../../tool/tool"), require("./SearchType"), angular.module("ddWeb.service.Query", ["ddWeb.service.getSearchIndex", "ddWeb.service.searchTool", "ddWeb.service.tool", "ddWeb.service.SearchType"]).factory("Query", ["getSearchIndex", "searchTool", "tool", "SearchType", "$q",
				function(e, r, t, n, i) {
					var a = Class.create({
						initialize: function(e) {
							this.searchInstanceArr = e, this.instanceCount = this.searchInstanceArr.length
						},
						_queryData: null,
						_totalCount: 0,
						_hasResultIndex: 0,
						_errorIndex: 0,
						_noResultIndex: 0,
						_errorMsg: null,
						query: function(e) {
							var r = i.defer(),
								t = 0,
								n = this,
								a = [];
							return this.searchInstanceArr.forEach(function(i, o) {
								i.getSearchDataPromise(e).then(function(e) {
									a = a.concat(e), a = n._sortQueryData(a), r.notify(a), t += 1
								}, function(e) {
									t += 1
								})["finally"](function() {
									t === n.instanceCount && r.resolve(a)
								})
							}), r.promise
						},
						_sortQueryData: function(r) {
							var t = this;
							return r.sort(function(r, n) {
								return t._isAllOrg(r, n) ? r.indexOfMultiOrg - n.indexOfMultiOrg : e.getIndexByType(r.type) - e.getIndexByType(n.type)
							})
						},
						_isAllOrg: function(e, r) {
							return e.type === n.ORG && r.type === n.ORG
						}
					});
					return a
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../tool/tool": 384,
			"../searchTool": 359,
			"./SearchType": 355,
			"./getSearchIndex": 356
		}
	],
	353: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../../lib/class"),
				cache = require("../../cache/cache");
			require("../../modal/profileModal"), require("../../goldlog/goldlog"), require("../../log/lwlog.js"), require("../../tool/tool"), require("../../toast/toast"), angular.module("ddWeb.service.Search", ["ui.select2", "ddWeb.service.profileModal", "ddWeb.goldlog", "ddWeb.service.tool", "ddWeb.toast", "ddWeb.log.lwlog"]).factory("Search", ["$rootScope", "$compile", "$timeout",
				function(e, r, t) {
					var o = new cache.ExpireCache(6e4),
						i = Class.create({
							initialize: function() {
								this.timeoutPromise = null, this.P_isTimeout = !1
							},
							P_TOSEARCHSIZE: 10,
							P_errorMsg: "系统错误，请稍候再试",
							P_timeoutReject: function(e) {
								var r = 1e4,
									o = this;
								o.P_isTimeout = !1, t.cancel(this.timeoutPromise), this.timeoutPromise = t(function() {
									e.reject("超时，请重新输入"), o.P_isTimeout = !0
								}, r)
							},
							type: null,
							name: null,
							canSearch: null,
							cache: function(e, r) {
								var t = this._buildCacheKey(e);
								return o.addCache(t, r)
							},
							getCache: function(e) {
								var r = this._buildCacheKey(e);
								return o.getCache(r)
							},
							_buildCacheKey: function(e) {
								return this.type + String.fromCharCode(1) + e
							},
							getSearchDataPromise: function(e) {
								throw new Error("need to be overwrite")
							},
							rebuildDataList: function(e, r) {
								throw new Error("need to be overwrite")
							},
							formatResult: function(e) {
								throw new Error("need to be overwrite")
							},
							selectingHandler: function(e) {
								throw new Error("need to be overwrite")
							}
						});
					return i
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../cache/cache": 170,
			"../../goldlog/goldlog": 239,
			"../../log/lwlog.js": 262,
			"../../modal/profileModal": 289,
			"../../toast/toast": 378,
			"../../tool/tool": 384
		}
	],
	354: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("./SearchType"), require("./searchFactory"), require("./Query"), require("./getSearchIndex"), require("../SearchState"), angular.module("ddWeb.service.SearchManager", ["ddWeb.service.SearchType", "ddWeb.service.searchFactory", "ddWeb.service.Query", "ddWeb.service.getSearchIndex", "ddWeb.service.SearchState"]).factory("SearchManager", ["SearchType", "searchFactory", "Query", "getSearchIndex", "SearchState",
				function(r, e, t, a, s) {
					var n = Class.create({
						initialize: function(r, e) {
							this.options = e || {}, this._searchTypeArr = r, this._orgDataArr = this.options.orgDataArr || null, this._customUids = this.options.customUids || []
						},
						_searchInstanceArr: null,
						_searchTypeArr: null,
						_orgDataArr: null,
						_state: null,
						initWhenCreate: function() {},
						_getSearchInstanceArr: function() {
							return this._searchInstanceArr || (this._searchInstanceArr = e.createBySearchData({
								searchTypeArr: this._searchTypeArr,
								orgDataArr: this._orgDataArr,
								customUids: this._customUids
							}), this.queryProxy = new t(this._searchInstanceArr)), this._searchInstanceArr
						},
						setSearchState: function(r) {
							this._state = r
						},
						query: function(r) {
							var e = null;
							return this._state === s.CLOSE ? void console.log("搜索被关闭") : this._state === s.LOCK ? void console.log("搜索被锁定") : (e = this._getSearchInstanceArr().filter(function(r) {
								return r.canSearch === !0
							}), 0 !== e.length ? this.queryProxy.query(r) : void 0)
						},
						formatResult: function(r) {
							var e = 0,
								t = 0,
								a = null,
								s = null,
								n = this._getSearchInstanceArr();
							for (e = 0, t = n.length; t > e; e++)
								if (s = n[e], s.isItem(r)) {
									a = s.formatResult(r);
									break
								}
							return a
						},
						selectingHandler: function(r) {
							var e = 0,
								t = 0,
								a = null,
								s = this._getSearchInstanceArr();
							for (e = 0, t = s.length; t > e; e++)
								if (a = s[e], a.isItem(r)) {
									a.selectingHandler(r);
									break
								}
						},
						setSearchData: function(e) {
							var e = $.extend(!0, {}, e);
							e.searchTypeArr.push(r.TITLE), this._searchTypeArr = e.searchTypeArr, this._orgDataArr = e.orgDataArr
						}
					});
					return n
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../SearchState": 342,
			"./Query": 352,
			"./SearchType": 355,
			"./getSearchIndex": 356,
			"./searchFactory": 357
		}
	],
	355: [
		function(require, module, exports) {
			var moduleName = "ddWeb.service.SearchType";
			angular.module(moduleName, []).value("SearchType", {
				SYSTEM: -1,
				TITLE: 0,
				LOCAL: 1,
				CUSTOM: 2,
				FRIEND: 3,
				GROUP: 4,
				ORG: 5,
				MOBILE: 99
			}), module.exports = moduleName;


		}, {}
	],
	356: [
		function(require, module, exports) {
			require("./SearchType"), angular.module("ddWeb.service.getSearchIndex", ["ddWeb.service.SearchType"]).factory("getSearchIndex", ["SearchType",
				function(e) {
					return {
						getIndexByType: function(r) {
							var a = 0;
							switch (r) {
								case e.TITLE:
									a = 1;
									break;
								case e.LOCAL:
									a = 2;
									break;
								case e.CUSTOM:
									a = 3;
									break;
								case e.FRIEND:
									a = 4;
									break;
								case e.ORG:
									a = 5;
									break;
								case e.GROUP:
									a = 6;
									break;
								case e.MOBILE:
									a = 99;
									break;
								default:
									throw new Error("type错误")
							}
							return a
						}
					}
				}
			]);


		}, {
			"./SearchType": 355
		}
	],
	357: [
		function(require, module, exports) {
			"use strict";
			require("./SearchType"), require("./FriendSearch"), require("./GroupSearch"), require("./OrgSearch"), require("./LocalSearch/LocalSearch"), require("./LocalSearch/CustomSearch"), require("./MobileSearch");
			var $my = require("../../user/my");
			angular.module("ddWeb.service.searchFactory", ["ddWeb.service.SearchType", "ddWeb.service.FriendSearch", "ddWeb.service.GroupSearch", "ddWeb.service.OrgSearch", "ddWeb.service.LocalSearch", "ddWeb.service.CustomSearch", "ddWeb.service.MobileSearch"]).factory("searchFactory", ["SearchType", "FriendSearch", "GroupSearch", "OrgSearch", "LocalSearch", "CustomSearch", "MobileSearch",
				function(e, r, a, c, o, h, t) {
					function i() {
						$my.orgEmployees && (u = $my.orgEmployees.map(function(e) {
							return {
								oid: e.orgEmployeeModel.orgId,
								orgName: e.orgEmployeeModel.orgName
							}
						}))
					}
					var u = null;
					return i(), {
						createBySearchType: function(i, u, s) {
							var S = [];
							switch (i) {
								case e.FRIEND:
									S = [r.create()];
									break;
								case e.GROUP:
									S = [a.create()];
									break;
								case e.ORG:
									u ? u.forEach(function(e, r) {
										S.push(c.create(e, r))
									}) : S = [];
									break;
								case e.LOCAL:
									S = [o.create()];
									break;
								case e.CUSTOM:
									S = [h.create(s)];
									break;
								case e.MOBILE:
									S = [t.create()];
									break;
								default:
									throw new Error("未知的SearchType")
							}
							return S
						},
						createBySearchData: function(e) {
							var r = this,
								a = [],
								c = e.searchTypeArr;
							return c.forEach(function(c) {
								var o = r.createBySearchType(c, e.orgDataArr || u, e.customUids || []);
								a = a.concat(o)
							}), a
						}
					}
				}
			]);


		}, {
			"../../user/my": 400,
			"./FriendSearch": 345,
			"./GroupSearch": 346,
			"./LocalSearch/CustomSearch": 347,
			"./LocalSearch/LocalSearch": 348,
			"./MobileSearch": 350,
			"./OrgSearch": 351,
			"./SearchType": 355
		}
	],
	358: [
		function(require, module, exports) {
			require("../user/userManager"), require("../modal/profileModal"), require("../toast/toast");
			var app = angular.module("ddWeb.search.searchMobile", ["ddWeb.user.userManager", "ddWeb.service.profileModal", "ddWeb.toast"]);
			app.factory("searchMobile", ["userManager", "profileModalService", "toastService",
				function(e, r, o) {
					function a(a) {
						a && e.getUserWithExt(null, null, a).then(function(e) {
							r(null, null, null, a)
						}, function(e) {
							e.body && e.body.reason ? o.show(e.body.reason, {
								type: "error"
							}) : o.show("查询人员失败", {
								type: "error"
							})
						})
					}
					return a
				}
			]);


		}, {
			"../modal/profileModal": 289,
			"../toast/toast": 378,
			"../user/userManager": 404
		}
	],
	359: [
		function(require, module, exports) {
			require("../tool/tool"), angular.module("ddWeb.service.searchTool", ["ddWeb.service.tool"]).factory("searchTool", ["tool",
				function(e) {
					return {
						buildId: function() {
							return e.buildUniqueKey()
						},
						buildText: function() {
							return 1 === arguments.length ? this._handleText(arguments[0]) : 2 === arguments.length ? this._handleText(arguments[0] || "" === arguments[0] && !arguments[1] ? arguments[0] : arguments[1]) : void 0
						},
						_handleText: function(e) {
							return e ? e.replace(/\<red\>|\<\/red\>/g, "") : ""
						}
					}
				}
			]);


		}, {
			"../tool/tool": 384
		}
	],
	360: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("../user/userManager");
			var app = angular.module("ddWeb.service.CustomList", ["ddWeb.user.userManager"]);
			app.factory("CustomList", ["$q", "userManager",
				function(s, i) {
					var t = Class.create({
						initialize: function() {
							this.isLoading = !0
						},
						isLoading: null,
						customList: null,
						init: function(s) {
							var t = this;
							i.getUsers(s).then(function(s) {
								t.isLoading = !1, t.customList = s, t.customList = t.customList.map(function(s) {
									return {
										user: s
									}
								})
							})
						}
					});
					return t
				}
			]);


		}, {
			"../../lib/class": 119,
			"../user/userManager": 404
		}
	],
	361: [
		function(require, module, exports) {
			var moduleName = "ddWeb.service.PanelType";
			angular.module(moduleName, []).value("PanelType", {
				ORG: 0,
				FRIEND: 1,
				CUSTOM: 2,
				GROUP: 3,
				COMPANY_GROUP: 4,
				CONV: 5
			}), module.exports = moduleName;


		}, {}
	],
	362: [
		function(require, module, exports) {
			require("./PanelType"), require("../tool/StringBuilder"), require("../../directive/widget/dropdown"), require("../safe/safe"), angular.module("ddWeb.service.selectorPanelBuilder", ["ddWeb.service.PanelType", "ddWeb.service.StringBuilder", "ddWeb.widget.dropdown", "ddWeb.safe"]).factory("selectorPanelBuilder", ["$compile", "$rootScope", "PanelType", "StringBuilder", "safe",
				function(e, n, r, l, t) {
					function a(e, n, l) {
						var t = null;
						return t = o(n), n === r.CUSTOM && (e.customUids = l), t(e, function(e, n) {})
					}

					function o(n) {
						var l = null;
						switch (n) {
							case r.ORG:
								l = e(angular.element('<div company class="tab-content org-member-lists"></div>'));
								break;
							case r.FRIEND:
								l = e(angular.element("<div friend></div>"));
								break;
							case r.CUSTOM:
								l = e(angular.element("<div custom></div>"));
								break;
							case r.GROUP:
								l = e(angular.element('<div group type = "ALL"></div>'));
								break;
							case r.COMPANY_GROUP:
								l = e(angular.element('<div group type = "COMPANY"></div>'));
								break;
							case r.CONV:
								l = e(angular.element("<div conv-list-panel></div>"));
								break;
							default:
								throw new Error("未知的panelType")
						}
						return l
					}

					function c(e, n, r, l) {
						var t = null;
						return (t = s(n, r, l))(e, function(e, n) {})
					}

					function s(n, l, t) {
						var a = null;
						switch (n) {
							case r.ORG:
								if (0 === t.length) throw new Error("orgDataArr.length 不应该为0");
								a = 1 === t.length ? p(n, l.orgName) : g(n, l.orgName);
								break;
							case r.FRIEND:
								a = P(n);
								break;
							case r.CUSTOM:
								a = "";
								break;
							case r.GROUP:
								a = u(n);
								break;
							case r.COMPANY_GROUP:
								a = i(n);
								break;
							case r.CONV:
								a = d(n);
								break;
							default:
								throw new Error("未知的panelType")
						}
						return e(angular.element(a))
					}

					function i(e) {
						return (new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.COMPANY_GROUP }" ng-click="selectorPanelController.go($event,{0})">企业群</li>', e).toString()
					}

					function d(e) {
						return (new l).append().append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.CONV }" ng-click="selectorPanelController.go($event,{0})">最近联系人</li>', e).toString()
					}

					function u(e) {
						return (new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.GROUP }" ng-click="selectorPanelController.go($event,{0})">群组</li>', e).toString()
					}

					function p(e, n) {
						return (new l).append('<li class="tab-item single-org" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.ORG }" ng-click="selectorPanelController.go($event,{0})"><span class="selector-panel-org-name">{1}</span></li>', e, t.escapeHTML(n)).toString()
					}

					function g(e, n) {
						return (new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.ORG }"><dd-drop-down repeat-data="menuData.orgDataArr" on-select="selectorPanelController.onSelect" ng-model="currentOrgData"><dd-drop-down-match class="eye" to-open-el="true"><span class="selector-panel-org-name">{{$selectItem.orgName}}</span><i class="iconfont tri to-open-el">&#xe633;</i></dd-drop-down-match><dd-drop-down-choices><span class="menu">{{$repeatItem.orgName}}</span></dd-drop-down-choices></dd-drop-down></li>', e, t.escapeHTML(n)).toString()
					}

					function P(e) {
						return (new l).append('<li class="tab-item" ng-class="{current: selectorPanelController.currentPanelType === selectorPanelController.PanelType.FRIEND }" ng-click="selectorPanelController.go($event,{0})">{1}</li>', e, "好友").toString()
					}
					return {
						buildMenu: function(e, n, r, l) {
							var t = [];
							r.panelTypeArr.forEach(function(l) {
								t.push(c(e, l, n, r.orgDataArr))
							}), l.empty(), t.forEach(function(e) {
								l.append(e)
							})
						},
						buildContainer: function(e, n, r, l) {
							var t = e.$new(),
								o = a(t, n, l);
							r.empty(), r.append(o)
						}
					}
				}
			]);


		}, {
			"../../directive/widget/dropdown": 97,
			"../safe/safe": 341,
			"../tool/StringBuilder": 379,
			"./PanelType": 361
		}
	],
	363: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.selector.selectedGroupItem",
				serviceName = "SelectedGroupItem";
			angular.module(moduleName, [require("./selectedItem")]).factory(serviceName, ["SelectedItem",
				function(e) {
					var t = e.extend({
						initialize: function(e, i, o) {
							t.superclass.initialize.call(this, e, i), o ? this.model = {
								conversationId: i
							} : i.model ? (this.model = i.model, this.text = i.text) : (this.model = i.baseConversation, this.text = i.baseConversation.title), this.buildId()
						},
						buildId: function() {
							this.id = this.type + "-" + this.model.conversationId
						}
					});
					return t
				}
			]), module.exports = moduleName;


		}, {
			"./selectedItem": 364
		}
	],
	364: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.selector.selectedItem",
				Class = require("../../../lib/class"),
				serviceName = "SelectedItem";
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					var e = Class.create({
						initialize: function(e) {
							this.id = "", this.model = null, this.type = e, this.text = ""
						}
					});
					return e
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119
		}
	],
	365: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.selector.selectedItemFactory",
				serviceName = "selectedItemFactory";
			angular.module(moduleName, [require("./selectedItemType"), require("./selectedUserItem"), require("./selectedGroupItem")]).factory(serviceName, ["selectedItemType", "SelectedUserItem", "SelectedGroupItem",
				function(e, r, t) {
					function c(c, l, m) {
						var u = null;
						switch (c) {
							case e.USER:
								u = new r(c, l, m);
								break;
							case e.GROUP:
								u = new t(c, l, m);
								break;
							default:
								throw new Error("未知的Type")
						}
						return u
					}
					return {
						genSelectedItem: c
					}
				}
			]), module.exports = moduleName;


		}, {
			"./selectedGroupItem": 363,
			"./selectedItemType": 366,
			"./selectedUserItem": 368
		}
	],
	366: [
		function(require, module, exports) {
			var moduleName = "ddWeb.selector.selectedItemType";
			angular.module(moduleName, []).value("selectedItemType", {
				USER: 0,
				GROUP: 1
			}), module.exports = moduleName;


		}, {}
	],
	367: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.selector.selectedList",
				Class = require("../../../lib/class"),
				serviceName = "SelectedList",
				EventEmitter = require("wolfy87-eventemitter"),
				_ = require("lodash");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].UserI, require("./selectedItemType"), require("../../toast/toast")]).factory(serviceName, ["UserI", "selectedItemType", "$q", "toastService",
				function(e, t, i, s) {
					var r = Class.create({
						initialize: function(e, t, i) {
							this.selected = e || [], this.locked = t || [], this.EventEmitter = new EventEmitter, _.isNumber(i) ? this.maxSize = i > 0 ? i : 0 : this.maxSize = -1, this.disabledItems = []
						},
						hasItem: function(e) {
							var t = !1;
							return this.selected.forEach(function(i) {
								i.id === e.id && (t = !0)
							}), t
						},
						indexOfArray: function(e, t) {
							var i = -1;
							return e.forEach(function(e, s) {
								e.id === t.id && (i = s)
							}), i
						},
						tryCreateUser: function(t) {
							var i = this,
								r = [{
									staffId: t.model.orgStaffId,
									oid: t.model.orgId,
									source: 0
								}],
								n = new Promise(function(n, o) {
									e.createUsersByIdentities(r, function(e) {
										return 200 !== e.code ? (n(), void s.show(e.body.reason, {
											type: "information"
										})) : e.body[0].uid ? (t.model.uid = e.body[0].uid, i.selected.push(t), void n(t)) : (n(), void s.show("该用户目前不可访问", {
											type: "information"
										}))
									})
								});
							return n
						},
						isDisabledItem: function(e) {
							return -1 !== this.indexOfArray(this.disabledItems, e)
						},
						addItem: function(e) {
							var i = e;
							if (this.isDisabledItem(e)) return s.show("该用户不能被选择", {
								type: "error"
							}), Promise.resolve();
							if (e.type === t.USER) {
								if (!e.model.uid) return this.tryCreateUser(e);
								var r = e.model.permission;
								r && r.unableSelectReason && (s.show(r.unableSelectReason, {
									type: "information"
								}), i = null), i && this.selected.push(e)
							} else e.type === t.GROUP && this.selected.push(e);
							return Promise.resolve(i)
						},
						addItems: function(e) {
							var t = this,
								i = [];
							t.maxSize >= 0 && t.selected.length >= t.maxSize && s.show("超过限制，不能选择", {
								type: "error"
							}), e.forEach(function(e, s) {
								t.hasItem(e) || t.isLocked(e) || !(-1 === t.maxSize || t.selected.length + 1 <= t.maxSize) || i.push(t.addItem(e))
							}), Promise.all(i).then(function(e) {
								t.EventEmitter.emit("selectedItems", e.filter(function(e) {
									return !!e
								}))
							})["catch"](function(e) {
								console.log(e)
							})
						},
						removeItems: function(e) {
							var t = this,
								i = [];
							e.forEach(function(e) {
								var s = t.indexOfArray(t.selected, e); - 1 != s && (t.selected.splice(s, 1), i.push(e))
							}), this.EventEmitter.emit("unselectedItems", i)
						},
						getSelected: function() {
							return this.selected
						},
						getLocked: function() {
							return this.locked
						},
						isLocked: function(e) {
							var t = this;
							return -1 !== t.indexOfArray(this.locked, e)
						},
						toggleItem: function(e) {
							this.hasItem(e) ? this.removeItems([e]) : this.addItems([e])
						},
						disableItems: function(e) {
							var t = this;
							e && Array.isArray(e) && e.forEach(function(e) {
								t.isDisabledItem(e) || t.disabledItems.push(e)
							})
						}
					});
					return r
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../toast/toast": 378,
			"./selectedItemType": 366,
			"@ali/ding-api": 453,
			"lodash": 470,
			"wolfy87-eventemitter": 476
		}
	],
	368: [
		function(require, module, exports) {
			"user strict";
			var moduleName = "ddWeb.selector.selectedUserItem",
				serviceName = "SelectedUserItem",
				_ = require("lodash");
			angular.module(moduleName, [require("./selectedItem"), require("../../user/User")]).factory(serviceName, ["SelectedItem", "User",
				function(e, i) {
					var t = e.extend({
						initialize: function(e, s, r) {
							t.superclass.initialize.call(this, e, s), s instanceof i ? this.user = s : s.user && s.user instanceof i ? this.user = s.user : r ? this.model = {
								uid: s
							} : (this.model = s.model, this.text = s.text), this.user && (this.buildDisplayText(), this.buildModel()), this.buildId()
						},
						buildDisplayText: function() {
							var e = "";
							e = _.get(this, "user.userProfileModel.nick") || _.get(this, "user.userProfileModel.name"), this.text = e
						},
						buildModel: function() {
							var e = {
								uid: _.get(this, "user.userProfileModel.uid"),
								nick: _.get(this, "user.userProfileModel.nick"),
								name: _.get(this, "user.userProfileModel.name")
							};
							this.model = e
						},
						buildId: function() {
							var e = "";
							e = this.user ? _.get(this, "user.userProfileModel.uid") : _.get(this, "model.uid") || _.get(this, "model.orgId") + "-" + _.get(this, "model.orgStaffId"), this.id = this.type + "-" + e
						}
					});
					return t
				}
			]), module.exports = moduleName;


		}, {
			"../../user/User": 398,
			"./selectedItem": 364,
			"lodash": 470
		}
	],
	369: [
		function(require, module, exports) {
			var moduleName = "ddWeb.senderExt.senderExtFactory",
				$my = require("../user/my"),
				app = angular.module(moduleName, []);
			app.factory("senderExtFactory", [
				function() {
					return {
						genSenderUidEx: function() {
							return {
								uid: $my.getId(),
								tag: $my.userProfileModel.ver
							}
						},
						genOpenIdEx: function() {
							return {
								openId: $my.getId(),
								tag: $my.userProfileModel.ver
							}
						}
					}
				}
			]), module.exports = moduleName;


		}, {
			"../user/my": 400
		}
	],
	370: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.spacePlugin.config",
				cspacePlugin = require("@ali/space-plugin"),
				uriResolve = require("../uriResolve/resolve");
			angular.module(moduleName, []).factory("spacePluginConfig", [
				function() {
					function e() {
						l || (cspacePlugin.setConfig(i), l = !0)
					}
					var s = "0.3.7",
						i = {
							fileSelectScriptUrl: uriResolve.assetsResolve("//g.alicdn.com/ilw/cloud-storage-project/" + s + "/scripts/fileselect-min.js"),
							commonFileListScriptUrl: uriResolve.assetsResolve("//g.alicdn.com/ilw/cloud-storage-project/" + s + "/scripts/commonfilelist.js"),
							dingtalkAPIScriptUrl: uriResolve.assetsResolve("//g.alicdn.com/dingding/dingtalk-pc-api/2.1.9/index.js"),
							getOrgListUrl: uriResolve.apiResolve("/v1/ding/orgs"),
							getSummaryUrl: uriResolve.apiResolve("/v1/ding/spaces/summary"),
							getGroupListUrl: uriResolve.apiResolve("/v1/ding/spaces/group"),
							getFileListUrl: uriResolve.apiResolve("/v1/space/folder/list"),
							repathUrl: uriResolve.apiResolve("/v1/space/msrepath"),
							statusUrl: uriResolve.apiResolve("/v1/space/msstatus"),
							addDirectUrl: uriResolve.apiResolve("/v1/space/file/addDirect"),
							downloadUrl: uriResolve.apiResolve("//space.dingtalk.com/auth/download"),
							fileSelectCountLimit: 20
						}, l = !1;
					return e
				}
			]), module.exports = moduleName;


		}, {
			"../uriResolve/resolve": 397,
			"@ali/space-plugin": 459
		}
	],
	371: [
		function(require, module, exports) {
			angular.module("ddWeb.state", []).factory("stateService", [
				function() {
					function t(t) {
						return n[t]
					}

					function e(t, e) {
						return n[t] = e, n[t]
					}
					var n = {};
					return {
						get: t,
						set: e
					}
				}
			]);


		}, {}
	],
	372: [
		function(require, module, exports) {
			var moduleName = "ddWeb.ddStorage",
				$my = require("../user/my");
			angular.module(moduleName, []).factory("ddStorage", [
				function() {
					function e(e) {
						var t = $my.getId();
						return a[e] || (a[e] = window.localStorage.getItem(t + "_" + e)), a[e]
					}

					function t(e, t) {
						var o = $my.getId();
						t += "", a[e] = t, window.localStorage.setItem(o + "_" + e, t)
					}

					function o(e) {
						return a[e] || (a[e] = window.localStorage.getItem(e)), a[e]
					}

					function r(e, t) {
						t += "", a[e] = t, window.localStorage.setItem(e, t)
					}
					var a = {};
					return {
						getItem: o,
						setItem: r,
						setItemWithUid: t,
						getItemWithUid: e
					}
				}
			]), module.exports = moduleName;


		}, {
			"../user/my": 400
		}
	],
	373: [
		function(require, module, exports) {
			"use strict";
			var KEYS = {
				TOKEN: "token_storage",
				APPKEY: "appkey_storage",
				NICK: "nick_storage",
				DID: "device_id",
				AUTH_TEL: "auth_tel",
				AUTH_COUNTRY_KEY: "auth_country_key",
				AUTH_METHOD: "login_method",
				WS_SERVERS: "ws_servers",
				LATEST_USER_INFO: "latest_user_info",
				CONTACT_TAB_STATUS: "contact_tab_status",
				DOWNLOAD_DIRETORY: "download_directory"
			}, session = {
					getItem: function(e) {
						return window.sessionStorage.getItem(e)
					},
					setItem: function(e, t) {
						return window.sessionStorage.setItem(e, t)
					},
					removeItem: function(e) {
						return window.sessionStorage.removeItem(e)
					}
				}, local = {
					getItem: function(e) {
						return window.localStorage.getItem(e)
					},
					setItem: function(e, t) {
						return window.localStorage.setItem(e, t)
					},
					removeItem: function(e) {
						return window.localStorage.removeItem(e)
					}
				};
			module.exports = {
				KEYS: KEYS,
				session: session,
				local: local
			};


		}, {}
	],
	374: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.protocol.sync",
				syncPadding = require("@ali/ding-api").model.sync,
				relationPadding = require("@ali/ding-api").model.relation,
				msgpack = require("@ali/msgpack"),
				syncState = require("./syncState"),
				syncObjectTypes = require("./syncObjectTypes"),
				EventEmitter = require("wolfy87-eventemitter");
			angular.module(moduleName, [require("../api/MsgSub"), require("../log/log"), require("@ali/ding-api")["interface"].Sync]).factory("syncProtocol", ["MsgSub", "Sync", "log",
				function(e, n, t) {
					function a(e, n) {
						var t = n.onSyncMsg || function() {}, a = n.onNeedPullData || function() {
								return Promise.resolve()
							};
						return y.addListener(u + e, t), d.push(a),
						function() {
							y.removeListener(u + e, t);
							var n = d.indexOf(a);
							n > -1 && d.splice(n, 1)
						}
					}

					function o() {
						var e = syncState.getSyncInfo();
						n.getState(e, function(e) {
							200 === e.code ? d.length > 0 ? Promise.all(d.map(function(e) {
								return e()
							})).then(function() {
								t.info("sync : pull data success"), syncState.setSyncInfo(e.body), c()
							}, function(n) {
								t.info("sync : pull data fail :" + JSON.stringify(n)), syncState.setSyncInfo(e.body), c()
							}) : (t.info("pullDataCallbacks is an empty array"), syncState.setSyncInfo(e.body), c()) : t.error("sync : getState fail " + JSON.stringify(e))
						})
					}

					function c() {
						var e = syncState.getSyncInfo();
						n.getDiff(e, function(e) {
							200 === e.code ? (g = 0, syncState.setSyncInfo({
								pts: e.body.maxPts,
								seq: e.body.endSeq,
								timestamp: e.body.timestamp
							}), e.body.data && Array.isArray(e.body.data) && i(e.body.data), e.body.hasMore ? (t.info("sync : getDiff , but hasMore is true , getDiff one more"), c()) : (t.info("sync : get diff end , try ack"), r())) : (g++, g > l ? t.error("sync : getDiff error") : (t.error("sync : getDiff error, but try one more"), c()))
						})
					}

					function r() {
						var e = syncState.getSyncInfo();
						n.ackDiff(e, function(e) {
							t.info("sync ackDiff result: " + JSON.stringify(e))
						})
					}

					function i(e) {
						e.forEach(function(e) {
							var n = e.objectType;
							try {
								var a = msgpack.decodeFromB64(e.data);
								f[n] && (a = f[n](a)), y.emitEvent(u + n, [a])
							} catch (o) {
								t.error(o.toString() + " | Scene : decode sync data , data:" + e.data)
							}
							t.info("sync receive msg with objectType " + n)
						})
					}

					function s() {
						e.subscribe("/s/sync", function(e, n) {
							n({});
							var a = syncPadding.paddings.SyncPushModel(e.body);
							a.syncExtraType && 2 === a.syncExtraType.type && (o(), t.info("sync : receive sync msg, too long = 2")), a.syncExtraType && 1 === a.syncExtraType.type && (c(), t.info("sync : receive sync msg, too long = 1")), a.syncPushPackage && a.syncPushPackage.data && i(a.syncPushPackage.data)
						})
					}
					var y = new EventEmitter,
						d = [],
						f = {};
					f[syncObjectTypes.RELATION_ALIAS] = relationPadding.paddings.AliasModel, f[syncObjectTypes.RELATION_FOLLOW] = relationPadding.paddings.FollowModel;
					var u = "syncProtocol-",
						l = 5,
						g = 0;
					return {
						init: s,
						register: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../api/MsgSub": 146,
			"../log/log": 260,
			"./syncObjectTypes": 375,
			"./syncState": 376,
			"@ali/ding-api": 453,
			"@ali/msgpack": 458,
			"wolfy87-eventemitter": 476
		}
	],
	375: [
		function(require, module, exports) {
			"use strict";
			module.exports = {
				RELATION_ALIAS: 2501,
				RELATION_FOLLOW: 2503
			};


		}, {}
	],
	376: [
		function(require, module, exports) {
			"use strict";
			var _ = require("lodash"),
				syncInfo = {
					pts: 0,
					seq: 0,
					timestamp: 0
				};
			exports.getSyncInfo = function() {
				return syncInfo
			}, exports.setSyncInfo = function(n) {
				return _.assign(syncInfo, n), syncInfo
			};


		}, {
			"lodash": 470
		}
	],
	377: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.titleService",
				ua = require("../service/ua"),
				uriResolve = require("./uriResolve/resolve");
			angular.module(moduleName, [require("./conversation/unreadConv")]).factory("titleService", ["unreadConv",
				function(e) {
					var t, n = uriResolve.assetsResolve("app/img/icons/oldIcon.ico"),
						o = uriResolve.assetsResolve("app/img/icons/newIcon.ico"),
						r = document.title,
						i = $("#favicon"),
						u = !1,
						a = null,
						l = function() {
							var e = !1;
							a = setInterval(function() {
								e ? (ua.isNw || (document.title = r), i.attr("href", n), e = !1) : (ua.isNw || (document.title = t), i.attr("href", o), e = !0)
							}, 600), u = !0
						}, s = function() {
							clearInterval(a), document.title = r, i.attr("href", n), u = !1
						}, c = function() {
							e.on(e.EventsName.UNREAD_UPDATE, function(e) {
								var n = e.unreadMsgCount;
								n > 0 ? (t = r + "(" + n + ")", u || l()) : s()
							})
						};
					return {
						init: c
					}
				}
			]), module.exports = moduleName;


		}, {
			"../service/ua": 390,
			"./conversation/unreadConv": 201,
			"./uriResolve/resolve": 397
		}
	],
	378: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.toast";
			angular.module(moduleName, []).factory("toastService", ["$timeout", "$filter",
				function(e, t) {
					function n(n, r, u, l) {
						var i = 2e3;
						if (!a(n) && (o = n, e(function() {
							o = null
						}, i), n)) {
							var m = {
								theme: "relax",
								layout: "topCenter",
								animation: {
									open: "animated fadeIn",
									close: "animated fadeOut"
								},
								text: t("emoj")(n).toString().replace(/\n/g, "<br/>"),
								timeout: 3e3,
								callback: u
							};
							return r && (m = $.extend(!0, {}, m, r)), l ? $(l).noty(m) : noty(m)
						}
					}

					function a(e) {
						return e === o
					}
					var o = null;
					return {
						show: n
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	379: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("./tool"), angular.module("ddWeb.service.StringBuilder", ["ddWeb.service.tool"]).factory("StringBuilder", ["tool",
				function(r) {
					var e = Class.create({
						initialize: function() {
							this._array = []
						},
						_array: null,
						append: function(r) {
							if (arguments.length > 1) {
								var e = Array.prototype.slice.call(arguments, 0);
								this._array.push(this.format.apply(this, e))
							} else this._array.push(r);
							return this
						},
						format: function(e, t) {
							var i = 0,
								n = 0,
								a = 0,
								l = null;
							if (!e) return "";
							if (null === t || void 0 === t) return e;
							for (l = r.judge.isArray(t) ? t : Array.prototype.slice.call(arguments, 1), i = 0, a = l.length; a > i; i++) e = r.judge.isFunction(l[i]) ? e.replace(new RegExp("\\{" + n+++"\\}", "g"), r.getFunctionName(l[i])) : e.replace(new RegExp("\\{" + n+++"\\}", "g"), l[i].toString());
							return e
						},
						toString: function(r) {
							var e = r || "";
							return this._array.join(e)
						},
						dispose: function() {
							this._array = null
						}
					});
					return e
				}
			]);


		}, {
			"../../lib/class": 119,
			"./tool": 384
		}
	],
	380: [
		function(require, module, exports) {
			"use strict";
			var uuid = require("./uuid");
			exports.getDid = function() {
				return uuid.v4().replace(/\-/g, "")
			};


		}, {
			"./uuid": 385
		}
	],
	381: [
		function(require, module, exports) {
			angular.module("ddWeb.service.modelHelper", []).factory("modelHelper", function() {
				return {
					isOrgUser: function(e) {
						return e.orgEmployees && e.orgEmployees.length > 0
					}
				}
			});


		}, {}
	],
	382: [
		function(require, module, exports) {
			require("./tool"), angular.module("ddWeb.service.multiOrgTool", ["ddWeb.service.tool"]).factory("multiOrgTool", ["tool",
				function(r) {
					return {
						convertOrgEmployeeExtensionModelListToOrgDataList: function(r) {
							var e = this;
							return r.map(function(r) {
								return e.convertOrgEmployeeExtensionModelToOrgData(r)
							})
						},
						convertOrgEmployeeExtensionModelToOrgData: function(r) {
							return {
								oid: r.orgEmployeeModel.orgId,
								orgName: r.orgEmployeeModel.orgName
							}
						},
						setCurrentOrgData: function(r) {
							window.localStorage.setItem("currentOrgData", JSON.stringify(r))
						},
						getCurrentOrgData: function(r, e) {
							var o = window.localStorage.getItem("currentOrgData");
							return o ? (o = JSON.parse(o), this._isUserInOrg(o, e) ? o : r) : r
						},
						isOrgDataEqual: function(r, e) {
							return r.oid == e.oid && r.orgName == e.orgName
						},
						_isUserInOrg: function(e, o) {
							var t = this;
							return r.contain(o, function(r) {
								return t.isOrgDataEqual(r, e)
							})
						}
					}
				}
			]);


		}, {
			"./tool": 384
		}
	],
	383: [
		function(require, module, exports) {
			function paramValidate(e, r) {
				return _.reduce(r, function(r, a, t) {
					var u = _.get(e, t),
						i = _.get(_, "is" + a);
					return i && !i(u) && r.push(t + " is not " + a), r
				}, [])
			}
			var _ = require("lodash");
			module.exports = paramValidate;


		}, {
			"lodash": 470
		}
	],
	384: [
		function(require, module, exports) {
			angular.module("ddWeb.service.tool", []).factory("tool", [
				function() {
					function t(t) {
						return "[object Function]" === Object.prototype.toString.call(t)
					}
					var n = function() {
						return {
							isFunction: function(t) {
								return "[object Function]" === Object.prototype.toString.call(t)
							},
							isArray: function(t) {
								return "[object Array]" === Object.prototype.toString.call(t)
							},
							isDate: function(t) {
								return "[object Date]" === Object.prototype.toString.call(t)
							},
							isString: function(t) {
								return "[object String]" === Object.prototype.toString.call(t)
							}
						}
					}();
					return {
						judge: n,
						assert: function(t, n) {
							console.assert ? console.assert(t, n) : !t && n && console && console.log && console.log("断言：" + n)
						},
						getFunctionName: function(t) {
							var n = "";
							return t ? (n = t.toString().match(/^.*function\s*([^\(]*)/), null === n ? n : n[1]) : null
						},
						extendExist: function(t, n) {
							var e = "";
							for (e in n) void 0 !== t[e] && (t[e] = n[e]);
							return t
						},
						extend: function(t, n) {
							var e = "";
							for (e in n) t[e] = n[e];
							return t
						},
						extendDeep: function(t, n) {
							var e = null,
								r = 0,
								o = Object.prototype.toString,
								u = "[object Array]",
								i = "[object Object]",
								c = "",
								l = null;
							if (o.call(t) === u)
								for (l = n || [], e = 0, r = t.length; r > e; e++) c = o.call(t[e]), c === u || c === i ? (l[e] = c === u ? [] : {}, arguments.callee(t[e], l[e])) : l[e] = t[e];
							else if (o.call(t) === i) {
								l = n || {};
								for (e in t) c = o.call(t[e]), c === u || c === i ? (l[e] = c === u ? [] : {}, arguments.callee(t[e], l[e])) : l[e] = t[e]
							} else l = t;
							return l
						},
						isSamePerson: function(t, n) {
							return t.uid && n.uid ? t.uid == n.uid : t.text == n.text
						},
						contain: function(n, e) {
							var r = 0,
								o = 0;
							if (t(e)) {
								for (r = 0, o = n.length; o > r; r++)
									if (e.call(null, n[r], r)) return !0
							} else
								for (r = 0, o = n.length; o > r; r++)
									if (e === value || value.contain && value.contain(e)) return !0; return !1
						},
						getNoRepeatArr: function(t, n) {
							var n = n || function(t, n) {
									return t === n
								}, e = this,
								r = [];
							return t.forEach(function(t) {
								e.contain(r, function(e) {
									return n(e, t)
								}) || r.push(t)
							}), r
						},
						hasRepeatItem: function(t, n) {
							function e(t) {
								if (0 == t.length) return !1;
								o = t[0];
								for (var e = 1; e < t.length; e++)
									if (n(o, t[e])) return !0;
								return t.shift(), arguments.callee(t)
							}
							var r = this.extendDeep(t),
								n = n || function(t, n) {
									return t === n
								}, o = null;
							return e(r)
						},
						isError: function(t) {
							return 200 !== t.code
						},
						error: function(t, n) {
							if (t) throw new Error(n)
						},
						makeEnterKeyToTriggerClickHandlerOfA: function(t) {
							$(t).focus()
						},
						buildUniqueKey: function() {
							return Math.random() + "_" + Math.random()
						}
					}
				}
			]);


		}, {}
	],
	385: [
		function(require, module, exports) {
			function parse(e, r, s) {
				var n = r && s || 0,
					u = 0;
				for (r = r || [], e.toLowerCase().replace(/[0-9a-f]{2}/g, function(e) {
					16 > u && (r[n + u++] = _hexToByte[e])
				}); 16 > u;) r[n + u++] = 0;
				return r
			}

			function unparse(e, r) {
				var s = r || 0,
					n = _byteToHex;
				return n[e[s++]] + n[e[s++]] + n[e[s++]] + n[e[s++]] + "-" + n[e[s++]] + n[e[s++]] + "-" + n[e[s++]] + n[e[s++]] + "-" + n[e[s++]] + n[e[s++]] + "-" + n[e[s++]] + n[e[s++]] + n[e[s++]] + n[e[s++]] + n[e[s++]] + n[e[s++]]
			}

			function v1(e, r, s) {
				var n = r && s || 0,
					u = r || [];
				e = e || {};
				var o = null != e.clockseq ? e.clockseq : _clockseq,
					t = null != e.msecs ? e.msecs : (new Date).getTime(),
					a = null != e.nsecs ? e.nsecs : _lastNSecs + 1,
					l = t - _lastMSecs + (a - _lastNSecs) / 1e4;
				if (0 > l && null == e.clockseq && (o = o + 1 & 16383), (0 > l || t > _lastMSecs) && null == e.nsecs && (a = 0), a >= 1e4) throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
				_lastMSecs = t, _lastNSecs = a, _clockseq = o, t += 122192928e5;
				var i = (1e4 * (268435455 & t) + a) % 4294967296;
				u[n++] = i >>> 24 & 255, u[n++] = i >>> 16 & 255, u[n++] = i >>> 8 & 255, u[n++] = 255 & i;
				var d = t / 4294967296 * 1e4 & 268435455;
				u[n++] = d >>> 8 & 255, u[n++] = 255 & d, u[n++] = d >>> 24 & 15 | 16, u[n++] = d >>> 16 & 255, u[n++] = o >>> 8 | 128, u[n++] = 255 & o;
				for (var _ = e.node || _nodeId, f = 0; 6 > f; f++) u[n + f] = _[f];
				return r ? r : unparse(u)
			}

			function v4(e, r, s) {
				var n = r && s || 0;
				"string" == typeof e && (r = "binary" == e ? new BufferClass(16) : null, e = null), e = e || {};
				var u = e.random || (e.rng || _rng)();
				if (u[6] = 15 & u[6] | 64, u[8] = 63 & u[8] | 128, r)
					for (var o = 0; 16 > o; o++) r[n + o] = u[o];
				return r || unparse(u)
			}
			var _global = window,
				_rng;
			if (!_rng && _global.crypto && crypto.getRandomValues) {
				var _rnds8 = new Uint8Array(16);
				_rng = function() {
					return crypto.getRandomValues(_rnds8), _rnds8
				}
			}
			if (!_rng) {
				var _rnds = new Array(16);
				_rng = function() {
					for (var e, r = 0; 16 > r; r++) 0 === (3 & r) && (e = 4294967296 * Math.random()), _rnds[r] = e >>> ((3 & r) << 3) & 255;
					return _rnds
				}
			}
			for (var BufferClass = "function" == typeof _global.Buffer ? _global.Buffer : Array, _byteToHex = [], _hexToByte = {}, i = 0; 256 > i; i++) _byteToHex[i] = (i + 256).toString(16).substr(1), _hexToByte[_byteToHex[i]] = i;
			var _seedBytes = _rng(),
				_nodeId = [1 | _seedBytes[0], _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]],
				_clockseq = 16383 & (_seedBytes[6] << 8 | _seedBytes[7]),
				_lastMSecs = 0,
				_lastNSecs = 0,
				uuid = v4;
			if (uuid.v1 = v1, uuid.v4 = v4, uuid.parse = parse, uuid.unparse = unparse, uuid.BufferClass = BufferClass, "function" == typeof define && define.amd) define(function() {
				module.exports = uuid
			});
			else if ("undefined" != typeof module && module.exports) module.exports = uuid;
			else {
				var _previousRoot = _global.uuid;
				uuid.noConflict = function() {
					return _global.uuid = _previousRoot, uuid
				}, _global.uuid = uuid
			}


		}, {}
	],
	386: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			require("./TreeNode"), angular.module("ddWeb.tree.Tree", ["ddWeb.tree.TreeNode"]).factory("Tree", ["TreeNode",
				function(e) {
					var r = Class.create({
						initialize: function() {
							this.root = null
						},
						genTreeNode: function() {
							return new e
						}
					});
					return r
				}
			]);


		}, {
			"../../lib/class": 119,
			"./TreeNode": 389
		}
	],
	387: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			angular.module("ddWeb.tree.TreeCache", [require("../log/log")]).factory("TreeCache", ["log",
				function(e) {
					var t = Class.create({
						initialize: function() {
							this.cache = {}, this.destroyTimeout = 3e5, this.isActive = !1, this.destroyImmediately = !1, this.destroyTimer = null
						},
						getCache: function(e) {
							return this.cache[e]
						},
						setCache: function(e, t) {
							this.cache[e] = t
						},
						destroy: function() {
							e.info("destroy the tree cache");
							for (var t in this.cache) {
								var i = this.cache[t];
								i.destroy(), delete this.cache[t]
							}
							this.destroyTimer = null
						},
						delayDestroy: function() {
							var e = this;
							this.destroyTimer || (this.destroyTimer = setTimeout(function() {
								e.isActive ? e.destroyImmediately = !0 : e.destroy()
							}, this.destroyTimeout))
						},
						active: function() {
							this.isActive = !0, this.delayDestroy()
						},
						deactive: function() {
							this.isActive = !1, this.destroyImmediately && this.destroy(), this.destroyImmediately = !1
						}
					});
					return t
				}
			]);


		}, {
			"../../lib/class": 119,
			"../log/log": 260
		}
	],
	388: [
		function(require, module, exports) {
			require("./TreeNode"), angular.module("ddWeb.tree.TreeEOFNode", ["ddWeb.tree.TreeNode"]).factory("TreeEOFNode", ["TreeNode",
				function(e) {
					var t = e.extend({
						initialize: function(e) {
							this.EOF = !0, this.id = (new Date).getTime().toString() + parseInt(1e3 * Math.random())
						},
						getId: function() {
							return this.id
						}
					});
					return t
				}
			]);


		}, {
			"./TreeNode": 389
		}
	],
	389: [
		function(require, module, exports) {
			var Class = require("../../lib/class");
			angular.module("ddWeb.tree.TreeNode", []).factory("TreeNode", [
				function() {
					function e(n) {
						var t = n.parents[n.currentParentIndex];
						return t ? e(t).concat([t]) : []
					}
					var n = Class.create({
						initialize: function(e) {
							this.parents = [], this.children = null, this.detail = e, this.currentParentIndex = 0
						},
						updateParent: function(e) {
							-1 === this.parents.indexOf(e) && this.parents.push(e)
						},
						getNodeList: function() {
							return e(this)
						},
						changeCurrentParentIndex: function(e) {
							this.currentParentIndex = e
						}
					});
					return n
				}
			]);


		}, {
			"../../lib/class": 119
		}
	],
	390: [
		function(require, module, exports) {
			"use strict";
			var detector = require("detector"),
				_ = require("lodash"),
				ua = window.navigator.userAgent,
				isAtomShell = -1 !== ua.indexOf("AtomShell"),
				isMac = -1 !== ua.indexOf("Mac"),
				isNw = -1 !== ua.indexOf("nw"),
				isWin = -1 !== ua.indexOf("Win"),
				winOSName = "Unknown"; - 1 != ua.indexOf("Windows NT 6.2") && (winOSName = "8"), -1 != ua.indexOf("Windows NT 6.1") && (winOSName = "7"), -1 != ua.indexOf("Windows NT 6.0") && (winOSName = "Vista"), -1 != ua.indexOf("Windows NT 5.1") && (winOSName = "XP"), -1 != ua.indexOf("Windows NT 5.0") && (winOSName = "2000");
			var osName = "Unknown",
				osVersion = "";
			"macosx" === detector.os.name ? (osName = "Mac OS X", osVersion = detector.os.fullVersion) : "windows" === detector.os.name && (osName = "Windows", osVersion = winOSName);
			var deviceName = "";
			deviceName = isNw ? osName + " " + osVersion : osName + " " + osVersion + " Web";
			var deviceModel = osName + " " + osVersion,
				OSSeq = " OS(" + _.get(detector, "os.name") + "/" + _.get(detector, "os.fullVersion") + ")",
				BrowserSeq = " Browser(" + _.get(detector, "browser.name") + "/" + _.get(detector, "browser.fullVersion") + ")",
				AppSeq = " DingWeb/" + window.version,
				nwSeq = "";
			if (isNw) {
				var gui = _nwrequire("nw.gui"),
					app = gui.App,
					version = app.manifest.version;
				nwSeq = " nw/" + version
			}
			var fullUA = window.navigator.userAgent + OSSeq + BrowserSeq + AppSeq + nwSeq;
			module.exports = {
				isAtomShell: isAtomShell,
				isMac: isMac,
				isNw: isNw,
				isWin: isWin,
				osVersion: osVersion,
				osName: osName,
				deviceName: deviceName,
				deviceModel: deviceModel,
				fullUA: fullUA
			};


		}, {
			"detector": 461,
			"lodash": 470
		}
	],
	391: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.umid";
			angular.module(moduleName, []).factory("umid", [
				function() {
					var e = function(e, i) {
						$('<div  id="_umfp" style="display:inline;width:1px;height:1px;overflow:hidden"><img src="https://ynuf.alipay.com/service/clear.png?xt=' + e + '&xa=dingding" /></div>').appendTo(document.body), $.getScript("https://assets.alicdn.com/g/security/umscript/2.0.10/um.js", function() {
							var i = document.getElementById("_umfp");
							um.init({
								timeout: 3e3,
								timestamp: new Date - 0,
								token: e,
								serviceUrl: "https://ynuf.alipay.com/service/um.json",
								appName: "dingding",
								containers: {
									flash: i,
									dcp: i
								}
							})
						})
					};
					return {
						init: e
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	392: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.unpopModal.dingDetail",
				path = require("path");
			require("./modal");
			var app = angular.module(moduleName, ["ddWeb.unPopModal.modal", require("../../directive/dingInfo/dingParticipator"), require("../ding/dinglist"), require("../../directive/infiniteScroll"), require("../../directive/dingInfo/dingContent"), require("../../directive/dingInfo/dingReplyList"), require("../../directive/dingInfo/dingReplyFoot")]);
			app.factory("openDingDetail", ["$unPopModal",
				function(i) {
					function n(n, o) {
						e = (new Date).getTime(), e - t >= 1e3 && (i.dismissAll(), i.open({
							template: '<div class="unpop-modal ding-detail-modal">\r\n	<div class="head">\r\n		<i class="close iconfont unpop-modal-close-btn"></i>\r\n		<span class="title">DING详情</span>\r\n	</div>\r\n	<div class="body" infinite-scroll infinite-scroll-bottom="dingDetailCtrl.loadMoreComments()">\r\n		<div class="ding-info-container">\r\n			<div ding-content info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail"></div>\r\n            <div ding-participator info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail"></div>\r\n			<div ding-reply-list info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail"></div>\r\n		</div>\r\n	</div>\r\n	<div ding-reply-foot input-option="dingDetailCtrl.inputOption" info="dingDetailCtrl.info" ding-detail="dingDetailCtrl.dingDetail" confirm-ding="dingDetailCtrl.confirmDing" ng-hide="dingDetailCtrl.dingDetail.sendStatus===1"></div>\r\n</div>',
							controller: "dingDetailCtrl",
							controllerAs: "dingDetailCtrl",
							scope: o,
							key: n && n.dingId ? "ding_" + n.dingId : "",
							resolve: {
								info: function() {
									return n
								}
							},
							closable: !1,
							enterTriggerEl: ".ok"
						}), t = e)
					}
					var t = (new Date).getTime(),
						e = (new Date).getTime();
					return n
				}
			]), app.controller("dingDetailCtrl", ["$scope", "info", "dinglist", "dingInfoService", "$modalInstance",
				function(i, n, t, e, o) {
					var d = this;
					this.info = n, this.dingDetail = "", this.info.status = {
						isLoading: !1
					}, d.inputOption = {
						preSend: function(i) {},
						sendMsg: function(i) {
							var n = {
								type: 1,
								textContent: {
									textContent: i
								}
							};
							d.dingDetail.sendComment(n)
						},
						inputHeight: 0,
						initHeight: 0,
						initWidth: 0,
						maxLength: 140
					}, t.getDingById(this.info.dingId, function(i) {
						d.dingDetail = i, d.dingDetail.active()
					}), this.loadMoreComments = function() {
						d.dingDetail.comments && d.dingDetail.comments.totalCount > d.dingDetail.comments.commentList.showSize && (d.info.status.isLoading = !0, i.$digest(), d.dingDetail.comments.commentList.showMore(function() {
							d.info.status.isLoading = !1
						}))
					};
					var r = i.$watch(function() {
						return o.element
					}, function(n) {
						n && (e.autoChangeHeight(i, n, d.inputOption), d.confirmDing = e.confirmDing(d.dingDetail, n), r())
					});
					i.$on("$destroy", function() {
						d.dingDetail.deactive()
					})
				}
			]).factory("dingInfoService", [
				function() {
					function i(i, n, t) {
						var e = n.find("#ding-reply-foot"),
							o = n.find(".ding-info-container");
						i.$watch(function() {
							return e.height()
						}, function(i) {
							0 != i && o.css("bottom", i)
						})
					}

					function n(i, n) {
						return function() {
							i.confirm(function(n) {
								i.confirmStatus = 1
							});
							var t = n.find(".ding-reply-comfirm-btn");
							n.find(".ding-info-confirm-btn").attr("disabled", !0), n.find(".ding-reply-comfirm-btn").attr("disabled", !0), t.html(t.html() + "<i class='loading icon'>")
						}
					}
					return {
						autoChangeHeight: i,
						confirmDing: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/dingInfo/dingContent": 46,
			"../../directive/dingInfo/dingParticipator": 50,
			"../../directive/dingInfo/dingReplyFoot": 51,
			"../../directive/dingInfo/dingReplyList": 52,
			"../../directive/infiniteScroll": 62,
			"../ding/dinglist": 216,
			"./modal": 396,
			"path": 5
		}
	],
	393: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.unPopModal.groupAnnounce",
				path = require("path"),
				_ = require("lodash");
			require("../../directive/widget/focus");
			var $my = require("../user/my");
			angular.module(moduleName, [require("./modal"), require("../modal/confirm"), require("../toast/toast"), require("../log/log"), require("../../filter/msgfilter"), require("../conversation/conversation"), require("../conversation/GroupRole"), "ddWeb.widget.focus", require("@ali/ding-api")["interface"].GroupAnnounceI]).factory("groupAnnounceService", ["$rootScope", "$unPopModal",
				function(n, e) {
					function o(n) {
						var o = e.open({
							template: '<div class="unpop-modal group-announce-modal">\n    <div class="group-announce-header head">\n        <span class="title">群公告</span>\n        <i class="close iconfont unpop-modal-close-btn"></i>\n    </div>\n    <div class="group-announce-container body">\n        <div class="edit-info">\n            <div ng-if="groupAnnounce.showLog && !groupAnnounce.isEditing" class="edit-log">\n                <span class="author-name">{{groupAnnounce.senderName}}</span>\n                <span>更新于</span>\n                <span class="edit-time">{{groupAnnounce.modifyAt | dateTime:true}}</span>\n            </div>\n            <div ng-if="groupAnnounce.isEditing" class="edit-reminder">发布后将以聊天消息发送到群聊天</div>\n        </div>\n        <div class="announce-content">\n            <div ng-if="groupAnnounce.reminderText && !groupAnnounce.isEditing" class="reminder-text">{{groupAnnounce.reminderText}}</div>\n            <pre ng-if="!groupAnnounce.reminderText && !groupAnnounce.isEditing" class="announce-show-container" ng-bind-html="groupAnnounce.content|msgfilter"></pre>\n            <textarea ng-if="groupAnnounce.isEditing" class="announce-edit-container" ng-model="groupAnnounce.content" ng-trim="false" focus="\'true\'"></textarea>\n            <loading ng-if="groupAnnounce.isLoading"></loading>\n        </div>\n    </div>\n    <div class="foot group-announce-footer" ng-if="!groupAnnounce.isEditing && (!groupAnnounce.isBossAuthority || groupAnnounce.isBossAuthority && groupAnnounce.isGroupBoss)">\n        <button ng-if="!groupAnnounce.isEditing" class="group-announce-edit-btn" ng-click="groupAnnounce.edit($event);">编辑公告</button>\n    </div>\n    <div class="foot group-announce-footer" ng-if="groupAnnounce.isEditing">\n        <button ng-if="groupAnnounce.isEditing" class="group-announce-save-btn small" ng-click="groupAnnounce.publish($event);">发布</button>\n        <button ng-if="groupAnnounce.isEditing" class="group-announce-cancel-btn small red" ng-click="groupAnnounce.cancel($event);">取消</button>\n    </div>\n</div>\n',
							controller: "groupAnnounce",
							controllerAs: "groupAnnounce",
							resolve: {
								info: function() {
									return n
								}
							}
						});
						return o.result
					}
					return {
						open: o
					}
				}
			]).controller("groupAnnounce", ["$scope", "$modalInstance", "$confirm", "info", "GroupAnnounceI", "toastService", "log", "GroupRole", "conversation",
				function(n, e, o, t, i, r, u, c, s) {
					var a = this,
						d = {
							empty: "该群暂时没有公告",
							fail: "获取公告失败，请稍后再试"
						};
					a.isLoading = !0, a.isEditing = !1, a.reminderText = "", a.showLog = !1;
					var g = a.content = "";
					a.senderName = null, a.modifyAt = null;
					var p = s.getConvObj(t.cid);
					a.conv = p, i.getGroupAnnounce(t.cid, function(n) {
						a.isLoading = !1, 200 === n.code ? (a.senderName = _.get(n, "body.senderName"), a.modifyAt = _.get(n, "body.modifyAt"), g = a.content = _.get(n, "body.contentModel.text"), a.content ? (a.reminderText = "", a.showLog = !0) : (a.reminderText = d.empty, a.showLog = !1)) : (u.error("getGroupAnnounce err. cid: " + t.cid + ", data:" + JSON.stringify(n)), a.reminderText = d.fail)
					}), a.edit = function(n) {
						n.preventDefault(), n.stopPropagation(), a.isEditing = !0
					}, a.publish = function(n) {
						if (a.isBossAuthority && !a.isGroupBoss) return r.show("发布失败，权限被收回", {
							type: "error"
						}), void e.close();
						if (_.trim(a.content) && a.content.length >= 1e3) return void r.show("公告请不要超过1000字", {
							type: "error"
						});
						if (_.trim(a.content) && a.content === g || !_.trim(a.content) && _.trim(a.content) === _.trim(g)) return void e.close();
						if (!_.trim(a.content)) return void i.deleteGroupAnnounce(t.cid, function(n) {
							a.isEditing = !1, 200 === n.code ? (a.reminderText = d.empty, r.show("删除公告成功", {
								type: "success"
							}), e.close()) : r.show("删除公告失败", {
								type: "error"
							})
						});
						var o = {
							cid: t.cid,
							contentModel: {
								contentType: 1,
								text: a.content
							}
						};
						i.sendOrUpdateGroupAnnounce(o, function(n) {
							200 === n.code ? e.close() : r.show("发布公告失败", {
								type: "error"
							})
						})
					}, a.cancel = function(n) {
						n.preventDefault(), n.stopPropagation(), o({
							content: "是否取消本条公告？"
						}).then(function() {
							a.isEditing = !1, a.content = g
						})
					}, a.isBossAuthority = 1 === p.baseConversation.authority, n.$watch(function() {
						return p.baseConversation.authority
					}, function(n) {
						void 0 != n && (1 === n ? a.isBossAuthority = !0 : a.isBossAuthority = !1)
					}), p.members ? p.getMembers(null, !0) : p.getMembers(), a.isGroupBoss = !1, n.$watch(function() {
						return p.members
					}, function(n) {
						n && 0 !== n.length && (a.isGroupBoss = n.some(function(n) {
							return n.role == c.BOSS && n.openIdEx.openId == $my.uid
						}))
					}, !0)
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/widget/focus": 100,
			"../../filter/msgfilter": 117,
			"../conversation/GroupRole": 185,
			"../conversation/conversation": 193,
			"../log/log": 260,
			"../modal/confirm": 280,
			"../toast/toast": 378,
			"../user/my": 400,
			"./modal": 396,
			"@ali/ding-api": 453,
			"lodash": 470,
			"path": 5
		}
	],
	394: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.unpopModal.groupFileList",
				_ = require("lodash"),
				frameTalkHost = require("@ali/frame-talk/host"),
				path = require("path");
			angular.module(moduleName, [require("./modal"), require("../../directive/group/fileList"), require("../openAPI/initHelper"), require("../openAPI/biz/navigation/setTitle"), require("../openAPI/biz/navigation/quit"), require("../openAPI/biz/navigation/setLeft")]).factory("openGroupFileList", ["$unPopModal",
				function(e) {
					function i(i) {
						var i = i || {};
						i = _.assign({}, o, i), n = (new Date).getTime(), n - t >= 1e3 && (e.dismissAll(), e.open({
							template: '<div class="unpop-modal open-slide-panel-container">\n    <div class="head">\n        <i class="close iconfont unpop-modal-close-btn"></i>\n        <span class="title">{{groupFileListCtrl.title}}</span>\n        <a href="#" ng-if="groupFileListCtrl.leftBtnText" ng-click="groupFileListCtrl.onLeftBtnClick($event)" class="left-btn">{{ groupFileListCtrl.leftBtnText }}</a>\n    </div>\n    <div class="body">\n        <group-file-list cid="groupFileListCtrl.cid" org-id="groupFileListCtrl.orgId" space-id="groupFileListCtrl.spaceId" container-id="groupFileListCtrl.containerId"></group-file-list>\n    </div>\n</div>\n',
							controller: "groupFileListCtrl",
							controllerAs: "groupFileListCtrl",
							key: "groupFileList" + i.cid,
							resolve: {
								option: function() {
									return i
								}
							},
							closable: !1
						}), t = n)
					}
					var t = (new Date).getTime(),
						n = (new Date).getTime(),
						o = {
							cid: 0,
							orgId: null,
							spaceId: null
						};
					return i
				}
			]).controller("groupFileListCtrl", ["$scope", "option", "$modalInstance", "openAPIInitHelper", "openAPIBizNavigationSetTitle", "openAPIBizNavigationQuit", "openAPIBizNavigationSetLeft",
				function(e, i, t, n, o, l, r) {
					var a = this;
					this.title = i.title, this.leftBtnText = "", this.cid = i.cid, this.orgId = i.orgId, this.spaceId = i.spaceId;
					var s = ["device.notification.alert", "device.notification.confirm", "device.notification.toast", "biz.util.openModal", "biz.util.openSlidePanel", "biz.util.uploadImage", "biz.util.previewFile", "biz.util.downloadFile", "biz.util.openLocalFile", "biz.util.isLocalFileExist"],
						u = this.containerId = frameTalkHost.getNewContainerId(),
						p = "*";
					o.init(u, p, function(i) {
						var t = i.title || "";
						return a.title = t, e.$digest(), Promise.resolve(!0)
					}), l.init(u, p, function(e) {
						var i = e.message || "";
						return t.close(i), Promise.resolve(!0)
					}), r.init(u, p, function(i) {
						var t = i.text || "";
						return a.leftBtnText = t, e.$digest(), Promise.resolve(!0)
					}), n.initOpenAPI(u, p, s), this.onLeftBtnClick = function(e) {
						e.preventDefault(), frameTalkHost.emitContainerEvent(u, "leftBtnClick", {})
					}, e.$on("$destroy", function() {
						frameTalkHost.destroyContainer(u)
					})
				}
			]), module.exports = moduleName;


		}, {
			"../../directive/group/fileList": 58,
			"../openAPI/biz/navigation/quit": 312,
			"../openAPI/biz/navigation/setLeft": 313,
			"../openAPI/biz/navigation/setTitle": 314,
			"../openAPI/initHelper": 333,
			"./modal": 396,
			"@ali/frame-talk/host": 457,
			"lodash": 470,
			"path": 5
		}
	],
	395: [
		function(require, module, exports) {
			"use strict";
			var path = require("path"),
				LoginStatusCode = require("../login/LoginStatusCode"),
				_ = require("lodash");
			require("./modal"), require("../conversation/conversation"), require("../user/userManager"), require("../modal/confirm"), require("../modal/profileModal"), require("../modal/groupAddMembersModal"), require("../modal/switchOrgModal"), require("../toast/toast");
			var $my = require("../user/my");
			require("../tool/modelHelper");
			var ConvType = require("../conversation/ConvType");
			angular.module("ddWeb.unPopModal.groupSetting", ["ddWeb.unPopModal.modal", "ddWeb.conversation", "ddWeb.user.userManager", "ddWeb.modal.confirm", "ddWeb.service.groupAddMembersModal", "ddWeb.service.switchOrgModal", "ddWeb.toast", "ddWeb.service.modelHelper", require("../../directive/widget/checkbox"), require("../login/loginStatus"), require("../conversation/GroupRole"), require("../modal/transferGroupBossModal")]).factory("groupSettingService", ["$rootScope", "$unPopModal",
				function(t, n) {
					function i(i, o) {
						var e = i || t,
							s = n.open({
								template: '<div class="unpop-modal group-setting-modal">\n	<div class="group-setting-header head">\n		<span class="title">群设置</span>\n		<i class="close iconfont unpop-modal-close-btn"></i>\n	</div>\n	<div class="group-setting-container body settings" infinite-scroll infinite-scroll-bottom="groupSetting.showMoreMembers()" infinite-scroll-threshold="60">\n		<div class="group-setting-row">\n			<span>群名称：</span>\n			<span ng-if="!groupSetting.isEditGroupTitle">\n				<span class="group-setting-title" ng-bind-html="groupSetting.conv.baseConversation.title|emoj"></span>\n				<span class="group-setting-link group-setting-edit-title-btn" ng-if="groupSetting.isOrdinaryOrCompany && !groupSetting.isBossAuthority||(groupSetting.isBossAuthority&&groupSetting.isGroupBoss)" ng-click="groupSetting.editTitleAction($event)">\n					<i class="iconfont icon group-setting-edit-title-icon">&#xe62a;</i>\n					<span >编辑</span>\n				</span>\n			</span>\n			<span class="group-setting-edit-box" ng-if="groupSetting.isEditGroupTitle">\n				<input type="text" class="group-setting-title-input" ng-model="groupSetting.title"  focus="\'true\'">\n				<button class="button small group-setting-title-btn" ng-click="groupSetting.saveTitle($event)">确认</button>\n			</span>\n		</div>\n		<div class="setting-item group-setting-row" ng-if="groupSetting.isGroupBoss">\n			<span class="rem">仅群主可管理：</span>\n			<div class="toggle" dd-checkbox ng-model="groupSetting.isBossAuthority" checked="groupSetting.updateAuthority" unchecked="groupSetting.updateAuthority">\n				<label></label>\n			</div>\n			<span class="group-setting-row-tips">(修改群名称，添加群成员，编辑群公告)</span>\n		</div>\n		<div class="group-setting-row" ng-if="groupSetting.isOrdinaryOrCompany">\n			<span>群主：</span>\n			<span class="group-boss-name" ng-bind-html="(groupSetting.groupBoss.remarkNameObj.alias || groupSetting.groupBoss.userProfileModel.nick)|emoj"></span>\n			<a ng-if="groupSetting.isGroupBoss" ng-click="groupSetting.transferGroupBoss()" href="javascript:;" class="transfer-group-boss">\n				<i class="iconfont">&#xe65c;</i>转让群主\n			</a>\n		</div>\n		<div class="setting-item group-setting-row" ng-if="groupSetting.isCompanyGroup || groupSetting.isGroupBoss && groupSetting.isOrgUser">\n			<i ng-if="groupSetting.isCompanyGroup" class="icon-company" ng-class="{\'icon-dept-company\': groupSetting.conv.baseConversation.extension.deptId}"></i>\n			<span class="rem">\n				企业群\n				<span ng-if="groupSetting.isCompanyGroup && groupSetting._orgName" class="org-name-rem" title="{{groupSetting._orgName}}">（{{groupSetting._orgName}}）</span>\n			</span>\n			<div ng-show="!groupSetting.conv.baseConversation.extension.deptId && groupSetting.isGroupBoss && groupSetting.isOrgUser && !groupSetting.isCompanyGroup" class="toggle" dd-checkbox ng-model="groupSetting.isCompanyGroup" checked="groupSetting.convertToOrgGroup">\n				<label></label>\n			</div>\n			<div ng-if=\n			"groupSetting.conv.baseConversation.extension.deptId" class="group-tip">{{groupSetting.deptCompanyTips}}</div>\n		</div>\n		<div class="setting-item group-setting-row">\n			<span class="rem">消息免打扰：</span>\n			<div class="toggle" dd-checkbox ng-model="groupSetting.conv.notificationOff" checked="groupSetting.updateNotificationOff" unchecked="groupSetting.updateNotificationOff">\n				<label></label>\n			</div>\n		</div>\n		<div class="setting-item group-setting-row">\n			<span class="rem">群置顶：</span>\n			<div class="toggle" dd-checkbox ng-model="groupSetting.conv.isTop" checked="groupSetting.updateIsTop" unchecked="groupSetting.updateIsTop">\n				<label></label>\n			</div>\n		</div>\n		<div class="group-setting-person-box" ng-if="groupSetting.isOrdinaryOrCompany">\n			<div class="group-setting-row">\n				<span>群成员：</span>\n				<span>{{groupSetting.conv.baseConversation.memberCount}}人</span>\n				<span class="group-setting-link group-add-members" ng-if="!groupSetting.isBossAuthority||(groupSetting.isBossAuthority&&groupSetting.isGroupBoss)" ng-click="groupSetting.addMembers()">\n			        <i class="iconfont icon group-setting-add-member-icon">&#xe631;</i>\n					<span>添加新成员</span>\n				</span>\n			</div>\n			<div class="group-setting-person clearfix">\n				<!-- 人头 -->\n				<div class="group-setting-people" ng-click="groupSetting.showProfile($event,item.userProfileModel.uid)" ng-repeat="item in groupSetting.avatarList track by item.userProfileModel.uid">\n					<dd-avatar uid="item.userProfileModel.uid"></dd-avatar>\n					<p ng-bind-html="(item.remarkNameObj.alias || item.userProfileModel.nick)|emoj" htitle="{{item.remarkNameObj.alias || item.userProfileModel.nick}}" htitle-offset="left"></p>\n					<div class="group-setting-rm-peron-box" ng-if="groupSetting.isGroupBoss&&groupSetting.myUid!=item.userProfileModel.uid" ng-click="groupSetting.removeMembers($event,item.userProfileModel.uid)">\n						<i class="close iconfont group-setting-rm-person-btn">&#xe607;</i>\n					</div>\n				</div>\n				<loading position="top" ng-if="groupSetting.isShowLoading"></loading>\n			</div>\n		</div>\n	</div>\n	<div class="foot group-setting-footer"  ng-if="groupSetting.isOrdinaryOrCompany">\n		<button class="group-setting-quit-btn red" ng-click="groupSetting.quit($event)" >退出群聊</button>\n		<a class="group-setting-disband-btn" ng-if="groupSetting.isGroupBoss && !groupSetting.conv.baseConversation.extension.deptId" ng-click="groupSetting.disband($event);"><i class="iconfont">&#xe645;</i>解散群聊</a>\n	</div>\n</div>\n',
								controller: "groupSetting",
								controllerAs: "groupSetting",
								scope: e,
								key: o && o.cid ? "conv_" + o.cid : "",
								resolve: {
									info: function() {
										return o
									}
								},
								closable: !1,
								enterTriggerEl: ".ok"
							});
						return s.result
					}
					return {
						open: i
					}
				}
			]).controller("groupSetting", ["$scope", "conversation", "info", "userManager", "$confirm", "profileModalService", "groupAddMembersModalService", "switchOrgModalService", "toastService", "modelHelper", "loginStatus", "$timeout", "GroupRole", "transferGroupBossService",
				function(t, n, i, o, e, s, r, a, u, g, p, d, c, l) {
					function v(t) {
						var n = p.getLoginStatus() === LoginStatusCode.LOGINED;
						n || u.show("您现在处于离线状态，请检查网络后再试", {
							type: "error"
						}), t(n)
					}
					var f = this,
						m = n.getConvObj(i.cid);
					this.conv = m, this.conv.members ? this.conv.getMembers(null, !0) : this.conv.getMembers(), this.avatarList = [], this._oid = null, this._orgName = null, this.isOrgUser = !1, this._init = function() {
						this._getOrgData(), this._setIsOrgUserFlag(), this.conv.baseConversation.tag === ConvType.COMPANY_GROUP && this.conv.baseConversation.extension && this.conv.baseConversation.extension.deptId && (this.deptCompanyTips = "该企业群已关联部门：" + this.conv.baseConversation.extension.deptName, "1" === this.conv.baseConversation.extension.autoAddSwitch && (this.deptCompanyTips += "，新人增加会自动进群"))
					}, this._getOrgData = function() {
						if (m.baseConversation.tag == ConvType.COMPANY_GROUP && m.baseConversation.extension && m.baseConversation.extension.id) {
							if (this._oid = m.baseConversation.extension.id, $my.orgEmployees) {
								var t = $my.getOrgByOid(this._oid);
								t && (f._orgName = t.orgEmployeeModel.orgName)
							}
						} else this._oid = null, this._orgName = null
					}, this._setIsOrgUserFlag = function() {
						var t = this;
						this.isOrgUser = !1, t.isOrgUser = g.isOrgUser($my)
					}, f.myUid = $my.uid, f.isEditGroupTitle = !1, f.title = m.baseConversation.title, f.notificationOff = m.notificationOff, f.isCompanyGroup = m.baseConversation.tag == ConvType.COMPANY_GROUP, f.isBossAuthority = 1 === m.baseConversation.authority, f.isOrdinaryOrCompany = m.baseConversation.tag === ConvType.ORDINARY_GROUP || m.baseConversation.tag === ConvType.COMPANY_GROUP, this.convertToOrgGroup = function() {
						a.showModal($my).then(function(t) {
							var n = t.oid,
								i = t.orgName;
							m.convertToOrgGroup(n, {
								id: n,
								orgName: i
							}, function(t) {
								t ? f.isCompanyGroup = !1 : (f._oid = n, f._orgName = i)
							})
						}, function(t) {
							f.isCompanyGroup = !1
						})
					}, this.updateAuthority = function() {
						v(function(t) {
							if (!t) return void d(function() {
								f.isBossAuthority = !f.isBossAuthority
							}, 10);
							var n = f.isBossAuthority === !1 ? 1 : 0;
							m.updateAuthority(n, function(t) {
								t && (f.isBossAuthority = !f.isBossAuthority)
							})
						})
					}, this.updateNotificationOff = function() {
						v(function(t) {
							if (!t) return void d(function() {
								f.notificationOff = !f.notificationOff
							}, 10);
							var n = m.notificationOff ? 0 : 1;
							m.sendNotificationOff(n, function(t) {
								t && (m.notificationOff = !m.notificationOff)
							})
						})
					}, this.updateIsTop = function() {
						v(function(t) {
							return t ? void m.setTop(!m.isTop, function(t, n) {
								n && (m.isTop = !m.isTop)
							}) : void d(function() {
								f.isTop = !f.isTop
							}, 10)
						})
					}, this.editTitleAction = function(t) {
						t.preventDefault(), t.stopPropagation(), f.isEditGroupTitle = !0
					};
					var h = m.baseConversation.title;
					this.saveTitle = function(t) {
						return 0 == f.title.length ? void u.show("群名称不能为空", {
							type: "error"
						}) : (t.preventDefault(), t.stopPropagation(), void(h != f.title ? f.title.length > 20 ? u.show("群名称不能超过20字", {
							type: "error"
						}) : (n.updateTitle(i.cid, f.title), h = f.title, f.isEditGroupTitle = !1) : f.isEditGroupTitle = !1))
					}, this.removeMembers = function(t, s) {
						t.preventDefault(), t.stopPropagation(), o.getUsers([s]).then(function(t) {
							0 !== t.length && e({
								title: "确认信息",
								content: "是否确认把 " + t[0].userProfileModel.nick + " 移出群？",
								confirmText: "确定"
							}).then(function(t) {
								var o = _.get(f, "groupBoss.uid"),
									e = null;
								o && (e = [o]), n.removeMembers(i.cid, [s], e)
							})
						})
					}, this.quit = function(t) {
						t.preventDefault(), t.stopPropagation();
						var o = "退出后仅通知群主，且不会再接收此群聊消息。";
						e({
							title: "是否确认退出群？",
							content: o,
							confirmText: "确定"
						}).then(function(t) {
							n.quitConv(i.cid)
						})
					}, this.disband = function(t) {
						t.preventDefault(), t.stopPropagation(), e({
							title: "是否解散群组？",
							content: "解散该群后，所有群成员将失去和群友的联系。"
						}).then(function(t) {
							m.disband()
						})
					}, this.showProfile = function(t, n) {
						t.preventDefault(), t.stopPropagation(), s(n)
					}, this.addMembers = function() {
						m.getMembers(function(o) {
							r.showModal({
								isCompanyGroup: f.isCompanyGroup,
								oid: f._oid,
								orgName: f._orgName,
								lockedIds: o.map(function(t) {
									return t.openIdEx.openId
								})
							}).then(function(o) {
								n.addMembers(i.cid, o, function() {
									t.$digest()
								})
							})
						}), f.isEditGroupTitle = !1
					}, this.transferGroupBoss = function() {
						l.showModal(i)
					}, this._init(), t.$watch(function() {
						return m.baseConversation.tag
					}, function(t) {
						void 0 != t && (2 == t ? (f.isCompanyGroup = !0, f._getOrgData()) : f.isCompanyGroup = !1)
					}, !0), t.$watch(function() {
						return m.baseConversation.authority
					}, function(t) {
						void 0 != t && (1 === t ? f.isBossAuthority = !0 : f.isBossAuthority = !1)
					}), f.users = [], f.isShowLoading = !1;
					var b = 60,
						S = 300,
						y = !0,
						C = null;
					f.showMoreMembers = function() {
						y && f.avatarList.length < f.users.length && (y = !1, f.isShowLoading = !0, t.$digest(), C = d(function() {
							var t = f.users.slice(f.avatarList.length, f.avatarList.length + S);
							f.avatarList = f.avatarList.concat(t), f.isShowLoading = !1, d(function() {
								y = !0
							}, 0, !1)
						}))
					}, t.$on("$destroy", function() {
						d.cancel(C)
					}), f.isGroupBoss = !1, t.$watchCollection(function() {
						return m.members
					}, function(t) {
						if (t && 0 !== t.length) {
							f.avatarList = [], f.users = [];
							var n = null,
								i = t.map(function(t) {
									return t.role == c.BOSS && (n = t.openIdEx.openId, f.isGroupBoss = $my.uid == n), t.openIdEx.openId
								});
							o.getUsers(i).then(function(t) {
								t.forEach(function(t) {
									t && (n == t.userProfileModel.uid ? (f.groupBoss = t, f.users.unshift(t)) : f.users.push(t))
								}), f.avatarList = f.users.slice(0, b)
							})
						}
					}, !0)
				}
			]);


		}, {
			"../../directive/widget/checkbox": 90,
			"../conversation/ConvType": 184,
			"../conversation/GroupRole": 185,
			"../conversation/conversation": 193,
			"../login/LoginStatusCode": 264,
			"../login/loginStatus": 266,
			"../modal/confirm": 280,
			"../modal/groupAddMembersModal": 282,
			"../modal/profileModal": 289,
			"../modal/switchOrgModal": 296,
			"../modal/transferGroupBossModal": 297,
			"../toast/toast": 378,
			"../tool/modelHelper": 381,
			"../user/my": 400,
			"../user/userManager": 404,
			"./modal": 396,
			"lodash": 470,
			"path": 5
		}
	],
	396: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.unPopModal.modal";
			angular.module(moduleName, []).factory("$$unPopStackedMap", function() {
				return {
					createNew: function() {
						var e = [];
						return {
							add: function(n, o) {
								e.push({
									key: n,
									value: o
								})
							},
							get: function(n) {
								for (var o = 0; o < e.length; o++)
									if (n == e[o].key) return e[o]
							},
							keys: function() {
								for (var n = [], o = 0; o < e.length; o++) n.push(e[o].key);
								return n
							},
							top: function() {
								return e[e.length - 1]
							},
							remove: function(n) {
								for (var o = -1, t = 0; t < e.length; t++)
									if (n == e[t].key) {
										o = t;
										break
									}
								return e.splice(o, 1)[0]
							},
							removeAll: function() {
								return e = []
							},
							removeTop: function() {
								return e.splice(e.length - 1, 1)[0]
							},
							length: function() {
								return e.length
							}
						}
					}
				}
			}).directive("unPopModalTransclude", function() {
				return {
					link: function(e, n, o, t, r) {
						r(e.$parent, function(e) {
							n.empty(), n.append(e)
						})
					}
				}
			}).factory("$unPopModalStack", ["$timeout", "$document", "$compile", "$rootScope", "$$unPopStackedMap",
				function(e, n, o, t, r) {
					function i(e) {
						function n(e) {
							e = $(e);
							var t = e.css("z-index");
							"auto" !== t && (o = o > parseInt(t) ? o : parseInt(t));
							var r = e.parent();
							r.is("body") || 0 === r.length || n(r)
						}
						var o = 0;
						return n(e), o
					}

					function a(e, o) {
						n.on("click.unPopModal", function(e) {
							i(e.target) < o && s.dismissWithAnimation(!1)
						})
					}

					function l() {
						n.off("click.unPopModal")
					}

					function c() {
						var e = u.keys();
						e.forEach(function(e) {
							var n = u.remove(e).value;
							n.modalDomEl.remove()
						})
					}
					var u = r.createNew(),
						s = {};
					return s.open = function(e, n) {
						if (!u.get(e.key)) {
							s.dismissAll(), u.add(e.key, {
								deferred: n.deferred,
								modalScope: n.scope,
								keyboard: n.keyboard,
								enterTriggerEl: n.enterTriggerEl
							});
							var t = o(n.content.trim())(n.scope);
							u.top().value.modalDomEl = t, a(t, e.zIndex), t.css("z-index", e.zIndex).find(".unpop-modal-close-btn").click(s.close), e.element = t, $("#content-pannel").append(t), t.on("$destroy", function() {
								n.scope.$destroy()
							})
						}
					}, s.close = function(e, n) {
						var o = u.top();
						if (o) {
							o.value.deferred.resolve(n);
							var t = o.value.modalDomEl;
							t.animate({
								right: "-600px"
							}, 500, function() {
								s.dismissAll()
							})
						}
					}, s.dismiss = function(e, n) {
						var o = u.top();
						o && (o.value.deferred.reject(n), s.dismissAll())
					}, s.dismissAll = function(e) {
						var n = u.top();
						n && (n.value.deferred.reject(e), c(), l())
					}, s.dismissWithAnimation = function(e) {
						var n = s.getTop();
						if (n) {
							n.value.deferred.reject(e);
							var o = n.value.modalDomEl;
							o.animate({
								right: "-600px"
							}, 500, function() {
								s.dismissAll()
							})
						}
					}, s.getTop = function() {
						return u.top()
					}, s
				}
			]).provider("$unPopModal", function() {
				var e = {
					options: {
						keyboard: !0,
						closable: !0,
						enterTriggerEl: ""
					},
					$get: ["$injector", "$rootScope", "$q", "$http", "$templateCache", "$controller", "$unPopModalStack",
						function(n, o, t, r, i, a, l) {
							function c(e) {
								return e.template ? t.when(e.template) : r.get(angular.isFunction(e.templateUrl) ? e.templateUrl() : e.templateUrl, {
									cache: i
								}).then(function(e) {
									return e.data
								})
							}

							function u(e) {
								var o = [];
								return angular.forEach(e, function(e) {
									(angular.isFunction(e) || angular.isArray(e)) && o.push(t.when(n.invoke(e)))
								}), o
							}
							var s = {};
							return s.dismissAll = l.dismissAll, s.dismissWithAnimation = l.dismissWithAnimation, s.open = function(n) {
								var r = t.defer(),
									i = t.defer(),
									s = {
										result: r.promise,
										opened: i.promise,
										key: n.key,
										close: function(e) {
											l.close(s, e)
										},
										dismiss: function(e) {
											l.dismiss(s, e)
										},
										zIndex: n.zIndex || 100
									};
								if (n = angular.extend({}, e.options, n), n.resolve = n.resolve || {}, !n.template && !n.templateUrl) throw new Error("One of template or templateUrl options is required.");
								var d = t.all([c(n)].concat(u(n.resolve)));
								return d.then(function(e) {
									var t = (n.scope || o).$new();
									t.$close = s.close, t.$dismiss = s.dismiss;
									var i, c = {}, u = 1;
									n.controller && (c.$scope = t, c.$modalInstance = s, angular.forEach(n.resolve, function(n, o) {
										c[o] = e[u++]
									}), i = a(n.controller, c), n.controllerAs && (t[n.controllerAs] = i)), l.open(s, {
										scope: t,
										deferred: r,
										content: e[0],
										keyboard: n.keyboard,
										closable: n.closable,
										enterTriggerEl: n.enterTriggerEl,
										size: n.size
									})
								}, function(e) {
									r.reject(e)
								}), d.then(function() {
									i.resolve(!0)
								}, function() {
									i.reject(!1)
								}), s
							}, s
						}
					]
				};
				return e
			}), module.exports = moduleName;


		}, {}
	],
	397: [
		function(require, module, exports) {
			"use strict";
			var ua = require("../ua"),
				protocol = window.location.protocol,
				host = window.location.host,
				mainOrigin = window.mainOrigin || "https://im.dingtalk.com",
				currentOrigin = window.location.origin,
				assetsResolve = function(i) {
					return "//" 
				}, apiResolve = function(i) {
					if ("app:" === protocol) {
						if ("//" === i.slice(0, 2)) return "https:" + i;
						if ("/" === i.slice(0, 1)) return mainOrigin + i
					} else {
						if ("//" === i.slice(0, 2)) return "https:" + i;
						if ("/" === i.slice(0, 1)) return currentOrigin + i
					}
				};
			exports.assetsResolve = assetsResolve, exports.apiResolve = apiResolve;


		}, {
			"../ua": 390
		}
	],
	398: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.User";
			require("../mediaId/mediaId"), require("../toast/toast"), require("../mediaId/mediaId"), require("../friend/FriendType");
			var Class = require("../../lib/class"),
				syncObjectTypes = require("../syncProtocol/syncObjectTypes");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].UserI, require("@ali/ding-api")["interface"].FriendI, require("@ali/ding-api")["interface"].AliasI, require("@ali/ding-api")["interface"].ContactI, require("@ali/ding-api")["interface"].FollowI, "ddWeb.mediaId", "ddWeb.toast", "ddWeb.mediaId", "ddWeb.friend.FriendType", require("./userRemarkMap"), require("./userConcernMap")]).factory("User", ["UserI", "FriendI", "mediaId", "userRemarkMap", "$q", "AliasI", "ContactI", "toastService", "FriendType", "FollowI", "userConcernMap",
				function(e, r, o, i, s, t, l, d, n, a, u) {
					var f = Class.create({
						initialize: function(e, r) {
							this._genUserData(), e && this.update(e, r)
						},
						getId: function() {
							return this.userProfileModel ? this.userProfileModel.uid : null
						},
						update: function(e, r) {
							r ? ($.extend(this, e), this.isWithExt = !0) : $.extend(this.userProfileModel, e), this.userProfileModel.avatarMediaId && (this.userProfileModel.avatarMediaId = o.url2Mid(this.userProfileModel.avatarMediaId), this.userProfileModel.avatarUrl = o.mid2Url(this.userProfileModel.avatarMediaId, {
								imageSize: "thumb"
							})), this.userProfileModel.uid && (this.remarkNameObj = i.get(this.userProfileModel.uid), this.followObj = u.get(this.userProfileModel.uid))
						},
						compareTag: function(r) {
							var o = this;
							r && (this.userProfileModel.ver === r || o.isUpdating || (o.isUpdating = !0, e.getUserProfileExtensionByUid(this.userProfileModel.uid, null, function(e) {
								200 === e.code ? o.update(e.body, !0) : console.log("更新人员失败"), o.isUpdating = !1
							})))
						},
						getOrgByOid: function(e) {
							if (e = parseInt(e), isNaN(e)) return !1;
							var r = this.orgEmployees.filter(function(r) {
								var o = parseInt(r.orgEmployeeModel.orgId);
								return isNaN(o) ? !1 : o === e
							});
							return 0 === r.length ? null : r[0]
						},
						acceptFriend: function(e) {
							e && e.preventDefault(), e && e.stopPropagation();
							var o = this;
							r.acceptFriendRequest(this.userProfileModel.uid, function(e) {
								200 === e.code ? (o.friendRequestModel.status = n.FRIEND, o.userPermissionModel && (o.userPermissionModel.canBeSentMsg = !0)) : e.body && e.body.reason && d.show(e.body.reason, {
									type: "error"
								})
							})
						},
						removeFriend: function(e) {
							var o = this;
							r.removeFriend(this.userProfileModel.uid, function(r) {
								200 === r.code ? (o.friendRequestModel.status = n.NON_RELATION, e && e()) : d.show("解除好友失败，请重试", {
									type: "error"
								})
							})
						},
						setRemark: function(e) {
							var r = s.defer(),
								o = parseInt(this.userProfileModel.uid),
								l = {
									openId: o,
									alias: e
								};
							return t.update(l, function(e) {
								200 === e.code ? (i.set(e.body), r.resolve()) : r.reject()
							}), r.promise
						},
						follow: function() {
							var e = parseInt(this.userProfileModel.uid),
								r = s.defer();
							return a.follow(0, e, function(e) {
								200 === e.code ? (u.set(e.body), r.resolve()) : r.reject()
							}), r.promise
						},
						unFollow: function() {
							var e = parseInt(this.userProfileModel.uid),
								r = s.defer();
							return a.unfollow(0, e, function(e) {
								200 === e.code ? u.set(e.body) : r.reject()
							}), r.promise
						},
						getUserEmployeeInfo: function(e) {
							if (!e) {
								var r = s.defer();
								return r.reject(), r.promise
							}
							var o = this;
							if (o.employeeRequestPool[e]) return o.employeeRequestPool[e];
							var r = s.defer();
							return o.employeeBaseModel[e] ? r.resolve(o.employeeBaseModel[e]) : (o.employeeRequestPool[e] = r.promise, l.getUserEmployeeInfo(this.userProfileModel.uid, e, null, function(i) {
								200 === i.code && i.body && i.body.employeeBaseModel ? (o.employeeBaseModel[e] = i.body.employeeBaseModel, r.resolve(o.employeeBaseModel[e])) : (r.reject(), console.log("拉取个人用户的企业信息失败")), o.employeeRequestPool[e] = null, delete o.employeeRequestPool[e]
							})), r.promise
						},
						setUserEmployeeInfo: function(e) {
							var r = this;
							e.forEach(function(e, o) {
								e.uid === r.userProfileModel.uid && (r.employeeBaseModel[e.orgId] = e)
							})
						},
						_genUserData: function() {
							this.isWithExt = !1, this.isUpdating = !1, !this.orgEmployees && (this.orgEmployees = []), !this.userOverageModel && (this.userOverageModel = {}), !this.userPermissionModel && (this.userPermissionModel = {}), !this.friendRequestModel && (this.friendRequestModel = {}), !this.userProfileModel && (this.userProfileModel = {}), !this.employeeBaseModel && (this.employeeBaseModel = {}), !this.employeeRequestPool && (this.employeeRequestPool = {})
						}
					});
					return f
				}
			]), module.exports = moduleName;


		}, {
			"../../lib/class": 119,
			"../friend/FriendType": 237,
			"../mediaId/mediaId": 267,
			"../syncProtocol/syncObjectTypes": 375,
			"../toast/toast": 378,
			"./userConcernMap": 403,
			"./userRemarkMap": 405,
			"@ali/ding-api": 453
		}
	],
	399: [
		function(require, module, exports) {
			var moduleName = "ddWeb.user.UserType";
			angular.module(moduleName, []).value("UserType", {
				ORDINARY_USER: 0,
				SPECIAL_USER: 1,
				OA_USER: 3
			}), module.exports = moduleName;


		}, {}
	],
	400: [
		function(require, module, exports) {
			"use strict";
			var Class = require("../../lib/class"),
				_ = require("lodash"),
				mediaId = require("@ali/ding-mediaid"),
				storage = require("../storage/storage"),
				my = Class.create({
					initialize: function() {},
					setData: function(e) {
						$.extend(this, e), this.isWithExt = !0, this.userProfileModel && this.userProfileModel.avatarMediaId && (this.userProfileModel.avatarMediaId = mediaId.url2Mid(this.userProfileModel.avatarMediaId), this.userProfileModel.avatarUrl = mediaId.mid2Url(this.userProfileModel.avatarMediaId, {
							imageSize: "thumb"
						})), this.uid = this.getId()
					},
					getOrgByOid: function(e) {
						if (e = parseInt(e), isNaN(e)) return !1;
						var i = this.orgEmployees.filter(function(i) {
							var r = parseInt(i.orgEmployeeModel.orgId);
							return isNaN(r) ? !1 : r === e
						});
						return 0 === i.length ? null : i[0]
					},
					getId: function() {
						return this.userProfileModel ? this.userProfileModel.uid : null
					}
				});
			module.exports = new my;


		}, {
			"../../lib/class": 119,
			"../storage/storage": 373,
			"@ali/ding-mediaid": 456,
			"lodash": 470
		}
	],
	401: [
		function(require, module, exports) {
			require("./User");
			var app = angular.module("ddWeb.user.userCache", ["ddWeb.user.User"]);
			app.factory("userCache", ["User",
				function(e) {
					function r(e, r) {
						r = r || !1;
						var t = u[e];
						return t && (t.isWithExt || r === t.isWithExt) ? t : void 0
					}

					function t(r, t, n) {
						if (r && t) {
							n = n || !1;
							var a = u[r];
							return a ? a.update(t, n) : (a = t instanceof e ? t : new e(t, n), u[r] = a), a
						}
					}

					function n() {
						return u
					}
					var u = {};
					return {
						get: r,
						set: t,
						getAll: n
					}
				}
			]);


		}, {
			"./User": 398
		}
	],
	402: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.userConcernSync",
				syncObjectTypes = require("../syncProtocol/syncObjectTypes");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].FollowI, require("../syncProtocol/sync"), require("./userConcernMap")]).factory("userConcernSync", ["$q", "FollowI", "userConcernMap", "syncProtocol",
				function(e, n, o, r) {
					function c() {
						return new Promise(function(e, r) {
							n.listAll(0, 0, 1e3, function(n) {
								200 === n.code ? (n.body && n.body.models && n.body.models.forEach(function(e) {
									o.set(e)
								}), e()) : e()
							})
						})
					}

					function s() {
						r.register(syncObjectTypes.RELATION_FOLLOW, {
							onSyncMsg: function(e) {
								o.set(e)
							},
							onNeedPullData: c
						})
					}
					return {
						init: s
					}
				}
			]), module.exports = moduleName;


		}, {
			"../syncProtocol/sync": 374,
			"../syncProtocol/syncObjectTypes": 375,
			"./userConcernMap": 403,
			"@ali/ding-api": 453
		}
	],
	403: [
		function(require, module, exports) {
			var _ = require("lodash"),
				moduleName = "ddWeb.user.userConcernMap",
				serviceName = "userConcernMap";
			angular.module(moduleName, []).factory(serviceName, ["$rootScope",
				function(e) {
					function n(e) {
						return u[e] || (u[e] = {
							openId: e,
							status: null,
							lastModify: null,
							tag: null
						}), u[e]
					}

					function o(n) {
						u[n.openId] ? Object.keys(u[n.openId]).forEach(function(e) {
							u[n.openId][e] = n[e]
						}) : u[n.openId] = n, e.$digest()
					}

					function r() {
						return u
					}
					var u = {};
					return {
						get: n,
						set: o,
						getMap: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"lodash": 470
		}
	],
	404: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.userManager";
			require("./userRequestPool"), require("./userCache"), require("../log/log");
			var app = angular.module(moduleName, [require("@ali/ding-api")["interface"].UserI, "ddWeb.user.userRequestPool", "ddWeb.user.userCache", require("../api/MsgSub"), "ddWeb.log.log"]);
			app.factory("userManager", ["$rootScope", "$q", "UserI", "userRequestPool", "userCache", "MsgSub", "log",
				function(e, o, r, u, s, t, l) {
					function n(e, u, s, t) {
						var l = o.defer();
						return e ? r.getUserProfileExtensionByUid(e, t || null, i(e, l)) : u ? r.getUserProfileExtensionByStaffId(u, t, i(u, l)) : s ? r.getUserProfileExtensionByMobile(s, i(s, l)) : (l.reject({}), console.log("参数错误")), l.promise
					}

					function i(e, o) {
						return function(r) {
							if (200 === r.code) {
								r.body.orgEmployees || (r.body.orgEmployees = []);
								var u = s.set(e, r.body, !0),
									t = u.orgEmployees.map(function(e) {
										return e.orgEmployeeModel ? {
											uid: e.orgEmployeeModel.uid,
											orgId: e.orgEmployeeModel.orgId,
											name: e.orgEmployeeModel.orgUserName
										} : void 0
									});
								u.setUserEmployeeInfo(t), o.resolve(u)
							} else o.reject(r)
						}
					}

					function d(e) {
						return u.put({
							uids: [e]
						})
					}

					function g(e) {
						return u.put({
							uids: e
						})
					}

					function a() {
						return s.getAll()
					}
					return t.subscribe("/s/biz/employee", function(e, o) {
						if (o({}), e.body && e.body.orgEmployeeBaseModel) {
							var r = e.body.orgEmployeeBaseModel.map(function(e) {
								return e.uid
							});
							g(r).then(function(o) {
								for (var r = 0, u = o.length; u > r; r++) o[r].setUserEmployeeInfo(e.body.orgEmployeeBaseModel)
							}), l.info("receive employee info", JSON.stringify(e))
						}
					}), {
						getUser: d,
						getUserWithExt: n,
						getUsers: g,
						getAllUsers: a
					}
				}
			]), module.exports = moduleName;


		}, {
			"../api/MsgSub": 146,
			"../log/log": 260,
			"./userCache": 401,
			"./userRequestPool": 407,
			"@ali/ding-api": 453
		}
	],
	405: [
		function(require, module, exports) {
			var _ = require("lodash"),
				moduleName = "ddWeb.user.userRemarkMap",
				serviceName = "userRemarkMap";
			angular.module(moduleName, []).factory(serviceName, ["$rootScope",
				function(e) {
					function o(e) {
						return r[e] || (r[e] = {
							openId: e,
							alias: null,
							pinyin: null
						}), r[e]
					}

					function n(o) {
						r[o.openId] ? Object.keys(r[o.openId]).forEach(function(e) {
							r[o.openId][e] = o[e]
						}) : r[o.openId] = o, e.$digest()
					}
					var r = {};
					return {
						get: o,
						set: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"lodash": 470
		}
	],
	406: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.userRemarksSync",
				syncObjectTypes = require("../syncProtocol/syncObjectTypes");
			angular.module(moduleName, [require("@ali/ding-api")["interface"].AliasI, require("../syncProtocol/sync"), require("./userRemarkMap")]).factory("userRemarksSync", ["$q", "AliasI", "userRemarkMap", "syncProtocol",
				function(e, r, n, o) {
					function c() {
						return new Promise(function(e, o) {
							r.queryAll(function(r) {
								200 === r.code ? (r.body && r.body.forEach(function(e) {
									n.set(e)
								}), e()) : e()
							})
						})
					}

					function s() {
						o.register(syncObjectTypes.RELATION_ALIAS, {
							onSyncMsg: function(e) {
								n.set(e)
							},
							onNeedPullData: c
						})
					}
					return {
						init: s
					}
				}
			]), module.exports = moduleName;


		}, {
			"../syncProtocol/sync": 374,
			"../syncProtocol/syncObjectTypes": 375,
			"./userRemarkMap": 405,
			"@ali/ding-api": 453
		}
	],
	407: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.userRequestPool",
				localLog = require("../log/localLog");
			require("./userCache");
			var app = angular.module(moduleName, ["ddWeb.user.userCache", require("@ali/ding-api")["interface"].UserI]);
			app.factory("userRequestPool", ["$q", "userCache", "UserI",
				function(e, i, t) {
					function s() {
						this.data = [], this._bufferUids = [], this._waitUids = [], this._requestInterval = 30, this._rePullInterval = 1e4, this._rePullTimer = null, this._isReadyToSendRequest = !0
					}

					function r(e) {
						return u.put(e)
					}
					s.prototype.put = function(i) {
						var t = this;
						return i.defer = e.defer(), this.data.push(i), this._pushToUidsArray(i.uids), this._isReadyToSendRequest && 0 !== this._bufferUids.length && (this._isReadyToSendRequest = !1, setTimeout(function() {
							t._sendRequest(), t._isReadyToSendRequest = !0, t._rePullTimer && clearTimeout(t._rePullTimer), t._rePullTimer = setTimeout(function() {
								var e = t._diff(t._waitUids, t._bufferUids);
								t._bufferUids = t._bufferUids.concat(e), t._waitUids = [], 0 !== t._bufferUids.length && t._sendRequest()
							}, t._rePullInterval)
						}, t._requestInterval)), i.defer.promise
					}, s.prototype._pushToUidsArray = function(e) {
						if (e = this._checkCache(e), 0 === e.length) return void this._resolveData();
						var i = this._diff(e, this._bufferUids);
						i = this._diff(i, this._waitUids), this._bufferUids = this._bufferUids.concat(i)
					}, s.prototype._diff = function(e, i) {
						return e.filter(function(e) {
							return -1 != i.indexOf(e) ? !1 : !0
						})
					}, s.prototype._checkCache = function(e) {
						var t = [];
						return e.forEach(function(e) {
							!i.get(e) && t.push(e)
						}), t
					}, s.prototype._sendRequest = function() {
						var i = this,
							s = [];
						this._bufferUids = this._bufferUids.filter(function(e) {
							return e && !isNaN(e) && e > 0 ? !0 : !1
						});
						for (var r = [], u = 0; u < this._bufferUids.length; u += 100) r.push(this._bufferUids.slice(u, u + 100));
						this._waitUids = this._waitUids.concat(this._bufferUids), this._bufferUids = [], r.forEach(function(i) {
							var r = e.defer();
							s.push(r.promise), t.getUserProfileByUids(i, function(e) {
								200 === e.code ? (localLog.info("get user profile success :" + JSON.stringify(i)), r.resolve(e.body.values)) : (localLog.error("get user profile error :" + JSON.stringify(e)), r.reject(e))
							})
						}), s.forEach(function(e) {
							e.then(function(e) {
								i._saveCache(e), i._resolveData()
							})
						})
					}, s.prototype._saveCache = function(e) {
						var t = this;
						e.forEach(function(e) {
							i.set(e.uid, e);
							var s = t._waitUids.indexOf(e.uid); - 1 !== s && t._waitUids.splice(s, 1)
						})
					}, s.prototype._resolveData = function() {
						for (var e = this, t = 0; t < this.data.length; t++) {
							for (var s = [], r = this.data[t], u = 0; u < r.uids.length; u++)
								if (void 0 === r.uids[u] || isNaN(r.uids[u]) || 0 === r.uids[u] || -1 === r.uids[u]) s.push(void 0);
								else {
									var o = i.get(r.uids[u]);
									if (!o) break;
									s.push(o)
								}
							u === r.uids.length && (r.defer.resolve(s), e.data.splice(t, 1), t--)
						}
					};
					var u = new s;
					return {
						put: r
					}
				}
			]), module.exports = moduleName;


		}, {
			"../log/localLog": 259,
			"./userCache": 401,
			"@ali/ding-api": 453
		}
	],
	408: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.user.userSync",
				syncObjectTypes = require("../syncProtocol/syncObjectTypes");
			angular.module(moduleName, [require("./userRemarksSync"), require("./userConcern")]).factory("userSync", ["userRemarksSync", "userConcernSync",
				function(e, r) {
					function n() {
						e.init(), r.init()
					}
					return {
						init: n
					}
				}
			]), module.exports = moduleName;


		}, {
			"../syncProtocol/syncObjectTypes": 375,
			"./userConcern": 402,
			"./userRemarksSync": 406
		}
	],
	409: [
		function(require, module, exports) {
			require("../mediaId/mediaId"), angular.module("ddWeb.service.avatar", ["ddWeb.mediaId"]).factory("avatarService", ["mediaId",
				function(e) {
					function r(e) {
						return null !== e.match(/^([a-zA-Z]|\s|,|\.)+$/)
					}
					var a = ["#78c06e", "#f65e8d", "#f6bf26", "#f65e5e", "#5e97f6", "#9a89b9", "#a1887f", "#ff943e", "#5ec9f6", "#3bc2b5", "#5c6bc0", "#bd84cd", "#6bb5ce", "#c5cb63", "#ff8e6b", "#78919d"],
						t = a.length,
						c = {
							getShowName: function(e, a) {
								var t = null,
									c = null;
								return t = e ? e : a, t = t ? t : "", r(t) ? (t = t.replace(/,|\./g, " ").replace(/\s+/g, " "), c = t.split(" "), 1 === c.length ? t.slice(0, 2) : c[0].slice(0, 1) + c[1].slice(0, 1)) : t.replace(/,|\.|\s+/g, "").slice(-2)
							},
							createImgDomString: function(r) {
								var a = e.mid2Url(r),
									t = document.createElement("img");
								t.setAttribute("src", a);
								var c = ["<div class='avatar small'>", t.outerHTML, "</div>"].join("");
								return c
							},
							createNickDomString: function(e, r) {
								var a = c.getShowName(e, r),
									t = ['<div class="avatar small">', '<div class="avatar-text" style="background-color:' + c.getColor(a) + '">', a, "</div></div>"].join("");
								return t
							},
							createImgOrNickDom: function(e, r, a) {
								return e ? this.createImgDomString(e) : this.createNickDomString(r, a)
							},
							getColor: function(e) {
								var r = 0;
								for (char in e) r += e.charCodeAt(char);
								return a[r % t]
							}
						};
					return c
				}
			]);


		}, {
			"../mediaId/mediaId": 267
		}
	],
	410: [
		function(require, module, exports) {
			var moduleName = "ddWeb.avatar.avatarExplainer",
				serviceName = "avatarExplainer";
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					function n(n) {
						if (n instanceof Array) return n.map(function(n) {
							return {
								uId: n,
								mediaId: void 0,
								nick: void 0
							}
						});
						if (-1 != n.indexOf("uids:")) {
							var e = n.split("uids:")[1];
							return e = e.split(";"), e.pop(), e.map(function(n) {
								return {
									uId: parseInt(n),
									mediaId: void 0,
									nick: void 0
								}
							})
						}
						if (-1 == n.indexOf("$:")) return console.log("无法解析icon" + n), [];
						var r = n.split("$:")[1];
						try {
							return r = JSON.parse(r), r.map(function(n) {
								return {
									uId: parseInt(n.uId),
									mediaId: n.mediaId,
									nick: n.nick
								}
							})
						} catch (a) {
							return console.log(a), []
						}
					}

					function e(e) {
						var r = n(e);
						return r.map(function(n) {
							return n.uId
						})
					}

					function r(e) {
						return n(e)
					}
					return {
						getIcons: r,
						getUids: e
					}
				}
			]), module.exports = moduleName;


		}, {}
	],
	411: [
		function(require, module, exports) {
			angular.module("ddWeb.service.contextMenu", []).factory("contextMenuService", ["$rootScope", "$compile", "$document",
				function(e, t, n) {
					function i() {
						if (null === b) {
							var e = angular.element("<div context-menu-item></div>");
							f.append(t(e)(v)), b = e
						}
					}

					function o() {
						if (null === C) {
							var e = angular.element('<div class="context-menu-back-pop"></div>');
							f.append(e), C = e
						}
					}

					function l(e, t) {
						t.removeClass("none"), C.addClass("none"), r && r.removeClass("active"), g.opt.element.addClass("active"), r = g.opt.element, s = e.target;
						var i = n[0].documentElement,
							o = (window.pageXOffset || i.scrollLeft) - (i.clientLeft || 0),
							l = (window.pageYOffset || i.scrollTop) - (i.clientTop || 0),
							a = t[0].scrollWidth,
							c = t[0].scrollHeight,
							u = i.clientWidth + o,
							m = i.clientHeight + l,
							p = a + e.pageX,
							d = c + e.pageY,
							f = e.pageX,
							v = e.pageY;
						p > u && (f -= p - u), d > m && (v -= d - m), t.css("top", v + "px"), t.css("left", f + "px"), x = !0
					}

					function a(e) {
						e.addClass("none"), C.addClass("none"), g.opt.element.removeClass("active"), x = !1
					}

					function c(e) {
						g.opt && !g.opt.menuItemDisabled && x && 27 === e.keyCode && a(b)
					}

					function u(e) {
						!g.opt || g.opt.menuItemDisabled || !x || 2 === e.button && e.target === s || a(b)
					}

					function m(e) {
						if (g.opt && !g.opt.menuItemDisabled && x) {
							a(b);
							var t = n[0].elementFromPoint(e.clientX, e.clientY);
							if ($(t).closest(".context-menu").length) {
								e.preventDefault(), e.stopPropagation();
								var i = $.Event("contextmenu");
								i.pageX = e.pageX, i.pageY = e.pageY, $(t).closest(".context-menu").trigger(i)
							}
						}
					}

					function p(e) {
						angular.isArray(e.menuItems) ? v.items = e.menuItems : angular.isFunction(e.menuItemGet) && (v.items = e.menuItemGet(e.menuData))
					}
					var s, r, d = {}, f = n.find("body").eq(0),
						g = {}, v = e.$new(!0),
						x = !1,
						b = null,
						C = null;
					return i(), o(), v.menuItemClick = function(e, t) {
						g.opt.menuItemClick(g.opt.menuData, e), a(b), t.preventDefault(), t.stopPropagation()
					}, n.bind("keyup.ctxMenu", c), n.bind("click.ctxMenu", u), C.bind("contextmenu.ctxMenu", m), g.show = function(e) {
						g.opt = angular.extend({}, d, e), p(g.opt), null !== b && a(b), l(g.opt.eventObj, b)
					}, g
				}
			]).directive("contextMenuItem", [
				function() {
					return {
						restrict: "AE",
						replace: !0,
						template: '<div class="tip-menu"><ul class="menu"><li class="menu-item" ng-repeat="item in items" menu-type="item.type" ng-click="menuItemClick(item.type, $event)">{{item.text}}</li></ul></div>'
					}
				}
			]);


		}, {}
	],
	412: [
		function(require, module, exports) {
			"use strict";
			var uriResolve = require("../uriResolve/resolve");
			angular.module("ddWeb.service.countryService", []).factory("countryService", [
				function() {
					function e() {
						return r
					}

					function X(e) {
						var X = r.filter(function(X) {
							return X.countryKey === e || X.countryCode === e
						});
						return X ? X[0] : !1
					}

					function t(e) {
						var t = X(e);
						return t ? t.countryCode : t
					}
					var o = {
						AU: uriResolve.assetsResolve("app/img/country_flags/TB13rvrGpXXXXbvXFXX6VttIpXX-70-47.png"),
						CA: uriResolve.assetsResolve("app/img/country_flags/TB1iMLrGpXXXXX8XFXX6VttIpXX-70-47.png"),
						TW: uriResolve.assetsResolve("app/img/country_flags/TB1sPPqGpXXXXbRXFXX6VttIpXX-70-47.png"),
						CN: uriResolve.assetsResolve("app/img/country_flags/TB1tZYtGpXXXXb.XpXX6VttIpXX-70-47.png"),
						DE: uriResolve.assetsResolve("app/img/country_flags/TB171vpGpXXXXcAXFXX6VttIpXX-70-47.png"),
						FR: uriResolve.assetsResolve("app/img/country_flags/TB1WcPoGpXXXXcYXFXX6VttIpXX-70-47.png"),
						UK: uriResolve.assetsResolve("app/img/country_flags/TB1aDPoGpXXXXcDXFXX6VttIpXX-70-47.png"),
						TH: uriResolve.assetsResolve("app/img/country_flags/TB1f1TxGpXXXXasXXXX6VttIpXX-70-47.png"),
						HK: uriResolve.assetsResolve("app/img/country_flags/TB1lUDsGpXXXXcBXpXX6VttIpXX-70-47.png"),
						ID: uriResolve.assetsResolve("app/img/country_flags/TB1jHvsGpXXXXcnXpXX6VttIpXX-70-47.png"),
						IT: uriResolve.assetsResolve("app/img/country_flags/TB1t3rtGpXXXXbdXpXX6VttIpXX-70-47.png"),
						JP: uriResolve.assetsResolve("app/img/country_flags/TB1o9PfGpXXXXXsaXXX6VttIpXX-70-47.png"),
						KR: uriResolve.assetsResolve("app/img/country_flags/TB1yPDwGpXXXXbyXXXX6VttIpXX-70-47.png"),
						MO: uriResolve.assetsResolve("app/img/country_flags/TB1fzPxGpXXXXX3XXXX6VttIpXX-70-47.png"),
						MY: uriResolve.assetsResolve("app/img/country_flags/TB1msnxGpXXXXaTXXXX6VttIpXX-70-47.png"),
						NL: uriResolve.assetsResolve("app/img/country_flags/TB1IYfxGpXXXXaRXXXX6VttIpXX-70-47.png"),
						PH: uriResolve.assetsResolve("app/img/country_flags/TB1e._wGpXXXXbgXXXXQoWQIpXX-71-47.png"),
						RU: uriResolve.assetsResolve("app/img/country_flags/TB1E_nsGpXXXXcKXpXX6VttIpXX-70-47.png"),
						SE: uriResolve.assetsResolve("app/img/country_flags/TB1Tr6rGpXXXXbsXFXX6VttIpXX-70-47.png"),
						SG: uriResolve.assetsResolve("app/img/country_flags/TB1hCnsGpXXXXc0XpXX6VttIpXX-70-47.png"),
						UA: uriResolve.assetsResolve("app/img/country_flags/TB1kIfuGpXXXXarXpXX6VttIpXX-70-47.png"),
						US: uriResolve.assetsResolve("app/img/country_flags/TB1ZTntGpXXXXaKXpXX6VttIpXX-70-47.png"),
						VN: uriResolve.assetsResolve("app/img/country_flags/TB13pfxGpXXXXbdXXXX6VttIpXX-70-47.png"),
						NZ: uriResolve.assetsResolve("app/img/country_flags/TB15XfwGpXXXXaPXFXX6VttIpXX-70-47.png"),
						IN: uriResolve.assetsResolve("app/img/country_flags/lALOAPOz5y9G_70_47.png")
					}, r = [{
							countryCode: "+86",
							countryKey: "CN",
							countryName: "中国"
						}, {
							countryCode: "+81",
							countryKey: "JP",
							countryName: "日本"
						}, {
							countryCode: "+82",
							countryKey: "KR",
							countryName: "韩国"
						}, {
							countryCode: "+1",
							countryKey: "US",
							countryName: "美国"
						}, {
							countryCode: "+61",
							countryKey: "AU",
							countryName: "澳大利亚"
						}, {
							countryCode: "+49",
							countryKey: "DE",
							countryName: "德国"
						}, {
							countryCode: "+7",
							countryKey: "RU",
							countryName: "俄罗斯"
						}, {
							countryCode: "+33",
							countryKey: "FR",
							countryName: "法国"
						}, {
							countryCode: "+63",
							countryKey: "PH",
							countryName: "菲律宾"
						}, {
							countryCode: "+1",
							countryKey: "CA",
							countryName: "加拿大"
						}, {
							countryCode: "+60",
							countryKey: "MY",
							countryName: "马来西亚"
						}, {
							countryCode: "+46",
							countryKey: "SE",
							countryName: "瑞典"
						}, {
							countryCode: "+66",
							countryKey: "TH",
							countryName: "泰国"
						}, {
							countryCode: "+886",
							countryKey: "TW",
							countryName: "台湾"
						}, {
							countryCode: "+380",
							countryKey: "UA",
							countryName: "乌克兰"
						}, {
							countryCode: "+65",
							countryKey: "SG",
							countryName: "新加坡"
						}, {
							countryCode: "+64",
							countryKey: "NZ",
							countryName: "新西兰"
						}, {
							countryCode: "+44",
							countryKey: "UK",
							countryName: "英国"
						}, {
							countryCode: "+39",
							countryKey: "IT",
							countryName: "意大利"
						}, {
							countryCode: "+84",
							countryKey: "VN",
							countryName: "越南"
						}, {
							countryCode: "+91",
							countryKey: "IN",
							countryName: "印度"
						}, {
							countryCode: "+62",
							countryKey: "ID",
							countryName: "印度尼西亚"
						}, {
							countryCode: "+853",
							countryKey: "MO",
							countryName: "中国澳门"
						}, {
							countryCode: "+852",
							countryKey: "HK",
							countryName: "中国香港"
						}];
					return r.forEach(function(e) {
						e.flagSrc = o[e.countryKey]
					}), {
						getAllCountryData: e,
						getCountryByNameOrCode: X,
						getCodeByName: t
					}
				}
			]);


		}, {
			"../uriResolve/resolve": 397
		}
	],
	413: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.emailOpen",
				$my = require("../user/my"),
				ua = require("../ua");
			require("../app/nw");
			var jsuri = require("jsuri"),
				localLog = require("../log/localLog");
			angular.module(moduleName, ["ddWeb.nw", require("../microApp/appList"), require("../openWindow/openWindow"), require("@ali/ding-api")["interface"].AlimeiTicket]).factory("emailOpenService", ["nw", "$OpenWindow", "AlimeiTicket", "appList",
				function(e, i, r, a) {
					function o(e) {
						var o = new i;
						r.getLink(a.orgMail.id + "", "", function(i) {
							if (200 === i.code) {
								var r = i.body;
								if (e) {
									var a = new jsuri(r);
									Object.keys(e).forEach(function(i) {
										var r = e[i];
										a.addQueryParam(i, r)
									}), r = a.toString()
								}
								o.resolve(r)
							} else localLog.error("get email ticket fail : " + JSON.stringify(i))
						})
					}
					return {
						openEmail: o
					}
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../log/localLog": 259,
			"../microApp/appList": 268,
			"../openWindow/openWindow": 335,
			"../ua": 390,
			"../user/my": 400,
			"@ali/ding-api": 453,
			"jsuri": 469
		}
	],
	414: [
		function(require, module, exports) {
			var moduleName = "ddWeb.avatar.groupAvatarExplainer",
				serviceName = "groupAvatarExplainer",
				$my = require("../user/my"),
				mediaIdFactory = require("@ali/ding-mediaid");
			angular.module(moduleName, []).factory(serviceName, [
				function() {
					function r(r, e) {
						r = r || "";
						var i = void 0;
						return e.some(function(e) {
							var a = e.orgDetail || {}, o = a.orgId || "",
								t = a.logoMediaId || "";
							return r.toString() === o.toString() ? (i = 0 === t.indexOf("@") ? mediaIdFactory.mid2Url(t, {
								imageSize: "thumb"
							}) : t, !0) : void 0
						}), i
					}

					function e(r) {
						if (r) {
							if (0 === r.indexOf("@")) return mediaIdFactory.mid2Url(r, {
								imageSize: "thumb"
							});
							try {
								var e = mediaIdFactory.url2Mid(r),
									i = mediaIdFactory.mid2Url(e, {
										imageSize: "thumb"
									})
							} catch (a) {
								var i = r
							}
							return i
						}
					}

					function i(i) {
						i = i || {};
						var a = void 0,
							o = i.use_enterprise_icon,
							t = i.icon;
						if (o && "1" === o.toString()) {
							var d = i.id || i.orgId,
								m = r(d, $my.orgEmployees);
							a = m ? m : e(t)
						} else a = e(t);
						return a
					}
					return {
						getGroupAvatarByGroupExtension: i
					}
				}
			]), module.exports = moduleName;


		}, {
			"../user/my": 400,
			"@ali/ding-mediaid": 456
		}
	],
	415: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.hotkey.hotkeyManager",
				_ = require("lodash"),
				ua = require("../ua"),
				storage = require("../storage/storage"),
				app = angular.module(moduleName, [require("../app/nw"), require("../events")]);
			app.factory("hotkeyManager", ["$rootScope", "nw", "EVENTS",
				function(e, t, a) {
					function o(e) {
						var a = i(e);
						if (a.value) {
							if (a.isGlobal) ua.isNw && (a.guiShortCut && n(e), a.guiShortCut = t.bindHotKey(a.value, a.callback));
							else {
								var o = "keydown." + e;
								$(document).unbind(o).bind(o, a.value, function() {
									a.callback && a.callback()
								})
							}
							a.storageName && storage.local.setItem(a.storageName, a.value)
						}
					}

					function n(e) {
						var a = i(e);
						if (a.isGlobal) ua.isNw && a.guiShortCut && (t.unbindHotKey(a.guiShortCut), a.guiShortCut = null);
						else {
							var o = "." + e;
							$(document).unbind("keydown" + o)
						}
						a.storageName && storage.local.setItem(a.storageName, "")
					}

					function i(e) {
						return f[e]
					}

					function u(e, t) {
						var a = i(e);
						return a.value = t, a.canEdit ? t ? void o(e) : void n(e) : void 0
					}

					function r() {
						Object.keys(f).forEach(function(e) {
							var t = f[e];
							if (t.storageName) {
								var a = storage.local.getItem(t.storageName);
								a && (t.value = a)
							}
						})
					}

					function c() {
						r(), Object.keys(f).forEach(function(e) {
							var t = f[e];
							t.initOn === d.APP && o(e)
						})
					}

					function l() {
						r(), Object.keys(f).forEach(function(e) {
							var t = f[e];
							t.initOn === d.LOGIN && o(e)
						})
					}

					function s() {
						var e = [];
						return Object.keys(f).forEach(function(t) {
							var a = i(t),
								o = {
									value: a.canEdit,
									key: t
								};
							e.push(o)
						}), e
					}
					var d = {
						APP: 0,
						LOGIN: 1
					}, f = {
							ACTIVE_WINDOW: {
								storageName: "activeWindowHotkey",
								keyInfo: "激活窗口快捷键",
								value: "",
								isGlobal: !0,
								guiShortCut: null,
								callback: function() {
									t.activeWindow()
								},
								canEdit: ua.isNw,
								initOn: d.APP
							},
							SEARCH: {
								storageName: "searchHotkey",
								keyInfo: "搜索快捷键",
								value: "",
								isGlobal: !1,
								callback: function() {
									e.$broadcast(a.SEARCH_ACTIVE)
								},
								canEdit: !0,
								initOn: d.LOGIN
							},
							SCREEN_SHOT: {
								storageName: "screenshotHotkey",
								keyInfo: "截图快捷键",
								value: "",
								isGlobal: !0,
								guiShortCut: null,
								callback: function() {
									e.$broadcast("triggerScreenshotHotKey")
								},
								canEdit: ua.isNw,
								initOn: d.LOGIN
							},
							OPEN_DEV_TOOL: {
								value: "Ctrl+Shift+I",
								isGlobal: !1,
								callback: function() {
									ua.isNw && t.showDevTools()
								},
								canEdit: !1,
								initOn: d.APP
							}
						};
					return {
						initOnAppInit: c,
						initOnLogin: l,
						getHotkey: i,
						setHotkey: u,
						getHotkeyEditState: s
					}
				}
			]), module.exports = moduleName;


		}, {
			"../app/nw": 161,
			"../events": 221,
			"../storage/storage": 373,
			"../ua": 390,
			"lodash": 470
		}
	],
	416: [
		function(require, module, exports) {
			"use strict";
			require("../modal/uploadFile");
			var ua = require("../ua");
			require("../app/nw"), require("../file/fileHelper");
			var app = angular.module("ddWeb.service.screenshot", ["ddWeb.nw", "ddWeb.modal.uploadFile", "ddWeb.file.fileHelper", require("../modal/confirm")]);
			app.factory("screenshotService", ["$rootScope", "$state", "nw", "$uploadFilePreview", "$fileHelper", "$confirm",
				function(e, n, i, r, t, a) {
					function o(n, a) {
						if (ua.isWin) {
							var o = $("#screenshotPlugin")[0],
								u = !0;
							o.onCaptureFail = function() {
								p = !1, i.activeWindow(), console.log("capture fail")
							}, o.onCaptureSuccess = function(n, a, o, u) {
								if (p = !1, i.activeWindow(), c() && !u && n && n.length > 0) {
									var l = t.b64ToFile(n, "image/png", "自定义截图.png");
									r(l, {
										isFromScreenShot: !0
									}).then(function(n) {
										e.$broadcast("uploadFile:send", {
											file: n
										})
									})
								}
							}, o.startCapture( !! n, u, a)
						} else if (ua.isMac && ua.isNw) {
							var l = _nwrequire("@ali/mac-screen-capture");
							return l.captureScreen().then(function() {
								$("textarea.input-msg-box").focus(), document.execCommand("paste"), p = !1, i.activeWindow()
							}, function() {
								p = !1, i.activeWindow()
							})
						}
					}

					function u() {
						s(!1, !1)
					}

					function c() {
						return n.is("authorized.im.chat")
					}

					function l() {
						var e = $("#screenshotPlugin")[0];
						return _isNotInstallPlugin(e) ? null : e.getVersion()
					}

					function s(e, n) {
						p || (p = !0, ua.isNw && ua.isMac && n && i.closeWindow(), o(e, n))
					}
					var p = !1;
					return e.$on("triggerScreenshotHotKey", function(n, i) {
						e.$apply(function() {
							u()
						})
					}), {
						startCapture: s,
						startGlobalCapture: u,
						canShowModal: c,
						getVersion: l
					}
				}
			]);


		}, {
			"../app/nw": 161,
			"../file/fileHelper": 224,
			"../modal/confirm": 280,
			"../modal/uploadFile": 300,
			"../ua": 390
		}
	],
	417: [
		function(require, module, exports) {
			angular.module("ddWeb.service.ActionType", []).value("ActionType", {
				CREATEGROUP: 0,
				ADDGROUPMEMBER: 1,
				SENDDING: 2,
				TRANSFER: 3
			});


		}, {}
	],
	418: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("../../toast/toast"), require("./SelectorBar"), require("../../tool/tool"), angular.module("ddWeb.service.AddGroupMemberSelectorBar", ["ddWeb.toast", "ddWeb.service.SelectorBar", "ddWeb.service.tool"]).factory("AddGroupMemberSelectorBar", ["toastService", "SelectorBar", "tool",
				function(e, r, t) {
					var i = Class.create({
						initialize: function(e, r) {
							i.superclass.initialize.call(this, e, r)
						},
						Extends: r,
						Statics: {
							create: function(e, r) {
								var t = new this(e, r);
								return t.initWhenCreate(), t
							}
						},
						_oldMemberArr: null,
						initWhenCreate: function() {
							this._oldMemberArr = $.extend(!0, [], this.P_getSelectedFunc())
						},
						removeHandler: function() {},
						P_preSelectingHandlerForSelectorPanel: function(e, r) {
							return this._isOldMember(r)
						},
						P_beforeAddItem: function() {
							return !1
						},
						_isOldMember: function(e) {
							return t.contain(this._oldMemberArr, function(r) {
								return t.isSamePerson({
									uid: e.model.uid,
									text: e.text
								}, {
									uid: r.model.uid,
									text: r.text
								})
							})
						}
					});
					return i
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../toast/toast": 378,
			"../../tool/tool": 384,
			"./SelectorBar": 420
		}
	],
	419: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("../../toast/toast"), require("./SelectorBar"), angular.module("ddWeb.service.CreateGroupSelectorBar", ["ddWeb.toast", "ddWeb.service.SelectorBar"]).factory("CreateGroupSelectorBar", ["toastService", "SelectorBar",
				function(e, r) {
					var t = Class.create({
						initialize: function(e, r) {
							t.superclass.initialize.call(this, e, r)
						},
						Extends: r,
						Statics: {
							create: function(e, r) {
								var t = new this(e, r);
								return t
							}
						},
						removeHandler: function(e, r) {},
						P_preSelectingHandlerForSelectorPanel: function(e, r) {
							return this.P_isSelected(e, r) && this._mustIncludeSelfWhileCreateGroup(r)
						},
						P_beforeAddItem: function() {
							return !1
						},
						_mustIncludeSelfWhileCreateGroup: function(r) {
							return this.P_isSelf(r.model.uid) ? (e.show("群成员必须包括自己", {
								type: "information"
							}), !0) : !1
						}
					});
					return t
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../toast/toast": 378,
			"./SelectorBar": 420
		}
	],
	420: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.service.SelectorBar",
				Class = require("../../../lib/class");
			require("../../tool/tool"), require("../../toast/toast"), require("../../widget/selectorBar/selectorBarTool");
			var my = require("../../user/my"),
				storage = require("../../storage/storage");
			angular.module(moduleName, ["ddWeb.service.tool", "ddWeb.toast", "ddWeb.service.selectorBarTool", require("@ali/ding-api")["interface"].UserI]).factory("SelectorBar", ["tool", "toastService", "selectorBarTool", "UserI",
				function(e, t, o, r) {
					var n = Class.create({
						initialize: function(e, t) {
							this.P_setSelectedFunc = e, this.P_getSelectedFunc = t
						},
						P_setSelectedFunc: null,
						P_getSelectedFunc: null,
						removeHandler: function(e, t) {
							throw new Error("need to be overwrite")
						},
						P_beforeAddItem: function() {
							throw new Error("need to be overwrite")
						},
						P_preSelectingHandlerForSelectorPanel: function() {
							throw new Error("need to be overwrite")
						},
						selectingHandlerForSelectorBar: function(e) {
							var r = e.model.permission;
							return r && r.unableSelectReason ? void t.show(r.unableSelectReason, {
								type: "information"
							}) : void this._handleAddItem(this.P_getSelectedFunc(), o.convertSearchModelToSelectorBarModel(e))
						},
						selectingHandlerForSelectorPanel: function(t) {
							var r = this.P_getSelectedFunc(),
								t = o.convertPanelModelToSelectorBarModel(t);
							if (!this.P_preSelectingHandlerForSelectorPanel(r, t)) {
								var n = this.dataIndexOf(r, t, function(t, o) {
									return e.isSamePerson({
										uid: t.model.uid,
										text: t.text
									}, {
										uid: o.model.uid,
										text: o.text
									})
								}); - 1 === n ? this._handleAddItem(r, t) : r.splice(n, 1)
							}
						},
						selectGroupData: function(t) {
							var r = this,
								n = this.P_getSelectedFunc();
							t = t.map(function(e) {
								return o.convertPanelModelToSelectorBarModel(e)
							}), t.forEach(function(t) {
								if (!r.P_preSelectingHandlerForSelectorPanel(n, t)) {
									var o = r.dataIndexOf(n, t, function(t, o) {
										return e.isSamePerson({
											uid: t.model.uid,
											text: t.text
										}, {
											uid: o.model.uid,
											text: o.text
										})
									}); - 1 === o && r._handleAddItem(n, t)
								}
							})
						},
						unSelectGroupData: function(t) {
							var r = this,
								n = this.P_getSelectedFunc();
							t = t.map(function(e) {
								return o.convertPanelModelToSelectorBarModel(e)
							}), t.forEach(function(t) {
								var o = r.dataIndexOf(n, t, function(t, o) {
									return e.isSamePerson({
										uid: t.model.uid,
										text: t.text
									}, {
										uid: o.model.uid,
										text: o.text
									})
								});
								n.splice(o, 1)
							})
						},
						dataIndexOf: function(e, t, o) {
							for (var o = o || function(e, t) {
									return e === t
								}, r = -1, n = 0; n < e.length; n++)
								if (o(e[n], t)) return n;
							return r
						},
						P_isSelected: function(e, t) {
							return o.isRepeat(e, t)
						},
						P_isSelf: function(e) {
							return e === my.getId()
						},
						_handleAddItem: function(o, n) {
							var i = this;
							return console.log(n), this._hasNoUid(n.model) ? void r.createUsersByIdentities(this._buildIdentitiesData(n), function(r) {
								return e.isError(r) ? void t.show(r.body.reason, {
									type: "information"
								}) : i._hasNoUid(r.body[0]) ? void t.show("该用户目前不可访问", {
									type: "information"
								}) : (i._addUid(n, r.body[0]), void i._handle(o, n))
							}) : void this._handle(o, n)
						},
						_addUid: function(e, t) {
							e.model.uid = t.uid
						},
						_handle: function(e, r) {
							return o.isRepeat(e, r) ? void t.show("不能重复选择", {
								type: "information"
							}) : void(this.P_beforeAddItem(r) || this._addItem(r))
						},
						_buildIdentitiesData: function(e) {
							return [{
								staffId: e.model.orgStaffId,
								oid: e.model.orgId,
								source: 0
							}]
						},
						_addItem: function(e) {
							this.P_getSelectedFunc().push(e)
						},
						_hasNoUid: function(e) {
							return !e.uid
						}
					});
					return n
				}
			]), module.exports = moduleName;


		}, {
			"../../../lib/class": 119,
			"../../storage/storage": 373,
			"../../toast/toast": 378,
			"../../tool/tool": 384,
			"../../user/my": 400,
			"../../widget/selectorBar/selectorBarTool": 424,
			"@ali/ding-api": 453
		}
	],
	421: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("../../toast/toast"), require("./SelectorBar"), angular.module("ddWeb.service.SendDingSelectorBar", ["ddWeb.toast", "ddWeb.service.SelectorBar"]).factory("SendDingSelectorBar", ["toastService", "SelectorBar",
				function(e, r) {
					var t = Class.create({
						initialize: function(e, r) {
							t.superclass.initialize.call(this, e, r)
						},
						Extends: r,
						Statics: {
							create: function(e, r) {
								var t = new this(e, r);
								return t
							}
						},
						removeHandler: function(e, r) {},
						P_preSelectingHandlerForSelectorPanel: function(e, r) {
							return !1
						},
						P_beforeAddItem: function(e) {
							return !1
						}
					});
					return t
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../toast/toast": 378,
			"./SelectorBar": 420
		}
	],
	422: [
		function(require, module, exports) {
			var Class = require("../../../lib/class");
			require("../../toast/toast"), require("./SelectorBar"), angular.module("ddWeb.service.TransferSelectorBar", ["ddWeb.toast", "ddWeb.service.SelectorBar"]).factory("TransferSelectorBar", ["toastService", "SelectorBar",
				function(e, r) {
					var t = Class.create({
						initialize: function(e, r) {
							t.superclass.initialize.call(this, e, r)
						},
						Extends: r,
						Statics: {
							create: function(e, r) {
								var t = new this(e, r);
								return t
							}
						},
						removeHandler: function(e, r) {},
						P_preSelectingHandlerForSelectorPanel: function(e, r) {
							return !1
						},
						P_beforeAddItem: function(e) {
							return !1
						}
					});
					return t
				}
			]);


		}, {
			"../../../lib/class": 119,
			"../../toast/toast": 378,
			"./SelectorBar": 420
		}
	],
	423: [
		function(require, module, exports) {
			require("./CreateGroupSelectorBar"), require("./SendDingSelectorBar"), require("./AddGroupMemberSelectorBar"), require("./ActionType"), require("./TransferSelectorBar"), angular.module("ddWeb.service.selectorBarFactory", ["ddWeb.service.CreateGroupSelectorBar", "ddWeb.service.SendDingSelectorBar", "ddWeb.service.AddGroupMemberSelectorBar", "ddWeb.service.ActionType", "ddWeb.service.TransferSelectorBar"]).factory("selectorBarFactory", ["CreateGroupSelectorBar", "SendDingSelectorBar", "AddGroupMemberSelectorBar", "ActionType", "TransferSelectorBar",
				function(e, r, a, c, t) {
					return {
						create: function(o, d, n) {
							var i = null;
							switch (o) {
								case c.CREATEGROUP:
									i = e.create(d, n);
									break;
								case c.ADDGROUPMEMBER:
									i = a.create(d, n);
									break;
								case c.SENDDING:
									i = r.create(d, n);
									break;
								case c.TRANSFER:
									i = t.create(d, n);
									break;
								default:
									throw new Error("未知的ActionType")
							}
							return i
						}
					}
				}
			]);


		}, {
			"./ActionType": 417,
			"./AddGroupMemberSelectorBar": 418,
			"./CreateGroupSelectorBar": 419,
			"./SendDingSelectorBar": 421,
			"./TransferSelectorBar": 422
		}
	],
	424: [
		function(require, module, exports) {
			require("../../search/searchTool"), require("../../tool/tool"), angular.module("ddWeb.service.selectorBarTool", ["ddWeb.service.searchTool", "ddWeb.service.tool"]).factory("selectorBarTool", ["searchTool", "tool",
				function(e, t) {
					return {
						focusBar: function(e) {
							$("." + e + " .select2-input").focus()
						},
						isRepeat: function(e, o) {
							var r = t.extendDeep(e);
							return r.push(o), t.hasRepeatItem(r, function(e, o) {
								return t.isSamePerson({
									uid: e.model.uid,
									text: e.text
								}, {
									uid: o.model.uid,
									text: o.text
								})
							})
						},
						buildOrgSelectItemData: function(t, o, r, d, u, l) {
							return {
								text: e.buildText(o, r),
								model: {
									uid: t,
									orgStaffId: d,
									orgId: u
								},
								user: l
							}
						},
						buildFriendSelectItemData: function(t, o, r, d) {
							return {
								text: e.buildText(o, r),
								model: {
									uid: t
								},
								user: d
							}
						},
						convertSearchModelToSelectorBarModel: function(t) {
							var o = {};
							return o.id = e.buildId(), o.text = t.text, o.model = t.model, o.user = t.user, o
						},
						convertPanelModelToSelectorBarModel: function(t, o) {
							var r = {};
							return r.id = e.buildId(), r.text = t.text, r.model = t.model, r.hide = !! o, r.user = t.user, r
						},
						convertUserModelToSelectorBarModel: function(t) {
							var o = {};
							return o.id = e.buildId(), o.text = e.buildText(t.userProfileModel.nick, t.userProfileModel.name), o.model = {
								uid: t.userProfileModel.uid
							}, o.hide = !1, o
						}
					}
				}
			]);


		}, {
			"../../search/searchTool": 359,
			"../../tool/tool": 384
		}
	],
	425: [
		function(require, module, exports) {
			! function(t) {
				"function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? module.exports = t(jQuery) : t(jQuery)
			}(function(t) {
				function e(e, i) {
					this.element = e, this.settings = t.extend({}, r, i), this.dataObject = n, this._defaults = r, this._name = a, this.init()
				}
				var a = "DateTimePicker",
					r = {
						mode: "date",
						defaultDate: new Date,
						dateSeparator: "-",
						timeSeparator: ":",
						timeMeridiemSeparator: " ",
						dateTimeSeparator: " ",
						dateTimeFormat: "dd-MM-yyyy HH:mm:ss",
						dateFormat: "dd-MM-yyyy",
						timeFormat: "HH:mm",
						maxDate: null,
						minDate: null,
						maxTime: null,
						minTime: null,
						maxDateTime: null,
						minDateTime: null,
						shortDayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
						fullDayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
						shortMonthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
						fullMonthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
						formatHumanDate: function(t) {
							return t.dayShort + ", " + t.month + " " + t.dd + ", " + t.yyyy
						},
						minuteInterval: 1,
						roundOffMinutes: !0,
						titleContentDate: "Set Date",
						titleContentTime: "Set Time",
						titleContentDateTime: "Set Date & Time",
						buttonsToDisplay: ["HeaderCloseButton", "SetButton", "ClearButton"],
						setButtonContent: "Set",
						clearButtonContent: "Clear",
						setValueInTextboxOnEveryClick: !1,
						animationDuration: 400,
						isPopup: !0,
						parentElement: null,
						addEventHandlers: null,
						beforeShow: null,
						afterShow: null,
						beforeHide: null,
						afterHide: null,
						buttonClicked: null
					}, n = {
						dCurrentDate: new Date,
						iCurrentDay: 0,
						iCurrentMonth: 0,
						iCurrentYear: 0,
						iCurrentHour: 0,
						iCurrentMinutes: 0,
						sCurrentMeridiem: "",
						iMaxNumberOfDays: 0,
						sDateFormat: "",
						sTimeFormat: "",
						sDateTimeFormat: "",
						dMinValue: null,
						dMaxValue: null,
						sArrInputDateFormats: [],
						sArrInputTimeFormats: [],
						sArrInputDateTimeFormats: [],
						oInputElement: null,
						iTabIndex: 0,
						bElemFocused: !1,
						bIs12Hour: !1
					};
				t.fn.DateTimePicker = function(r) {
					return this.each(function() {
						t.removeData(this, "plugin_" + a), t.data(this, "plugin_" + a) || t.data(this, "plugin_" + a, new e(this, r))
					})
				}, e.prototype = {
					init: function() {
						var e = this;
						e._setDateFormatArray(), e._setTimeFormatArray(), e._setDateTimeFormatArray(), e.settings.isPopup && (e._createPicker(), t(e.element).addClass("dtpicker-mobile")), e._addEventHandlersForInput()
					},
					_setDateFormatArray: function() {
						var t = this;
						t.dataObject.sArrInputDateFormats = new Array;
						var e = "";
						e = "dd" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "yyyy", t.dataObject.sArrInputDateFormats.push(e), e = "MM" + t.settings.dateSeparator + "dd" + t.settings.dateSeparator + "yyyy", t.dataObject.sArrInputDateFormats.push(e), e = "yyyy" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "dd", t.dataObject.sArrInputDateFormats.push(e), e = "dd" + t.settings.dateSeparator + "MMM" + t.settings.dateSeparator + "yyyy", t.dataObject.sArrInputDateFormats.push(e)
					},
					_setTimeFormatArray: function() {
						var t = this;
						t.dataObject.sArrInputTimeFormats = new Array;
						var e = "";
						e = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeMeridiemSeparator + "AA", t.dataObject.sArrInputTimeFormats.push(e), e = "HH" + t.settings.timeSeparator + "mm", t.dataObject.sArrInputTimeFormats.push(e)
					},
					_setDateTimeFormatArray: function() {
						var t = this;
						t.dataObject.sArrInputDateTimeFormats = new Array;
						var e = "",
							a = "",
							r = "";
						e = "dd" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "yyyy", a = "HH" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "dd" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "yyyy", a = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss" + t.settings.timeMeridiemSeparator + "AA", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "MM" + t.settings.dateSeparator + "dd" + t.settings.dateSeparator + "yyyy", a = "HH" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "MM" + t.settings.dateSeparator + "dd" + t.settings.dateSeparator + "yyyy", a = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss" + t.settings.timeMeridiemSeparator + "AA", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "yyyy" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "dd", a = "HH" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "yyyy" + t.settings.dateSeparator + "MM" + t.settings.dateSeparator + "dd", a = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss" + t.settings.timeMeridiemSeparator + "AA", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "dd" + t.settings.dateSeparator + "MMM" + t.settings.dateSeparator + "yyyy", a = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r), e = "dd" + t.settings.dateSeparator + "MMM" + t.settings.dateSeparator + "yyyy", a = "hh" + t.settings.timeSeparator + "mm" + t.settings.timeSeparator + "ss" + t.settings.timeMeridiemSeparator + "AA", r = e + t.settings.dateTimeSeparator + a, t.dataObject.sArrInputDateTimeFormats.push(r)
					},
					_createPicker: function() {
						var e = this;
						t(e.element).addClass("dtpicker-overlay"), t(".dtpicker-overlay").click(function(t) {
							e._hidePicker("")
						});
						var a = "";
						a += "<div class='dtpicker-bg'>", a += "<div class='dtpicker-cont'>", a += "<div class='dtpicker-content'>", a += "<div class='dtpicker-subcontent'>", a += "</div>", a += "</div>", a += "</div>", a += "</div>", t(e.element).html(a)
					},
					_addEventHandlersForInput: function() {
						var e = this;
						e.dataObject.oInputElement = null;
						var a = void 0;
						void 0 != e.settings.parentElement ? (t(e.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function() {
							var e = t(this).attr("type");
							t(this).attr("type", "text"), t(this).attr("data-field", e)
						}), a = t(e.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']")) : (t("input[type='date'], input[type='time'], input[type='datetime']").each(function() {
							var e = t(this).attr("type");
							t(this).attr("type", "text"), t(this).attr("data-field", e)
						}), a = t("[data-field='date'], [data-field='time'], [data-field='datetime']")), t(a).unbind("focus", e._inputFieldFocus), t(a).on("focus", {
							obj: e
						}, e._inputFieldFocus), t(a).not("input").click(function(t) {
							null == e.dataObject.oInputElement && e.showDateTimePicker(this)
						}), t(a).click(function(t) {
							t.stopPropagation()
						}), e.settings.addEventHandlers && e.settings.addEventHandlers.call(e)
					},
					_inputFieldFocus: function(t) {
						var e = t.data.obj;
						null == e.dataObject.oInputElement && e.showDateTimePicker(t.target), e.dataObject.bMouseDown = !1
					},
					setDateTimeStringInInputField: function(e, a) {
						var r = this;
						a = a || r.dataObject.dCurrentDate;
						var n = void 0;
						null !== e && void 0 !== e ? (n = [], "string" == typeof e ? n.push(e) : "object" == typeof e && (n = e)) : n = null !== r.settings.parentElement && void 0 !== r.settings.parentElement ? t(r.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']") : t("[data-field='date'], [data-field='time'], [data-field='datetime']"), n.each(function() {
							var e, n, i, s = this;
							e = t(s).data("field"), r._compare(e, "date") ? n = t(s).data("format") || r.settings.dateFormat : r._compare(e, "time") ? n = t(s).data("format") || r.settings.timeFormat : r._compare(e, "datetime") && (n = t(s).data("format") || r.settings.dateTimeFormat), i = r.getIs12Hour(e, n);
							var d = r._setOutput(e, n, i, a);
							t(s).val(d)
						})
					},
					getDateTimeStringInFormat: function(t, e, a) {
						var r = this,
							n = r.getIs12Hour(t, e);
						return r._setOutput(t, e, n, a)
					},
					showDateTimePicker: function(e) {
						var a = this;
						if (null == a.dataObject.oInputElement) {
							a.dataObject.oInputElement = e, a.dataObject.iTabIndex = parseInt(t(e).attr("tabIndex"));
							var r = t(e).data("field") || "",
								n = t(e).data("min") || "",
								i = t(e).data("max") || "",
								s = t(e).data("format") || "",
								d = t(e).data("view") || "",
								o = t(e).data("startend") || "",
								m = t(e).data("startendelem") || "",
								u = a._getValueOfElement(e) || "";
							if ("" != d && (a._compare(d, "Popup") ? a.setIsPopup(!0) : a.setIsPopup(!1)), !a.settings.isPopup) {
								a._createPicker();
								var c = t(a.dataObject.oInputElement).offset().top + t(a.dataObject.oInputElement).outerHeight(),
									p = t(a.dataObject.oInputElement).offset().left,
									l = t(a.dataObject.oInputElement).outerWidth();
								t(a.element).css({
									position: "absolute",
									top: c,
									left: p,
									width: l,
									height: "auto"
								})
							}
							a._showPicker(r, n, i, s, u, e, o, m)
						}
					},
					_setButtonAction: function(t) {
						var e = this;
						if (null != e.dataObject.oInputElement) {
							var a = e._setOutput();
							e._setValueOfElement(a), t ? e._hidePicker(0) : e._hidePicker("")
						}
					},
					_setOutput: function(t, e, a, r) {
						var n = this;
						t = t || n.settings.mode, n._compare(t, "date") ? e = e || n.dataObject.sDateFormat : n._compare(t, "time") ? e = e || n.dataObject.sTimeFormat : n._compare(t, "datetime") && (e = e || n.dataObject.sDateTimeFormat), r = r || n.dataObject.dCurrentDate, a = a || n.dataObject.bIs12Hour;
						var i, s, d, o, m, u = "",
							c = r.getDate(),
							p = r.getMonth(),
							l = r.getFullYear(),
							b = r.getHours(),
							O = r.getMinutes(),
							j = "",
							g = "";
						return n._compare(t, "date") ? n._compare(e, n.dataObject.sArrInputDateFormats[0]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, u = i + n.settings.dateSeparator + s + n.settings.dateSeparator + l) : n._compare(e, n.dataObject.sArrInputDateFormats[1]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, u = s + n.settings.dateSeparator + i + n.settings.dateSeparator + l) : n._compare(e, n.dataObject.sArrInputDateFormats[2]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, u = l + n.settings.dateSeparator + s + n.settings.dateSeparator + i) : n._compare(e, n.dataObject.sArrInputDateFormats[3]) && (i = 10 > c ? "0" + c : c, s = n.settings.shortMonthNames[p], u = i + n.settings.dateSeparator + s + n.settings.dateSeparator + l) : n._compare(t, "time") ? n._compare(e, n.dataObject.sArrInputTimeFormats[0]) ? (d = n._determineMeridiemFromHourAndMinutes(b, O), 0 == b && "AM" == d ? b = 12 : b > 12 && "PM" == d && (b -= 12), o = 10 > b ? "0" + b : b, m = 10 > O ? "0" + O : O, u = o + n.settings.timeSeparator + m + n.settings.timeMeridiemSeparator + d) : n._compare(e, n.dataObject.sArrInputTimeFormats[1]) && (o = 10 > b ? "0" + b : b, m = 10 > O ? "0" + O : O, u = o + n.settings.timeSeparator + m) : n._compare(t, "datetime") && (n._compare(e, n.dataObject.sArrInputDateTimeFormats[0]) || n._compare(n.dataObject.sDateTimeFormat, n.dataObject.sArrInputDateTimeFormats[1]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, j = i + n.settings.dateSeparator + s + n.settings.dateSeparator + l) : n._compare(e, n.dataObject.sArrInputDateTimeFormats[2]) || n._compare(n.dataObject.sDateTimeFormat, n.dataObject.sArrInputDateTimeFormats[3]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, j = s + n.settings.dateSeparator + i + n.settings.dateSeparator + l) : n._compare(e, n.dataObject.sArrInputDateTimeFormats[4]) || n._compare(n.dataObject.sDateTimeFormat, n.dataObject.sArrInputDateTimeFormats[5]) ? (p++, i = 10 > c ? "0" + c : c, s = 10 > p ? "0" + p : p, j = l + n.settings.dateSeparator + s + n.settings.dateSeparator + i) : (n._compare(e, n.dataObject.sArrInputDateTimeFormats[6]) || n._compare(n.dataObject.sDateTimeFormat, n.dataObject.sArrInputDateTimeFormats[7])) && (i = 10 > c ? "0" + c : c, s = n.settings.shortMonthNames[p], j = i + n.settings.dateSeparator + s + n.settings.dateSeparator + l), a ? (d = n._determineMeridiemFromHourAndMinutes(b, O), 0 == b && "AM" == d ? b = 12 : b > 12 && "PM" == d && (b -= 12), o = 10 > b ? "0" + b : b, m = 10 > O ? "0" + O : O, g = o + n.settings.timeSeparator + m + n.settings.timeMeridiemSeparator + d) : (o = 10 > b ? "0" + b : b, m = 10 > O ? "0" + O : O, g = o + n.settings.timeSeparator + m), u = j + n.settings.dateTimeSeparator + g), u
					},
					_clearButtonAction: function() {
						var t = this;
						null != t.dataObject.oInputElement && t._setValueOfElement(""), t._hidePicker("")
					},
					_setOutputOnIncrementOrDecrement: function() {
						var t = this;
						if (null != t.dataObject.oInputElement && t.settings.setValueInTextboxOnEveryClick) {
							var e = t._setOutput();
							t._setValueOfElement(e)
						}
					},
					_showPicker: function(e, a, r, n, i, s, d, o) {
						var m = this;
						if (m.settings.beforeShow && m.settings.beforeShow.call(m, s), "" != e && (m.settings.mode = e), m.dataObject.dMinValue = null, m.dataObject.dMaxValue = null, m.dataObject.bIs12Hour = !1, m._compare(m.settings.mode, "date")) {
							var u = a || m.settings.minDate,
								c = r || m.settings.maxDate,
								p = n || m.settings.dateFormat;
							if ("" != p && null != p && (m.dataObject.sDateFormat = p), "" != u && null != u && (m.dataObject.dMinValue = m._parseDate(u)), "" != c && null != c && (m.dataObject.dMaxValue = m._parseDate(c)), "" != d && (m._compare(d, "start") || m._compare(d, "end")) && "" != o && t(o).length >= 1) {
								var l = m._getValueOfElement(t(o));
								if ("" != l) {
									var b = m._parseDate(l);
									m._compare(d, "start") ? "" != c && null != c ? m._compareDates(b, m.dataObject.dMaxValue) < 0 && (m.dataObject.dMaxValue = new Date(b)) : m.dataObject.dMaxValue = new Date(b) : m._compare(d, "end") && ("" != u && null != u ? m._compareDates(b, m.dataObject.dMinValue) > 0 && (m.dataObject.dMinValue = new Date(b)) : m.dataObject.dMinValue = new Date(b))
								}
							}
							m.dataObject.dCurrentDate = m._parseDate(i), m.dataObject.dCurrentDate.setHours(0), m.dataObject.dCurrentDate.setMinutes(0), m.dataObject.dCurrentDate.setSeconds(0)
						} else if (m._compare(m.settings.mode, "time")) {
							var u = a || m.settings.minTime,
								c = r || m.settings.maxTime,
								O = n || m.settings.timeFormat;
							if ("" != O && null != O && (m.dataObject.sTimeFormat = O), "" != u && null != u && (m.dataObject.dMinValue = m._parseTime(u)), "" != c && null != c && (m.dataObject.dMaxValue = m._parseTime(c)), "" != d && (m._compare(d, "start") || m._compare(d, "end")) && "" != o && t(o).length >= 1) {
								var j = m._getValueOfElement(t(o));
								if ("" != j) {
									var g = m._parseTime(j);
									m._compare(d, "start") ? (g.setMinutes(g.getMinutes() - 1), "" != c && null != c ? 2 == m._compareTime(g, m.dataObject.dMaxValue) && (m.dataObject.dMaxValue = new Date(g)) : m.dataObject.dMaxValue = new Date(g)) : m._compare(d, "end") && (g.setMinutes(g.getMinutes() + 1), "" != u && null != u ? 3 == m._compareTime(g, m.dataObject.dMinValue) && (m.dataObject.dMinValue = new Date(g)) : m.dataObject.dMinValue = new Date(g))
								}
							}
							m.dataObject.bIs12Hour = m.getIs12Hour("time", m.dataObject.sTimeFormat), m.dataObject.dCurrentDate = m._parseTime(i)
						} else if (m._compare(m.settings.mode, "datetime")) {
							var u = a || m.settings.minDateTime,
								c = r || m.settings.maxDateTime,
								D = n || m.settings.dateTimeFormat;
							if ("" != D && null != D && (m.dataObject.sDateTimeFormat = D), "" != u && null != u && (m.dataObject.dMinValue = m._parseDateTime(u)), "" != c && null != c && (m.dataObject.dMaxValue = m._parseDateTime(c)), "" != d && (m._compare(d, "start") || m._compare(d, "end")) && "" != o && t(o).length >= 1) {
								var M = m._getValueOfElement(t(o));
								if ("" != M) {
									var C = m._parseDateTime(M);
									m._compare(d, "start") ? "" != c && null != c ? m._compareDateTime(C, m.dataObject.dMaxValue) < 0 && (m.dataObject.dMaxValue = new Date(C)) : m.dataObject.dMaxValue = new Date(C) : m._compare(d, "end") && ("" != u && null != u ? m._compareDateTime(C, m.dataObject.dMinValue) > 0 && (m.dataObject.dMinValue = new Date(C)) : m.dataObject.dMinValue = new Date(C))
								}
							}
							m.dataObject.bIs12Hour = m.getIs12Hour("datetime", m.dataObject.sDateTimeFormat), m.dataObject.dCurrentDate = m._parseDateTime(i)
						}
						m._setVariablesForDate(), m._modifyPicker(), t(m.element).fadeIn(m.settings.animationDuration), m.settings.afterShow && setTimeout(function() {
							m.settings.afterShow.call(m, s)
						}, m.settings.animationDuration)
					},
					_hidePicker: function(e) {
						var a = this,
							r = a.dataObject.oInputElement;
						a.settings.beforeHide && a.settings.beforeHide.call(a, r), ("" === e || void 0 === e || null === e) && (e = a.settings.animationDuration), null != a.dataObject.oInputElement && (t(a.dataObject.oInputElement).blur(), a.dataObject.oInputElement = null), t(a.element).fadeOut(e), 0 == e ? t(a.element).find(".dtpicker-subcontent").html("") : setTimeout(function() {
							t(a.element).find(".dtpicker-subcontent").html("")
						}, e), t(document).unbind("click.DateTimePicker"), t(document).unbind("keydown.DateTimePicker"), t(document).unbind("keyup.DateTimePicker"), a.settings.afterHide && setTimeout(function() {
							a.settings.afterHide.call(a, r)
						}, e)
					},
					_modifyPicker: function() {
						var e, a, r = this,
							n = new Array;
						r._compare(r.settings.mode, "date") ? (e = r.settings.titleContentDate, a = 3, r._compare(r.dataObject.sDateFormat, r.dataObject.sArrInputDateFormats[0]) ? n = ["day", "month", "year"] : r._compare(r.dataObject.sDateFormat, r.dataObject.sArrInputDateFormats[1]) ? n = ["month", "day", "year"] : r._compare(r.dataObject.sDateFormat, r.dataObject.sArrInputDateFormats[2]) ? n = ["year", "month", "day"] : r._compare(r.dataObject.sDateFormat, r.dataObject.sArrInputDateFormats[3]) && (n = ["day", "month", "year"])) : r._compare(r.settings.mode, "time") ? (e = r.settings.titleContentTime, r._compare(r.dataObject.sTimeFormat, r.dataObject.sArrInputTimeFormats[0]) ? (a = 3, n = ["hour", "minutes", "meridiem"]) : r._compare(r.dataObject.sTimeFormat, r.dataObject.sArrInputTimeFormats[1]) && (a = 2, n = ["hour", "minutes"])) : r._compare(r.settings.mode, "datetime") && (e = r.settings.titleContentDateTime, r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[0]) ? (a = 5, n = ["day", "month", "year", "hour", "minutes"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[1]) ? (a = 6, n = ["day", "month", "year", "hour", "minutes", "meridiem"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[2]) ? (a = 5, n = ["month", "day", "year", "hour", "minutes"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[3]) ? (a = 6, n = ["month", "day", "year", "hour", "minutes", "meridiem"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[4]) ? (a = 5, n = ["year", "month", "day", "hour", "minutes"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[5]) ? (a = 6, n = ["year", "month", "day", "hour", "minutes", "meridiem"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[6]) ? (a = 5, n = ["day", "month", "year", "hour", "minutes"]) : r._compare(r.dataObject.sDateTimeFormat, r.dataObject.sArrInputDateTimeFormats[7]) && (a = 6, n = ["day", "month", "year", "hour", "minutes", "meridiem"]));
						for (var i = "dtpicker-comp" + a, s = !1, d = !1, o = !1, m = 0; m < r.settings.buttonsToDisplay.length; m++) r._compare(r.settings.buttonsToDisplay[m], "HeaderCloseButton") ? s = !0 : r._compare(r.settings.buttonsToDisplay[m], "SetButton") ? d = !0 : r._compare(r.settings.buttonsToDisplay[m], "ClearButton") && (o = !0);
						var u = "";
						u += "<div class='dtpicker-header'>", u += "<div class='dtpicker-title'>" + e + "</div>", s && (u += "<a class='dtpicker-close'>&times;</a>"), u += "<div class='dtpicker-value'></div>", u += "</div>";
						var c = "";
						c += "<div class='dtpicker-components'>";
						for (var m = 0; a > m; m++) {
							var p = n[m];
							c += "<div class='dtpicker-compOutline " + i + "'>", c += "<div class='dtpicker-comp " + p + "'>", c += "<a class='dtpicker-compButton increment'>+</a>", c += "<input type='text' class='dtpicker-compValue'></input>", c += "<a class='dtpicker-compButton decrement'>-</a>", c += "</div>", c += "</div>"
						}
						c += "</div>";
						var l = "";
						l = d && o ? " dtpicker-twoButtons" : " dtpicker-singleButton";
						var b = "";
						b += "<div class='dtpicker-buttonCont" + l + "'>", d && (b += "<a class='dtpicker-button dtpicker-buttonSet'>" + r.settings.setButtonContent + "</a>"), o && (b += "<a class='dtpicker-button dtpicker-buttonClear'>" + r.settings.clearButtonContent + "</a>"), b += "</div>", sTempStr = u + c + b, t(r.element).find(".dtpicker-subcontent").html(sTempStr), r._setCurrentDate(), r._addEventHandlersForPicker()
					},
					_addEventHandlersForPicker: function() {
						var e = this;
						t(document).on("click.DateTimePicker", function(t) {
							e._hidePicker("")
						}), t(document).on("keydown.DateTimePicker", function(a) {
							return t(".dtpicker-compValue").is(":focus") || "9" != (a.keyCode ? a.keyCode : a.which) ? void 0 : (e._setButtonAction(!0), t("[tabIndex=" + (e.dataObject.iTabIndex + 1) + "]").focus(), !1)
						}), t(document).on("keydown.DateTimePicker", function(a) {
							t(".dtpicker-compValue").is(":focus") || "9" == (a.keyCode ? a.keyCode : a.which) || e._hidePicker("")
						}), t(".dtpicker-cont *").click(function(t) {
							t.stopPropagation()
						}), t(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function() {
							this.value = this.value.replace(/[^0-9\.]/g, "")
						}), t(".dtpicker-compValue").focus(function() {
							e.dataObject.bElemFocused = !0
						}), t(".dtpicker-compValue").blur(function() {
							e._getValuesFromInputBoxes(), e._setCurrentDate(), e.dataObject.bElemFocused = !1;
							var a = t(this).parent().parent();
							setTimeout(function() {
								a.is(":last-child") && !e.dataObject.bElemFocused && e._setButtonAction(!1)
							}, 50)
						}), t(".dtpicker-compValue").keyup(function() {
							var e = t(this),
								a = e.val(),
								r = a.length;
							if (e.parent().hasClass("day") || e.parent().hasClass("hour") || e.parent().hasClass("minutes") || e.parent().hasClass("meridiem")) {
								if (r > 2) {
									var n = a.slice(0, 2);
									e.val(n)
								}
							} else if (e.parent().hasClass("month")) {
								if (r > 3) {
									var n = a.slice(0, 3);
									e.val(n)
								}
							} else if (e.parent().hasClass("year") && r > 4) {
								var n = a.slice(0, 4);
								e.val(n)
							}
						}), t(e.element).find(".dtpicker-close").click(function(t) {
							e.settings.buttonClicked && e.settings.buttonClicked.call(e, "CLOSE", e.dataObject.oInputElement), e._hidePicker("")
						}), t(e.element).find(".dtpicker-buttonSet").click(function(t) {
							e.settings.buttonClicked && e.settings.buttonClicked.call(e, "SET", e.dataObject.oInputElement), e._setButtonAction(!1)
						}), t(e.element).find(".dtpicker-buttonClear").click(function(t) {
							e.settings.buttonClicked && e.settings.buttonClicked.call(e, "CLEAR", e.dataObject.oInputElement), e._clearButtonAction()
						}), t(e.element).find(".day .increment").click(function(t) {
							e.dataObject.iCurrentDay++, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".day .decrement").click(function(t) {
							e.dataObject.iCurrentDay--, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".month .increment").click(function(t) {
							e.dataObject.iCurrentMonth++, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".month .decrement").click(function(t) {
							e.dataObject.iCurrentMonth--, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".year .increment").click(function(t) {
							e.dataObject.iCurrentYear++, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".year .decrement").click(function(t) {
							e.dataObject.iCurrentYear--, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".hour .increment").click(function(t) {
							e.dataObject.iCurrentHour++, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".hour .decrement").click(function(t) {
							e.dataObject.iCurrentHour--, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".minutes .increment").click(function(t) {
							e.dataObject.iCurrentMinutes += e.settings.minuteInterval, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".minutes .decrement").click(function(t) {
							e.dataObject.iCurrentMinutes -= e.settings.minuteInterval, e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						}), t(e.element).find(".meridiem .dtpicker-compButton").click(function(t) {
							e._compare(e.dataObject.sCurrentMeridiem, "AM") ? (e.dataObject.sCurrentMeridiem = "PM", e.dataObject.iCurrentHour += 12) : e._compare(e.dataObject.sCurrentMeridiem, "PM") && (e.dataObject.sCurrentMeridiem = "AM", e.dataObject.iCurrentHour -= 12), e._setCurrentDate(), e._setOutputOnIncrementOrDecrement()
						})
					},
					_adjustMinutes: function(t) {
						var e = this;
						return e.settings.roundOffMinutes && 1 != e.settings.minuteInterval && (t = t % e.settings.minuteInterval ? t - t % e.settings.minuteInterval + e.settings.minuteInterval : t), t
					},
					_getValueOfElement: function(e) {
						var a = this,
							r = "";
						return r = a._compare(t(e).prop("tagName"), "INPUT") ? t(e).val() : t(e).html()
					},
					_setValueOfElement: function(e) {
						var a = this,
							r = t(a.dataObject.oInputElement);
						return a._compare(r.prop("tagName"), "INPUT") ? r.val(e) : r.html(e), r.change(), e
					},
					_parseDate: function(t) {
						var e = this,
							a = new Date(e.settings.defaultDate),
							r = a.getDate(),
							n = a.getMonth(),
							i = a.getFullYear();
						if ("" != t && void 0 != t && null != t) {
							var s = t.split(e.settings.dateSeparator);
							e._compare(e.dataObject.sDateFormat, e.dataObject.sArrInputDateFormats[0]) ? (r = parseInt(s[0]), n = parseInt(s[1] - 1), i = parseInt(s[2])) : e._compare(e.dataObject.sDateFormat, e.dataObject.sArrInputDateFormats[1]) ? (n = parseInt(s[0] - 1), r = parseInt(s[1]), i = parseInt(s[2])) : e._compare(e.dataObject.sDateFormat, e.dataObject.sArrInputDateFormats[2]) ? (i = parseInt(s[0]), n = parseInt(s[1] - 1), r = parseInt(s[2])) : e._compare(e.dataObject.sDateFormat, e.dataObject.sArrInputDateFormats[3]) && (r = parseInt(s[0]), n = e._getShortMonthIndex(s[1]), i = parseInt(s[2]))
						}
						return a = new Date(i, n, r, 0, 0, 0, 0)
					},
					_parseTime: function(t) {
						var e = this,
							a = new Date(e.settings.defaultDate),
							r = a.getDate(),
							n = a.getMonth(),
							i = a.getFullYear(),
							s = a.getHours(),
							d = a.getMinutes();
						if ("" != t && void 0 != t && null != t)
							if (e._compare(e.dataObject.sTimeFormat, e.dataObject.sArrInputTimeFormats[0])) {
								var o = t.split(e.settings.timeMeridiemSeparator),
									m = o[1],
									u = o[0].split(e.settings.timeSeparator);
								s = parseInt(u[0]), d = parseInt(u[1]), 12 == s && e._compare(m, "AM") ? s = 0 : 12 > s && e._compare(m, "PM") && (s += 12)
							} else
						if (e._compare(e.dataObject.sTimeFormat, e.dataObject.sArrInputTimeFormats[1])) {
							var u = t.split(e.settings.timeSeparator);
							s = parseInt(u[0]), d = parseInt(u[1])
						}
						return d = e._adjustMinutes(d), a = new Date(i, n, r, s, d, 0, 0)
					},
					_parseDateTime: function(t) {
						var e = this,
							a = new Date(e.settings.defaultDate),
							r = a.getDate(),
							n = a.getMonth(),
							i = a.getFullYear(),
							s = a.getHours(),
							d = a.getMinutes(),
							o = "";
						if ("" != t && void 0 != t && null != t) {
							var m = t.split(e.settings.dateTimeSeparator),
								u = m[0].split(e.settings.dateSeparator);
							e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[0]) || e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[1]) ? (r = parseInt(u[0]), n = parseInt(u[1] - 1), i = parseInt(u[2])) : e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[2]) || e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[3]) ? (n = parseInt(u[0] - 1), r = parseInt(u[1]), i = parseInt(u[2])) : e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[4]) || e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[5]) ? (i = parseInt(u[0]), n = parseInt(u[1] - 1), r = parseInt(u[2])) : (e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[6]) || e._compare(e.dataObject.sDateTimeFormat, e.dataObject.sArrInputDateTimeFormats[7])) && (r = parseInt(u[0]), n = e._getShortMonthIndex(u[1]), i = parseInt(u[2]));
							var c = m[1];
							if (e.dataObject.bIs12Hour) {
								if (e._compare(e.settings.dateTimeSeparator, e.settings.timeMeridiemSeparator) && 3 == m.length) o = m[2];
								else {
									var p = c.split(e.settings.timeMeridiemSeparator);
									c = p[0], o = p[1]
								}
								e._compare(o, "AM") || e._compare(o, "PM") || (o = "")
							}
							var l = c.split(e.settings.timeSeparator);
							s = parseInt(l[0]), d = parseInt(l[1]), 12 == s && e._compare(o, "AM") ? s = 0 : 12 > s && e._compare(o, "PM") && (s += 12)
						}
						return d = e._adjustMinutes(d), a = new Date(i, n, r, s, d, 0, 0)
					},
					_getShortMonthIndex: function(t) {
						for (var e = this, a = 0; a < e.settings.shortMonthNames.length; a++)
							if (e._compare(t, e.settings.shortMonthNames[a])) return a
					},
					getIs12Hour: function(t, e) {
						var a = this,
							r = !1;
						return a._compare(t, "time") ? r = a._compare(e, a.dataObject.sArrInputTimeFormats[0]) : a._compare(t, "datetime") && (r = a._compare(e, a.dataObject.sArrInputDateTimeFormats[1]) || a._compare(e, a.dataObject.sArrInputDateTimeFormats[3]) || a._compare(e, a.dataObject.sArrInputDateTimeFormats[5]) || a._compare(e, a.dataObject.sArrInputDateTimeFormats[7])), r
					},
					_setVariablesForDate: function() {
						var t = this;
						t.dataObject.iCurrentDay = t.dataObject.dCurrentDate.getDate(), t.dataObject.iCurrentMonth = t.dataObject.dCurrentDate.getMonth(), t.dataObject.iCurrentYear = t.dataObject.dCurrentDate.getFullYear(), t._compare(t.settings.mode, "time") ? (t.dataObject.iCurrentHour = t.dataObject.dCurrentDate.getHours(), t.dataObject.iCurrentMinutes = t.dataObject.dCurrentDate.getMinutes(), t._compare(t.dataObject.sTimeFormat, t.dataObject.sArrInputTimeFormats[0]) && (t.dataObject.sCurrentMeridiem = t._determineMeridiemFromHourAndMinutes(t.dataObject.iCurrentHour, t.dataObject.iCurrentMinutes))) : t._compare(t.settings.mode, "datetime") && (t.dataObject.iCurrentHour = t.dataObject.dCurrentDate.getHours(), t.dataObject.iCurrentMinutes = t.dataObject.dCurrentDate.getMinutes(), (t._compare(t.dataObject.sDateTimeFormat, t.dataObject.sArrInputDateTimeFormats[1]) || t._compare(t.dataObject.sDateTimeFormat, t.dataObject.sArrInputDateTimeFormats[3]) || t._compare(t.dataObject.sDateTimeFormat, t.dataObject.sArrInputDateTimeFormats[5]) || t._compare(t.dataObject.sDateTimeFormat, t.dataObject.sArrInputDateTimeFormats[7])) && (t.dataObject.sCurrentMeridiem = t._determineMeridiemFromHourAndMinutes(t.dataObject.iCurrentHour, t.dataObject.iCurrentMinutes)))
					},
					_getValuesFromInputBoxes: function() {
						var e = this;
						if (e._compare(e.settings.mode, "date") || e._compare(e.settings.mode, "datetime")) {
							var a = t(e.element).find(".month .dtpicker-compValue").val();
							a.length > 1 && (a = a.charAt(0).toUpperCase() + a.slice(1));
							var r = e.settings.shortMonthNames.indexOf(a); - 1 != r ? e.dataObject.iCurrentMonth = parseInt(r) : a.match("^[+|-]?[0-9]+$") && (e.dataObject.iCurrentMonth = parseInt(a - 1)), e.dataObject.iCurrentDay = parseInt(t(e.element).find(".day .dtpicker-compValue").val()) || e.dataObject.iCurrentDay, e.dataObject.iCurrentYear = parseInt(t(e.element).find(".year .dtpicker-compValue").val()) || e.dataObject.iCurrentYear
						}
						if (e._compare(e.settings.mode, "time") || e._compare(e.settings.mode, "datetime")) {
							if (e.dataObject.iCurrentHour = parseInt(t(e.element).find(".hour .dtpicker-compValue").val()), e.dataObject.iCurrentMinutes = e._adjustMinutes(parseInt(t(e.element).find(".minutes .dtpicker-compValue").val())), e._compare(e.settings.mode, "time"))
								if (e.dataObject.bIs12Hour) {
									if (e.dataObject.iCurrentHour > 12 && (e.dataObject.iCurrentHour = e.dataObject.iCurrentHour % 12), e.dataObject.iCurrentMinutes > 59) {
										var n = e.dataObject.iCurrentMinutes / 60,
											i = e.dataObject.iCurrentMinutes % 59,
											s = e.dataObject.iCurrentHour + n;
										s > 12 && (e.dataObject.iCurrentHour = s % 12), e.dataObject.iCurrentMinutes = i
									}
								} else
							if (e.dataObject.iCurrentHour > 23 && (e.dataObject.iCurrentHour = e.dataObject.iCurrentHour % 23), e.dataObject.iCurrentMinutes > 59) {
								var n = e.dataObject.iCurrentMinutes / 60,
									i = e.dataObject.iCurrentMinutes % 59,
									s = e.dataObject.iCurrentHour + n;
								s > 23 && (e.dataObject.iCurrentHour = s % 23), e.dataObject.iCurrentMinutes = i
							}
							if (e.dataObject.bIs12Hour) {
								var d = t(e.element).find(".meridiem .dtpicker-compValue").val();
								(e._compare(d, "AM") || e._compare(d, "PM")) && (e.dataObject.sCurrentMeridiem = d), e._compare(e.dataObject.sCurrentMeridiem, "PM") && e.dataObject.iCurrentHour < 13 && (e.dataObject.iCurrentHour += 12), e._compare(e.dataObject.sCurrentMeridiem, "AM") && 12 == e.dataObject.iCurrentHour && (e.dataObject.iCurrentHour = 0)
							}
						}
					},
					_setCurrentDate: function() {
						var e = this,
							a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0),
							r = !1,
							n = !1;
						if (null != e.dataObject.dMaxValue && (r = a.getTime() > e.dataObject.dMaxValue.getTime()), null != e.dataObject.dMinValue && (n = a.getTime() < e.dataObject.dMinValue.getTime()), r || n) {
							var i = !1,
								s = !1;
							null != e.dataObject.dMaxValue && (i = e.dataObject.dCurrentDate.getTime() > e.dataObject.dMaxValue.getTime()), null != e.dataObject.dMinValue && (s = e.dataObject.dCurrentDate.getTime() < e.dataObject.dMinValue.getTime()), i || s ? (i && (a = new Date(e.dataObject.dMaxValue)), s && (a = new Date(e.dataObject.dMinValue))) : a = new Date(e.dataObject.dCurrentDate)
						}
						if (e.dataObject.dCurrentDate = new Date(a), e._setVariablesForDate(), e._compare(e.settings.mode, "date")) {
							var d = e.dataObject.iCurrentDay;
							d = 10 > d ? "0" + d : d;
							var o = e.dataObject.iCurrentMonth,
								m = e.dataObject.iCurrentMonth;
							m = 10 > m ? "0" + m : m;
							var u = e.settings.shortMonthNames[o],
								c = e.settings.fullMonthNames[o],
								p = e.dataObject.iCurrentYear,
								l = e.dataObject.dCurrentDate.getDay(),
								b = e.settings.shortDayNames[l],
								O = e.settings.fullDayNames[l];
							t(e.element).find(".day .dtpicker-compValue").val(d), t(e.element).find(".month .dtpicker-compValue").val(u), t(e.element).find(".year .dtpicker-compValue").val(p);
							var j = e.settings.formatHumanDate({
								dd: d,
								MM: m,
								yyyy: p,
								day: O,
								dayShort: b,
								month: c,
								monthShort: u
							});
							t(e.element).find(".dtpicker-value").html(j)
						} else if (e._compare(e.settings.mode, "time")) {
							var g = e.dataObject.iCurrentHour;
							e.dataObject.bIs12Hour && (g > 12 && (g -= 12), t(e.element).find(".meridiem .dtpicker-compValue").val(e.dataObject.sCurrentMeridiem)), g = 10 > g ? "0" + g : g, e.dataObject.bIs12Hour && "00" == g && (g = 12);
							var D = e.dataObject.iCurrentMinutes;
							D = 10 > D ? "0" + D : D, t(e.element).find(".hour .dtpicker-compValue").val(g), t(e.element).find(".minutes .dtpicker-compValue").val(D);
							var M = g + e.settings.timeSeparator + D;
							e.dataObject.bIs12Hour && (M += e.settings.timeMeridiemSeparator + e.dataObject.sCurrentMeridiem), t(e.element).find(".dtpicker-value").html(M)
						} else if (e._compare(e.settings.mode, "datetime")) {
							var d = e.dataObject.iCurrentDay;
							d = 10 > d ? "0" + d : d;
							var o = e.dataObject.iCurrentMonth,
								m = 10 > o ? "0" + o : o,
								u = e.settings.shortMonthNames[o],
								c = e.settings.fullMonthNames[o],
								p = e.dataObject.iCurrentYear,
								l = e.dataObject.dCurrentDate.getDay(),
								b = e.settings.shortDayNames[l],
								O = e.settings.fullDayNames[l];
							t(e.element).find(".day .dtpicker-compValue").val(d), t(e.element).find(".month .dtpicker-compValue").val(u), t(e.element).find(".year .dtpicker-compValue").val(p);
							var j = e.settings.formatHumanDate({
								dd: d,
								MM: m,
								yyyy: p,
								day: O,
								dayShort: b,
								month: c,
								monthShort: u
							}),
								g = e.dataObject.iCurrentHour;
							e.dataObject.bIs12Hour && (g > 12 && (g -= 12), t(e.element).find(".meridiem .dtpicker-compValue").val(e.dataObject.sCurrentMeridiem)),
							g = 10 > g ? "0" + g : g, e.dataObject.bIs12Hour && "00" == g && (g = 12);
							var D = e.dataObject.iCurrentMinutes;
							D = 10 > D ? "0" + D : D, t(e.element).find(".hour .dtpicker-compValue").val(g), t(e.element).find(".minutes .dtpicker-compValue").val(D);
							var M = g + e.settings.timeSeparator + D;
							e.dataObject.bIs12Hour && (M += e.settings.timeMeridiemSeparator + e.dataObject.sCurrentMeridiem);
							var C = j + e.settings.dateTimeSeparator + M;
							t(e.element).find(".dtpicker-value").html(C)
						}
						e._setButtons()
					},
					_setButtons: function() {
						var e = this;
						t(e.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable");
						var a;
						if (null != e.dataObject.dMaxValue && (e._compare(e.settings.mode, "time") ? ((e.dataObject.iCurrentHour + 1 > e.dataObject.dMaxValue.getHours() || e.dataObject.iCurrentHour + 1 == e.dataObject.dMaxValue.getHours() && e.dataObject.iCurrentMinutes > e.dataObject.dMaxValue.getMinutes()) && t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), e.dataObject.iCurrentHour >= e.dataObject.dMaxValue.getHours() && e.dataObject.iCurrentMinutes + 1 > e.dataObject.dMaxValue.getMinutes() && t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")) : (a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay + 1, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth + 1, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear + 1, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour + 1, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes + 1, 0, 0), a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))), null != e.dataObject.dMinValue && (e._compare(e.settings.mode, "time") ? ((e.dataObject.iCurrentHour - 1 < e.dataObject.dMinValue.getHours() || e.dataObject.iCurrentHour - 1 == e.dataObject.dMinValue.getHours() && e.dataObject.iCurrentMinutes < e.dataObject.dMinValue.getMinutes()) && t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), e.dataObject.iCurrentHour <= e.dataObject.dMinValue.getHours() && e.dataObject.iCurrentMinutes - 1 < e.dataObject.dMinValue.getMinutes() && t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")) : (a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay - 1, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth - 1, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear - 1, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour - 1, e.dataObject.iCurrentMinutes, 0, 0), a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, e.dataObject.iCurrentHour, e.dataObject.iCurrentMinutes - 1, 0, 0), a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))), e.dataObject.bIs12Hour && (null != e.dataObject.dMaxValue || null != e.dataObject.dMinValue)) {
							var r = e.dataObject.iCurrentHour;
							if (e._compare(e.dataObject.sCurrentMeridiem, "AM") ? r += 12 : e._compare(e.dataObject.sCurrentMeridiem, "PM") && (r -= 12), a = new Date(e.dataObject.iCurrentYear, e.dataObject.iCurrentMonth, e.dataObject.iCurrentDay, r, e.dataObject.iCurrentMinutes, 0, 0), null != e.dataObject.dMaxValue)
								if (e._compare(e.settings.mode, "time")) {
									var n = e.dataObject.iCurrentMinutes;
									(r > e.dataObject.dMaxValue.getHours() || r == e.dataObject.dMaxValue.getHours() && n > e.dataObject.dMaxValue.getMinutes()) && t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")
								} else a.getTime() > e.dataObject.dMaxValue.getTime() && t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable");
							if (null != e.dataObject.dMinValue)
								if (e._compare(e.settings.mode, "time")) {
									var n = e.dataObject.iCurrentMinutes;
									(r < e.dataObject.dMinValue.getHours() || r == e.dataObject.dMinValue.getHours() && n < e.dataObject.dMinValue.getMinutes()) && t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")
								} else a.getTime() < e.dataObject.dMinValue.getTime() && t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")
						}
					},
					_compare: function(t, e) {
						var a = void 0 !== t && null !== t,
							r = void 0 !== e && null !== e;
						return a && r ? t.toLowerCase() == e.toLowerCase() ? !0 : !1 : void 0
					},
					setIsPopup: function(e) {
						var a = this;
						if (a.settings.isPopup = e, "none" != t(a.element).css("display") && a._hidePicker(0), a.settings.isPopup) t(a.element).addClass("dtpicker-mobile"), t(a.element).css({
							position: "fixed",
							top: 0,
							left: 0,
							width: "100%",
							height: "100%"
						});
						else if (t(a.element).removeClass("dtpicker-mobile"), null != a.dataObject.oInputElement) {
							var r = t(a.dataObject.oInputElement).offset().top + t(a.dataObject.oInputElement).outerHeight(),
								n = t(a.dataObject.oInputElement).offset().left,
								i = t(a.dataObject.oInputElement).outerWidth();
							t(a.element).css({
								position: "absolute",
								top: r,
								left: n,
								width: i,
								height: "auto"
							})
						}
					},
					_compareDates: function(t, e) {
						t = new Date(t.getDate(), t.getMonth(), t.getFullYear(), 0, 0, 0, 0), t = new Date(t.getDate(), t.getMonth(), t.getFullYear(), 0, 0, 0, 0);
						var a = (t.getTime() - e.getTime()) / 864e5;
						return 0 == a ? a : a / Math.abs(a)
					},
					_compareTime: function(t, e) {
						var a = 0;
						return t.getHours() == e.getHours() && t.getMinutes() == e.getMinutes() ? a = 1 : t.getHours() < e.getHours() ? a = 2 : t.getHours() > e.getHours() ? a = 3 : t.getHours() == e.getHours() && (t.getMinutes() < e.getMinutes() ? a = 2 : t.getMinutes() > e.getMinutes() && (a = 3)), a
					},
					_compareDateTime: function(t, e) {
						var a = (t.getTime() - e.getTime()) / 6e4;
						return 0 == a ? a : a / Math.abs(a)
					},
					_determineMeridiemFromHourAndMinutes: function(t, e) {
						return t > 12 ? "PM" : 12 == t && e >= 0 ? "PM" : "AM"
					}
				}
			});


		}, {}
	],
	426: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.AliasI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("AliasI", ["mainWS",
				function(e) {
					var a = "AliasI",
						l = [
							["AliasModel", "update", [
								["AliasModel", "aliasModel"]
							]],
							["AliasModel", "getAliasModel", [
								["Long", "aliasedOpenid"]
							]],
							["AliasModel", "updateData", [
								["Number", "updateType"],
								["AliasModel", "aliasModel"]
							]],
							[
								["Array", "AliasModel"], "queryAll", []
							]
						],
						o = {};
					return l.forEach(function(l) {
						var i = l[1];
						o[i] = function() {
							var l, o = Array.prototype.slice.apply(arguments, []);
							return o.length > 0 ? (l = o[o.length - 1], "function" != typeof l ? l = function() {} : o.pop()) : (o = [], l = function() {}), e.sendMsg("/r/" + a + "/" + i, {}, o, l)
						}
					}), o
				}
			]), module.exports = moduleName;


		}, {}
	],
	427: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.AlimeiTicket";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("AlimeiTicket", ["mainWS",
				function(e) {
					var t = "AlimeiTicket",
						n = [
							["String", "getLink", [
								["String", "appId"],
								["String", "parameters"]
							]]
						],
						i = {};
					return n.forEach(function(n) {
						var r = n[1];
						i[r] = function() {
							var n, i = Array.prototype.slice.apply(arguments, []);
							return i.length > 0 ? (n = i[i.length - 1], "function" != typeof n ? n = function() {} : i.pop()) : (i = [], n = function() {}), e.sendMsg("/r/Adaptor/" + t + "/" + r, {}, i, n)
						}
					}), i
				}
			]), module.exports = moduleName;


		}, {}
	],
	428: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.CloudSettingI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("CloudSettingI", ["mainWS",
				function(t) {
					var e = "CloudSettingI",
						n = [
							["Long", "updateCloudSettings", [
								["CloudSettingModel", "cloudSettingModel"]
							]]
						],
						o = {};
					return n.forEach(function(n) {
						var u = n[1];
						o[u] = function() {
							var n, o = Array.prototype.slice.apply(arguments, []);
							return o.length > 0 ? (n = o[o.length - 1], "function" != typeof n ? n = function() {} : o.pop()) : (o = [], n = function() {}), t.sendMsg("/r/" + e + "/" + u, {}, o, n)
						}
					}), o
				}
			]), module.exports = moduleName;


		}, {}
	],
	429: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.CommonI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("CommonI", ["mainWS",
				function(e) {
					var r = "CommonI",
						n = [
							["Number", "getSystemTime", []],
							[
								["Array", "string"], "getWhiteDomains", []
							],
							["string", "bridge", [
								["string", "url"]
							]],
							["SecurityCheckUrlModel", "checkUrl", [
								["string", "domain"]
							]],
							["UserOverageModel", "getOverage", []],
							["void", "sendUrl", [
								["String", "url"]
							]]
						],
						o = {};
					return n.forEach(function(n) {
						var t = n[1];
						o[t] = function() {
							var n, o = Array.prototype.slice.apply(arguments, []);
							return o.length > 0 ? (n = o[o.length - 1], "function" != typeof n ? n = function() {} : o.pop()) : (o = [], n = function() {}), e.sendMsg("/r/Adaptor/" + r + "/" + t, {}, o, n)
						}
					}), o
				}
			]), module.exports = moduleName;


		}, {}
	],
	430: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.ConferenceI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("ConferenceI", ["mainWS",
				function(e) {
					var o = "ConferenceI",
						n = [
							["ConfCreateModel", "createConference", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "addMember", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "enterConference", [
								["ConferenceModel", "conference"]
							]],
							["ConfStatusModel", "pullConferenceStatus", [
								["Number", "conferenceId"]
							]],
							["ConfOperationModel", "kickOutMember", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "leaveConference", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "terminateConference", [
								["ConferenceModel", "conference"]
							]],
							["ConfPullListModel", "pullMembers", [
								["ConferenceModel", "conference"]
							]],
							["ConferenceModel", "pullConference", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "muteMember", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "unMuteMember", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "muteAll", [
								["ConferenceModel", "conference"]
							]],
							["ConfOperationModel", "unMuteAll", [
								["ConferenceModel", "conference"]
							]],
							["TeleChatResultModel", "createCall", [
								["TeleChatModel", "chatModel"]
							]],
							["TeleChatResultModel", "cancelCall", [
								["string", "callerUid"],
								["string", "callerNumber"]
							]],
							["CallRecordHeadResultModel", "pullCallRecordHeadModelList", [
								["CallRecordHeadRequestModel", "requestModel"]
							]],
							["CallRecordDetailResultModel", "pullCallRecordDetailModelList", [
								["CallRecordDetailRequestModel", "requestModel"]
							]],
							["TeleChatResultModel", "deleteCallRecordList", [
								["CallRecordHeadDeleteModel", "requestModel"]
							]],
							["FavorResultModel", "putFavoriteUserList", [
								["FavorUidListModel", "favorModel"]
							]],
							["FavorUidListResultModel", "getFavoriteUserList", []],
							["UserBillModel", "getUserBill", []]
						],
						l = {};
					return n.forEach(function(n) {
						var r = n[1];
						l[r] = function() {
							var n, l = Array.prototype.slice.apply(arguments, []);
							return l.length > 0 ? (n = l[l.length - 1], "function" != typeof n ? n = function() {} : l.pop()) : (l = [], n = function() {}), e.sendMsg("/r/Adaptor/" + o + "/" + r, {}, l, n)
						}
					}), l
				}
			]), module.exports = moduleName;


		}, {}
	],
	431: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.ContactI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("ContactI", ["mainWS",
				function(e) {
					var r = "ContactI",
						o = [
							["OrganizationModel", "getOrgInfo", [
								["Number", "oid"]
							]],
							["void", "updateOrg", [
								["OrganizationModel", "model"]
							]],
							["UserProfileExtensionModel", "removeOrg", [
								["Number", "oid"]
							]],
							["Number", "getOrgUserCount", [
								["Number", "oid"],
								["boolean", "onlyActive"]
							]],
							["Boolean", "getOrgHideMobileSwitch", [
								["Number", "oid"]
							]],
							["void", "setOrgHideMobileSwitch", [
								["Number", "oid"],
								["boolean", "isHide"]
							]],
							["OrgDeptExtensionModel", "getDeptExtensionInfo", [
								["Number", "oid"],
								["Number", "deptId"]
							]],
							["OrgDeptModel", "addDept", [
								["Number", "oid"],
								["OrgDeptExtensionModel", "model"]
							]],
							["OrgDeptModel", "updateDept", [
								["Number", "oid"],
								["OrgDeptExtensionModel", "model"]
							]],
							["void", "removeDept", [
								["Number", "oid"],
								["Number", "deptId"]
							]],
							["void", "updateDeptGroupAutoAddUserSwitch", [
								["Number", "orgId"],
								["Number", "deptId"],
								["boolean", "turnOn"]
							]],
							[
								["Array", "OrgEmployeeModel"], "getOrgEmpInfoByUids", [
									["Number", "oid"],
									[
										["Array", "Number"], "uids"
									]
								]
							],
							[
								["Array", "OrgEmployeeModel"], "getOrgEmpInfoByStaffIds", [
									["Number", "oid"],
									[
										["Array", "string"], "staffids"
									]
								]
							],
							["OrgEmployeeModel", "getOrgEmployeeProfile", [
								["Number", "uid"],
								["Number", "oid"]
							]],
							["UserEmployeeInfoModel", "getUserEmployeeInfo", [
								["Number", "uid"],
								["Number", "oid"],
								["boolean", "attachProfile"]
							]],
							["OrgEmployeeModel", "getOrgEmployeeProfileByMobile", [
								["string", "mobile"],
								["Number", "oid"]
							]],
							["OrgEmployeeExtensionModel", "getOrgEmployeeExtensionProfile", [
								["Number", "uid"],
								["Number", "oid"]
							]],
							["OrgEmployeeExtensionModel", "addEmployee", [
								["OrgEmployeeExtensionModel", "model"]
							]],
							["OrgEmployeeExtensionModel", "updateEmployee", [
								["OrgEmployeeExtensionModel", "model"]
							]],
							["void", "removeEmployee", [
								["Number", "uid"],
								["Number", "oid"]
							]],
							["void", "setEmpHideMobileSwitch", [
								["Number", "uid"],
								["Number", "oid"],
								["boolean", "open"]
							]],
							["void", "setEmpOrgLevel", [
								["Number", "uid"],
								["Number", "oid"],
								["Number", "orgLevel"]
							]],
							["OrgNodeItemModelList", "getOrgRelations", [
								["string", "keyWord"],
								["Number", "keyType"],
								["Number", "deptType"],
								["Number", "oid"],
								["Number", "offset"],
								["Number", "size"]
							]],
							["OrgNodeItemModelList", "getOrgEmpRelations", [
								["Number", "deptId"],
								["Number", "oid"],
								["Number", "offset"],
								["Number", "size"]
							]],
							["OrgNodeItemModelList", "getOrgDeptRelations", [
								["Number", "deptId"],
								["Number", "oid"],
								["Number", "offset"],
								["Number", "size"]
							]],
							["OrgNodeItemModelList", "search", [
								["string", "keyWord"],
								["Number", "oid"],
								["Number", "offset"],
								["Number", "size"]
							]],
							[
								["Array", "OrgNodeItemModelList"], "multiSearch", [
									["string", "keyWord"],
									["Number", "offset"],
									["Number", "size"]
								]
							],
							["UserProfileExtensionModel", "createOrganization", [
								["string", "name"],
								[
									["Array", "OrgEmployeeModel"], "emps"
								]
							]],
							["UserProfileExtensionModel", "manageOrganization", [
								["Number", "orgId"],
								["string", "name"],
								[
									["Array", "OrgMemberModel"], "members"
								]
							]],
							["OrgManageModel", "manageOrganizationV2", [
								["Number", "orgId"],
								["string", "name"],
								[
									["Array", "OrgMemberModel"], "members"
								]
							]],
							["OrgManageModel", "createOrg", [
								["OrganizationModel", "org"],
								[
									["Array", "OrgMemberModel"], "members"
								]
							]],
							["void", "createOrgV2", [
								["Number", "templateId"],
								["string", "name"],
								[
									["Array", "OrgDeptNodeModel"], "nodes"
								]
							]],
							["TemplateModel", "getTemplateInfo", [
								["Number", "templateId"]
							]],
							[
								["Array", "IndustryCategoryModel"], "getIndustry", []
							],
							["void", "leaveOrganization", [
								["Number", "orgId"]
							]],
							["UserProfileExtensionModel", "leaveOrganizationV2", [
								["OrgLeaveModel", "model"]
							]],
							["void", "activeOrgCertification", [
								["Number", "oid"]
							]],
							["OrgInviteModel", "getOrgInviteInfo", [
								["Number", "oid"]
							]],
							["OrgApplyModelList", "getOrgApplyList", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["void", "acceptOrgApply", [
								["Number", "id"],
								["Number", "deptId"],
								["string", "name"]
							]],
							["void", "rejectOrgApply", [
								["Number", "id"],
								["Number", "status"]
							]],
							["void", "removeOrgApply", [
								["Number", "id"]
							]],
							["OrgInviteModel", "setOrgInviteSwitch", [
								["Number", "oid"],
								["boolean", "open"]
							]],
							["Number", "generateCSpaceIdAndConsistent", [
								["Number", "oid"],
								["string", "cid"],
								["string", "cName"]
							]],
							[
								["Array", "OrgConversationModel"], "getOrgConversations", [
									["Number", "oid"],
									["Number", "start"],
									["Number", "size"]
								]
							],
							[
								["Array", "OrgConversationModel"], "getLatestOrgConversations", [
									[
										["Array", "Number"], "orgIds"
									]
								]
							],
							["OrgManageInfoModel", "getOrgManageInfo", [
								["Number", "oid"]
							]],
							["OrgManageInfoModel", "getOrgManageInfoV2", [
								["Number", "oid"],
								["Number", "size"]
							]],
							[
								["Array", "OrgDeptModel"], "getSelfDepts", [
									["Number", "oid"]
								]
							],
							[
								["Array", "OrgDeptModel"], "getDeptInfos", [
									["Number", "oid"],
									[
										["Array", "Number"], "deptIds"
									]
								]
							],
							["OrgEmployeeModelList", "getBossEmployees", [
								["Number", "oid"],
								["Number", "offset"],
								["Number", "size"]
							]],
							["OrgEmployeeModel", "addBossEmployee", [
								["Number", "oid"],
								["Number", "uid"]
							]],
							["OrgEmployeeModel", "removeBossEmployee", [
								["Number", "oid"],
								["Number", "uid"]
							]]
						],
						t = {};
					return o.forEach(function(o) {
						var d = o[1];
						t[d] = function() {
							var o, t = Array.prototype.slice.apply(arguments, []);
							return t.length > 0 ? (o = t[t.length - 1], "function" != typeof o ? o = function() {} : t.pop()) : (t = [], o = function() {}), e.sendMsg("/r/Adaptor/" + r + "/" + d, {}, t, o)
						}
					}), t
				}
			]), module.exports = moduleName;


		}, {}
	],
	432: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.ConversationI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("ConversationI", ["mainWS",
				function(e) {
					var o = "ConversationI",
						r = [
							["ConversationModelList", "getConversations", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["ConversationModelList", "getMTMConversations", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["void", "setNotification", [
								["boolean", "on"]
							]],
							["ConversationModel", "getConversation", [
								["String", "conversationId"]
							]],
							["ConversationModel", "createConversation", [
								[
									["Array", "Number"], "receiverIds"
								]
							]],
							["void", "removeConversation", [
								["string", "conversationId"]
							]],
							["void", "clearConversation", [
								["String", "conversationId"]
							]],
							["UserProfileModelList", "getConversationMembers", [
								["String", "conversationId"],
								["Number", "cursor"],
								["Number", "size"]
							]],
							["ConversationModel", "addMembers", [
								["String", "cid"],
								[
									["Array", "Number"], "userIds"
								]
							]],
							["ConversationModel", "removeMembers", [
								["String", "cid"],
								[
									["Array", "Number"], "userIds"
								]
							]],
							["ConversationModel", "updateTitle", [
								["String", "cid"],
								["String", "newTitle"]
							]],
							["void", "quitConversation", [
								["String", "cid"]
							]],
							["ConversationModel", "joinConversation", [
								["String", "cid"],
								["String", "code"]
							]],
							["string", "refreshScode", [
								["String", "cid"]
							]],
							["ConversationDetailModel", "getConversationExtension", [
								["String", "cid"],
								["Number", "memberSize"]
							]],
							[
								["Array", "ConversationModel"], "searchConversation", [
									["string", "keyword"],
									["Number", "offset"],
									["Number", "size"]
								]
							],
							["String", "getFilesHelperConversationId", []]
						],
						n = {};
					return r.forEach(function(r) {
						var i = r[1];
						n[i] = function() {
							var r, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (r = n[n.length - 1], "function" != typeof r ? r = function() {} : n.pop()) : (n = [], r = function() {}), e.sendMsg("/r/Adaptor/" + o + "/" + i, {}, n, r)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	433: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.CsConfigI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("CsConfigI", ["mainWS",
				function(r) {
					var o = "CsConfigI",
						e = [
							["void", "log", [
								["Number", "type"],
								["Number", "category"]
							]],
							[
								["Array", "string"], "getEncryptSetting", [
									[
										["Array", "string"], "keyList"
									]
								]
							],
							[
								["Array", "CsConfigModel"], "getConf", [
									[
										["Array", "CsTopicModel"], "topics"
									]
								]
							]
						],
						n = {};
					return e.forEach(function(e) {
						var t = e[1];
						n[t] = function() {
							var e, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (e = n[n.length - 1], "function" != typeof e ? e = function() {} : n.pop()) : (n = [], e = function() {}), r.sendMsg("/r/Adaptor/" + o + "/" + t, {}, n, e)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	434: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.FollowI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("FollowI", ["mainWS",
				function(o) {
					var e = "FollowI",
						l = [
							["FollowPageModel", "listFollowings", [
								["Number", "tag"],
								["Number", "cursor"],
								["Number", "count"]
							]],
							["FollowPageModel", "listBilateral", [
								["Number", "tag"],
								["Number", "cursor"],
								["Number", "count"]
							]],
							["FollowPageModel", "listFollowers", [
								["Number", "tag"],
								["Number", "cursor"],
								["Number", "count"]
							]],
							["FollowPageModel", "listAll", [
								["Number", "tag"],
								["Number", "cursor"],
								["Number", "count"]
							]],
							["FollowModel", "getStatus", [
								["Number", "tag"],
								["Number", "openid"]
							]],
							["FollowModel", "follow", [
								["Number", "tag"],
								["Number", "openid"]
							]],
							["FollowModel", "unfollow", [
								["Number", "tag"],
								["Number", "openid"]
							]]
						],
						r = {};
					return l.forEach(function(l) {
						var u = l[1];
						r[u] = function() {
							var l, r = Array.prototype.slice.apply(arguments, []);
							return r.length > 0 ? (l = r[r.length - 1], "function" != typeof l ? l = function() {} : r.pop()) : (r = [], l = function() {}), o.sendMsg("/r/" + e + "/" + u, {}, r, l)
						}
					}), r
				}
			]), module.exports = moduleName;


		}, {}
	],
	435: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.FriendI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("FriendI", ["mainWS",
				function(e) {
					var r = "FriendI",
						i = [
							["void", "sendFriendRequest", [
								["FriendRequestModel", "request"]
							]],
							["void", "acceptFriendRequest", [
								["Number", "uid"]
							]],
							["FriendRequestModel", "getRelation", [
								["Number", "uid"]
							]],
							["FriendModelList", "getFriendList", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["FriendRequestModelList", "getFriendRequestList", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["FriendRequestModelList", "getFriendRequestListV2", [
								["Number", "cursor"],
								["Number", "size"]
							]],
							["void", "removeFriend", [
								["Number", "uid"]
							]],
							["UserProfileModelList", "searchFriend", [
								["string", "keyword"],
								["Number", "offset"],
								["Number", "size"]
							]],
							["void", "removeFriendRequest", [
								["Long", "destUid"]
							]]
						],
						t = {};
					return i.forEach(function(i) {
						var d = i[1];
						t[d] = function() {
							var i, t = Array.prototype.slice.apply(arguments, []);
							return t.length > 0 ? (i = t[t.length - 1], "function" != typeof i ? i = function() {} : t.pop()) : (t = [], i = function() {}), e.sendMsg("/r/Adaptor/" + r + "/" + d, {}, t, i)
						}
					}), t
				}
			]), module.exports = moduleName;


		}, {}
	],
	436: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.GroupAnnounceI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("GroupAnnounceI", ["mainWS",
				function(n) {
					var e = "GroupAnnounceI",
						o = [
							["GroupAnnounceSendResult", "sendOrUpdateGroupAnnounce", [
								["GroupAnnounceSendModel", "groupAnnounceSendModel"]
							]],
							["GroupAnnounceModel", "getGroupAnnounce", [
								["String", "convId"]
							]],
							["void", "deleteGroupAnnounce", [
								["String", "convId"]
							]],
							["GroupAnnounceSendResult", "sendGroupAnnounce", [
								["GroupAnnounceSendModel", "groupAnnounceSendModel"]
							]],
							[
								["Array", "GroupAnnounceModel"], "getGroupAnnounceList", [
									["String", "cid"]
								]
							],
							["void", "editGroupAnnounce", [
								["Number", "gaId"],
								["GroupAnnounceSendModel", "groupAnnounceSendModel"]
							]],
							["void", "deleteGroupAnnounceV2", [
								["String", "cid"],
								["Number", "gaId"]
							]]
						],
						u = {};
					return o.forEach(function(o) {
						var r = o[1];
						u[r] = function() {
							var o, u = Array.prototype.slice.apply(arguments, []);
							return u.length > 0 ? (o = u[u.length - 1], "function" != typeof o ? o = function() {} : u.pop()) : (u = [], o = function() {}), n.sendMsg("/r/Adaptor/" + e + "/" + r, {}, u, o)
						}
					}), u
				}
			]), module.exports = moduleName;


		}, {}
	],
	437: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IDLConversation";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IDLConversation", ["mainWS",
				function(e) {
					var o = "IDLConversation",
						n = [
							[
								["Array", "ConversationModel"], "listNewest", [
									["Number", "count"]
								]
							],
							[
								["Array", "ConversationModel"], "listConversations", [
									["Number", "cursor"],
									["Number", "count"]
								]
							],
							[
								["Array", "ConversationModel"], "listGroup", [
									["Number", "cursor"],
									["Number", "count"]
								]
							],
							["ConversationModel", "getById", [
								["string", "conversationId"]
							]],
							["ConversationModel", "getByIdUnlimited", [
								["string", "conversationId"]
							]],
							["string", "create", [
								["CreateConversationModel", "model"],
								["SendMessageModel", "messageModel"]
							]],
							[
								["Array", "MemberRoleModel"], "listMembers", [
									["string", "conversationId"],
									["Number", "offset"],
									["Number", "count"]
								]
							],
							[
								["Array", "Number"], "addMembers", [
									["string", "conversationId"],
									[
										["Array", "Number"], "openIds"
									],
									["SendMessageModel", "messageModel"]
								]
							],
							[
								["Array", "Number"], "removeMembers", [
									["string", "conversationId"],
									[
										["Array", "Number"], "openIds"
									],
									["boolean", "isCleanUp"],
									["SendMessageModel", "messageModel"]
								]
							],
							["void", "updateTitle", [
								["string", "conversationId"],
								["String", "newTitle"],
								["SendMessageModel", "messageModel"]
							]],
							["void", "updateIcon", [
								["string", "conversationId"],
								["String", "newIcon"],
								["SendMessageModel", "messageModel"]
							]],
							["void", "updateTag", [
								["string", "conversationId"],
								["Number", "tag"]
							]],
							["void", "updateExtension", [
								["string", "conversationId"],
								[
									["Object", "string", "string"], "extension"
								]
							]],
							["void", "updateMemberExtension", [
								["string", "conversationId"],
								[
									["Array", "Number"], "openIds"
								],
								[
									["Object", "string", "string"], "extension"
								]
							]],
							["void", "quit", [
								["string", "conversationId"],
								["boolean", "isCleanUp"],
								["SendMessageModel", "messageModel"]
							]],
							["void", "quitSilent", [
								["string", "conversationId"],
								["boolean", "isCleanUp"],
								["SendMessageModel", "messageModel"]
							]],
							["void", "updateNotificationOff", [
								["string", "conversationId"],
								["Number", "status"]
							]],
							["void", "hides", [
								[
									["Array", "string"], "conversationIds"
								]
							]],
							["void", "updateInfo", [
								["ConversationInfoModel", "model"]
							]],
							["Number", "setTop", [
								["String", "cid"],
								["boolean", "toTop"]
							]],
							["void", "updateStatus", [
								[
									["Array", "string"], "conversationIds"
								],
								["Number", "status"]
							]],
							[
								["Array", "ConversationModel"], "getByIds", [
									[
										["Array", "string"], "conversationIds"
									]
								]
							],
							["void", "quits", [
								[
									["Array", "string"], "conversationId"
								]
							]],
							["void", "disband", [
								["string", "conversationId"]
							]],
							[
								["Array", "MemberRoleModel"], "listRoles", [
									["string", "conversationId"],
									[
										["Array", "Number"], "openIds"
									]
								]
							],
							[
								["Array", "ConversationModel"], "listGroupByTags", [
									[
										["Array", "Number"], "tags"
									]
								]
							],
							["CodeModel", "getCode", [
								["string", "conversationId"]
							]],
							["ConversationCardModel", "verifyCode", [
								["string", "code"]
							]],
							["void", "hideAndClear", [
								["string", "conversationId"]
							]],
							[
								["Array", "CommonConversationModel"], "getCommonByIds", [
									[
										["Array", "string"], "conversationIds"
									]
								]
							],
							["void", "updateOwner", [
								["string", "conversationId"],
								["Number", "openId"],
								["SendMessageModel", "messageModel"]
							]],
							["void", "updateNotificationSound", [
								["string", "conversationId"],
								["string", "sound"]
							]],
							["void", "updateAuthority", [
								["string", "conversationId"],
								["Number", "authority"]
							]],
							["void", "updateMemberLimit", [
								["string", "conversationId"],
								["Number", "memberLimit"]
							]],
							["void", "updateSuperGroup", [
								["string", "conversationId"],
								["Number", "superGroup"]
							]],
							["void", "clear", [
								["string", "conversationId"]
							]],
							["void", "clearUnreadPoint", [
								["string", "conversationId"]
							]],
							[
								["Array", "ConversationModel"], "getChildren", [
									["string", "conversationId"]
								]
							]
						],
						r = {};
					return n.forEach(function(n) {
						var t = n[1];
						r[t] = function() {
							var n, r = Array.prototype.slice.apply(arguments, []);
							return r.length > 0 ? (n = r[r.length - 1], "function" != typeof n ? n = function() {} : r.pop()) : (r = [], n = function() {}), e.sendMsg("/r/" + o + "/" + t, {}, r, n)
						}
					}), r
				}
			]), module.exports = moduleName;


		}, {}
	],
	438: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IDLDing";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IDLDing", ["mainWS",
				function(e) {
					var i = "IDLDing",
						r = [
							["DingResultModel", "dingMessage", [
								["Number", "messageId"],
								["Number", "callTime"],
								[
									["Array", "Number"], "uids"
								]
							]],
							["DingUnreadModel", "getUnreadUsers", [
								["Number", "msgId"]
							]],
							["UnconfirmedMemberListModel", "getDingUnconfirmUsers", [
								["Number", "msgId"]
							]],
							["ConfirmedMemberListModel", "getDingConfirmUsers", [
								["Number", "msgId"]
							]],
							["SendResultModel", "dingWithTextMessage", [
								["Number", "callTime"],
								[
									["Array", "Number"], "uids"
								],
								["string", "cid"],
								["string", "uuid"],
								["string", "content"]
							]],
							["SendResultModel", "dingWithImageMessage", [
								["Number", "callTime"],
								[
									["Array", "Number"], "uids"
								],
								["string", "cid"],
								["string", "uuid"],
								["string", "picUrl"]
							]],
							["SendResultModel", "dingWithAudioMessage", [
								["Number", "callTime"],
								[
									["Array", "Number"], "uids"
								],
								["string", "cid"],
								["string", "uuid"],
								["AudioContentModel", "audio"]
							]],
							["boolean", "cancelCallRemind", [
								["Number", "msgId"]
							]],
							["void", "cancelDingMessage", [
								["Number", "msgId"]
							]],
							["MessageModelList", "listDingMessage", [
								["boolean", "forward"],
								["Number", "cursor"],
								["Number", "size"]
							]],
							["MessageModelList", "listDingMessageByTime", [
								["Number", "startTime"],
								["Number", "endTime"]
							]],
							["DingSumModelList", "listDingSum", [
								["Number", "startTime"],
								["Number", "endTime"]
							]],
							["void", "confirmDingMessage", [
								["Number", "msgId"]
							]],
							["MessageModelList", "getMessages", [
								[
									["Array", "string"], "mids"
								]
							]],
							["CheckCallingModel", "checkCalling", []],
							["DingCreationResultModel", "dingWithText", [
								[
									["Array", "Number"], "uids"
								],
								["string", "uuid"],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["string", "content"]
							]],
							["DingCreationResultModel", "dingWithImage", [
								[
									["Array", "Number"], "uids"
								],
								["string", "uuid"],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["string", "picUrl"]
							]],
							["DingCreationResultModel", "dingWithAudio", [
								[
									["Array", "Number"], "uids"
								],
								["string", "uuid"],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["AudioContentModel", "audio"]
							]],
							["DingCreationResultModel", "ding", [
								[
									["Array", "Number"], "uids"
								],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["Number", "entityType"],
								["Number", "enityId"]
							]],
							["DingCreationResultModel", "dingV2", [
								[
									["Array", "Number"], "uids"
								],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["Number", "entityType"],
								["Number", "enityId"],
								["string", "uuid"]
							]],
							[
								["Array", "DingReceiverModel"], "listReceivedDing", [
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "size"],
									["Number", "confirmStatus"]
								]
							],
							[
								["Array", "DingSenderModel"], "listSentDing", [
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "size"]
								]
							],
							["void", "dingRemind", [
								["Number", "dingId"],
								["boolean", "turnOn"]
							]],
							["DingReceiverListModel", "listDingReceiverList", [
								["Number", "dingId"]
							]],
							["void", "confirmDing", [
								["Number", "dingId"]
							]],
							["DingListModel", "listDings", [
								[
									["Array", "Number"], "dingIds"
								]
							]],
							["DingCommentListModel", "listDingComment", [
								["Number", "dingId"],
								["boolean", "latest"],
								["Number", "cursor"],
								["Number", "size"]
							]],
							["void", "removeDingComment", [
								["Number", "dingId"],
								["Number", "dingCommentId"]
							]],
							["SendCommentModel", "sendDingComment", [
								["DingCommentModel", "dingCommentModel"]
							]],
							["void", "changeDingStatus", [
								["Number", "dingId"],
								["Number", "status"]
							]],
							[
								["Array", "DingIntegrateModel"], "listAllDing", [
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "size"]
								]
							],
							[
								["Array", "DingIntegrateModel"], "listDeleteDing", [
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "size"]
								]
							],
							["DingCreationResultModel", "textDingWithAttachments", [
								[
									["Array", "Number"], "uids"
								],
								["String", "uuid"],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["String", "content"],
								[
									["Array", "DingAttachmentModel"], "attachments"
								],
								[
									["Object", "String", "String"], "extension"
								]
							]],
							["DingCreationResultModel", "audioDingWithAttachments", [
								[
									["Array", "Number"], "uids"
								],
								["String", "uuid"],
								["Number", "urgentLevel"],
								["Number", "remindTime"],
								["AudioContentModel", "audio"],
								[
									["Array", "DingAttachmentModel"], "attachments"
								],
								[
									["Object", "String", "String"], "extension"
								]
							]],
							["DingSendTimesModel", "canSendDingToday", []],
							["void", "clearDeletedDingList", []],
							["DingMemberListModel", "getDingMemberByDingId", [
								["Number", "dingId"]
							]],
							[
								["Array", "DingModel"], "pullDingList", [
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "size"],
									["Number", "dingListType"]
								]
							],
							["DingCreationResultModel", "sendDingByTemplateId", [
								["string", "templateId"],
								["string", "uuid"],
								[
									["Array", "Number"], "recvUids"
								]
							]],
							["void", "handleDing", [
								["Number", "dingId"],
								["Number", "handleStatus"]
							]],
							["DingCreationResultModel", "sendDing", [
								["DingSendModel", "dingSendModel"]
							]],
							["DingReceiverListV2Model", "listDingReceiverListV2", [
								["Number", "dingId"]
							]],
							["void", "sendDingAgain", [
								["Number", "dingId"],
								[
									["Array", "Number"], "uids"
								],
								["Number", "urgentLevel"]
							]],
							["String", "getConfirmStatusInfo", []]
						],
						n = {};
					return r.forEach(function(r) {
						var t = r[1];
						n[t] = function() {
							var r, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (r = n[n.length - 1], "function" != typeof r ? r = function() {} : n.pop()) : (n = [], r = function() {}), e.sendMsg("/r/Adaptor/" + i + "/" + t, {}, n, r)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	439: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IDLMessage";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IDLMessage", ["mainWS",
				function(e) {
					var r = "IDLMessage",
						s = [
							[
								["Array", "MessageModel"], "listMessages", [
									["string", "conversationId"],
									["boolean", "forward"],
									["Number", "cursor"],
									["Number", "count"]
								]
							],
							[
								["Array", "UnReadMemberModel"], "listUnreadMembers", [
									["Number", "messageId"]
								]
							],
							["MessageModel", "getMessageById", [
								["Number", "messageId"]
							]],
							["void", "updateMemberTag", [
								[
									["Array", "Number"], "openIds"
								],
								["Number", "messageId"],
								["Number", "tag"]
							]],
							["void", "updateMemberExtension", [
								[
									["Array", "Number"], "openIds"
								],
								["Number", "messageId"],
								[
									["Object", "string", "string"], "extension"
								]
							]],
							[
								["Array", "MemberMessageStatusModel"], "listMemberStatusByMessageId", [
									[
										["Array", "Number"], "openIds"
									],
									["Number", "messageId"]
								]
							],
							["void", "removes", [
								[
									["Array", "Number"], "messageIds"
								]
							]],
							["void", "updateMemberTagAndExt", [
								[
									["Array", "Number"], "openIds"
								],
								["Number", "messageId"],
								["Number", "tag"],
								[
									["Object", "string", "string"], "extension"
								]
							]],
							[
								["Array", "Number"], "listTopUsers", [
									["Number", "start"],
									["Number", "end"],
									["Number", "count"]
								]
							],
							["void", "updateExtension", [
								["Number", "messageId"],
								[
									["Object", "string", "string"], "extension"
								]
							]],
							["void", "recallMessage", [
								["Number", "messageId"]
							]]
						],
						a = {};
					return s.forEach(function(s) {
						var t = s[1];
						a[t] = function() {
							var s, a = Array.prototype.slice.apply(arguments, []);
							return a.length > 0 ? (s = a[a.length - 1], "function" != typeof s ? s = function() {} : a.pop()) : (a = [], s = function() {}), e.sendMsg("/r/" + r + "/" + t, {}, a, s)
						}
					}), a
				}
			]), module.exports = moduleName;


		}, {}
	],
	440: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IDLMessageStatus";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IDLMessageStatus", ["mainWS",
				function(e) {
					var a = "IDLMessageStatus",
						t = [
							["void", "updateToRead", [
								[
									["Array", "Number"], "messageIds"
								]
							]]
						],
						n = {};
					return t.forEach(function(t) {
						var o = t[1];
						n[o] = function() {
							var t, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (t = n[n.length - 1], "function" != typeof t ? t = function() {} : n.pop()) : (n = [], t = function() {}), e.sendMsg("/r/" + a + "/" + o, {}, n, t)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	441: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IDLSend";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IDLSend", ["mainWS",
				function(e) {
					var n = "IDLSend",
						o = [
							["SendResultModel", "send", [
								["SendMessageModel", "messageModel"]
							]],
							["SendResultModel", "forward", [
								["ForwardMessageModel", "forwardModel"]
							]]
						],
						d = {};
					return o.forEach(function(o) {
						var r = o[1];
						d[r] = function() {
							var o, d = Array.prototype.slice.apply(arguments, []);
							return d.length > 0 ? (o = d[d.length - 1], "function" != typeof o ? o = function() {} : d.pop()) : (d = [], o = function() {}), e.sendMsg("/r/" + n + "/" + r, {}, d, o)
						}
					}), d
				}
			]), module.exports = moduleName;


		}, {}
	],
	442: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.IMI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("IMI", ["mainWS",
				function(e) {
					var r = "IMI",
						o = [
							[
								["Array", "GroupMembersViewModel"], "groupMembersView", [
									["Number", "orgId"],
									[
										["Array", "Number"], "uids"
									],
									["Number", "returnFieldBit"]
								]
							],
							["void", "sendMessageBySms", [
								["Number", "receiverUid"],
								["Number", "messageid"]
							]],
							["void", "convertToOrgGroup", [
								["string", "cid"],
								["Number", "oid"]
							]],
							["String", "createConvByCallRecord", [
								[
									["Array", "Number"], "uids"
								]
							]],
							["void", "addGroupMemberByQrcode", [
								["String", "cid"],
								["Long", "uid"]
							]],
							["void", "addGroupMember", [
								["string", "cid"],
								["Number", "uid"]
							]],
							["String", "createDeptGroup", [
								["Number", "orgId"],
								["Number", "deptId"],
								["boolean", "useDeptName"]
							]],
							["String", "getGoldGroupIntroUrl", []],
							["void", "recallYunpanMsg", [
								["Number", "msgId"]
							]],
							["String", "getCidByCustomId", [
								["Number", "customId"]
							]],
							["DefaultGroupIconsModel", "getDefaultGroupIcons", [
								["Number", "latestVersion"]
							]]
						],
						u = {};
					return o.forEach(function(o) {
						var d = o[1];
						u[d] = function() {
							var o, u = Array.prototype.slice.apply(arguments, []);
							return u.length > 0 ? (o = u[u.length - 1], "function" != typeof o ? o = function() {} : u.pop()) : (u = [], o = function() {}), e.sendMsg("/r/Adaptor/" + r + "/" + d, {}, u, o)
						}
					}), u
				}
			]), module.exports = moduleName;


		}, {}
	],
	443: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.ImgResI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("ImgResI", ["mainWS",
				function(o) {
					var e = "ImgResI",
						t = [
							["string", "addCustomEmotion", [
								["string", "name"],
								["string", "mediaId"],
								["string", "groupId"],
								["Number", "mediaSize"]
							]],
							["void", "removeCustomEmotion", [
								["string", "emotionId"]
							]],
							[
								["Array", "CustomEmotionModel"], "getCustomEmotions", [
									["string", "groupId"],
									["Number", "offset"],
									["Number", "size"]
								]
							],
							["boolean", "isExistCustomEmotion", [
								["string", "mediaId"]
							]]
						],
						n = {};
					return t.forEach(function(t) {
						var r = t[1];
						n[r] = function() {
							var t, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (t = n[n.length - 1], "function" != typeof t ? t = function() {} : n.pop()) : (n = [], t = function() {}), o.sendMsg("/r/Adaptor/" + e + "/" + r, {}, n, t)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	444: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.LogI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("LogI", ["mainWS",
				function(o) {
					var e = "LogI",
						n = [
							["void", "log", [
								["LogModel", "logModel"]
							]]
						],
						r = {};
					return n.forEach(function(n) {
						var t = n[1];
						r[t] = function() {
							var n, r = Array.prototype.slice.apply(arguments, []);
							return r.length > 0 ? (n = r[r.length - 1], "function" != typeof n ? n = function() {} : r.pop()) : (r = [], n = function() {}), o.sendMsg("/r/Adaptor/" + e + "/" + t, {}, r, n)
						}
					}), r
				}
			]), module.exports = moduleName;


		}, {}
	],
	445: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.LoginI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("LoginI", ["mainWS",
				function(e) {
					var n = "LoginI",
						o = [
							["String", "createTempSessionInfo", []],
							[
								["Object", "String", "String"], "umidToken", []
							],
							["String", "sendSmsCode", [
								["String", "mobile"]
							]],
							["String", "sendVerifyCode", [
								["String", "mobile"],
								["Number", "bizType"],
								["Number", "viaType"]
							]],
							["Boolean", "needInit", [
								["String", "mobile"]
							]],
							["TmpCodeModel", "checkTmpCode", [
								["String", "tmpCode"]
							]],
							["LoginResultModel", "login", [
								["PersonalDeviceModel", "personalDeviceModel"],
								["String", "mobile"],
								["String", "pwd"],
								["String", "appKey"],
								["String", "aliToken"]
							]],
							["LoginResultModel", "tokenLogin", [
								["PersonalDeviceModel", "personalDeviceModel"],
								["String", "mobile"],
								["String", "smsCode"],
								["String", "appKey"],
								["String", "smsToken"],
								["String", "aliToken"]
							]]
						],
						i = {};
					return o.forEach(function(o) {
						var r = o[1];
						i[r] = function() {
							var o, i = Array.prototype.slice.apply(arguments, []);
							return i.length > 0 ? (o = i[i.length - 1], "function" != typeof o ? o = function() {} : i.pop()) : (i = [], o = function() {}), e.sendMsg("/r/Adaptor/" + n + "/" + r, {}, i, o)
						}
					}), i
				}
			]), module.exports = moduleName;


		}, {}
	],
	446: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.OAPII";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("OAPII", ["mainWS",
				function(r) {
					var t = "OAPII",
						n = [
							["String", "authorize302", [
								["String", "url"]
							]],
							["String", "authorize", [
								["String", "corpId"],
								["String", "redirectURI"]
							]],
							["String", "messageActionACK", [
								["Number", "msgId"],
								["String", "action"]
							]],
							[
								["Array", "Number"], "getJSAPIMethods", [
									["string", "corpid"],
									["Number", "timestamp"],
									["string", "nonceStr"],
									["string", "signature"],
									["string", "url"],
									[
										["Array", "Number"], "jsApiList"
									]
								]
							],
							[
								["Array", "Number"], "getJSAPIMethodsWithAgentId", [
									["string", "agentId"],
									["string", "corpid"],
									["Number", "timestamp"],
									["string", "nonceStr"],
									["string", "signature"],
									["string", "url"],
									[
										["Array", "Number"], "jsApiList"
									]
								]
							],
							[
								["Array", "JSAPIResourceModel"], "getJSAPIMapping", []
							],
							["String", "getCidTokenForOrg", [
								["String", "corpId"],
								["String", "cid"]
							]],
							["String", "getPermanentEncryptedCid", [
								["String", "agentId"],
								["String", "cid"]
							]]
						],
						e = {};
					return n.forEach(function(n) {
						var i = n[1];
						e[i] = function() {
							var n, e = Array.prototype.slice.apply(arguments, []);
							return e.length > 0 ? (n = e[e.length - 1], "function" != typeof n ? n = function() {} : e.pop()) : (e = [], n = function() {}), r.sendMsg("/r/Adaptor/" + t + "/" + i, {}, e, n)
						}
					}), e
				}
			]), module.exports = moduleName;


		}, {}
	],
	447: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.OAuthI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("OAuthI", ["mainWS",
				function(e) {
					var o = "OAuthI",
						n = [
							["OAuthModel", "login", [
								["LoginModel", "loginModel"]
							]],
							["OAuthModel", "loginWithToken", [
								["TokenLoginModel", "loginModel"]
							]],
							["OAuthModel", "refreshToken", [
								["RefreshTokenModel", "refreshTokenModel"]
							]],
							["void", "sendLoginSms", [
								["SmsRequestModel", "smsRequestModel"]
							]],
							["OAuthModel", "loginBySms", [
								["SmsRequestModel", "smsRequestModel"]
							]],
							["void", "kick", [
								["Number", "deviceType"],
								["string", "msg"]
							]],
							["OAuthModel", "alogin", [
								["AdvancedLoginModel", "loginModel"]
							]]
						],
						l = {};
					return n.forEach(function(n) {
						var d = n[1];
						l[d] = function() {
							var n, l = Array.prototype.slice.apply(arguments, []);
							return l.length > 0 ? (n = l[l.length - 1], "function" != typeof n ? n = function() {} : l.pop()) : (l = [], n = function() {}), e.sendMsg("/r/" + o + "/" + d, {}, l, n)
						}
					}), l
				}
			]), module.exports = moduleName;


		}, {}
	],
	448: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.OrgMicroAPPI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("OrgMicroAPPI", ["mainWS",
				function(r) {
					var o = "OrgMicroAPPI",
						e = [
							[
								["Array", "OrgMicroAPPModel"], "getOrgMicroAPP", []
							],
							["Number", "queryUserAuthority", [
								["Number", "orgId"],
								["Number", "appId"]
							]],
							[
								["Array", "TryOutSuiteModel"], "getSuiteList", [
									["Number", "orgId"],
									["Number", "curPage"],
									["Number", "pageSize"]
								]
							],
							["TryOutSuiteModel", "getSuiteInfo", [
								["String", "productCode"],
								["Number", "orgId"]
							]],
							["boolean", "tryOutSuiteForOrg", [
								["String", "productCode"],
								["Number", "orgId"]
							]],
							["boolean", "tryOutSuiteForOrgV2", [
								["String", "productCode"],
								["String", "corpId"],
								["boolean", "allowContact"]
							]],
							["boolean", "buySuiteForOrg", [
								["String", "productCode"],
								["String", "orderId"],
								["String", "corpId"],
								["boolean", "allowContact"]
							]]
						],
						t = {};
					return e.forEach(function(e) {
						var u = e[1];
						t[u] = function() {
							var e, t = Array.prototype.slice.apply(arguments, []);
							return t.length > 0 ? (e = t[t.length - 1], "function" != typeof e ? e = function() {} : t.pop()) : (t = [], e = function() {}), r.sendMsg("/r/Adaptor/" + o + "/" + u, {}, t, e)
						}
					}), t
				}
			]), module.exports = moduleName;


		}, {}
	],
	449: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.QrcodeI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("QrcodeI", ["mainWS",
				function(e) {
					var o = "QrcodeI",
						r = [
							["void", "bind", [
								["string", "qrcode"]
							]]
						],
						n = {};
					return r.forEach(function(r) {
						var t = r[1];
						n[t] = function() {
							var r, n = Array.prototype.slice.apply(arguments, []);
							return n.length > 0 ? (r = n[n.length - 1], "function" != typeof r ? r = function() {} : n.pop()) : (n = [], r = function() {}), e.sendMsg("/r/Adaptor/" + o + "/" + t, {}, n, r)
						}
					}), n
				}
			]), module.exports = moduleName;


		}, {}
	],
	450: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.Sync";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("Sync", ["mainWS",
				function(n) {
					var o = "Sync",
						e = [
							["SyncPushPackageModel", "getDiff", [
								["SyncInfoModel", "syncInfo"]
							]],
							["SyncInfoModel", "getState", [
								["SyncInfoModel", "syncInfo"]
							]],
							["void", "ackDiff", [
								["SyncInfoModel", "syncInfo"]
							]]
						],
						c = {};
					return e.forEach(function(e) {
						var t = e[1];
						c[t] = function() {
							var e, c = Array.prototype.slice.apply(arguments, []);
							return c.length > 0 ? (e = c[c.length - 1], "function" != typeof e ? e = function() {} : c.pop()) : (c = [], e = function() {}), n.sendMsg("/r/" + o + "/" + t, {}, c, e)
						}
					}), c
				}
			]), module.exports = moduleName;


		}, {}
	],
	451: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.Typing";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("Typing", ["mainWS",
				function(n) {
					var e = "Typing",
						o = [
							["void", "send", [
								["TypingModel", "typingModel"]
							]]
						],
						t = {};
					return o.forEach(function(o) {
						var r = o[1];
						t[r] = function() {
							var o, t = Array.prototype.slice.apply(arguments, []);
							return t.length > 0 ? (o = t[t.length - 1], "function" != typeof o ? o = function() {} : t.pop()) : (t = [], o = function() {}), n.sendMsg("/r/" + e + "/" + r, {}, t, o)
						}
					}), t
				}
			]), module.exports = moduleName;


		}, {}
	],
	452: [
		function(require, module, exports) {
			"use strict";
			var moduleName = "ddWeb.IDLAPI.UserI";
			angular.module(moduleName, ["ddWeb.io.mainWS"]).factory("UserI", ["mainWS",
				function(e) {
					var i = "UserI",
						r = [
							["UserProfileModel", "updateUserProfile", [
								["UserProfileModel", "userProfile"]
							]],
							["UserProfileExtensionModel", "getUserProfileExtensionByMobile", [
								["string", "mobile"]
							]],
							[
								["Array", "UserIdentityModel"], "createUsersByIdentities", [
									[
										["Array", "UserIdentityModel"], "identities"
									]
								]
							],
							["UserProfileModel", "getUserProfileByUid", [
								["Number", "uid"]
							]],
							["UserProfileExtensionModel", "getUserProfileExtensionByUid", [
								["Number", "uid"],
								["Number", "oid"]
							]],
							["UserProfileExtensionModel", "getUserProfileExtensionByStaffId", [
								["string", "staffId"],
								["Number", "oid"]
							]],
							["void", "updateUserSettings", [
								["UserSettingsModel", "userSettings"]
							]],
							["UserSettingsModel", "getUserSettings", []],
							["UserProfileModelList", "getUserProfileByUids", [
								[
									["Array", "Number"], "uids"
								]
							]],
							["UserProfileModelList", "getUserProfileByUidsForSimple", [
								[
									["Array", "Number"], "uids"
								]
							]],
							["void", "addUserFeedback", [
								["FeedBackModel", "feedback"]
							]],
							["void", "changeMobile", [
								["string", "phone"],
								["string", "smsCode"]
							]],
							["void", "changeMobileV2", [
								["string", "phone"],
								["string", "smsCode"]
							]],
							["void", "sendSmsCode", [
								["string", "mobile"],
								["Number", "type"]
							]],
							["void", "applyNewDingtalkId", [
								["string", "newDingTalkId"]
							]],
							["void", "bindEmail", [
								["string", "newEmail"],
								["string", "token"]
							]],
							["void", "unbindEmail", []],
							["boolean", "canUnbindEmail", []],
							["LoginTicketModel", "getMailTicket", [
								["string", "dingTalkId"]
							]],
							["UserProfileModelList", "getUserProfileByEmails", [
								[
									["Array", "string"], "emails"
								]
							]],
							["void", "changePwd", [
								["string", "newPwd"]
							]],
							["boolean", "checkPwd", [
								["string", "oldPwd"]
							]],
							[
								["Array", "UserProfileModel"], "searchUserProfileListByMobile", [
									["string", "stateCode"],
									["string", "mobile"]
								]
							],
							["UserProfileModel", "searchUserProfileByMobile", [
								["string", "stateCode"],
								["string", "mobile"]
							]],
							["boolean", "unbindEmailV2", []],
							["boolean", "isSubscribeEmail", []],
							["void", "updateAvatar", [
								["string", "avatarMediaId"]
							]]
						],
						o = {};
					return r.forEach(function(r) {
						var s = r[1];
						o[s] = function() {
							var r, o = Array.prototype.slice.apply(arguments, []);
							return o.length > 0 ? (r = o[o.length - 1], "function" != typeof r ? r = function() {} : o.pop()) : (o = [], r = function() {}), e.sendMsg("/r/Adaptor/" + i + "/" + s, {}, o, r)
						}
					}), o
				}
			]), module.exports = moduleName;


		}, {}
	],
	453: [
		function(require, module, exports) {
			"use strict";
			var keyPaddingGen = require("./libs/keyPaddingGen");
			exports["interface"] = {}, exports.model = {}, exports["interface"].ContactI = require("./dist/ContactI"), exports["interface"].IDLDing = require("./dist/IDLDing"), exports["interface"].ConversationI = require("./dist/ConversationI"), exports["interface"].IMI = require("./dist/IMI"), exports["interface"].UserI = require("./dist/UserI"), exports["interface"].QrcodeI = require("./dist/QrcodeI"), exports["interface"].CommonI = require("./dist/CommonI"), exports["interface"].FriendI = require("./dist/FriendI"), exports["interface"].ConferenceI = require("./dist/ConferenceI"), exports["interface"].ImgResI = require("./dist/ImgResI"), exports["interface"].LoginI = require("./dist/LoginI"), exports["interface"].OrgMicroAPPI = require("./dist/OrgMicroAPPI"), exports["interface"].OAPII = require("./dist/OAPII"), exports["interface"].CsConfigI = require("./dist/CsConfigI"), exports["interface"].GroupAnnounceI = require("./dist/GroupAnnounceI"), exports["interface"].LogI = require("./dist/LogI"), exports["interface"].AlimeiTicket = require("./dist/AlimeiTicket"), exports["interface"].IDLConversation = require("./dist/IDLConversation"), exports["interface"].IDLMessage = require("./dist/IDLMessage"), exports["interface"].IDLMessageStatus = require("./dist/IDLMessageStatus"), exports["interface"].IDLSend = require("./dist/IDLSend"), exports["interface"].Typing = require("./dist/Typing"), exports["interface"].AliasI = require("./dist/AliasI"), exports["interface"].FollowI = require("./dist/FollowI"), exports["interface"].OAuthI = require("./dist/OAuthI"), exports["interface"].Sync = require("./dist/Sync"), exports["interface"].CloudSettingI = require("./dist/CloudSettingI"), exports["interface"].OAuthI = require("./dist/OAuthI"), exports.model.relation = keyPaddingGen({
				AliasModel: {
					def: {
						openId: ["1", "int", "openId"],
						alias: ["2", "string", "alias"],
						pinyin: ["3", "string", "pinyin", "// 别名内容\r"],
						audio: ["4", "string", "audio", "// 别名拼音\r"],
						extension: ["5", ["Object", "string", "string"], "extension", "// 备注音\r"]
					}
				},
				FollowModel: {
					def: {
						openId: ["1", "int", "openId"],
						status: ["2", "int", "status", "// 对应的openid信息\r"],
						tag: ["3", "int", "tag", "// 对应的状态信息,0:following，1：follower，2：双向关系， -1：要推下去。\r"],
						lastModify: ["4", "int", "lastModify", "//由使用法自定义的筛选标记\r"],
						intend: ["5", "int", "intend", "//最后更新的时间戳\r"]
					}
				},
				FollowPageModel: {
					def: {
						models: ["1", ["Array", "FollowModel"], "models", "//用户标记是否已经主动取消关注\r"],
						nextCursor: ["2", "int", "nextCursor", "//返回的openid结果列表\r"],
						previousCursor: ["3", "int", "previousCursor", "// 下一页的起始cursor\r"]
					}
				},
				BlacklistModel: {
					def: {
						openId: ["1", "int", "openId", "// 4: long totalCount;           //这期暂不加入\r"],
						status: ["2", "int", "status", "// 对应的openid信息\r"],
						lastModify: ["3", "int", "lastModify", "// 对应的状态信息,0:openid在我的黑名单中，1：我在openid的黑名单中，2：双方互加为黑名单关系， -1：黑名单关系删除。\r"]
					}
				},
				BlcklistPageModel: {
					def: {
						models: ["1", ["Array", "BlacklistModel"], "models", "//最后更新的时间戳\r"],
						nextCursor: ["2", "int", "nextCursor", "// 返回的openid结果列表\r"],
						previousCursor: ["3", "int", "previousCursor", "// 下一页的起始cursor\r"]
					}
				}
			}), exports.model.sync = keyPaddingGen({
				SyncInfoModel: {
					def: {
						pts: ["1", "int", "pts", "// * 低优先级数据同步点"],
						seq: ["2", "int", "seq", "// * 同步序列号"],
						timestamp: ["3", "int", "timestamp", "// * 同步时间戳"],
						highPts: ["4", "int", "highPts", "// * 高优先级数据同步点， 当前为IM业务"]
					},
					COMMENT: "// 同步三元组, 客户端reg的时候带上 seq和pts, timestamp"
				},
				SyncPushModel: {
					def: {
						syncPushPackage: ["1", "SyncPushPackageModel", "syncPushPackage", "// * push的数据"],
						syncExtraType: ["2", "SyncExtraTypeModel", "syncExtraType", "// * tooLong tooLong2"]
					},
					COMMENT: "//服务端下行接口, push topic:  /s/sync  推下行数据包"
				},
				SyncPushPackageModel: {
					def: {
						startSeq: ["1", "int", "startSeq", "// * 起始seq"],
						endSeq: ["2", "int", "endSeq", "// * 结束seq"],
						timestamp: ["3", "int", "timestamp", "// * 上一次同步时间点"],
						maxPts: ["4", "int", "maxPts", "// * 该数据包中包含的最大低优先级pts"],
						hasMore: ["5", "boolean", "hasMore", "// * hasMore=true表示还有数据，客户端后续需要继续拉取数据"],
						data: ["6", ["Array", "SyncDataModel"], "data"],
						maxHighPts: ["7", "int", "maxHighPts", "// * 该数据包中包含的最大高优先级pts"]
					},
					COMMENT: "//服务端下行接口, push topic:  /s/sync  推下行数据包"
				},
				SyncDataModel: {
					def: {
						objectType: ["1", "int", "objectType", "// * 数据包model类型，用于解码"],
						data: ["2", "byte[]", "data", "// * 同步数据"]
					},
					COMMENT: "//服务端下行接口, push topic:  /s/sync  推下行数据包"
				},
				SyncExtraTypeModel: {
					def: {
						type: ["1", "int", "type", "// * type=1 TooLong、 type=2 TooLong2"]
					},
					COMMENT: "//服务端下行接口, push topic:  /s/sync  推下行数据包"
				}
			});


		}, {
			"./dist/AliasI": 426,
			"./dist/AlimeiTicket": 427,
			"./dist/CloudSettingI": 428,
			"./dist/CommonI": 429,
			"./dist/ConferenceI": 430,
			"./dist/ContactI": 431,
			"./dist/ConversationI": 432,
			"./dist/CsConfigI": 433,
			"./dist/FollowI": 434,
			"./dist/FriendI": 435,
			"./dist/GroupAnnounceI": 436,
			"./dist/IDLConversation": 437,
			"./dist/IDLDing": 438,
			"./dist/IDLMessage": 439,
			"./dist/IDLMessageStatus": 440,
			"./dist/IDLSend": 441,
			"./dist/IMI": 442,
			"./dist/ImgResI": 443,
			"./dist/LogI": 444,
			"./dist/LoginI": 445,
			"./dist/OAPII": 446,
			"./dist/OAuthI": 447,
			"./dist/OrgMicroAPPI": 448,
			"./dist/QrcodeI": 449,
			"./dist/Sync": 450,
			"./dist/Typing": 451,
			"./dist/UserI": 452,
			"./libs/keyPaddingGen": 454
		}
	],
	454: [
		function(require, module, exports) {
			"use strict";
			var PaddingKey = function(e) {
				this.keys = this._processDef(e), this.paddings = {};
				var n = this;
				Object.keys(e).forEach(function(e) {
					n.paddings[e] = function(r) {
						return n._padding(e, r)
					}
				})
			};
			PaddingKey.prototype._padding = function(e, n) {
				var r = {}, t = this;
				if (n && this.keys[e]) {
					var a = this.keys[e].keys;
					Object.keys(n).forEach(function(e) {
						var i = parseInt(e);
						if (a[i]) {
							var s = a[i].name,
								f = a[i].type;
							if ("string" == typeof f && t.keys[f]) var d = t._padding(f, n[e]);
							else if (Array.isArray(f))
								if ("Array" === f[0] && t.keys[f[1]]) var d = n[e].map(function(e) {
									return t._padding(f[1], e)
								});
								else var d = n[e];
								else var d = n[e];
							r[s] = d
						}
					})
				}
				return r
			}, PaddingKey.prototype._processDef = function(e) {
				var n = {};
				return Object.keys(e).forEach(function(r) {
					var t = {};
					Object.keys(e[r].def).forEach(function(n) {
						var a = e[r].def[n];
						t[parseInt(a[0])] = {
							type: a[1],
							name: n
						}
					}), n[r] = {
						keys: t
					}
				}), n
			};
			var gen = function(e) {
				return new PaddingKey(e)
			};
			module.exports = gen;


		}, {}
	],
	455: [
		function(require, module, exports) {
			var TYPE_IDS = {}, ID_CATE_TYPES = {
					0: "IMAGE_JPG",
					1: "IMAGE_GIF",
					2: "IMAGE_PNG",
					3: "IMAGE_BMP",
					4: "AUDIO_AMR",
					5: "AUDIO_MP3",
					6: "VIDEO_MP4",
					7: "AUDIO_WAV",
					8: "NORMAL_FILE",
					9: "OFFICE_DOC",
					10: "OFFICE_DOCX",
					11: "OFFICE_XLS",
					12: "OFFICE_XLSX",
					13: "OFFICE_PPT",
					14: "OFFICE_PPTX",
					15: "NORMAL_ZIP",
					16: "NORMAL_PDF",
					17: "NORMAL_RAR",
					18: "NORMAL_PSD",
					19: "NORMAL_AI",
					20: "NORMAL_TXT",
					21: "VIDEO_AVI",
					22: "VIDEO_RMVB",
					23: "VIDEO_RM",
					24: "VIDEO_MPG",
					25: "VIDEO_WMV",
					26: "VIDEO_MKV",
					27: "VIDEO_VOB",
					28: "NORMAL_TFSPRIVATE",
					29: "IMAGE_WEBP"
				};
			Object.keys(ID_CATE_TYPES).forEach(function(e) {
				var _ = ID_CATE_TYPES[e],
					I = _.split("_")[1].toLowerCase();
				TYPE_IDS[I] = e
			}), TYPE_IDS.jpeg = 0;
			var VALID_TYPES = ["jpg", "jpeg", "bmp", "png", "gif", "doc", "docx", "xlsx", "xls", "pdf", "ppt", "pptx", "zip", "rar", "txt", "mp4", "psd", "ai", "avi"],
				typeFuncs = {
					getTypeByName: function(e) {
						return e.split(".").pop().toLowerCase()
					},
					getIdByType: function(e) {
						if (void 0 === TYPE_IDS[e]) var e = "file";
						return TYPE_IDS[e]
					},
					getCateTypeById: function(e) {
						if (void 0 === ID_CATE_TYPES[e]) var e = "8";
						return ID_CATE_TYPES[e]
					},
					getTypeById: function(e) {
						if (void 0 === ID_CATE_TYPES[e]) var e = "8";
						return ID_CATE_TYPES[e].split("_")[1].toLowerCase()
					},
					getCateTypeByType: function(e) {
						return typeFuncs.getCateTypeById(typeFuncs.getIdByType(e))
					},
					isValid: function(e) {
						var _ = VALID_TYPES.indexOf(e);
						return -1 !== _
					},
					isImg: function(e) {
						return "IMAGE" === typeFuncs.getCateTypeByType(e).split("_")[0]
					},
					getFileIconByType: function(e) {
						var _ = typeFuncs.getCateTypeByType(e);
						switch (_) {
							case "OFFICE_DOC":
							case "OFFICE_DOCX":
								return "word-icon";
							case "OFFICE_PPT":
							case "OFFICE_PPTX":
								return "ppt-icon";
							case "NORMAL_PDF":
								return "pdf-icon";
							case "OFFICE_XLS":
							case "OFFICE_XLSX":
								return "excl-icon";
							case "NORMAL_ZIP":
								return "zip-icon";
							case "NORMAL_RAR":
								return "rar-icon";
							case "NORMAL_PSD":
								return "psd-icon";
							case "NORMAL_AI":
								return "ai-icon";
							case "NORMAL_TXT":
								return "txt-icon";
							case "VIDEO_AVI":
							case "VIDEO_RMVB":
							case "VIDEO_RM":
							case "VIDEO_MPG":
							case "VIDEO_WMV":
							case "VIDEO_MKV":
							case "VIDEO_VOB":
							case "VIDEO_MP4":
								return "video-icon";
							case "IMAGE_JPG":
							case "IMAGE_GIF":
							case "IMAGE_PNG":
							case "IMAGE_BMP":
								return "pic-icon";
							default:
								return "default-icon"
						}
					}
				};
			module.exports = typeFuncs;


		}, {}
	],
	456: [
		function(require, module, exports) {
			"use strict";

			function reverseString(e) {
				for (var i = "", r = e.length - 1; r >= 0; r--) i += e[r];
				return i
			}
			var msgpack = require("@ali/msgpack"),
				fileTypes = require("@ali/ding-filetypes"),
				Uri = require("jsuri"),
				mediaIdHost = "static.dingtalk.com",
				oldMediaIdHost = "i01.lw.aliimg.com",
				mediaIdDir = "media",
				BASEURL = "https://" + mediaIdHost + "/" + mediaIdDir + "/",
				isNoRetina = 1 === window.devicePixelRatio,
				mid2Url = function(e, i) {
					var i = i || {};
					if ("@" !== e.charAt(0)) return "https:" === window.location.protocol && (e = e.replace(/^http(?!s)/, "https")), e;
					e = e.replace(/-/gi, "+").replace(/_/gi, "/");
					var e = e.substr(1),
						r = msgpack.decodeFromB64(e),
						t = fileTypes.getCateTypeById(r[0]).split("_");
					if ("IMAGE" === t[0])
						if ("origin" === i.imageSize) var a = e + "_" + r[3] + "_" + r[2] + "." + t[1].toLowerCase();
						else
					if ("thumb" === i.imageSize) var s = isNoRetina ? "_60x60q90.jpg" : "_120x120q90.jpg",
					a = e + "_" + r[3] + "_" + r[2] + "." + t[1].toLowerCase() + s;
					else if ("GIF" === t[1]) var a = e + "_" + r[3] + "_" + r[2] + "." + t[1].toLowerCase();
					else var a = e + "_" + r[3] + "_" + r[2] + "." + t[1].toLowerCase() + "_620x10000q90.jpg";
					else var a = e + "." + t[1].toLowerCase();
					return a = a.replace(/\//gi, "_").replace(/\+/gi, "-"), BASEURL + a
				}, url2Mid = function(e) {
					var i = new Uri(e);
					if ((i.host() === mediaIdHost || i.host() === oldMediaIdHost) && i.uriParts.directory === "/" + mediaIdDir + "/") {
						var r = i.uriParts.file,
							t = r.indexOf(".");
						if (-1 !== t) {
							r = r.slice(0, t), r = reverseString(r);
							var a = r.indexOf("_");
							if (-1 !== a) {
								var s = r.indexOf("_", a + 1);
								if (-1 !== s && (r = r.slice(s + 1))) return "@" + reverseString(r)
							}
						}
					}
					return e
				};
			exports.mid2Url = mid2Url, exports.url2Mid = url2Mid;


		}, {
			"@ali/ding-filetypes": 455,
			"@ali/msgpack": 458,
			"jsuri": 469
		}
	],
	457: [
		function(require, module, exports) {
			"use strict";
			var serviceMap = {}, containerServiceMap = {}, containerAPIMap = {}, authContainerMap = {}, HostMessage = function(e, t, n) {
					if (this._msgId = n.msgId, this._frameWindow = e, this._methodName = n.methodName, this.frameOrigin = t, this.containerId = n.containerId, this.params = n.body, !this._msgId) throw "msgId not exist";
					if (!this._frameWindow) throw "frameWindow not exist";
					if (!this._methodName) throw "serviceName not exits";
					if (!this.frameOrigin) throw "frameOrigin not exist";
					this.hasResponded = !1
				};
			HostMessage.prototype.respond = function(e, t) {
				var t = !! t;
				if (this.hasResponded !== !0) {
					var n = {
						serviceName: this._methodName,
						type: "response",
						success: !t,
						body: e,
						msgId: this._msgId
					};
					this._frameWindow.postMessage(n, this.frameOrigin), this.hasResponded = !0
				}
			}, HostMessage.prototype.emit = function(e, t) {
				var n = {
					serviceName: this._methodName,
					type: "event",
					eventName: e,
					body: t,
					msgId: this._msgId
				};
				this._frameWindow.postMessage(n, this.frameOrigin)
			};
			var MSG = {
				API_NOT_EXIST_MSG: {
					reason: "API NOT EXIST",
					code: "404"
				},
				API_NOT_PERMISSION_MSG: {
					reason: "NO PERMISSION",
					code: "401"
				}
			}, INIT_EVENT_SERVICE_NAME = "SYS_openAPIContainerInitEvent",
				containerGlobalService = {}, containerEventMsgMap = {};
			containerGlobalService[INIT_EVENT_SERVICE_NAME] = function(e, t) {
				containerEventMsgMap[e] = t
			}, window.addEventListener("message", function(e) {
				var t = e.data,
					n = e.source,
					i = e.origin,
					a = t.methodName,
					o = t.containerId,
					r = t.msgId;
				if (!r) return !1;
				var s = new HostMessage(n, i, t);
				if (containerGlobalService[a]) containerGlobalService[a](o, s);
				else if (containerAPIMap[o] && containerAPIMap[o][a]) {
					var c = containerAPIMap[o][a],
						d = c.origin;
					"*" === d || d === i ? c.callback(s) : s.respond(MSG.API_NOT_PERMISSION_MSG, !0)
				} else s.respond(MSG.API_NOT_EXIST_MSG, !0)
			}), exports.register = function(e, t, n, i) {
				containerAPIMap[e] || (containerAPIMap[e] = {}), containerAPIMap[e][t] = {
					callback: i,
					origin: n
				}
			}, exports.deRegister = function(e, t) {
				containerAPIMap[e] && containerAPIMap[e][t] && delete containerAPIMap[e][t]
			}, exports.getNewContainerId = function() {
				return (new Date).getTime() + Math.ceil(1e3 * Math.random())
			}, exports.destroyContainer = function(e) {
				containerAPIMap[e] && delete containerAPIMap[e], containerEventMsgMap[e] && delete containerEventMsgMap[e]
			}, exports.emitContainerEvent = function(e, t, n) {
				containerEventMsgMap[e] && containerEventMsgMap[e].emit(t, n)
			};


		}, {}
	],
	458: [
		function(require, module, exports) {
			"use strict";

			function inspect(t) {
				if (void 0 === t) return "undefined";
				var e, r;
				if (t instanceof ArrayBuffer ? (r = "ArrayBuffer", e = new DataView(t)) : t instanceof DataView && (r = "DataView", e = t), !e) return JSON.stringify(t);
				for (var i = [], n = 0; n < t.byteLength; n++) {
					if (n > 20) {
						i.push("...");
						break
					}
					var s = e.getUint8(n).toString(16);
					1 === s.length && (s = "0" + s), i.push(s)
				}
				return "<" + r + " " + i.join(" ") + ">"
			}

			function utf8Write(t, e, r) {
				for (var i = (t.byteLength, 0), n = r.length; n > i; i++) {
					var s = r.charCodeAt(i);
					if (128 > s) t.setUint8(e++, s >>> 0 & 127 | 0);
					else if (2048 > s) t.setUint8(e++, s >>> 6 & 31 | 192), t.setUint8(e++, s >>> 0 & 63 | 128);
					else if (65536 > s) t.setUint8(e++, s >>> 12 & 15 | 224), t.setUint8(e++, s >>> 6 & 63 | 128), t.setUint8(e++, s >>> 0 & 63 | 128);
					else {
						if (!(1114112 > s)) throw new Error("bad codepoint " + s);
						t.setUint8(e++, s >>> 18 & 7 | 240), t.setUint8(e++, s >>> 12 & 63 | 128), t.setUint8(e++, s >>> 6 & 63 | 128), t.setUint8(e++, s >>> 0 & 63 | 128)
					}
				}
			}

			function utf8Read(t, e, r) {
				for (var i = "", n = e, s = e + r; s > n; n++) {
					var f = t.getUint8(n);
					if (0 !== (128 & f))
						if (192 !== (224 & f))
							if (224 !== (240 & f)) {
								if (240 !== (248 & f)) throw new Error("Invalid byte " + f.toString(16));
								var o = (7 & f) << 18 | (63 & t.getUint8(++n)) << 12 | (63 & t.getUint8(++n)) << 6 | (63 & t.getUint8(++n)) << 0,
									u = Math.floor((o - 65536) / 1024) + 55296,
									a = (o - 65536) % 1024 + 56320;
								i += String.fromCharCode(u, a)
							} else i += String.fromCharCode((15 & f) << 12 | (63 & t.getUint8(++n)) << 6 | (63 & t.getUint8(++n)) << 0);
							else i += String.fromCharCode((15 & f) << 6 | 63 & t.getUint8(++n));
							else i += String.fromCharCode(f)
				}
				return i
			}

			function utf8ByteCount(t) {
				for (var e = 0, r = 0, i = t.length; i > r; r++) {
					var n = t.charCodeAt(r);
					if (128 > n) e += 1;
					else if (2048 > n) e += 2;
					else if (65536 > n) e += 3;
					else {
						if (!(1114112 > n)) throw new Error("bad codepoint " + n);
						e += 4
					}
				}
				return e
			}

			function Decoder(t, e, r) {
				this.offset = e || 0, this.view = t, this.bytes = r
			}

			function decode(t) {
				var e = t.buffer,
					r = new DataView(e),
					i = new Decoder(r, 0, t),
					n = i.parse();
				if (i.offset !== e.byteLength) throw new Error(e.byteLength - i.offset + " trailing bytes");
				return n
			}

			function encode(t, e, r) {
				var i = typeof t;
				if ("string" === i) {
					var n = utf8ByteCount(t);
					if (32 > n) return e.setUint8(r, 160 | n), utf8Write(e, r + 1, t), 1 + n;
					if (65536 > n) return e.setUint8(r, 218), e.setUint16(r + 1, n), utf8Write(e, r + 3, t), 3 + n;
					if (4294967296 > n) return e.setUint8(r, 219), e.setUint32(r + 1, n), utf8Write(e, r + 5, t), 5 + n
				}
				if (t instanceof ArrayBuffer) {
					var n = t.byteLength;
					if (65536 > n) return e.setUint8(r, 216), e.setUint16(r + 1, n), new Uint8Array(e.buffer).set(new Uint8Array(t), r + 3), 3 + n;
					if (4294967296 > n) return e.setUint8(r, 217), e.setUint32(r + 1, n), new Uint8Array(e.buffer).set(new Uint8Array(t), r + 5), 5 + n
				}
				if ("number" === i) {
					if (t << 0 !== t) return e.setUint8(r, 203), e.setFloat64(r + 1, t), 9;
					if (t >= 0) {
						if (128 > t) return e.setUint8(r, t), 1;
						if (256 > t) return e.setUint8(r, 204), e.setUint8(r + 1, t), 2;
						if (65536 > t) return e.setUint8(r, 205), e.setUint16(r + 1, t), 3;
						if (4294967296 > t) return e.setUint8(r, 206), e.setUint32(r + 1, t), 5;
						throw new Error("Number too big 0x" + t.toString(16))
					}
					if (t >= -32) return e.setInt8(r, t), 1;
					if (t >= -128) return e.setUint8(r, 208), e.setInt8(r + 1, t), 2;
					if (t >= -32768) return e.setUint8(r, 209), e.setInt16(r + 1, t), 3;
					if (t >= -2147483648) return e.setUint8(r, 210), e.setInt32(r + 1, t), 5;
					throw new Error("Number too small -0x" + (-t).toString(16).substr(1))
				}
				if ("undefined" === i) return e.setUint8(r, 196), 1;
				if (null === t) return e.setUint8(r, 192), 1;
				if ("boolean" === i) return e.setUint8(r, t ? 195 : 194), 1;
				if ("object" === i) {
					var n, s = 0,
						f = Array.isArray(t);
					if (f) n = t.length;
					else {
						var o = Object.keys(t);
						n = o.length
					}
					var s;
					if (16 > n ? (e.setUint8(r, n | (f ? 144 : 128)), s = 1) : 65536 > n ? (e.setUint8(r, f ? 220 : 222), e.setUint16(r + 1, n), s = 3) : 4294967296 > n && (e.setUint8(r, f ? 221 : 223), e.setUint32(r + 1, n), s = 5), f)
						for (var u = 0; n > u; u++) s += encode(t[u], e, r + s);
					else
						for (var u = 0; n > u; u++) {
							var a = o[u];
							s += encode(a, e, r + s), s += encode(t[a], e, r + s)
						}
					return s
				}
				throw new Error("Unknown type " + i)
			}

			function sizeof(t) {
				var e = typeof t;
				if ("string" === e) {
					var r = utf8ByteCount(t);
					if (32 > r) return 1 + r;
					if (65536 > r) return 3 + r;
					if (4294967296 > r) return 5 + r
				}
				if (t instanceof ArrayBuffer) {
					var r = t.byteLength;
					if (65536 > r) return 3 + r;
					if (4294967296 > r) return 5 + r
				}
				if ("number" === e) {
					if (t << 0 !== t) return 9;
					if (t >= 0) {
						if (128 > t) return 1;
						if (256 > t) return 2;
						if (65536 > t) return 3;
						if (4294967296 > t) return 5;
						if (0x10000000000000000 > t) return 9;
						throw new Error("Number too big 0x" + t.toString(16))
					}
					if (t >= -32) return 1;
					if (t >= -128) return 2;
					if (t >= -32768) return 3;
					if (t >= -2147483648) return 5;
					if (t >= -0x8000000000000000) return 9;
					throw new Error("Number too small -0x" + t.toString(16).substr(1))
				}
				if ("boolean" === e || "undefined" === e || null === t) return 1;
				if ("object" === e) {
					var r, i = 0;
					if (Array.isArray(t)) {
						r = t.length;
						for (var n = 0; r > n; n++) i += sizeof(t[n])
					} else {
						var s = Object.keys(t);
						r = s.length;
						for (var n = 0; r > n; n++) {
							var f = s[n];
							i += sizeof(f) + sizeof(t[f])
						}
					} if (16 > r) return 1 + i;
					if (65536 > r) return 3 + i;
					if (4294967296 > r) return 5 + i;
					throw new Error("Array or object too long 0x" + r.toString(16))
				}
				throw new Error("Unknown type " + e)
			}
			exports.inspect = inspect, exports.utf8Write = utf8Write, exports.utf8Read = utf8Read, exports.utf8ByteCount = utf8ByteCount, exports.encode = function(t) {
				var e = new ArrayBuffer(sizeof(t)),
					r = new DataView(e);
				return encode(t, r, 0), e
			}, exports.decode = decode, Decoder.prototype.map = function(t) {
				for (var e = {}, r = 0; t > r; r++) {
					var i = this.parse();
					e[i] = this.parse()
				}
				return e
			}, Decoder.prototype.buf = function(t) {
				var e = new ArrayBuffer(t);
				return new Uint8Array(e).set(new Uint8Array(this.view.buffer, this.offset, t), 0), this.offset += t, e
			}, Decoder.prototype.raw = function(t) {
				var e = utf8Read(this.view, this.offset, t);
				return this.offset += t, e
			}, Decoder.prototype.array = function(t) {
				for (var e = new Array(t), r = 0; t > r; r++) e[r] = this.parse();
				return e
			}, Decoder.prototype.parse = function() {
				var t, e, r = this.view.getUint8(this.offset);
				if (160 === (224 & r)) return e = 31 & r, this.offset++, this.raw(e);
				if (128 === (240 & r)) return e = 15 & r, this.offset++, this.map(e);
				if (144 === (240 & r)) return e = 15 & r, this.offset++, this.array(e);
				if (0 === (128 & r)) return this.offset++, r;
				if (224 === (224 & r)) return t = this.view.getInt8(this.offset), this.offset++, t;
				switch (r) {
					case 218:
						return e = this.view.getUint16(this.offset + 1), this.offset += 3, this.raw(e);
					case 219:
						return e = this.view.getUint32(this.offset + 1), this.offset += 5, this.raw(e);
					case 192:
						return this.offset++, null;
					case 194:
						return this.offset++, !1;
					case 195:
						return this.offset++, !0;
					case 196:
						return void this.offset++;
					case 204:
						return t = this.view.getUint8(this.offset + 1), this.offset += 2, t;
					case 205:
						return t = this.view.getUint16(this.offset + 1), this.offset += 3, t;
					case 206:
						return t = this.view.getUint32(this.offset + 1), this.offset += 5, t;
					case 208:
						return t = this.view.getInt8(this.offset + 1), this.offset += 2, t;
					case 209:
						return t = this.view.getInt16(this.offset + 1), this.offset += 3, t;
					case 210:
						return t = this.view.getInt32(this.offset + 1), this.offset += 5, t;
					case 222:
						return e = this.view.getUint16(this.offset + 1), this.offset += 3, this.map(e);
					case 223:
						return e = this.view.getUint32(this.offset + 1), this.offset += 5, this.map(e);
					case 220:
						return e = this.view.getUint16(this.offset + 1), this.offset += 3, this.array(e);
					case 221:
						return e = this.view.getUint32(this.offset + 1), this.offset += 5, this.array(e);
					case 216:
						return e = this.view.getUint16(this.offset + 1), this.offset += 3, this.buf(e);
					case 217:
						return e = this.view.getUint32(this.offset + 1), this.offset += 5, this.buf(e);
					case 202:
						return t = this.view.getFloat32(this.offset + 1), this.offset += 5, t;
					case 203:
						return t = this.view.getFloat64(this.offset + 1), this.offset += 9, t;
					case 207:
						var i = this.bytes;
						this.offset++;
						var n = 16777216 * i[this.offset++] + (i[this.offset++] << 16) + (i[this.offset++] << 8) + i[this.offset++];
						return 4294967296 * n + 16777216 * i[this.offset++] + (i[this.offset++] << 16) + (i[this.offset++] << 8) + i[this.offset++]
				}
				throw new Error("Unknown type 0x" + r.toString(16))
			}, exports.decodeFromB64 = function(t) {
				for (var e = window.atob(t), r = e.length, i = new Uint8Array(r), n = 0; r > n; n++) {
					var s = e.charCodeAt(n);
					i[n] = s
				}
				return exports.decode(i)
			};


		}, {}
	],
	459: [
		function(require, module, exports) {
			"use strict";

			function callConsole(e, t) {
				var r = W.console;
				void 0 != r && ("log" == e ? r.log(t) : "warn" == e ? r.warn(t) : "error" == e ? r.error(t) : "info" == e && r.info(t))
			}

			function $warn(e) {
				callConsole("warn", e)
			}

			function extend(e, t, r) {
				if (e || (e = {}), !t) return e;
				for (var i in t) {
					var o = t[i];
					void 0 == o || !r && void 0 != e[i] || (e[i] = o)
				}
				return e
			}

			function encodeHtml(e) {
				return e ? ("" + e).replace(/&/g, "&amp;").replace(/\"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;") : ""
			}

			function buildNodeHtml(e, t) {
				var r = [],
					i = [];
				e = e.toLowerCase();
				var o = !! {
					img: 1,
					input: 1
				}[e],
					n = t.innerHtml;
				delete t.innerHtml;
				for (var l in t) {
					var a = t[l];
					l && (a || 0 === a) && ("className" == l && (l = "class"), i.push(l + '="' + encodeHtml(a) + '"'))
				}
				return r.push("<", e, " ", i.join(" "), o ? "/>" : ">"), o || (n && r.push(n), r.push("</", e, ">")), r.join("")
			}

			function mergeCssClass() {
				for (var e = [], t = arguments, r = 0, i = t.length; i > r; r++) {
					var o = t[r];
					o && String.isString(o) && e.push(o)
				}
				return e.join(" ")
			}

			function renderIframe(e) {
				return buildNodeHtml("iframe", extend({
					scrolling: "no",
					frameBorder: "0",
					id: "cspace_file_select",
					allowTransparency: "true",
					src: "javascript:document.open();document.close();",
					style: "position: absolute;top: 0;left: 0;width: 100%;height: 100%;padding:0;margin:0;border:0"
				}, e, !0))
			}

			function renderCss() {
				return buildNodeHtml("head", {
					innerHtml: [buildNodeHtml("style", {
						type: "text/css",
						rel: "stylesheet",
						innerHtml: [layout_1, layout_2, layout_3].join("")
					})].join("")
				})
			}

			function renderRootLoading() {
				return buildNodeHtml("div", {
					className: "absolute_full round_loading_wrap",
					style: "display:none",
					innerHtml: buildNodeHtml("div", {
						className: "round_loading_img_wrap round_loading_center round_loading_big",
						innerHtml: buildNodeHtml("img", {
							className: "round_loading_img round_loading_img_center",
							src: "https://gtms04.alicdn.com/tps/i4/TB1x2i9IpXXXXcbXVXXBStGGXXX-32-32.gif"
						})
					})
				})
			}

			function renderFileListWrap(e) {
				return e = e || {}, buildNodeHtml("div", {
					className: "absolute_horizon_full scroll scroll_auto_y",
					style: e.style,
					innerHtml: ["<div class='cspace_file_list_wrap'></div>", buildNodeHtml("div", {
						className: "absolute_full list_empty_container_wrap",
						style: "display:none",
						innerHtml: buildNodeHtml("div", {
							className: "list_empty_wrap",
							innerHtml: buildNodeHtml("div", {
								className: "list_empty_inner_wrap",
								innerHtml: [buildNodeHtml("div", {
									className: "list_empty_img"
								}), buildNodeHtml("div", {
									className: "list_empty_text",
									innerHtml: "这个文件夹是空的"
								})].join("")
							})
						})
					})].join("")
				})
			}

			function renderScript(e) {
				if (Array.isArray(e)) {
					for (var t = [], r = 0, i = e.length; i > r; r++) {
						var o = e[r];
						t.push(buildNodeHtml("script", extend({
							type: "text/javascript"
						}, o)))
					}
					return t.join("")
				}
				return buildNodeHtml("script", {
					type: "text/javascript",
					sqm_static: "1",
					sqm_kernel: "1",
					sqm_timeout: "20000",
					sqm_framework: "1",
					src: e
				})
			}

			function createIframe(e, t) {
				var r = new Deferred,
					i = e.container;
				i.innerHTML = renderIframe(e.iframeParam);
				var o = i.firstChild;
				return wait(function() {
					return !!o.contentWindow
				}, function() {
					var e = [];
					e.push("<!DOCTYPE html>"), e.push(t);
					var i = o.contentDocument || o.contentWindow.document;
					i.open(), i.write(e.join("")), i.close(), r.resolve(o)
				}), r
			}

			function createFileSelectIframe(e) {
				return createIframe(e, buildNodeHtml("html", {
					innerHtml: [renderCss(), buildNodeHtml("body", {
						onload: "",
						className: "absolute_full",
						innerHtml: [renderRootLoading(), buildNodeHtml("div", {
							className: "absolute_horizon_full",
							style: "top: 0;height:34px;border-bottom: 1px solid #ECECED;background-color: #FAFAFC",
							innerHtml: buildNodeHtml("div", {
								className: "ellipsis",
								style: "padding: 2px 20px",
								innerHtml: '<div class="cspace_path_crumb unselectable"></div>'
							})
						}), renderFileListWrap({
							style: "top: 35px;bottom:61px"
						}), buildNodeHtml("div", {
							className: "absolute_bottom_full",
							style: "height:60px;border-top: 1px solid #E8E8E8",
							innerHtml: buildNodeHtml("div", {
								style: "padding:10px 20px;overflow:hidden",
								innerHtml: [buildNodeHtml("div", {
									className: "button button_blue evt unselectable",
									evt: "clk_domcommand",
									_v: "ok",
									style: "float:right;display:none"
								}), buildNodeHtml("div", {
									className: "button button_gray evt unselectable",
									evt: "clk_domcommand",
									_v: "go_back",
									style: "float:left;display:none",
									innerHtml: "返回上一级"
								})].join("")
							})
						}), renderScript(fileSelectScriptUrl)].join("")
					})].join("")
				}))
			}

			function createCommonFileListIframe(e) {
				return createIframe(e, buildNodeHtml("html", {
					innerHtml: [renderCss(), buildNodeHtml("body", {
						onload: "",
						className: "absolute_full",
						innerHtml: [renderRootLoading(), renderFileListWrap({
							style: "top: 0;bottom:0"
						}), renderScript(commonFileListScriptUrl), dingtalkAPIScriptUrl ? buildNodeHtml("script", {
							type: "text/javascript",
							src: dingtalkAPIScriptUrl
						}) : ""].join("")
					})].join("")
				}))
			}

			function wait(e, t, r) {
				var i = function() {
					e() ? t.call() : W.setTimeout(i, r || 100)
				};
				i()
			}

			function formatPath(e) {
				var t = [];
				if (e)
					for (var r = e.split("/"), i = 0, o = r.length; o > i; i++) {
						var n = r[i];
						n && t.push(n)
					}
				return t.length ? "/" + t.join("/") + "/" : "/"
			}

			function wairForRoot(e) {
				var t = new Deferred;
				return wait(function() {
					return !!e.rootInitialize
				}, function() {
					t.resolve(e.rootInitialize(formatPath))
				}), t
			}

			function getOrgList() {
				return (!getOrgListDeferred || getOrgListDeferred.isRejected()) && (getOrgListDeferred = JsonP.request(getOrgListUrl).then(function(e) {
					if (!e.success) return Deferred.createRejectedDeferred(e);
					for (var t = [], r = e.data, i = 0, o = r.length; o > i; i++) {
						var n = r[i];
						t.push({
							clientId: i + "",
							name: n.name,
							value: n.orgId
						})
					}
					return t
				})), getOrgListDeferred
			}

			function getSummary(e) {
				return JsonP.request(getSummaryUrl, {
					orgId: e
				}).then(function(e) {
					if (!e.success) return Deferred.createRejectedDeferred(e);
					var t = e.data,
						r = t.org;
					r.type = "org", r.name = "公共区";
					var i = t.user;
					return i.type = "user", i.name = "个人", t
				})
			}

			function getGroupList(e) {
				return JsonP.request(getGroupListUrl, {
					orgId: e
				}).then(function(e) {
					if (!e.success) return Deferred.createRejectedDeferred(e);
					for (var t = [], r = e.data, i = 0, o = r.length; o > i; i++) {
						var n = r[i];
						t.push({
							type: "group",
							spaceId: n.spaceId,
							name: n.conversationName,
							conversationId: n.conversationId
						})
					}
					return t
				})
			}

			function getFileList(e) {
				var t = e.orgId,
					r = e.spaceId,
					i = e.path,
					o = {
						spaceId: r,
						path: i
					};
				return void 0 != t && (o.orgId = t), JsonP.request(getFileListUrl, o).then(function(e) {
					if (!e.success) return Deferred.createRejectedDeferred(e);
					for (var i = [], o = [], n = e.data, l = 0, a = n.length; a > l; l++) {
						var s = n[l],
							c = s.type,
							d = "folder" == c,
							u = {
								id: s.id,
								author: s.author,
								authorName: s.authorName,
								createAt: s.createAt,
								ext: s.ext,
								imageUrl: s.imageUrl,
								name: s.name,
								path: s.path,
								previewUrl: s.previewUrl,
								size: s.size,
								sortField: s.sortField,
								type: c,
								updateAt: s.updateAt,
								clientId: l + "",
								orgId: t,
								spaceId: r
							};
						d ? i.push(u) : o.push(u)
					}
					return i.concat(o)
				})
			}

			function getOrgSpace(e) {
				var t = orgSpaceMap[e];
				return t || (t = orgSpaceMap[e] = DeferredList.all([getSummary(e), getGroupList(e)]).then(function(e) {
					var t = {}, r = e[0],
						i = e[1],
						o = r.org,
						n = r.user;
					t[o.spaceId] = o, t[n.spaceId] = n;
					for (var l = 0, a = i.length; a > l; l++) {
						var s = i[l];
						t[s.spaceId] = s
					}
					return {
						list: [o].concat(i, [n]),
						map: t
					}
				}), t.otherwise(function() {
					delete orgSpaceMap[e]
				})), t
			}

			function buildOrgSpaceList(e, t) {
				return getOrgSpace(e).then(function(r) {
					for (var i = [], o = r.list, n = 0, l = o.length; l > n; n++) {
						var a = o[n],
							s = a.type;
						(t || "user" == s) && i.push({
								clientId: n + "",
								orgId: e,
								path: "/",
								type: s,
								name: a.name,
								spaceId: a.spaceId,
								conversationId: a.conversationId
							})
					}
					return i
				})
			}

			function calcIsContainOrgFolder(e, t, r, i) {
				if (e == TYPE_FILE_SAVE) return !0;
				if (void 0 != r) return t == r;
				if (i)
					for (var o = 0, n = i.length; n > o; o++) {
						var l = i[o];
						if (l == t) return !0
					}
				return !1
			}

			function bindFileSelectIframeEvent(e) {
				e.func_change_path = function(t) {
					wairForRoot(e).then(function(e) {
						var r = t.orgId,
							i = t.spaceId,
							o = t.path;
						e.setOrgIdAndPath(r, i, o), e.setGetFileListDeferred(i ? getFileList(t) : buildOrgSpaceList(r, calcIsContainOrgFolder(t.rootType, r, t.targetOrgId, t.targetUserOrgList)))
					})
				}, e.func_get_org_list = function() {
					return getOrgList()
				}, e.func_get_org_name = function(e) {
					return getOrgList().then(function(t) {
						for (var r = 0, i = t.length; i > r; r++) {
							var o = t[r];
							if (o.value == e) return o.name
						}
					})
				}, e.func_get_space_name = function(e, t) {
					return getOrgSpace(e).then(function(e) {
						var r = e.map[t];
						return r && r.name
					})
				}
			}

			function validateFileSelect(e) {
				var t = e.file,
					r = e.dialogType || TYPE_FILE_SELECT;
				if (r == TYPE_FILE_SAVE) {
					if (!t) return Deferred.createRejectedDeferred({
						errorCode: 1005,
						developerMessage: "file is absent"
					});
					if (!t.url) {
						if (!t.spaceId) return Deferred.createRejectedDeferred({
							errorCode: 1003,
							developerMessage: "spaceId is absent"
						});
						if (!t.path) return Deferred.createRejectedDeferred({
							errorCode: 1004,
							developerMessage: "path is absent"
						})
					}
				} else if (!e.targetSpaceId) return Deferred.createRejectedDeferred({
					errorCode: 1011,
					developerMessage: "targetSpaceId is absent"
				});
				return getOrgList().then(function(r) {
					if (!r.length) return Deferred.createRejectedDeferred({
						errorCode: 1007,
						developerMessage: "org list is empty"
					});
					var i = e.orgId || t && t.orgId;
					if (i) {
						for (var o = 0, n = r.length; n > o; o++)
							if (r[o].value == i) return r;
						return Deferred.createRejectedDeferred({
							errorCode: 1006,
							developerMessage: "orgId is invalid"
						})
					}
				}, function(e) {
					return Deferred.createRejectedDeferred({
						errorCode: 1008,
						developerMessage: "ajax error when get org list",
						err: e
					})
				})
			}

			function copyFileList(e, t) {
				for (var r = [], i = e[0], o = 0, n = e.length; n > o; o++) {
					var l = e[o];
					r.push({
						index: o,
						path: l.path
					})
				}
				var a = i.orgId,
					s = i.spaceId;
				return {
					srcOrgId: a,
					srcSpaceId: s,
					deferred: XHRUtils.post(repathUrl, {
						jsonRequest: !0,
						dataType: "json",
						data: {
							orgId: a,
							srcSpaceId: s,
							targetSpaceId: t,
							srcPaths: r,
							targetFolderPath: "/",
							cutSrc: !1,
							overwrite: !1,
							autoRename: !0
						}
					})
				}
			}

			function bindCommonFileListIframeEvent(e) {
				e.downloadUrl = downloadUrl, e.func_change_path = function(t) {
					wairForRoot(e).then(function(e) {
						e.setOrgIdAndPath(t.orgId, t.spaceId, t.path), e.setGetFileListDeferred(getFileList(t))
					})
				}, e.func_download = function(t) {
					wairForRoot(e).then(function(e) {
						window.open(t)
					})
				}
			}

			function tryToGetProgress(e, t, r, i) {
				XHRUtils.post(statusUrl, {
					jsonRequest: !0,
					dataType: "json",
					data: {
						orgId: t,
						spaceId: r,
						statusId: e
					}
				}).then(function(o) {
					var n = o.data;
					o.success ? 100 == n.progress ? i.resolve(n) : setTimeout(function() {
						tryToGetProgress(e, t, r, i)
					}, 300) : i.reject(n)
				})
			}

			function loadContentBySrc(e, t) {
				var r = new Deferred;
				return e.attachEvent ? e.attachEvent("onload", function() {
					r.resolve()
				}) : e.onload = function() {
					r.resolve()
				}, r.always(function() {
					e.detachEvent ? e.detachEvent("onload") : e.onload = null
				}), r.cfg_canceler = function() {
					e.setAttribute("src", "")
				}, e.setAttribute("src", t), setTimeout(function() {
					r.isFulfilled() || r.progress()
				}, 50), r
			}
			var D = document,
				W = window,
				layout_1 = '*{outline:medium none;}html,body{width:100%;height:100%;overflow:hidden}body{background-color:#FFFFFF;color:#444444;font-size:12px;font-family:"冬青黑体简体中文","Tahoma","Hiragino Sans GB","Microsoft YaHei","微软雅黑","STHeiti","WenQuanYi Micro Hei",SimSun,sans-serif!important;-webkit-font-smoothing:antialiased;line-height:1.666}html,body,div,form,input,textarea,span,img,iframe,ul,ol,li,b,em,i,a{margin:0;border:0;padding:0}html,body{scrollbar-base-color:#dddddd;scrollbar-3dlight-color:#ffffff;scrollbar-highlight-color:#dddddd;scrollbar-shadow-color:#ffffff;scrollbar-darkshadow-color:#ffffff;scrollbar-track-color:#ffffff;scrollbar-arrow-color:#999999}',
				layout_2 = "input,select,button,textarea,table{font-family:inherit;font-size:12px}textarea{resize:none;font-size:14px}pre{white-space:pre-wrap;word-wrap:break-word}ul,ol{list-style:none outside none}a:hover,a:active{text-decoration:none}.ico_wrap{position:absolute;line-height:0;font-size:0;white-space:nowrap;border:0}.ico{font-weight:normal;line-height:normal;overflow:hidden;line-height:0;font-size:0;text-align:center;vertical-align:middle;display:inline-block;_display:inline;zoom:1}.absolute_full{overflow:hidden;zoom:1;position:absolute;left:0;top:0;width:100%;height:100%}.absolute_top_full{overflow:hidden;zoom:1;position:absolute;top:0;left:0;width:100%}.absolute_horizon_full{overflow:hidden;zoom:1;position:absolute;left:0;width:100%}.absolute_bottom_full{overflow:hidden;position:absolute;bottom:0;width:100%;left:0}.scroll_auto{overflow:auto;zoom:1}.scroll_auto_y{overflow-x:hidden;overflow-y:auto;zoom:1}.scroll::-webkit-scrollbar{width:10px;height:10px}.scroll_large::-webkit-scrollbar{width:13px;height:13px}.scroll::-webkit-scrollbar-thumb{background-color:#c1c1c1;border-radius:5px}.scroll_large::-webkit-scrollbar-thumb{border-radius:9px}.scroll:hover::-webkit-scrollbar-thumb{background-color:#959595}.scroll::-webkit-scrollbar-thumb:hover{background-color:#959595}.scroll::-webkit-scrollbar-thumb:active{background-color:#757575}.ellipsis{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;zoom:1}.inline_block{vertical-align:top;display:inline-block;*display:inline;zoom:1}.unselectable{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}",
				layout_3 = ".round_loading_wrap{z-index:70}.round_loading_img_wrap{position:absolute;text-align:center;left:0;width:100%;z-index:71}.round_loading_center{top:50%}.round_loading_img_center{position:relative;bottom:50%}.round_loading_big{height:32px}.round_loading_big .round_loading_img{width:32px;height:32px}.layer_wrap{position:absolute;background-color:#fff;zoom:1}.layer_box_shadow{box-shadow:0 0 6px rgba(0,0,0,0.3)}.menu_wrap{min-width:150px;background-color:#fff;border:1px solid #c5c5c5;_width:200px}.menu_wrap .layer_component_wrap{padding:7px 0}.title_tips_wrap{background-color:#5b697b;border-radius:3px}.title_tips_mouse{margin:10px}.title_tips_right{margin:0 8px}.title_tips_inner{padding:0 9px;line-height:28px;color:#fff;max-width:480px;overflow:hidden;*white-space:nowrap;*word-break:break-all;zoom:1}.title_tips_oneline{white-space:nowrap;word-break:break-all;max-width:1000px}.button{outline:0;cursor:pointer;text-align:center;text-decoration:none;font-size:14px;line-height:20px;border-radius:5px}.button:hover{text-decoration:none;zoom:1}.button:active{position:relative;top:1px;right:-1px;zoom:1}.button_disabled{cursor:default}.button_disabled:active{top:0;right:0;zoom:1}.button_blue{color:#fff;padding:10px 14px;text-align:center;min-width:70px;background-color:#4187ee}.button_blue_disabled{background-color:#e0e0e0}.button_gray{padding:9px 13px;background-color:#f8f8f8;border:1px solid #c8c7cc}.button_gray_disabled{color:#b7b7b7}.org_dd_wrap{right:0;top:5px;padding:5px;cursor:pointer}.ico_dd{background-image:url(https://gtms04.alicdn.com/tps/i4/TB14S57IpXXXXciXpXX.uTD.FXX-10-10.png);height:10px;width:10px}.ico_tick{background-image:url(https://gtms03.alicdn.com/tps/i3/TB19Sm_IpXXXXXYXpXXZBWn.VXX-12-12.png);height:12px;width:12px}.ico_org_tick{position:absolute;right:8px;top:8px;visibility:hidden}.org_list_item{color:#777;font-size:16px;position:relative;padding:2px 25px 2px 10px;line-height:26px;cursor:pointer;zoom:1}.org_list_item:hover{background-color:#f6f6f6}.select_on .ico_org_tick{visibility:visible}.cspace_path_crumb{cursor:default;font-size:0;line-height:30px}.cspace_path_item{font-size:14px;color:#777}.cspace_path_active{color:#82aaf2;cursor:pointer}.list_empty_wrap{position:absolute;text-align:center;left:0;top:50%;width:100%;height:160px}.list_empty_inner_wrap{position:relative;bottom:50%;width:130px;height:160px;margin:0 auto}.list_empty_img{position:absolute;top:0;left:0;height:130px;width:130px;background-image:url(https://gtms04.alicdn.com/tps/i4/TB1xjLdIpXXXXbpXFXXY5TR9XXX-130-130.png)}.list_empty_text{font-size:14px;color:#b7b7b7;position:absolute;bottom:0;left:0;width:100%;line-height:30px;text-align:center}.file_list_item{position:relative;border-bottom:1px solid #e8e8e8;zoom:1}.file_select_list_item{line-height:26px;padding:10px 210px 10px 62px}.file_select_list_item_active{cursor:pointer}.file_select_list_item_active:hover{background-color:#f6f6f6}.file_list_type_ico{width:32px;height:32px}.file_select_list_item .file_list_type_ico{top:7px;left:20px}.ico_list_org{background-image:url(https://gtms04.alicdn.com/tps/i4/TB1ienoIpXXXXcAXXXXEDhGGXXX-32-32.png)}.ico_list_user{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1.Oa6IpXXXXaAXVXXEDhGGXXX-32-32.png)}.ico_list_group{background-image:url(https://gtms03.alicdn.com/tps/i3/TB1_bLmIpXXXXbXXpXXEDhGGXXX-32-32.png)}.ico_list_enter{width:16px;height:16px;background-image:url(https://gtms03.alicdn.com/tps/i3/TB1dATeIpXXXXbwXXXXAz6UFXXX-16-16.png)}.file_select_list_item .ico_list_enter{visibility:hidden}.file_select_list_item_active .ico_list_enter{visibility:visible}.ico_list_folder{background-image:url(https://gtms03.alicdn.com/tps/i3/TB1_1_vIpXXXXX3XXXXEDhGGXXX-32-32.png)}.ico_file_ai{background-image:url(https://gtms01.alicdn.com/tps/i1/TB1_le8IpXXXXb5XVXXEDhGGXXX-32-32.png)}.ico_file_zip{background-image:url(https://gtms03.alicdn.com/tps/i3/TB1Vne8IpXXXXboXVXXEDhGGXXX-32-32.png)}.ico_file_xls,.ico_file_xlsx{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1f2fsIpXXXXbqXXXXEDhGGXXX-32-32.png)}.ico_file_video{background-image:url(https://gtms01.alicdn.com/tps/i1/TB1s4bbIpXXXXXOXpXXEDhGGXXX-32-32.png)}.ico_file_unknown{background-image:url(https://gtms04.alicdn.com/tps/i4/TB1L7LpIpXXXXchXXXXEDhGGXXX-32-32.png)}.ico_file_txt{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1Gqe.IpXXXXXWXVXXEDhGGXXX-32-32.png)}.ico_file_rar{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1UQrjIpXXXXc3XpXXEDhGGXXX-32-32.png)}.ico_file_psd{background-image:url(https://gtms04.alicdn.com/tps/i4/TB1uom5IpXXXXbkXVXXEDhGGXXX-32-32.png)}.ico_file_ppt,.ico_file_pptx{background-image:url(https://gtms03.alicdn.com/tps/i3/TB1cwYrIpXXXXbLXXXXEDhGGXXX-32-32.png)}.ico_file_img{background-image:url(https://gtms02.alicdn.com/tps/i2/TB1HpjsIpXXXXa3XXXXEDhGGXXX-32-32.png)}.ico_file_pdf{background-image:url(https://gtms01.alicdn.com/tps/i1/TB1LaHXIpXXXXadXVXXEDhGGXXX-32-32.png)}.ico_file_doc,.ico_file_docx{background-image:url(https://gtms01.alicdn.com/tps/i1/TB1kmG9IpXXXXaRXVXXEDhGGXXX-32-32.png)}.ico_file_audio{background-image:url(https://gtms04.alicdn.com/tps/i4/TB1CXu7IpXXXXcSXVXXEDhGGXXX-32-32.png)}.ico_list_checkbox{width:13px;height:13px;background-image:url(https://gtms04.alicdn.com/tps/i4/TB1UGvpIpXXXXcgXXXXmpvM.VXX-13-13.png)}.select_on .ico_list_checkbox{background-image:url(https://gtms03.alicdn.com/tps/i3/TB1R2jmIpXXXXXQXpXXmpvM.VXX-13-13.png)}.file_select_list_item .ico_list_checkbox{visibility:hidden}.file_select_list_item_active .ico_list_checkbox{visibility:visible}.file_select_list_item .file_list_ico_enter{top:15px;right:20px}.file_select_list_item .file_list_checkbox{top:16px;right:20px}.file_select_list_item .file_list_size{color:#ccc;position:absolute;top:10px;right:100px;width:100px}.file_select_list_item_active .file_list_size{color:#aaa}.file_select_list_item .file_list_name{color:#ccc;font-size:14px}.file_select_list_item_active .file_list_name{color:#777}.common_file_list_item{padding:3px 120px 3px 62px}.common_file_list_item .file_list_type_ico{top:7px;left:15px}.common_file_list_item .file_list_name{line-height:20px;font-size:14px}.common_file_list_item .file_list_info{position:relative;line-height:20px;color:#aaa;padding-left:130px;zoom:1}.common_file_list_item .file_list_date{position:absolute;left:0;top:0;width:75px}.common_file_list_item .file_list_size{position:absolute;left:80px;top:0;width:45px}.common_file_list_splitter{background-color:#f5f5f5;padding:0 15px;line-height:26px;border-bottom:1px solid #e8e8e8}.common_file_list_item .file_list_ico_enter{top:15px;right:15px}.common_file_list_folder{cursor:pointer}.common_file_list_item .file_list_op{position:absolute;padding:3px 0;border-radius:5px;color:#e1e1e1;border:1px solid #e1e1e1;cursor:default}.common_file_list_item .file_list_op_download{right:15px;top:10px}.common_file_list_item .file_list_op_preview{right:65px;top:10px}.common_file_list_item .file_list_op_active{color:#444;cursor:pointer}.common_file_list_item .file_list_op_txt{padding:0 10px;line-height:20px}.common_file_list_item .file_list_progress_bar,.common_file_list_item .file_list_progress_track{position:absolute;bottom:0;height:3px;left:0;zoom:1}.common_file_list_item .file_list_progress_bar{width:100%}.common_file_list_item .file_list_progress_track{background-color:#78c06e;width:0}";
			Array.isArray = Array.isArray || function(e) {
				return "[object Array]" === Object.prototype.toString.call(e)
			}, String.isString = String.isString || function(e) {
				return "string" == typeof e || "[object String]" === Object.prototype.toString.call(e)
			}, extend(Function.prototype, {
				bind: function(e) {
					var t = this,
						r = arguments.length > 1 ? Array.prototype.slice.call(arguments, 1) : null,
						i = function() {}, o = function() {
							var n = e,
								l = arguments.length;
							this instanceof o && (i.prototype = t.prototype, n = new i);
							var a = r || l ? t.apply(n, r && l ? r.concat(Array.prototype.slice.call(arguments)) : r || arguments) : t.call(n);
							return n == e ? a : n
						};
					return o
				}
			}), extend(Array.prototype, {
				some: function(e, t) {
					for (var r = 0, i = this.length; i > r; r++)
						if (e.call(t || this, this[r], r, this)) return !0;
					return !1
				}
			});
			var PROGRESS = 0,
				RESOLVED = 1,
				REJECTED = 2,
				FULFILLED_ERROR_MESSAGE = "This deferred has already been fulfilled",
				signalWaiting = function(e, t, r) {
					for (var i = 0, o = e.length; o > i; i++) signalListener(e[i], t, r)
				}, signalListener = function(e, t, r) {
					var i = e[t],
						o = e.deferred;
					if (i) try {
						var n = i(r);
						if (t === PROGRESS) "undefined" != typeof n && signalDeferred(o, t, n);
						else {
							if (n && "function" == typeof n.then) return e.cancel = n.cancel.bind(n), void n.then(makeDeferredSignaler(o, RESOLVED), makeDeferredSignaler(o, REJECTED), makeDeferredSignaler(o, PROGRESS));
							signalDeferred(o, RESOLVED, n)
						}
					} catch (l) {
						$warn(l), signalDeferred(o, REJECTED, l)
					} else signalDeferred(o, t, r)
				}, makeDeferredSignaler = function(e, t) {
					return function(r) {
						signalDeferred(e, t, r)
					}
				}, signalDeferred = function(e, t, r) {
					if (!e.isCanceled()) switch (t) {
						case PROGRESS:
							e.progress(r);
							break;
						case RESOLVED:
							e.resolve(r);
							break;
						case REJECTED:
							e.reject(r)
					}
				}, Deferred = function(e) {
					var t = this;
					if (e)
						for (var r in e) t[r] = e[r];
					t.waiting = [], t.result = null, t.fulfilled = null, t.canceled = !1
				};
			extend(Deferred.prototype, {
				resolve: function(e) {
					var t = this;
					return t.fulfilled ? void $warn(FULFILLED_ERROR_MESSAGE) : (signalWaiting(t.waiting, t.fulfilled = RESOLVED, t.result = e), t.waiting = null, t)
				},
				reject: function(e, t) {
					var r = this;
					return r.fulfilled ? void(t || $warn(FULFILLED_ERROR_MESSAGE)) : (signalWaiting(r.waiting, r.fulfilled = REJECTED, r.result = e), r.waiting = null, r)
				},
				then: function(e, t, r) {
					var i = this,
						o = [r, e, t];
					o.cancel = i.cancel;
					var n = new Deferred({
						cfg_canceler: function(e) {
							return o.cancel && o.cancel.call(this, e, !0)
						}.bind(i)
					});
					return o.deferred = n, i.fulfilled ? (i.waiting = null, signalListener(o, i.fulfilled, i.result)) : i.waiting && i.waiting.push(o), n
				},
				always: function(e) {
					return this.then(e, e)
				},
				otherwise: function(e) {
					return this.then(null, e)
				},
				cancel: function(e, t) {
					var r = this;
					if (r.fulfilled) t || $warn(FULFILLED_ERROR_MESSAGE);
					else {
						if (r.cfg_canceler) {
							var i = r.cfg_canceler(e);
							e = "undefined" == typeof i ? e : i
						}
						if (r.canceled = !0, !r.fulfilled) return "undefined" == typeof e && (e = new Error("cancel")), r.reject(e), e;
						if (r.fulfilled === REJECTED && r.result === e) return e
					}
				},
				progress: function(e) {
					var t = this;
					return t.fulfilled ? void $warn(FULFILLED_ERROR_MESSAGE) : (signalWaiting(t.waiting, PROGRESS, e), t)
				},
				isResolved: function() {
					return this.fulfilled === RESOLVED
				},
				isRejected: function() {
					return this.fulfilled === REJECTED
				},
				isFulfilled: function() {
					return !!this.fulfilled
				},
				isCanceled: function() {
					return this.canceled
				}
			}), Deferred.when = function(e, t, r, i) {
				var o = e && "function" == typeof e.then;
				return o ? t || r || i ? e.then(t, r, i) : e : arguments.length > 1 ? t ? t(e) : e : (new Deferred).resolve(e)
			}, Deferred.createResolvedDeferred = function(e) {
				var t = new Deferred;
				return t.resolve(e), t
			}, Deferred.createRejectedDeferred = function(e) {
				var t = new Deferred;
				return t.reject(e), t
			};
			var DeferredList = {
				all: function(e, t) {
					var r, i;
					Array.isArray(e) ? i = e : e && "object" == typeof e && (r = e);
					var o, n = [];
					if (r) {
						i = [];
						for (var l in r) Object.hasOwnProperty.call(r, l) && (n.push(l), i.push(r[l]));
						o = {}
					} else i && (o = []); if (0 === i.length) return (new Deferred).resolve(o);
					var a = new Deferred;
					a.always(function() {
						o = n = null
					});
					var s = i.length;
					return i.some(function(e, i) {
						return r || n.push(i), Deferred.when(e, function(e) {
							a.isFulfilled() || (o[n[i]] = e, a.progress(e), 0 === --s && a.resolve(o))
						}, function(e) {
							a.isFulfilled() || (t ? s-- : a.reject(e))
						}), a.isFulfilled()
					}), a
				}
			}, StringUtils = {
					endsWith: function(e, t) {
						var r = e.length - t.length;
						return r >= 0 && e.indexOf(t, r) === r
					}
				}, PathUtils = {
					addUrlParam: function(e, t) {
						return t ? e.indexOf("?") >= 0 ? e + (StringUtils.endsWith(e, "?") ? "" : "&") + t : e + "?" + t : e
					},
					buildQuery: function(e) {
						var t = [];
						if (e)
							for (var r in e) {
								var i = e[r];
								void 0 != i && t.push(r + "=" + encodeURIComponent(i))
							}
						return t.join("&")
					}
				}, XHRUtils = function() {
					function parseData(e, t) {
						if (e) {
							if (e instanceof window.FormData) return e;
							if (t) return JSON.stringify(e);
							var r = [];
							for (var i in e) {
								var o = e[i];
								void 0 != o && null !== o && ("object" == typeof o && (o = JSON.stringify(o)), r.push(encodeURIComponent(i) + "=" + encodeURIComponent(o)))
							}
							return r.join("&").replace(r20, "+")
						}
					}

					function checkStatus(e) {
						return e = e || 0, e >= 200 && 300 > e || 304 === e || 1223 === e || !e
					}

					function processSuccess(e, t, r) {
						try {
							var i = dataHandlers[r.dataType];
							e.resolve(i ? i(t) : t)
						} catch (o) {
							e.reject({
								reason: "EXCEPTION_REJECT",
								exception: o
							})
						}
					}

					function processError(e, t) {
						var r = {
							reason: "AJAX_REJECT",
							status: t.status
						}, i = t.responseText;
						i && (r.response = i), e.reject(r)
					}

					function processXMLHttpRequest(e, t, r) {
						if (e.addEventListener) {
							var i = function(e) {
								l(), checkStatus(this.status) ? processSuccess(r, this.responseText, t) : processError(r, this)
							}, o = function(e) {
									l(), processError(r, this)
								}, n = function(e) {
									e.lengthComputable && r.progress({
										total: e.total,
										loaded: e.loaded
									})
								};
							e.addEventListener("load", i, !1), e.addEventListener("error", o, !1), t.isUpload && e.upload.addEventListener("progress", n, !1);
							var l = function() {
								e.removeEventListener("load", i, !1), e.removeEventListener("error", o, !1), t.isUpload && e.upload.removeEventListener("progress", n, !1), e = i = o = n = l = null
							}
						} else e.onreadystatechange = function() {
							if (4 == e.readyState) {
								checkStatus(e.status) ? processSuccess(r, e.responseText, t) : processError(r, e);
								try {
									e.onreadystatechange = null
								} catch (i) {
									e.onreadystatechange = function() {}
								}
								e = null
							}
						}
					}

					function testFunctionList(e) {
						for (var t = 0, r = e.length; r > t; t++) {
							var i = e[t];
							try {
								i();
								break
							} catch (o) {}
						}
						return i
					}

					function ajax(e, t, r) {
						var i = new Deferred;
						r = r || {};
						var o = r.jsonRequest,
							n = parseData(r.data, o);
						try {
							var l = !! r.isUpload;
							buildXMLHttpRequest = buildXMLHttpRequest || function(e) {
								return testFunctionList([
									function() {
										return new e.ActiveXObject("MSXML2.XMLHttp.6.0")
									},
									function() {
										return new e.ActiveXObject("MSXML2.XMLHttp.3.0")
									},
									function() {
										return new XMLHttpRequest
									},
									function() {
										return new e.ActiveXObject("MSXML2.XMLHttp.5.0")
									},
									function() {
										return new e.ActiveXObject("MSXML2.XMLHttp.4.0")
									},
									function() {
										return new e.ActiveXObject("Msxml2.XMLHTTP")
									},
									function() {
										return new e.ActiveXObject("MSXML.XMLHttp")
									},
									function() {
										return new e.ActiveXObject("Microsoft.XMLHTTP")
									}
								])
							}(window);
							var a = l ? new XMLHttpRequest : buildXMLHttpRequest();
							i.cfg_canceler = function(e) {
								try {
									a.abort()
								} catch (t) {}
								return e
							}, processXMLHttpRequest(a, r, i), a.open(t, e, !0);
							var s = r.headers,
								c = l ? s : extend(o ? jsonRequestHeader : defaultHeaders, s, !0);
							if (c)
								for (var d in c) {
									var u = c[d];
									u && a.setRequestHeader(d, u)
								}
							a.send(n || null), setTimeout(function() {
								i.isFulfilled() || i.progress()
							}, 10)
						} catch (p) {
							$warn(p), i.reject({
								reason: "EXCEPTION_REJECT",
								exception: p
							})
						}
						return i
					}
					var r20 = /%20/g,
						buildXMLHttpRequest, defaultHeaders = {
							"X-Requested-With": "XMLHttpRequest",
							"Content-Type": "application/x-www-form-urlencoded"
						}, jsonRequestHeader = {
							"Content-Type": "application/json;charset=UTF-8"
						}, dataHandlers = {
							javascript: function(responseText) {
								return eval("(" + responseText + ")" || "")
							},
							json: function(e) {
								return JSON.parse(e || null)
							}
						};
					return {
						get: function(e, t) {
							return ajax(e, "get", t)
						},
						post: function(e, t) {
							return ajax(e, "post", t)
						}
					}
				}(),
				JsonP = function() {
					function e() {
						return i = i || D.getElementsByTagName("head")[0]
					}

					function t(e, t) {
						var r = D.createElement("script");
						return e.indexOf("://") < 0 && (e = W.location.protocol + "//" + e), t._timestamp_ = Date.now(), r.setAttribute("src", PathUtils.addUrlParam(e, PathUtils.buildQuery(t))), r.setAttribute("async", !0), r.setAttribute("_cb", t.callback), r.setAttribute("type", "text/javascript"), r
					}

					function r(t, r) {
						var i = function() {
							setTimeout(function() {
								for (var t = e().childNodes, i = 0, o = t.length; o > i; i++) {
									var n = t[i];
									if (1 == n.nodeType && "SCRIPT" == n.tagName && n.getAttribute("_cb") === r) {
										n.onload = n.onreadystatechange = n.onerror = null, n.parentNode.removeChild(n);
										break
									}
								}
								W[r] = null
							}, 200)
						};
						"addEventListener" in t ? t.onload = i : "readyState" in t ? t.onreadystatechange = function() {
							var e = t.readyState;
							("loaded" == e || "complete" == e) && i()
						} : t.onload = i, t.onerror = i
					}
					var i, o = "jsonp_",
						n = 0;
					return {
						request: function(i, l) {
							var a = new Deferred;
							l = l || {};
							var s = l.callback = o + n++,
								c = t(i, l);
							return r(c, s), W[s] = function(e) {
								a.resolve(e)
							}, e().appendChild(c), a
						}
					}
				}(),
				orgSpaceMap = {}, TYPE_FILE_SELECT = "1",
				TYPE_FILE_SAVE = "2",
				getOrgListDeferred, fileSelectScriptUrl, dingtalkAPIScriptUrl, getOrgListUrl, getSummaryUrl, getGroupListUrl, getFileListUrl, repathUrl, statusUrl, addDirectUrl, commonFileListScriptUrl, downloadUrl, fileSelectCountLimit, cspacePlugin = {
					getOrgList: getOrgList,
					setConfig: function(e) {
						commonFileListScriptUrl = e.commonFileListScriptUrl, fileSelectScriptUrl = e.fileSelectScriptUrl, getOrgListUrl = e.getOrgListUrl, getSummaryUrl = e.getSummaryUrl, getGroupListUrl = e.getGroupListUrl, getFileListUrl = e.getFileListUrl, repathUrl = e.repathUrl, statusUrl = e.statusUrl, addDirectUrl = e.addDirectUrl, downloadUrl = e.downloadUrl, fileSelectCountLimit = e.fileSelectCountLimit, dingtalkAPIScriptUrl = e.dingtalkAPIScriptUrl
					},
					renderCommonFileList: function(e) {
						return createCommonFileListIframe(e).then(function(t) {
							var r = t.contentWindow;
							return bindCommonFileListIframeEvent(r), wairForRoot(r).then(function(t) {
								var r = e.orgId,
									i = e.spaceId,
									o = "/";
								return t.setOrgIdAndPath(r, i, o), t.setGetFileListDeferred(getFileList({
									orgId: r,
									spaceId: i,
									path: o
								})), t
							})
						})
					},
					validateFileSelect: validateFileSelect,
					renderDingFileIframe: function(e) {
						var t = e.container;
						return t.innerHTML = buildNodeHtml("iframe", {
							frameBorder: "0",
							allowTransparency: "true",
							style: "position: absolute;top: 0;left: 0;width: 100%;height: 100%;padding:0;margin:0;border:0"
						}), loadContentBySrc(t.firstChild, e.src)
					},
					openFileSelectDialog: function(e) {
						e = e || {};
						var t = e.onSelect,
							r = e.onSelectError;
						getOrgList().then(function(i) {
							var o = e.file,
								n = e.orgId,
								l = e.targetSpaceId,
								a = e.targetUserOrgList,
								s = e.dialogType || TYPE_FILE_SELECT,
								c = s == TYPE_FILE_SELECT ? "发送" : "保存到";
							createFileSelectIframe(e).then(function(e) {
								var d = e.contentWindow;
								wairForRoot(d).then(function(e) {
									bindFileSelectIframeEvent(d);
									var u, p = !1;
									s == TYPE_FILE_SELECT ? (u = n || i[0].value, d.func_ok = function() {
										var i, o = (e.getPath(), e.getFileSelection()),
											n = o.length;
										if (n) {
											if (fileSelectCountLimit && n > fileSelectCountLimit) return void(r && r({
												errorCode: 1010,
												developerMessage: "too many file selected, limit [" + fileSelectCountLimit + "]"
											}));
											if (o[0].spaceId == l) t && t({
												failedList: [],
												successList: o
											});
											else {
												var a = copyFileList(o, l);
												i = a.deferred;
												var s = a.srcOrgId,
													c = a.srcSpaceId;
												e.processLoading(i), i.then(function(r) {
													if (r.success) {
														var i = r.data,
															o = i.progress;
														if (100 == o) t && t(i);
														else {
															var n = new Deferred;
															e.processLoading(n), tryToGetProgress(i.statusId, s, c, n), n.then(function(e) {
																t && t(e)
															})
														}
													}
												})
											}
										}
									}) : s == TYPE_FILE_SAVE && (p = !! o.orgId, u = o.orgId || i[0].value, d.func_ok = function() {
										var r, i = e.getPath();
										r = o.url ? XHRUtils.post(addDirectUrl, {
											jsonRequest: !0,
											dataType: "json",
											data: {
												fromIm: !0,
												orgId: i.orgId,
												spaceId: i.spaceId,
												autoRename: !0,
												path: formatPath(i.path) + (o.fileName || "01"),
												downloadUrl: o.url
											}
										}) : XHRUtils.post(repathUrl, {
											jsonRequest: !0,
											dataType: "json",
											data: {
												orgId: i.orgId,
												srcSpaceId: o.spaceId,
												targetSpaceId: i.spaceId,
												srcPaths: [{
													path: o.id || o.path,
													index: 0
												}],
												targetFolderPath: i.path,
												cutSrc: !1,
												overwrite: !1,
												autoRename: !0
											}
										}), e.toggleBlueButtonActive(!1), t && t(r)
									}), e.setRootConfig(s, c, n, a, p), e.setOrgIdAndPath(u), e.setGetFileListDeferred(buildOrgSpaceList(u, calcIsContainOrgFolder(s, u, n, a)))
								})
							})
						})
					}
				};
			module.exports = cspacePlugin;


		}, {}
	],
	460: [
		function(require, module, exports) {
			! function() {
				"use strict";
				var e = {
					TAB: 9,
					ENTER: 13,
					ESC: 27,
					SPACE: 32,
					LEFT: 37,
					UP: 38,
					RIGHT: 39,
					DOWN: 40,
					SHIFT: 16,
					CTRL: 17,
					ALT: 18,
					PAGE_UP: 33,
					PAGE_DOWN: 34,
					HOME: 36,
					END: 35,
					BACKSPACE: 8,
					DELETE: 46,
					COMMAND: 91,
					MAP: {
						91: "COMMAND",
						8: "BACKSPACE",
						9: "TAB",
						13: "ENTER",
						16: "SHIFT",
						17: "CTRL",
						18: "ALT",
						19: "PAUSEBREAK",
						20: "CAPSLOCK",
						27: "ESC",
						32: "SPACE",
						33: "PAGE_UP",
						34: "PAGE_DOWN",
						35: "END",
						36: "HOME",
						37: "LEFT",
						38: "UP",
						39: "RIGHT",
						40: "DOWN",
						43: "+",
						44: "PRINTSCREEN",
						45: "INSERT",
						46: "DELETE",
						48: "0",
						49: "1",
						50: "2",
						51: "3",
						52: "4",
						53: "5",
						54: "6",
						55: "7",
						56: "8",
						57: "9",
						59: ";",
						61: "=",
						65: "A",
						66: "B",
						67: "C",
						68: "D",
						69: "E",
						70: "F",
						71: "G",
						72: "H",
						73: "I",
						74: "J",
						75: "K",
						76: "L",
						77: "M",
						78: "N",
						79: "O",
						80: "P",
						81: "Q",
						82: "R",
						83: "S",
						84: "T",
						85: "U",
						86: "V",
						87: "W",
						88: "X",
						89: "Y",
						90: "Z",
						96: "0",
						97: "1",
						98: "2",
						99: "3",
						100: "4",
						101: "5",
						102: "6",
						103: "7",
						104: "8",
						105: "9",
						106: "*",
						107: "+",
						109: "-",
						110: ".",
						111: "/",
						112: "F1",
						113: "F2",
						114: "F3",
						115: "F4",
						116: "F5",
						117: "F6",
						118: "F7",
						119: "F8",
						120: "F9",
						121: "F10",
						122: "F11",
						123: "F12",
						144: "NUMLOCK",
						145: "SCROLLLOCK",
						186: ";",
						187: "=",
						188: ",",
						189: "-",
						190: ".",
						191: "/",
						192: "`",
						219: "[",
						220: "\\",
						221: "]",
						222: "'"
					},
					isControl: function(t) {
						var c = t.which;
						switch (c) {
							case e.COMMAND:
							case e.SHIFT:
							case e.CTRL:
							case e.ALT:
								return !0
						}
						return t.metaKey ? !0 : !1
					},
					isFunctionKey: function(e) {
						return e = e.which ? e.which : e, e >= 112 && 123 >= e
					},
					isVerticalMovement: function(t) {
						return~ [e.UP, e.DOWN].indexOf(t)
					},
					isHorizontalMovement: function(t) {
						return~ [e.LEFT, e.RIGHT, e.BACKSPACE, e.DELETE].indexOf(t)
					}
				};
				void 0 === angular.element.prototype.querySelectorAll && (angular.element.prototype.querySelectorAll = function(e) {
					return angular.element(this[0].querySelectorAll(e))
				}), void 0 === angular.element.prototype.closest && (angular.element.prototype.closest = function(e) {
					for (var t = this[0], c = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.msMatchesSelector; t;) {
						if (c.bind(t)(e)) return t;
						t = t.parentElement
					}
					return !1
				});
				var t = 0,
					c = angular.module("ui.select", []).constant("uiSelectConfig", {
						theme: "bootstrap",
						searchEnabled: !0,
						sortable: !1,
						placeholder: "",
						refreshDelay: 1e3,
						closeOnSelect: !0,
						generateId: function() {
							return t++
						},
						appendToBody: !1
					}).service("uiSelectMinErr", function() {
						var e = angular.$$minErr("ui.select");
						return function() {
							var t = e.apply(this, arguments),
								c = t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"), "");
							return new Error(c)
						}
					}).directive("uisTranscludeAppend", function() {
						return {
							link: function(e, t, c, i, s) {
								s(e, function(e) {
									t.append(e)
								})
							}
						}
					}).filter("highlight", function() {
						function e(e) {
							return e.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1")
						}
						return function(t, c) {
							return c && t ? t.replace(new RegExp(e(c), "gi"), '<span class="ui-select-highlight">$&</span>') : t
						}
					}).factory("uisOffset", ["$document", "$window",
						function(e, t) {
							return function(c) {
								var i = c[0].getBoundingClientRect();
								return {
									width: i.width || c.prop("offsetWidth"),
									height: i.height || c.prop("offsetHeight"),
									top: i.top + (t.pageYOffset || e[0].documentElement.scrollTop),
									left: i.left + (t.pageXOffset || e[0].documentElement.scrollLeft)
								}
							}
						}
					]);
				c.directive("uiSelectChoices", ["uiSelectConfig", "uisRepeatParser", "uiSelectMinErr", "$compile",
					function(e, t, c, i) {
						return {
							restrict: "EA",
							require: "^uiSelect",
							replace: !0,
							transclude: !0,
							templateUrl: function(t) {
								var c = t.parent().attr("theme") || e.theme;
								return c + "/choices.tpl.html"
							},
							compile: function(s, l) {
								if (!l.repeat) throw c("repeat", "Expected 'repeat' expression.");
								return function(s, l, n, a, r) {
									var o = n.groupBy;
									if (a.parseRepeatAttr(n.repeat, o), a.disableChoiceExpression = n.uiDisableChoice, a.onHighlightCallback = n.onHighlight, o) {
										var u = l.querySelectorAll(".ui-select-choices-group");
										if (1 !== u.length) throw c("rows", "Expected 1 .ui-select-choices-group but got '{0}'.", u.length);
										u.attr("ng-repeat", t.getGroupNgRepeatExpression())
									}
									var d = l.querySelectorAll(".ui-select-choices-row");
									if (1 !== d.length) throw c("rows", "Expected 1 .ui-select-choices-row but got '{0}'.", d.length);
									d.attr("ng-repeat", t.getNgRepeatExpression(a.parserResult.itemName, "$select.items", a.parserResult.trackByExp, o)).attr("ng-if", "$select.open").attr("ng-mouseenter", "$select.setActiveItem(" + a.parserResult.itemName + ")").attr("ng-click", "$select.select(" + a.parserResult.itemName + ",false,$event)");
									var p = l.querySelectorAll(".ui-select-choices-row-inner");
									if (1 !== p.length) throw c("rows", "Expected 1 .ui-select-choices-row-inner but got '{0}'.", p.length);
									p.attr("uis-transclude-append", ""), i(l, r)(s), s.$watch("$select.search", function(e) {
										e && !a.open && a.multiple && a.activate(!1, !0), a.activeIndex = a.tagging.isActivated ? -1 : 0, a.refresh(n.refresh)
									}), n.$observe("refreshDelay", function() {
										var t = s.$eval(n.refreshDelay);
										a.refreshDelay = void 0 !== t ? t : e.refreshDelay
									})
								}
							}
						}
					}
				]), c.controller("uiSelectCtrl", ["$scope", "$element", "$timeout", "$filter", "uisRepeatParser", "uiSelectMinErr", "uiSelectConfig",
					function(t, c, i, s, l, n, a) {
						function r() {
							(d.resetSearchInput || void 0 === d.resetSearchInput && a.resetSearchInput) && (d.search = p, d.selected && d.items.length && !d.multiple && (d.activeIndex = d.items.indexOf(d.selected)))
						}

						function o(t) {
							var c = !0;
							switch (t) {
								case e.DOWN:
									!d.open && d.multiple ? d.activate(!1, !0) : d.activeIndex < d.items.length - 1 && d.activeIndex++;
									break;
								case e.UP:
									!d.open && d.multiple ? d.activate(!1, !0) : (d.activeIndex > 0 || 0 === d.search.length && d.tagging.isActivated && d.activeIndex > -1) && d.activeIndex--;
									break;
								case e.TAB:
									(!d.multiple || d.open) && d.select(d.items[d.activeIndex], !0);
									break;
								case e.ENTER:
									d.open && d.activeIndex >= 0 ? d.select(d.items[d.activeIndex]) : d.activate(!1, !0);
									break;
								case e.ESC:
									d.close();
									break;
								default:
									c = !1
							}
							return c
						}

						function u() {
							var e = c.querySelectorAll(".ui-select-choices-content"),
								t = e.querySelectorAll(".ui-select-choices-row");
							if (t.length < 1) throw n("choices", "Expected multiple .ui-select-choices-row but got '{0}'.", t.length);
							if (!(d.activeIndex < 0)) {
								var i = t[d.activeIndex],
									s = i.offsetTop + i.clientHeight - e[0].scrollTop,
									l = e[0].offsetHeight;
								s > l ? e[0].scrollTop += s - l : s < i.clientHeight && (d.isGrouped && 0 === d.activeIndex ? e[0].scrollTop = 0 : e[0].scrollTop -= i.clientHeight - s)
							}
						}
						var d = this,
							p = "";
						if (d.placeholder = a.placeholder, d.searchEnabled = a.searchEnabled, d.sortable = a.sortable, d.refreshDelay = a.refreshDelay, d.removeSelected = !1, d.closeOnSelect = !0, d.search = p, d.activeIndex = 0, d.items = [], d.open = !1, d.focus = !1, d.disabled = !1, d.selected = void 0, d.focusser = void 0, d.resetSearchInput = !0, d.multiple = void 0, d.disableChoiceExpression = void 0, d.tagging = {
							isActivated: !1,
							fct: void 0
						}, d.taggingTokens = {
							isActivated: !1,
							tokens: void 0
						}, d.lockChoiceExpression = void 0, d.clickTriggeredSelect = !1, d.$filter = s, d.searchInput = c.querySelectorAll("input.ui-select-search"), 1 !== d.searchInput.length) throw n("searchInput", "Expected 1 input.ui-select-search but got '{0}'.", d.searchInput.length);
						d.isEmpty = function() {
							return angular.isUndefined(d.selected) || null === d.selected || "" === d.selected
						}, d.activate = function(e, c) {
							d.disabled || d.open || (c || r(), t.$broadcast("uis:activate"), d.open = !0, d.activeIndex = d.activeIndex >= d.items.length ? 0 : d.activeIndex, -1 === d.activeIndex && d.taggingLabel !== !1 && (d.activeIndex = 0), i(function() {
								d.search = e || d.search, d.searchInput[0].focus()
							}))
						}, d.findGroupByName = function(e) {
							return d.groups && d.groups.filter(function(t) {
								return t.name === e
							})[0]
						}, d.parseRepeatAttr = function(e, c) {
							function i(e) {
								d.groups = [], angular.forEach(e, function(e) {
									var i = t.$eval(c),
										s = angular.isFunction(i) ? i(e) : e[i],
										l = d.findGroupByName(s);
									l ? l.items.push(e) : d.groups.push({
										name: s,
										items: [e]
									})
								}), d.items = [], d.groups.forEach(function(e) {
									d.items = d.items.concat(e.items)
								})
							}

							function s(e) {
								d.items = e
							}
							d.setItemsFn = c ? i : s, d.parserResult = l.parse(e), d.isGrouped = !! c, d.itemProperty = d.parserResult.itemName, d.refreshItems = function(e) {
								e = e || d.parserResult.source(t);
								var c = d.selected;
								if (angular.isArray(c) && !c.length || !d.removeSelected) d.setItemsFn(e);
								else if (void 0 !== e) {
									var i = e.filter(function(e) {
										return c.indexOf(e) < 0
									});
									d.setItemsFn(i)
								}
							}, t.$watchCollection(d.parserResult.source, function(e) {
								if (void 0 === e || null === e) d.items = [];
								else {
									if (!angular.isArray(e)) throw n("items", "Expected an array but got '{0}'.", e);
									d.refreshItems(e), d.ngModel.$modelValue = null
								}
							})
						};
						var h;
						d.refresh = function(e) {
							void 0 !== e && (h && i.cancel(h), h = i(function() {
								t.$eval(e)
							}, d.refreshDelay))
						}, d.setActiveItem = function(e) {
							d.activeIndex = d.items.indexOf(e)
						}, d.isActive = function(e) {
							if (!d.open) return !1;
							var t = d.items.indexOf(e[d.itemProperty]),
								c = t === d.activeIndex;
							return !c || 0 > t && d.taggingLabel !== !1 || 0 > t && d.taggingLabel === !1 ? !1 : (c && !angular.isUndefined(d.onHighlightCallback) && e.$eval(d.onHighlightCallback), c)
						}, d.isDisabled = function(e) {
							if (d.open) {
								var t, c = d.items.indexOf(e[d.itemProperty]),
									i = !1;
								return c >= 0 && !angular.isUndefined(d.disableChoiceExpression) && (t = d.items[c], i = !! e.$eval(d.disableChoiceExpression), t._uiSelectChoiceDisabled = i), i
							}
						}, d.select = function(e, c, s) {
							if (void 0 === e || !e._uiSelectChoiceDisabled) {
								if (!d.items && !d.search) return;
								if (!e || !e._uiSelectChoiceDisabled) {
									if (d.tagging.isActivated) {
										if (d.taggingLabel === !1)
											if (d.activeIndex < 0) {
												if (e = void 0 !== d.tagging.fct ? d.tagging.fct(d.search) : d.search, !e || angular.equals(d.items[0], e)) return
											} else e = d.items[d.activeIndex];
											else
										if (0 === d.activeIndex) {
											if (void 0 === e) return;
											if (void 0 !== d.tagging.fct && "string" == typeof e) {
												if (e = d.tagging.fct(d.search), !e) return
											} else "string" == typeof e && (e = e.replace(d.taggingLabel, "").trim())
										}
										if (d.selected && angular.isArray(d.selected) && d.selected.filter(function(t) {
											return angular.equals(t, e)
										}).length > 0) return void d.close(c)
									}
									t.$broadcast("uis:select", e);
									var l = {};
									l[d.parserResult.itemName] = e, i(function() {
										d.onSelectCallback(t, {
											$item: e,
											$model: d.parserResult.modelMapper(t, l)
										})
									}), d.closeOnSelect && d.close(c), s && "click" === s.type && (d.clickTriggeredSelect = !0)
								}
							}
						}, d.close = function(e) {
							d.open && (d.ngModel && d.ngModel.$setTouched && d.ngModel.$setTouched(), r(), d.open = !1, t.$broadcast("uis:close", e))
						}, d.setFocus = function() {
							d.focus || d.focusInput[0].focus()
						}, d.clear = function(e) {
							d.select(void 0), e.stopPropagation(), d.focusser[0].focus()
						}, d.toggle = function(e) {
							d.open ? (d.close(), e.preventDefault(), e.stopPropagation()) : d.activate()
						}, d.isLocked = function(e, t) {
							var c, i = d.selected[t];
							return i && !angular.isUndefined(d.lockChoiceExpression) && (c = !! e.$eval(d.lockChoiceExpression), i._uiSelectChoiceLocked = c), c
						};
						var g = null;
						d.sizeSearchInput = function() {
							var e = d.searchInput[0],
								c = d.searchInput.parent().parent()[0],
								s = function() {
									return c.clientWidth * !! e.offsetParent
								}, l = function(t) {
									if (0 === t) return !1;
									var c = t - e.offsetLeft - 10;
									return 50 > c && (c = t), d.searchInput.css("width", c + "px"), !0
								};
							d.searchInput.css("width", "10px"), i(function() {
								null !== g || l(s()) || (g = t.$watch(s, function(e) {
									l(e) && (g(), g = null)
								}))
							})
						}, d.searchInput.on("keydown", function(c) {
							var s = c.which;
							t.$apply(function() {
								var t = !1;
								if ((d.items.length > 0 || d.tagging.isActivated) && (o(s), d.taggingTokens.isActivated)) {
									for (var l = 0; l < d.taggingTokens.tokens.length; l++) d.taggingTokens.tokens[l] === e.MAP[c.keyCode] && d.search.length > 0 && (t = !0);
									t && i(function() {
										d.searchInput.triggerHandler("tagged");
										var t = d.search.replace(e.MAP[c.keyCode], "").trim();
										d.tagging.fct && (t = d.tagging.fct(t)), t && d.select(t, !0)
									})
								}
							}), e.isVerticalMovement(s) && d.items.length > 0 && u()
						}), d.searchInput.on("paste", function(e) {
							var t = e.originalEvent.clipboardData.getData("text/plain");
							if (t && t.length > 0 && d.taggingTokens.isActivated && d.tagging.fct) {
								var c = t.split(d.taggingTokens.tokens[0]);
								c && c.length > 0 && (angular.forEach(c, function(e) {
									var t = d.tagging.fct(e);
									t && d.select(t, !0)
								}), e.preventDefault(), e.stopPropagation())
							}
						}), d.searchInput.on("tagged", function() {
							i(function() {
								r()
							})
						}), t.$on("$destroy", function() {
							d.searchInput.off("keyup keydown tagged blur paste")
						})
					}
				]), c.directive("uiSelect", ["$document", "uiSelectConfig", "uiSelectMinErr", "uisOffset", "$compile", "$parse", "$timeout",
					function(e, t, c, i, s, l, n) {
						return {
							restrict: "EA",
							templateUrl: function(e, c) {
								var i = c.theme || t.theme;
								return i + (angular.isDefined(c.multiple) ? "/select-multiple.tpl.html" : "/select.tpl.html")
							},
							replace: !0,
							transclude: !0,
							require: ["uiSelect", "^ngModel"],
							scope: !0,
							controller: "uiSelectCtrl",
							controllerAs: "$select",
							compile: function(s, a) {
								return angular.isDefined(a.multiple) ? s.append("<ui-select-multiple/>").removeAttr("multiple") : s.append("<ui-select-single/>"),
								function(s, a, r, o, u) {
									function d(e) {
										if (g.open) {
											var t = !1;
											if (t = window.jQuery ? window.jQuery.contains(a[0], e.target) : a[0].contains(e.target), !t && !g.clickTriggeredSelect) {
												var c = ["input", "button", "textarea"],
													i = angular.element(e.target).scope(),
													l = i && i.$select && i.$select !== g;
												l || (l = ~c.indexOf(e.target.tagName.toLowerCase())), g.close(l), s.$digest()
											}
											g.clickTriggeredSelect = !1
										}
									}

									function p() {
										var t = i(a);
										m = angular.element('<div class="ui-select-placeholder"></div>'), m[0].style.width = t.width + "px", m[0].style.height = t.height + "px", a.after(m), $ = a[0].style.width, e.find("body").append(a), a[0].style.position = "absolute", a[0].style.left = t.left + "px", a[0].style.top = t.top + "px", a[0].style.width = t.width + "px"
									}

									function h() {
										null !== m && (m.replaceWith(a), m = null, a[0].style.position = "", a[0].style.left = "", a[0].style.top = "", a[0].style.width = $)
									}
									var g = o[0],
										f = o[1];
									g.generatedId = t.generateId(), g.baseTitle = r.title || "Select box", g.focusserTitle = g.baseTitle + " focus", g.focusserId = "focusser-" + g.generatedId, g.closeOnSelect = function() {
										return angular.isDefined(r.closeOnSelect) ? l(r.closeOnSelect)() : t.closeOnSelect
									}(), g.onSelectCallback = l(r.onSelect), g.onRemoveCallback = l(r.onRemove), g.ngModel = f, g.choiceGrouped = function(e) {
										return g.isGrouped && e && e.name
									}, r.tabindex && r.$observe("tabindex", function(e) {
										g.focusInput.attr("tabindex", e), a.removeAttr("tabindex")
									}), s.$watch("searchEnabled", function() {
										var e = s.$eval(r.searchEnabled);
										g.searchEnabled = void 0 !== e ? e : t.searchEnabled
									}), s.$watch("sortable", function() {
										var e = s.$eval(r.sortable);
										g.sortable = void 0 !== e ? e : t.sortable
									}), r.$observe("disabled", function() {
										g.disabled = void 0 !== r.disabled ? r.disabled : !1
									}), r.$observe("resetSearchInput", function() {
										var e = s.$eval(r.resetSearchInput);
										g.resetSearchInput = void 0 !== e ? e : !0
									}), r.$observe("tagging", function() {
										if (void 0 !== r.tagging) {
											var e = s.$eval(r.tagging);
											g.tagging = {
												isActivated: !0,
												fct: e !== !0 ? e : void 0
											}
										} else g.tagging = {
											isActivated: !1,
											fct: void 0
										}
									}), r.$observe("taggingLabel", function() {
										void 0 !== r.tagging && ("false" === r.taggingLabel ? g.taggingLabel = !1 : g.taggingLabel = void 0 !== r.taggingLabel ? r.taggingLabel : "(new)")
									}), r.$observe("taggingTokens", function() {
										if (void 0 !== r.tagging) {
											var e = void 0 !== r.taggingTokens ? r.taggingTokens.split("|") : [",", "ENTER"];
											g.taggingTokens = {
												isActivated: !0,
												tokens: e
											}
										}
									}), angular.isDefined(r.autofocus) && n(function() {
										g.setFocus()
									}), angular.isDefined(r.focusOn) && s.$on(r.focusOn, function() {
										n(function() {
											g.setFocus()
										})
									}), e.on("click", d), s.$on("$destroy", function() {
										e.off("click", d)
									}), u(s, function(e) {
										var t = angular.element("<div>").append(e),
											i = t.querySelectorAll(".ui-select-match");
										if (i.removeAttr("ui-select-match"), i.removeAttr("data-ui-select-match"), 1 !== i.length) throw c("transcluded", "Expected 1 .ui-select-match but got '{0}'.", i.length);
										a.querySelectorAll(".ui-select-match").replaceWith(i);
										var s = t.querySelectorAll(".ui-select-choices");
										if (s.removeAttr("ui-select-choices"), s.removeAttr("data-ui-select-choices"), 1 !== s.length) throw c("transcluded", "Expected 1 .ui-select-choices but got '{0}'.", s.length);
										a.querySelectorAll(".ui-select-choices").replaceWith(s)
									});
									var v = s.$eval(r.appendToBody);
									(void 0 !== v ? v : t.appendToBody) && (s.$watch("$select.open", function(e) {
										e ? p() : h()
									}), s.$on("$destroy", function() {
										h()
									}));
									var m = null,
										$ = ""
								}
							}
						}
					}
				]), c.directive("uiSelectMatch", ["uiSelectConfig",
					function(e) {
						return {
							restrict: "EA",
							require: "^uiSelect",
							replace: !0,
							transclude: !0,
							templateUrl: function(t) {
								var c = t.parent().attr("theme") || e.theme,
									i = t.parent().attr("multiple");
								return c + (i ? "/match-multiple.tpl.html" : "/match.tpl.html")
							},
							link: function(t, c, i, s) {
								function l(e) {
									s.allowClear = angular.isDefined(e) ? "" === e ? !0 : "true" === e.toLowerCase() : !1
								}
								s.lockChoiceExpression = i.uiLockChoice, i.$observe("placeholder", function(t) {
									s.placeholder = void 0 !== t ? t : e.placeholder
								}), i.$observe("allowClear", l), l(i.allowClear), s.multiple && s.sizeSearchInput()
							}
						}
					}
				]), c.directive("uiSelectMultiple", ["uiSelectMinErr", "$timeout",
					function(t, c) {
						return {
							restrict: "EA",
							require: ["^uiSelect", "^ngModel"],
							controller: ["$scope", "$timeout",
								function(e, t) {
									var c, i = this,
										s = e.$select;
									e.$evalAsync(function() {
										c = e.ngModel
									}), i.activeMatchIndex = -1, i.updateModel = function() {
										c.$setViewValue(Date.now()), i.refreshComponent()
									}, i.refreshComponent = function() {
										s.refreshItems(), s.sizeSearchInput()
									}, i.removeChoice = function(c) {
										var l = s.selected[c];
										if (!l._uiSelectChoiceLocked) {
											var n = {};
											n[s.parserResult.itemName] = l, s.selected.splice(c, 1), i.activeMatchIndex = -1, s.sizeSearchInput(), t(function() {
												s.onRemoveCallback(e, {
													$item: l,
													$model: s.parserResult.modelMapper(e, n)
												})
											}), i.updateModel()
										}
									}, i.getPlaceholder = function() {
										return s.selected.length ? void 0 : s.placeholder
									}
								}
							],
							controllerAs: "$selectMultiple",
							link: function(i, s, l, n) {
								function a(e) {
									return angular.isNumber(e.selectionStart) ? e.selectionStart : e.value.length
								}

								function r(t) {
									function c() {
										switch (t) {
											case e.LEFT:
												return~ h.activeMatchIndex ? u : n;
											case e.RIGHT:
												return~ h.activeMatchIndex && r !== n ? o : (d.activate(), !1);
											case e.BACKSPACE:
												return~ h.activeMatchIndex ? (h.removeChoice(r), u) : n;
											case e.DELETE:
												return~ h.activeMatchIndex ? (h.removeChoice(h.activeMatchIndex), r) : !1
										}
									}
									var i = a(d.searchInput[0]),
										s = d.selected.length,
										l = 0,
										n = s - 1,
										r = h.activeMatchIndex,
										o = h.activeMatchIndex + 1,
										u = h.activeMatchIndex - 1,
										p = r;
									return i > 0 || d.search.length && t == e.RIGHT ? !1 : (d.close(), p = c(), d.selected.length && p !== !1 ? h.activeMatchIndex = Math.min(n, Math.max(l, p)) : h.activeMatchIndex = -1, !0)
								}

								function o(e) {
									if (void 0 === e || void 0 === d.search) return !1;
									var t = e.filter(function(e) {
										return void 0 === d.search.toUpperCase() || void 0 === e ? !1 : e.toUpperCase() === d.search.toUpperCase()
									}).length > 0;
									return t
								}

								function u(e, t) {
									var c = -1;
									if (angular.isArray(e))
										for (var i = angular.copy(e), s = 0; s < i.length; s++)
											if (void 0 === d.tagging.fct) i[s] + " " + d.taggingLabel === t && (c = s);
											else {
												var l = i[s];
												l.isTag = !0, angular.equals(l, t) && (c = s)
											}
									return c
								}
								var d = n[0],
									p = i.ngModel = n[1],
									h = i.$selectMultiple;
								d.multiple = !0, d.removeSelected = !0, d.focusInput = d.searchInput, p.$parsers.unshift(function() {
									for (var e, t = {}, c = [], s = d.selected.length - 1; s >= 0; s--) t = {}, t[d.parserResult.itemName] = d.selected[s], e = d.parserResult.modelMapper(i, t), c.unshift(e);
									return c
								}), p.$formatters.unshift(function(e) {
									var t, c = d.parserResult.source(i, {
											$select: {
												search: ""
											}
										}),
										s = {};
									if (!c) return e;
									var l = [],
										n = function(e, c) {
											if (e && e.length) {
												for (var n = e.length - 1; n >= 0; n--) {
													if (s[d.parserResult.itemName] = e[n], t = d.parserResult.modelMapper(i, s), d.parserResult.trackByExp) {
														var a = /\.(.+)/.exec(d.parserResult.trackByExp);
														if (a.length > 0 && t[a[1]] == c[a[1]]) return l.unshift(e[n]), !0
													}
													if (angular.equals(t, c)) return l.unshift(e[n]), !0
												}
												return !1
											}
										};
									if (!e) return l;
									for (var a = e.length - 1; a >= 0; a--) n(d.selected, e[a]) || n(c, e[a]) || l.unshift(e[a]);
									return l
								}), i.$watchCollection(function() {
									return p.$modelValue
								}, function(e, t) {
									t != e && (p.$modelValue = null, h.refreshComponent())
								}), p.$render = function() {
									if (!angular.isArray(p.$viewValue)) {
										if (!angular.isUndefined(p.$viewValue) && null !== p.$viewValue) throw t("multiarr", "Expected model value to be array but got '{0}'", p.$viewValue);
										d.selected = []
									}
									d.selected = p.$viewValue, i.$evalAsync()
								}, i.$on("uis:select", function(e, t) {
									d.selected.push(t), h.updateModel()
								}), i.$on("uis:activate", function() {
									h.activeMatchIndex = -1
								}), i.$watch("$select.disabled", function(e, t) {
									t && !e && d.sizeSearchInput()
								}), d.searchInput.on("keydown", function(t) {
									var c = t.which;
									i.$apply(function() {
										var i = !1;
										e.isHorizontalMovement(c) && (i = r(c)), i && c != e.TAB && (t.preventDefault(), t.stopPropagation())
									})
								}), d.searchInput.on("keyup", function(t) {
									if (e.isVerticalMovement(t.which) || i.$evalAsync(function() {
										d.activeIndex = d.taggingLabel === !1 ? -1 : 0
									}), d.tagging.isActivated && d.search.length > 0) {
										if (t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || e.isVerticalMovement(t.which)) return;
										if (d.activeIndex = d.taggingLabel === !1 ? -1 : 0, d.taggingLabel === !1) return;
										var c, s, l, n, a = angular.copy(d.items),
											r = angular.copy(d.items),
											p = !1,
											h = -1;
										if (void 0 !== d.tagging.fct) {
											if (l = d.$filter("filter")(a, {
												isTag: !0
											}), l.length > 0 && (n = l[0]), a.length > 0 && n && (p = !0, a = a.slice(1, a.length), r = r.slice(1, r.length)), c = d.tagging.fct(d.search), c.isTag = !0, r.filter(function(e) {
												return angular.equals(e, d.tagging.fct(d.search))
											}).length > 0) return;
											c.isTag = !0
										} else {
											if (l = d.$filter("filter")(a, function(e) {
												return e.match(d.taggingLabel)
											}), l.length > 0 && (n = l[0]), s = a[0], void 0 !== s && a.length > 0 && n && (p = !0, a = a.slice(1, a.length), r = r.slice(1, r.length)), c = d.search + " " + d.taggingLabel, u(d.selected, d.search) > -1) return;
											if (o(r.concat(d.selected))) return void(p && (a = r, i.$evalAsync(function() {
												d.activeIndex = 0, d.items = a
											})));
											if (o(r)) return void(p && (d.items = r.slice(1, r.length)))
										}
										p && (h = u(d.selected, c)), h > -1 ? a = a.slice(h + 1, a.length - 1) : (a = [], a.push(c), a = a.concat(r)), i.$evalAsync(function() {
											d.activeIndex = 0, d.items = a
										})
									}
								}), d.searchInput.on("blur", function() {
									c(function() {
										h.activeMatchIndex = -1
									})
								})
							}
						}
					}
				]), c.directive("uiSelectSingle", ["$timeout", "$compile",
					function(t, c) {
						return {
							restrict: "EA",
							require: ["^uiSelect", "^ngModel"],
							link: function(i, s, l, n) {
								var a = n[0],
									r = n[1];
								r.$parsers.unshift(function(e) {
									var t, c = {};
									return c[a.parserResult.itemName] = e, t = a.parserResult.modelMapper(i, c)
								}), r.$formatters.unshift(function(e) {
									var t, c = a.parserResult.source(i, {
											$select: {
												search: ""
											}
										}),
										s = {};
									if (c) {
										var l = function(c) {
											return s[a.parserResult.itemName] = c, t = a.parserResult.modelMapper(i, s), t == e
										};
										if (a.selected && l(a.selected)) return a.selected;
										for (var n = c.length - 1; n >= 0; n--)
											if (l(c[n])) return c[n]
									}
									return e
								}), i.$watch("$select.selected", function(e) {
									r.$viewValue !== e && r.$setViewValue(e)
								}), r.$render = function() {
									a.selected = r.$viewValue
								}, i.$on("uis:select", function(e, t) {
									a.selected = t
								}), i.$on("uis:close", function(e, c) {
									t(function() {
										a.focusser.prop("disabled", !1), c || a.focusser[0].focus()
									}, 0, !1)
								}), i.$on("uis:activate", function() {
									o.prop("disabled", !0)
								});
								var o = angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");
								c(o)(i), a.focusser = o, a.focusInput = o, s.parent().append(o), o.bind("focus", function() {
									i.$evalAsync(function() {
										a.focus = !0
									})
								}), o.bind("blur", function() {
									i.$evalAsync(function() {
										a.focus = !1
									})
								}), o.bind("keydown", function(t) {
									return t.which === e.BACKSPACE ? (t.preventDefault(), t.stopPropagation(), a.select(void 0), void i.$apply()) : void(t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || ((t.which == e.DOWN || t.which == e.UP || t.which == e.ENTER || t.which == e.SPACE) && (t.preventDefault(), t.stopPropagation(), a.activate()), i.$digest()))
								}), o.bind("keyup input", function(t) {
									t.which === e.TAB || e.isControl(t) || e.isFunctionKey(t) || t.which === e.ESC || t.which == e.ENTER || t.which === e.BACKSPACE || (a.activate(o.val()), o.val(""), i.$digest())
								})
							}
						}
					}
				]), c.directive("uiSelectSort", ["$timeout", "uiSelectConfig", "uiSelectMinErr",
					function(e, t, c) {
						return {
							require: "^uiSelect",
							link: function(t, i, s, l) {
								if (null === t[s.uiSelectSort]) throw c("sort", "Expected a list to sort");
								var n = angular.extend({
									axis: "horizontal"
								}, t.$eval(s.uiSelectSortOptions)),
									a = n.axis,
									r = "dragging",
									o = "dropping",
									u = "dropping-before",
									d = "dropping-after";
								t.$watch(function() {
									return l.sortable
								}, function(e) {
									e ? i.attr("draggable", !0) : i.removeAttr("draggable")
								}), i.on("dragstart", function(e) {
									i.addClass(r), (e.dataTransfer || e.originalEvent.dataTransfer).setData("text/plain", t.$index)
								}), i.on("dragend", function() {
									i.removeClass(r)
								});
								var p, h = function(e, t) {
										this.splice(t, 0, this.splice(e, 1)[0])
									}, g = function(e) {
										e.preventDefault();
										var t = "vertical" === a ? e.offsetY || e.layerY || (e.originalEvent ? e.originalEvent.offsetY : 0) : e.offsetX || e.layerX || (e.originalEvent ? e.originalEvent.offsetX : 0);
										t < this["vertical" === a ? "offsetHeight" : "offsetWidth"] / 2 ? (i.removeClass(d), i.addClass(u)) : (i.removeClass(u), i.addClass(d))
									}, f = function(t) {
										t.preventDefault();
										var c = parseInt((t.dataTransfer || t.originalEvent.dataTransfer).getData("text/plain"), 10);
										e.cancel(p), p = e(function() {
											v(c)
										}, 20)
									}, v = function(e) {
										var c = t.$eval(s.uiSelectSort),
											l = c[e],
											n = null;
										n = i.hasClass(u) ? e < t.$index ? t.$index - 1 : t.$index : e < t.$index ? t.$index : t.$index + 1, h.apply(c, [e, n]), t.$apply(function() {
											t.$emit("uiSelectSort:change", {
												array: c,
												item: l,
												from: e,
												to: n
											})
										}), i.removeClass(o), i.removeClass(u), i.removeClass(d), i.off("drop", f)
									};
								i.on("dragenter", function() {
									i.hasClass(r) || (i.addClass(o), i.on("dragover", g), i.on("drop", f))
								}), i.on("dragleave", function(e) {
									e.target == i && (i.removeClass(o), i.removeClass(u), i.removeClass(d), i.off("dragover", g), i.off("drop", f))
								})
							}
						}
					}
				]), c.service("uisRepeatParser", ["uiSelectMinErr", "$parse",
					function(e, t) {
						var c = this;
						c.parse = function(c) {
							var i = c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
							if (!i) throw e("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", c);
							return {
								itemName: i[2],
								source: t(i[3]),
								trackByExp: i[4],
								modelMapper: t(i[1] || i[2])
							}
						}, c.getGroupNgRepeatExpression = function() {
							return "$group in $select.groups"
						}, c.getNgRepeatExpression = function(e, t, c, i) {
							var s = e + " in " + (i ? "$group.items" : t);
							return c && (s += " track by " + c), s
						}
					}
				])
			}(), angular.module("ui.select").run(["$templateCache",
				function(e) {
					e.put("bootstrap/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'), e.put("bootstrap/match-multiple.tpl.html", '<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'), e.put("bootstrap/match.tpl.html", '<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'), e.put("bootstrap/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'), e.put("bootstrap/select.tpl.html", '<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'), e.put("select2/choices.tpl.html", '<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'), e.put("select2/match-multiple.tpl.html", '<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'), e.put("select2/match.tpl.html", '<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'), e.put("select2/select-multiple.tpl.html", '<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'), e.put("select2/select.tpl.html", '<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),
					e.put("selectize/choices.tpl.html", '<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'), e.put("selectize/match.tpl.html", '<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'), e.put("selectize/select.tpl.html", '<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')
				}
			]);


		}, {}
	],
	461: [
		function(require, module, exports) {
			(function(process) {
				function toString(e) {
					return Object.prototype.toString.call(e)
				}

				function isObject(e) {
					return "[object Object]" === toString(e)
				}

				function isFunction(e) {
					return "[object Function]" === toString(e)
				}

				function each(e, r) {
					for (var n = 0, i = e.length; i > n && r.call(e, e[n], n) !== !1; n++);
				}

				function IEMode(e) {
					if (!re_msie.test(e)) return null;
					var r, n, i, o, a;
					if (-1 !== e.indexOf("trident/") && (r = /\btrident\/([0-9.]+)/.exec(e), r && r.length >= 2)) {
						i = r[1];
						var t = r[1].split(".");
						t[0] = parseInt(t[0], 10) + 4, a = t.join(".")
					}
					r = re_msie.exec(e), o = r[1];
					var b = r[1].split(".");
					return "undefined" == typeof a && (a = o), b[0] = parseInt(b[0], 10) - 4, n = b.join("."), "undefined" == typeof i && (i = n), {
						browserVersion: a,
						browserMode: o,
						engineVersion: i,
						engineMode: n,
						compatible: i !== n
					}
				}

				function checkTW360External(e) {
					if (external) try {
						var r = external.twGetRunPath.toLowerCase(),
							n = external.twGetSecurityID(win),
							i = external.twGetVersion(n);
						if (r && -1 === r.indexOf(e)) return !1;
						if (i) return {
							version: i
						}
					} catch (o) {}
				}

				function detect(e, r, n) {
					var i = isFunction(r) ? r.call(null, n) : r;
					if (!i) return null;
					var o = {
						name: e,
						version: NA_VERSION,
						codename: ""
					}, a = toString(i);
					if (i === !0) return o;
					if ("[object String]" === a) {
						if (-1 !== n.indexOf(i)) return o
					} else {
						if (isObject(i)) return i.hasOwnProperty("version") && (o.version = i.version), o;
						if (i.exec) {
							var t = i.exec(n);
							if (t) return t.length >= 2 && t[1] ? o.version = t[1].replace(/_/g, ".") : o.version = NA_VERSION, o
						}
					}
				}

				function init(e, r, n, i) {
					var o = na;
					each(r, function(r) {
						var n = detect(r[0], r[1], e);
						return n ? (o = n, !1) : void 0
					}), n.call(i, o.name, o.version)
				}
				var detector = {}, NA_VERSION = "-1",
					win = this,
					external, re_msie = /\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,
					re_blackberry_10 = /\bbb10\b.+?\bversion\/([\d.]+)/,
					re_blackberry_6_7 = /\bblackberry\b.+\bversion\/([\d.]+)/,
					re_blackberry_4_5 = /\bblackberry\d+\/([\d.]+)/,
					DEVICES = [
						["nokia",
							function(e) {
								return -1 !== e.indexOf("nokia ") ? /\bnokia ([0-9]+)?/ : /\bnokia([a-z0-9]+)?/
							}
						],
						["samsung",
							function(e) {
								return -1 !== e.indexOf("samsung") ? /\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/ : /\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/
							}
						],
						["wp",
							function(e) {
								return -1 !== e.indexOf("windows phone ") || -1 !== e.indexOf("xblwp") || -1 !== e.indexOf("zunewp") || -1 !== e.indexOf("windows ce")
							}
						],
						["pc", "windows"],
						["ipad", "ipad"],
						["ipod", "ipod"],
						["iphone", /\biphone\b|\biph(\d)/],
						["mac", "macintosh"],
						["mi", /\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],
						["hongmi", /\bhm[ \-]?([a-z0-9]+)/],
						["aliyun", /\baliyunos\b(?:[\-](\d+))?/],
						["meizu",
							function(e) {
								return e.indexOf("meizu") >= 0 ? /\bmeizu[\/ ]([a-z0-9]+)\b/ : /\bm([0-9cx]{1,4})\b/
							}
						],
						["nexus", /\bnexus ([0-9s.]+)/],
						["huawei",
							function(e) {
								var r = /\bmediapad (.+?)(?= build\/huaweimediapad\b)/;
								return -1 !== e.indexOf("huawei-huawei") ? /\bhuawei\-huawei\-([a-z0-9\-]+)/ : r.test(e) ? r : /\bhuawei[ _\-]?([a-z0-9]+)/
							}
						],
						["lenovo",
							function(e) {
								return -1 !== e.indexOf("lenovo-lenovo") ? /\blenovo\-lenovo[ \-]([a-z0-9]+)/ : /\blenovo[ \-]?([a-z0-9]+)/
							}
						],
						["zte",
							function(e) {
								return /\bzte\-[tu]/.test(e) ? /\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/ : /\bzte[ _\-]?([a-su-z0-9\+]+)/
							}
						],
						["vivo", /\bvivo(?: ([a-z0-9]+))?/],
						["htc",
							function(e) {
								return /\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e) ? /\bhtc[ _\-]?([a-z0-9 ]+(?= build))/ : /\bhtc[ _\-]?([a-z0-9 ]+)/
							}
						],
						["oppo", /\boppo[_]([a-z0-9]+)/],
						["konka", /\bkonka[_\-]([a-z0-9]+)/],
						["sonyericsson", /\bmt([a-z0-9]+)/],
						["coolpad", /\bcoolpad[_ ]?([a-z0-9]+)/],
						["lg", /\blg[\-]([a-z0-9]+)/],
						["android", /\bandroid\b|\badr\b/],
						["blackberry",
							function(e) {
								return e.indexOf("blackberry") >= 0 ? /\bblackberry\s?(\d+)/ : "bb10"
							}
						]
					],
					OS = [
						["wp",
							function(e) {
								return -1 !== e.indexOf("windows phone ") ? /\bwindows phone (?:os )?([0-9.]+)/ : -1 !== e.indexOf("xblwp") ? /\bxblwp([0-9.]+)/ : -1 !== e.indexOf("zunewp") ? /\bzunewp([0-9.]+)/ : "windows phone"
							}
						],
						["windows", /\bwindows nt ([0-9.]+)/],
						["macosx", /\bmac os x ([0-9._]+)/],
						["ios",
							function(e) {
								return /\bcpu(?: iphone)? os /.test(e) ? /\bcpu(?: iphone)? os ([0-9._]+)/ : -1 !== e.indexOf("iph os ") ? /\biph os ([0-9_]+)/ : /\bios\b/
							}
						],
						["yunos", /\baliyunos ([0-9.]+)/],
						["android",
							function(e) {
								return e.indexOf("android") >= 0 ? /\bandroid[ \/-]?([0-9.x]+)?/ : e.indexOf("adr") >= 0 ? e.indexOf("mqqbrowser") >= 0 ? /\badr[ ]\(linux; u; ([0-9.]+)?/ : /\badr(?:[ ]([0-9.]+))?/ : "android"
							}
						],
						["chromeos", /\bcros i686 ([0-9.]+)/],
						["linux", "linux"],
						["windowsce", /\bwindows ce(?: ([0-9.]+))?/],
						["symbian", /\bsymbian(?:os)?\/([0-9.]+)/],
						["blackberry",
							function(e) {
								var r = e.match(re_blackberry_10) || e.match(re_blackberry_6_7) || e.match(re_blackberry_4_5);
								return r ? {
									version: r[1]
								} : "blackberry"
							}
						]
					],
					ENGINE = [
						["edgehtml", /edge\/([0-9.]+)/],
						["trident", re_msie],
						["blink",
							function() {
								return "chrome" in win && "CSS" in win && /\bapplewebkit[\/]?([0-9.+]+)/
							}
						],
						["webkit", /\bapplewebkit[\/]?([0-9.+]+)/],
						["gecko",
							function(e) {
								var r;
								return (r = e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/)) ? {
									version: r[1] + "." + r[2]
								} : void 0
							}
						],
						["presto", /\bpresto\/([0-9.]+)/],
						["androidwebkit", /\bandroidwebkit\/([0-9.]+)/],
						["coolpadwebkit", /\bcoolpadwebkit\/([0-9.]+)/],
						["u2", /\bu2\/([0-9.]+)/],
						["u3", /\bu3\/([0-9.]+)/]
					],
					BROWSER = [
						["edge", /edge\/([0-9.]+)/],
						["sogou",
							function(e) {
								return e.indexOf("sogoumobilebrowser") >= 0 ? /sogoumobilebrowser\/([0-9.]+)/ : e.indexOf("sogoumse") >= 0 ? !0 : / se ([0-9.x]+)/
							}
						],
						["theworld",
							function() {
								var e = checkTW360External("theworld");
								return "undefined" != typeof e ? e : "theworld"
							}
						],
						["360",
							function(e) {
								var r = checkTW360External("360se");
								return "undefined" != typeof r ? r : -1 !== e.indexOf("360 aphone browser") ? /\b360 aphone browser \(([^\)]+)\)/ : /\b360(?:se|ee|chrome|browser)\b/
							}
						],
						["maxthon",
							function() {
								try {
									if (external && (external.mxVersion || external.max_version)) return {
										version: external.mxVersion || external.max_version
									}
								} catch (e) {}
								return /\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/
							}
						],
						["micromessenger", /\bmicromessenger\/([\d.]+)/],
						["qq", /\bm?qqbrowser\/([0-9.]+)/],
						["green", "greenbrowser"],
						["tt", /\btencenttraveler ([0-9.]+)/],
						["liebao",
							function(e) {
								if (e.indexOf("liebaofast") >= 0) return /\bliebaofast\/([0-9.]+)/;
								if (-1 === e.indexOf("lbbrowser")) return !1;
								var r;
								try {
									external && external.LiebaoGetVersion && (r = external.LiebaoGetVersion())
								} catch (n) {}
								return {
									version: r || NA_VERSION
								}
							}
						],
						["tao", /\btaobrowser\/([0-9.]+)/],
						["coolnovo", /\bcoolnovo\/([0-9.]+)/],
						["saayaa", "saayaa"],
						["baidu", /\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],
						["ie", re_msie],
						["mi", /\bmiuibrowser\/([0-9.]+)/],
						["opera",
							function(e) {
								var r = /\bopera.+version\/([0-9.ab]+)/,
									n = /\bopr\/([0-9.]+)/;
								return r.test(e) ? r : n
							}
						],
						["oupeng", /\boupeng\/([0-9.]+)/],
						["yandex", /yabrowser\/([0-9.]+)/],
						["ali-ap",
							function(e) {
								return e.indexOf("aliapp") > 0 ? /\baliapp\(ap\/([0-9.]+)\)/ : /\balipayclient\/([0-9.]+)\b/
							}
						],
						["ali-ap-pd", /\baliapp\(ap-pd\/([0-9.]+)\)/],
						["ali-am", /\baliapp\(am\/([0-9.]+)\)/],
						["ali-tb", /\baliapp\(tb\/([0-9.]+)\)/],
						["ali-tb-pd", /\baliapp\(tb-pd\/([0-9.]+)\)/],
						["ali-tm", /\baliapp\(tm\/([0-9.]+)\)/],
						["ali-tm-pd", /\baliapp\(tm-pd\/([0-9.]+)\)/],
						["uc",
							function(e) {
								return e.indexOf("ucbrowser/") >= 0 ? /\bucbrowser\/([0-9.]+)/ : e.indexOf("ubrowser/") >= 0 ? /\bubrowser\/([0-9.]+)/ : /\buc\/[0-9]/.test(e) ? /\buc\/([0-9.]+)/ : e.indexOf("ucweb") >= 0 ? /\bucweb([0-9.]+)?/ : /\b(?:ucbrowser|uc)\b/
							}
						],
						["chrome", / (?:chrome|crios|crmo)\/([0-9.]+)/],
						["android",
							function(e) {
								return -1 !== e.indexOf("android") ? /\bversion\/([0-9.]+(?: beta)?)/ : void 0
							}
						],
						["blackberry",
							function(e) {
								var r = e.match(re_blackberry_10) || e.match(re_blackberry_6_7) || e.match(re_blackberry_4_5);
								return r ? {
									version: r[1]
								} : "blackberry"
							}
						],
						["safari", /\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],
						["webview", /\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],
						["firefox", /\bfirefox\/([0-9.ab]+)/],
						["nokia", /\bnokiabrowser\/([0-9.]+)/]
					],
					na = {
						name: "na",
						version: NA_VERSION
					}, parse = function(e) {
						e = (e || "").toLowerCase();
						var r = {};
						init(e, DEVICES, function(e, n) {
							var i = parseFloat(n);
							r.device = {
								name: e,
								version: i,
								fullVersion: n
							}, r.device[e] = i
						}, r), init(e, OS, function(e, n) {
							var i = parseFloat(n);
							r.os = {
								name: e,
								version: i,
								fullVersion: n
							}, r.os[e] = i
						}, r);
						var n = IEMode(e);
						return init(e, ENGINE, function(e, i) {
							var o = i;
							n && (i = n.engineVersion || n.engineMode, o = n.engineMode);
							var a = parseFloat(i);
							r.engine = {
								name: e,
								version: a,
								fullVersion: i,
								mode: parseFloat(o),
								fullMode: o,
								compatible: n ? n.compatible : !1
							}, r.engine[e] = a
						}, r), init(e, BROWSER, function(e, i) {
							var o = i;
							n && ("ie" === e && (i = n.browserVersion), o = n.browserMode);
							var a = parseFloat(i);
							r.browser = {
								name: e,
								version: a,
								fullVersion: i,
								mode: parseFloat(o),
								fullMode: o,
								compatible: n ? n.compatible : !1
							}, r.browser[e] = a
						}, r), r
					};
				if ("object" == typeof process && "[object process]" === process.toString()) {
					var morerule = module.require("./morerule");
					[].unshift.apply(DEVICES, morerule.DEVICES || []), [].unshift.apply(OS, morerule.OS || []), [].unshift.apply(BROWSER, morerule.BROWSER || []), [].unshift.apply(ENGINE, morerule.ENGINE || [])
				} else {
					var userAgent = navigator.userAgent || "",
						appVersion = navigator.appVersion || "",
						vendor = navigator.vendor || "";
					external = win.external, detector = parse(userAgent + " " + appVersion + " " + vendor)
				}
				detector.parse = parse, module.exports = detector;


			}).call(this, require('_process'))
		}, {
			"_process": 6
		}
	],
	462: [
		function(require, module, exports) {
			(function(process, global) {
				(function() {
					"use strict";

					function t(t) {
						return "function" == typeof t || "object" == typeof t && null !== t
					}

					function e(t) {
						return "function" == typeof t
					}

					function n(t) {
						return "object" == typeof t && null !== t
					}

					function r(t, e) {
						V[z] = t, V[z + 1] = e, z += 2, 2 === z && (U ? U(f) : W())
					}

					function o(t) {
						U = t
					}

					function i() {
						var t = process.nextTick,
							e = process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);
						return Array.isArray(e) && "0" === e[1] && "10" === e[2] && (t = setImmediate),
						function() {
							t(f)
						}
					}

					function u() {
						return function() {
							N(f)
						}
					}

					function s() {
						var t = 0,
							e = new J(f),
							n = document.createTextNode("");
						return e.observe(n, {
							characterData: !0
						}),
						function() {
							n.data = t = ++t % 2
						}
					}

					function c() {
						var t = new MessageChannel;
						return t.port1.onmessage = f,
						function() {
							t.port2.postMessage(0)
						}
					}

					function a() {
						return function() {
							setTimeout(f, 1)
						}
					}

					function f() {
						for (var t = 0; z > t; t += 2) {
							var e = V[t],
								n = V[t + 1];
							e(n), V[t] = void 0, V[t + 1] = void 0
						}
						z = 0
					}

					function l() {
						try {
							var t = require,
								e = t("vertx");
							return N = e.runOnLoop || e.runOnContext, u()
						} catch (n) {
							return a()
						}
					}

					function p() {}

					function _() {
						return new TypeError("You cannot resolve a promise with itself")
					}

					function h() {
						return new TypeError("A promises callback cannot return that same promise.")
					}

					function d(t) {
						try {
							return t.then
						} catch (e) {
							return et.error = e, et
						}
					}

					function v(t, e, n, r) {
						try {
							t.call(e, n, r)
						} catch (o) {
							return o
						}
					}

					function y(t, e, n) {
						B(function(t) {
							var r = !1,
								o = v(n, e, function(n) {
									r || (r = !0, e !== n ? g(t, n) : A(t, n))
								}, function(e) {
									r || (r = !0, E(t, e))
								}, "Settle: " + (t._label || " unknown promise"));
							!r && o && (r = !0, E(t, o))
						}, t)
					}

					function m(t, e) {
						e._state === Z ? A(t, e._result) : e._state === tt ? E(t, e._result) : j(e, void 0, function(e) {
							g(t, e)
						}, function(e) {
							E(t, e)
						})
					}

					function b(t, n) {
						if (n.constructor === t.constructor) m(t, n);
						else {
							var r = d(n);
							r === et ? E(t, et.error) : void 0 === r ? A(t, n) : e(r) ? y(t, n, r) : A(t, n)
						}
					}

					function g(e, n) {
						e === n ? E(e, _()) : t(n) ? b(e, n) : A(e, n)
					}

					function w(t) {
						t._onerror && t._onerror(t._result), S(t)
					}

					function A(t, e) {
						t._state === X && (t._result = e, t._state = Z, 0 !== t._subscribers.length && B(S, t))
					}

					function E(t, e) {
						t._state === X && (t._state = tt, t._result = e, B(w, t))
					}

					function j(t, e, n, r) {
						var o = t._subscribers,
							i = o.length;
						t._onerror = null, o[i] = e, o[i + Z] = n, o[i + tt] = r, 0 === i && t._state && B(S, t)
					}

					function S(t) {
						var e = t._subscribers,
							n = t._state;
						if (0 !== e.length) {
							for (var r, o, i = t._result, u = 0; u < e.length; u += 3) r = e[u], o = e[u + n], r ? x(n, r, o, i) : o(i);
							t._subscribers.length = 0
						}
					}

					function T() {
						this.error = null
					}

					function P(t, e) {
						try {
							return t(e)
						} catch (n) {
							return nt.error = n, nt
						}
					}

					function x(t, n, r, o) {
						var i, u, s, c, a = e(r);
						if (a) {
							if (i = P(r, o), i === nt ? (c = !0, u = i.error, i = null) : s = !0, n === i) return void E(n, h())
						} else i = o, s = !0;
						n._state !== X || (a && s ? g(n, i) : c ? E(n, u) : t === Z ? A(n, i) : t === tt && E(n, i))
					}

					function C(t, e) {
						try {
							e(function(e) {
								g(t, e)
							}, function(e) {
								E(t, e)
							})
						} catch (n) {
							E(t, n)
						}
					}

					function M(t, e) {
						var n = this;
						n._instanceConstructor = t, n.promise = new t(p), n._validateInput(e) ? (n._input = e, n.length = e.length, n._remaining = e.length, n._init(), 0 === n.length ? A(n.promise, n._result) : (n.length = n.length || 0, n._enumerate(), 0 === n._remaining && A(n.promise, n._result))) : E(n.promise, n._validationError())
					}

					function O(t) {
						return new rt(this, t).promise
					}

					function k(t) {
						function e(t) {
							g(o, t)
						}

						function n(t) {
							E(o, t)
						}
						var r = this,
							o = new r(p);
						if (!$(t)) return E(o, new TypeError("You must pass an array to race.")), o;
						for (var i = t.length, u = 0; o._state === X && i > u; u++) j(r.resolve(t[u]), void 0, e, n);
						return o
					}

					function I(t) {
						var e = this;
						if (t && "object" == typeof t && t.constructor === e) return t;
						var n = new e(p);
						return g(n, t), n
					}

					function Y(t) {
						var e = this,
							n = new e(p);
						return E(n, t), n
					}

					function q() {
						throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
					}

					function F() {
						throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
					}

					function D(t) {
						this._id = ct++, this._state = void 0, this._result = void 0, this._subscribers = [], p !== t && (e(t) || q(), this instanceof D || F(), C(this, t))
					}

					function K() {
						var t;
						if ("undefined" != typeof global) t = global;
						else if ("undefined" != typeof self) t = self;
						else try {
							t = Function("return this")()
						} catch (e) {
							throw new Error("polyfill failed because global object is unavailable in this environment")
						}
						var n = t.Promise;
						(!n || "[object Promise]" !== Object.prototype.toString.call(n.resolve()) || n.cast) && (t.Promise = at)
					}
					var L;
					L = Array.isArray ? Array.isArray : function(t) {
						return "[object Array]" === Object.prototype.toString.call(t)
					};
					var N, U, W, $ = L,
						z = 0,
						B = ({}.toString, r),
						G = "undefined" != typeof window ? window : void 0,
						H = G || {}, J = H.MutationObserver || H.WebKitMutationObserver,
						Q = "undefined" != typeof process && "[object process]" === {}.toString.call(process),
						R = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
						V = new Array(1e3);
					W = Q ? i() : J ? s() : R ? c() : void 0 === G && "function" == typeof require ? l() : a();
					var X = void 0,
						Z = 1,
						tt = 2,
						et = new T,
						nt = new T;
					M.prototype._validateInput = function(t) {
						return $(t)
					}, M.prototype._validationError = function() {
						return new Error("Array Methods must be provided an Array")
					}, M.prototype._init = function() {
						this._result = new Array(this.length)
					};
					var rt = M;
					M.prototype._enumerate = function() {
						for (var t = this, e = t.length, n = t.promise, r = t._input, o = 0; n._state === X && e > o; o++) t._eachEntry(r[o], o)
					}, M.prototype._eachEntry = function(t, e) {
						var r = this,
							o = r._instanceConstructor;
						n(t) ? t.constructor === o && t._state !== X ? (t._onerror = null, r._settledAt(t._state, e, t._result)) : r._willSettleAt(o.resolve(t), e) : (r._remaining--, r._result[e] = t)
					}, M.prototype._settledAt = function(t, e, n) {
						var r = this,
							o = r.promise;
						o._state === X && (r._remaining--, t === tt ? E(o, n) : r._result[e] = n), 0 === r._remaining && A(o, r._result)
					}, M.prototype._willSettleAt = function(t, e) {
						var n = this;
						j(t, void 0, function(t) {
							n._settledAt(Z, e, t)
						}, function(t) {
							n._settledAt(tt, e, t)
						})
					};
					var ot = O,
						it = k,
						ut = I,
						st = Y,
						ct = 0,
						at = D;
					D.all = ot, D.race = it, D.resolve = ut, D.reject = st, D._setScheduler = o, D._asap = B, D.prototype = {
						constructor: D,
						then: function(t, e) {
							var n = this,
								r = n._state;
							if (r === Z && !t || r === tt && !e) return this;
							var o = new this.constructor(p),
								i = n._result;
							if (r) {
								var u = arguments[r - 1];
								B(function() {
									x(r, o, u, i)
								})
							} else j(n, o, t, e);
							return o
						},
						"catch": function(t) {
							return this.then(null, t)
						}
					};
					var ft = K,
						lt = {
							Promise: at,
							polyfill: ft
						};
					"function" == typeof define && define.amd ? define(function() {
						return lt
					}) : "undefined" != typeof module && module.exports ? module.exports = lt : "undefined" != typeof this && (this.ES6Promise = lt), ft()
				}).call(this);


			}).call(this, require('_process'), typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {
			"_process": 6
		}
	],
	463: [
		function(require, module, exports) {
			var BinaryFile = function(t, e, n) {
				var r = t,
					i = e || 0,
					s = 0;
				this.getRawData = function() {
					return r
				}, "string" == typeof t ? (s = n || r.length, this.getByteAt = function(t) {
					return 255 & r.charCodeAt(t + i)
				}, this.getBytesAt = function(t, e) {
					for (var n = [], s = 0; e > s; s++) n[s] = 255 & r.charCodeAt(t + s + i);
					return n
				}) : "unknown" == typeof t && (s = n || IEBinary_getLength(r), this.getByteAt = function(t) {
					return IEBinary_getByteAt(r, t + i)
				}, this.getBytesAt = function(t, e) {
					return new VBArray(IEBinary_getBytesAt(r, t + i, e)).toArray()
				}), this.getLength = function() {
					return s
				}, this.getSByteAt = function(t) {
					var e = this.getByteAt(t);
					return e > 127 ? e - 256 : e
				}, this.getShortAt = function(t, e) {
					var n = e ? (this.getByteAt(t) << 8) + this.getByteAt(t + 1) : (this.getByteAt(t + 1) << 8) + this.getByteAt(t);
					return 0 > n && (n += 65536), n
				}, this.getSShortAt = function(t, e) {
					var n = this.getShortAt(t, e);
					return n > 32767 ? n - 65536 : n
				}, this.getLongAt = function(t, e) {
					var n = this.getByteAt(t),
						r = this.getByteAt(t + 1),
						i = this.getByteAt(t + 2),
						s = this.getByteAt(t + 3),
						o = e ? (((n << 8) + r << 8) + i << 8) + s : (((s << 8) + i << 8) + r << 8) + n;
					return 0 > o && (o += 4294967296), o
				}, this.getSLongAt = function(t, e) {
					var n = this.getLongAt(t, e);
					return n > 2147483647 ? n - 4294967296 : n
				}, this.getStringAt = function(t, e) {
					for (var n = [], r = this.getBytesAt(t, e), i = 0; e > i; i++) n[i] = String.fromCharCode(r[i]);
					return n.join("")
				}, this.getCharAt = function(t) {
					return String.fromCharCode(this.getByteAt(t))
				}, this.toBase64 = function() {
					return window.btoa(r)
				}, this.fromBase64 = function(t) {
					r = window.atob(t)
				}
			}, BinaryAjax = function() {
					function t() {
						var t = null;
						return window.ActiveXObject ? t = new ActiveXObject("Microsoft.XMLHTTP") : window.XMLHttpRequest && (t = new XMLHttpRequest), t
					}

					function e(e, n, r) {
						var i = t();
						i ? (n && ("undefined" != typeof i.onload ? i.onload = function() {
							"200" == i.status ? n(this) : r && r(), i = null
						} : i.onreadystatechange = function() {
							4 == i.readyState && ("200" == i.status ? n(this) : r && r(), i = null)
						}), i.open("HEAD", e, !0), i.send(null)) : r && r()
					}

					function n(e, n, r, i, s, o) {
						var a = t();
						if (a) {
							var u = 0;
							i && !s && (u = i[0]);
							var y = 0;
							i && (y = i[1] - i[0] + 1), n && ("undefined" != typeof a.onload ? a.onload = function() {
								"200" == a.status || "206" == a.status || "0" == a.status ? (a.binaryResponse = new BinaryFile(a.responseText, u, y), a.fileSize = o || a.getResponseHeader("Content-Length"), n(a)) : r && r(), a = null
							} : a.onreadystatechange = function() {
								if (4 == a.readyState) {
									if ("200" == a.status || "206" == a.status || "0" == a.status) {
										var t = {
											status: a.status,
											binaryResponse: new BinaryFile("unknown" == typeof a.responseBody ? a.responseBody : a.responseText, u, y),
											fileSize: o || a.getResponseHeader("Content-Length")
										};
										n(t)
									} else r && r();
									a = null
								}
							}), a.open("GET", e, !0), a.overrideMimeType && a.overrideMimeType("text/plain; charset=x-user-defined"), i && s && a.setRequestHeader("Range", "bytes=" + i[0] + "-" + i[1]), a.setRequestHeader("If-Modified-Since", "Sat, 1 Jan 1970 00:00:00 GMT"), a.send(null)
						} else r && r()
					}
					return function(t, r, i, s) {
						s ? e(t, function(e) {
							var o, a, u = parseInt(e.getResponseHeader("Content-Length"), 10),
								y = e.getResponseHeader("Accept-Ranges");
							o = s[0], s[0] < 0 && (o += u), a = o + s[1] - 1, n(t, r, i, [o, a], "bytes" == y, u)
						}) : n(t, r, i)
					}
				}();
			document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary, iOffset + 1, 1))\r\nEnd Function\r\nFunction IEBinary_getBytesAt(strBinary, iOffset, iLength)\r\n  Dim aBytes()\r\n  ReDim aBytes(iLength - 1)\r\n  For i = 0 To iLength - 1\r\n   aBytes(i) = IEBinary_getByteAt(strBinary, iOffset + i)\r\n  Next\r\n  IEBinary_getBytesAt = aBytes\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"), module.exports = BinaryAjax;


		}, {}
	],
	464: [
		function(require, module, exports) {
			BinaryAjax = require("./binaryajax");
			var EXIF = function() {
				function e(e) {
					return !!e.exifdata
				}

				function t(e, t) {
					function n(n) {
						var o = r(n);
						e.exifdata = o || {}, t && t.call(e)
					}
					if (e instanceof Image || e instanceof HTMLImageElement) BinaryAjax(e.src, function(e) {
						n(e.binaryResponse)
					});
					else if (window.FileReader && e instanceof window.File) {
						var o = new FileReader;
						o.onload = function(e) {
							f && console.log("Got file of length " + e.target.result.byteLength), n(e.target.result)
						}, o.readAsArrayBuffer(e)
					}
				}

				function r(e) {
					var t = new DataView(e);
					if (f && console.log("Got file of length " + e.byteLength), 255 != t.getUint8(0) || 216 != t.getUint8(1)) return f && console.log("Not a valid JPEG"), !1;
					for (var n, r = 2, o = e.byteLength; o > r;) {
						if (255 != t.getUint8(r)) return f && console.log("Not a valid marker at offset " + r + ", found: " + e.getByteAt(r)), !1;
						if (n = t.getUint8(r + 1), f && console.log(n), 225 == n) return f && console.log("Found 0xFFE1 marker"), s(t, r + 4, t.getUint16(r + 2) - 2);
						r += 2 + t.getUint16(r + 2)
					}
				}

				function o(e, t, n, r, o) {
					var a, s, l, u = e.getUint16(n, !o),
						d = {};
					for (l = 0; u > l; l++) a = n + 12 * l + 2, s = r[e.getUint16(a, !o)], !s && f && console.log("Unknown tag: " + e.getUint16(a, !o)), d[s] = i(e, a, t, n, o);
					return d
				}

				function i(e, t, n, r, o) {
					var i, s, l, u, d, c, g = e.getUint16(t + 2, !o),
						f = e.getUint32(t + 4, !o),
						h = e.getUint32(t + 8, !o) + n;
					switch (g) {
						case 1:
						case 7:
							if (1 == f) return e.getUint8(t + 8, !o);
							for (i = f > 4 ? h : t + 8, s = [], u = 0; f > u; u++) s[u] = e.getUint8(i + u);
							return s;
						case 2:
							return i = f > 4 ? h : t + 8, a(e, i, f - 1);
						case 3:
							if (1 == f) return e.getUint16(t + 8, !o);
							for (i = f > 2 ? h : t + 8, s = [], u = 0; f > u; u++) s[u] = e.getUint16(i + 2 * u, !o);
							return s;
						case 4:
							if (1 == f) return e.getUint32(t + 8, !o);
							s = [];
							for (var u = 0; f > u; u++) s[u] = e.getUint32(h + 4 * u, !o);
							return s;
						case 5:
							if (1 == f) return d = e.getUint32(h, !o), c = e.getUint32(h + 4, !o), l = new Number(d / c), l.numerator = d, l.denominator = c, l;
							for (s = [], u = 0; f > u; u++) d = e.getUint32(h + 8 * u, !o), c = e.getUint32(h + 4 + 8 * u, !o), s[u] = new Number(d / c), s[u].numerator = d, s[u].denominator = c;
							return s;
						case 9:
							if (1 == f) return e.getInt32(t + 8, !o);
							for (s = [], u = 0; f > u; u++) s[u] = e.getInt32(h + 4 * u, !o);
							return s;
						case 10:
							if (1 == f) return e.getInt32(h, !o) / e.getInt32(h + 4, !o);
							for (s = [], u = 0; f > u; u++) s[u] = e.getInt32(h + 8 * u, !o) / e.getInt32(h + 4 + 8 * u, !o);
							return s
					}
				}

				function a(e, t, r) {
					var o = "";
					for (n = t; n < t + r; n++) o += String.fromCharCode(e.getUint8(n));
					return o
				}

				function s(e, t) {
					if ("Exif" != a(e, t, 4)) return f && console.log("Not valid EXIF data! " + a(e, t, 4)), !1;
					var n, r, i, s, l, u = t + 6;
					if (18761 == e.getUint16(u)) n = !1;
					else {
						if (19789 != e.getUint16(u)) return f && console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"), !1;
						n = !0
					} if (42 != e.getUint16(u + 2, !n)) return f && console.log("Not valid TIFF data! (no 0x002A)"), !1;
					if (8 != e.getUint32(u + 4, !n)) return f && console.log("Not valid TIFF data! (First offset not 8)", e.getUint16(u + 4, !n)), !1;
					if (r = o(e, u, u + 8, m, n), r.ExifIFDPointer) {
						s = o(e, u, u + r.ExifIFDPointer, h, n);
						for (i in s) {
							switch (i) {
								case "LightSource":
								case "Flash":
								case "MeteringMode":
								case "ExposureProgram":
								case "SensingMethod":
								case "SceneCaptureType":
								case "SceneType":
								case "CustomRendered":
								case "WhiteBalance":
								case "GainControl":
								case "Contrast":
								case "Saturation":
								case "Sharpness":
								case "SubjectDistanceRange":
								case "FileSource":
									s[i] = p[i][s[i]];
									break;
								case "ExifVersion":
								case "FlashpixVersion":
									s[i] = String.fromCharCode(s[i][0], s[i][1], s[i][2], s[i][3]);
									break;
								case "ComponentsConfiguration":
									s[i] = p.Components[s[i][0]] + p.Components[s[i][1]] + p.Components[s[i][2]] + p.Components[s[i][3]]
							}
							r[i] = s[i]
						}
					}
					if (r.GPSInfoIFDPointer) {
						l = o(e, u, u + r.GPSInfoIFDPointer, S, n);
						for (i in l) {
							switch (i) {
								case "GPSVersionID":
									l[i] = l[i][0] + "." + l[i][1] + "." + l[i][2] + "." + l[i][3]
							}
							r[i] = l[i]
						}
					}
					return r
				}

				function l(n, r) {
					return (n instanceof Image || n instanceof HTMLImageElement) && !n.complete ? !1 : (e(n) ? r && r.call(n) : t(n, r), !0)
				}

				function u(t, n) {
					return e(t) ? t.exifdata[n] : void 0
				}

				function d(t) {
					if (!e(t)) return {};
					var n, r = t.exifdata,
						o = {};
					for (n in r) r.hasOwnProperty(n) && (o[n] = r[n]);
					return o
				}

				function c(t) {
					if (!e(t)) return "";
					var n, r = t.exifdata,
						o = "";
					for (n in r) r.hasOwnProperty(n) && (o += "object" == typeof r[n] ? r[n] instanceof Number ? n + " : " + r[n] + " [" + r[n].numerator + "/" + r[n].denominator + "]\r\n" : n + " : [" + r[n].length + " values]\r\n" : n + " : " + r[n] + "\r\n");
					return o
				}

				function g(e) {
					return r(e)
				}
				var f = !1,
					h = {
						36864: "ExifVersion",
						40960: "FlashpixVersion",
						40961: "ColorSpace",
						40962: "PixelXDimension",
						40963: "PixelYDimension",
						37121: "ComponentsConfiguration",
						37122: "CompressedBitsPerPixel",
						37500: "MakerNote",
						37510: "UserComment",
						40964: "RelatedSoundFile",
						36867: "DateTimeOriginal",
						36868: "DateTimeDigitized",
						37520: "SubsecTime",
						37521: "SubsecTimeOriginal",
						37522: "SubsecTimeDigitized",
						33434: "ExposureTime",
						33437: "FNumber",
						34850: "ExposureProgram",
						34852: "SpectralSensitivity",
						34855: "ISOSpeedRatings",
						34856: "OECF",
						37377: "ShutterSpeedValue",
						37378: "ApertureValue",
						37379: "BrightnessValue",
						37380: "ExposureBias",
						37381: "MaxApertureValue",
						37382: "SubjectDistance",
						37383: "MeteringMode",
						37384: "LightSource",
						37385: "Flash",
						37396: "SubjectArea",
						37386: "FocalLength",
						41483: "FlashEnergy",
						41484: "SpatialFrequencyResponse",
						41486: "FocalPlaneXResolution",
						41487: "FocalPlaneYResolution",
						41488: "FocalPlaneResolutionUnit",
						41492: "SubjectLocation",
						41493: "ExposureIndex",
						41495: "SensingMethod",
						41728: "FileSource",
						41729: "SceneType",
						41730: "CFAPattern",
						41985: "CustomRendered",
						41986: "ExposureMode",
						41987: "WhiteBalance",
						41988: "DigitalZoomRation",
						41989: "FocalLengthIn35mmFilm",
						41990: "SceneCaptureType",
						41991: "GainControl",
						41992: "Contrast",
						41993: "Saturation",
						41994: "Sharpness",
						41995: "DeviceSettingDescription",
						41996: "SubjectDistanceRange",
						40965: "InteroperabilityIFDPointer",
						42016: "ImageUniqueID"
					}, m = {
						256: "ImageWidth",
						257: "ImageHeight",
						34665: "ExifIFDPointer",
						34853: "GPSInfoIFDPointer",
						40965: "InteroperabilityIFDPointer",
						258: "BitsPerSample",
						259: "Compression",
						262: "PhotometricInterpretation",
						274: "Orientation",
						277: "SamplesPerPixel",
						284: "PlanarConfiguration",
						530: "YCbCrSubSampling",
						531: "YCbCrPositioning",
						282: "XResolution",
						283: "YResolution",
						296: "ResolutionUnit",
						273: "StripOffsets",
						278: "RowsPerStrip",
						279: "StripByteCounts",
						513: "JPEGInterchangeFormat",
						514: "JPEGInterchangeFormatLength",
						301: "TransferFunction",
						318: "WhitePoint",
						319: "PrimaryChromaticities",
						529: "YCbCrCoefficients",
						532: "ReferenceBlackWhite",
						306: "DateTime",
						270: "ImageDescription",
						271: "Make",
						272: "Model",
						305: "Software",
						315: "Artist",
						33432: "Copyright"
					}, S = {
						0: "GPSVersionID",
						1: "GPSLatitudeRef",
						2: "GPSLatitude",
						3: "GPSLongitudeRef",
						4: "GPSLongitude",
						5: "GPSAltitudeRef",
						6: "GPSAltitude",
						7: "GPSTimeStamp",
						8: "GPSSatellites",
						9: "GPSStatus",
						10: "GPSMeasureMode",
						11: "GPSDOP",
						12: "GPSSpeedRef",
						13: "GPSSpeed",
						14: "GPSTrackRef",
						15: "GPSTrack",
						16: "GPSImgDirectionRef",
						17: "GPSImgDirection",
						18: "GPSMapDatum",
						19: "GPSDestLatitudeRef",
						20: "GPSDestLatitude",
						21: "GPSDestLongitudeRef",
						22: "GPSDestLongitude",
						23: "GPSDestBearingRef",
						24: "GPSDestBearing",
						25: "GPSDestDistanceRef",
						26: "GPSDestDistance",
						27: "GPSProcessingMethod",
						28: "GPSAreaInformation",
						29: "GPSDateStamp",
						30: "GPSDifferential"
					}, p = {
						ExposureProgram: {
							0: "Not defined",
							1: "Manual",
							2: "Normal program",
							3: "Aperture priority",
							4: "Shutter priority",
							5: "Creative program",
							6: "Action program",
							7: "Portrait mode",
							8: "Landscape mode"
						},
						MeteringMode: {
							0: "Unknown",
							1: "Average",
							2: "CenterWeightedAverage",
							3: "Spot",
							4: "MultiSpot",
							5: "Pattern",
							6: "Partial",
							255: "Other"
						},
						LightSource: {
							0: "Unknown",
							1: "Daylight",
							2: "Fluorescent",
							3: "Tungsten (incandescent light)",
							4: "Flash",
							9: "Fine weather",
							10: "Cloudy weather",
							11: "Shade",
							12: "Daylight fluorescent (D 5700 - 7100K)",
							13: "Day white fluorescent (N 4600 - 5400K)",
							14: "Cool white fluorescent (W 3900 - 4500K)",
							15: "White fluorescent (WW 3200 - 3700K)",
							17: "Standard light A",
							18: "Standard light B",
							19: "Standard light C",
							20: "D55",
							21: "D65",
							22: "D75",
							23: "D50",
							24: "ISO studio tungsten",
							255: "Other"
						},
						Flash: {
							0: "Flash did not fire",
							1: "Flash fired",
							5: "Strobe return light not detected",
							7: "Strobe return light detected",
							9: "Flash fired, compulsory flash mode",
							13: "Flash fired, compulsory flash mode, return light not detected",
							15: "Flash fired, compulsory flash mode, return light detected",
							16: "Flash did not fire, compulsory flash mode",
							24: "Flash did not fire, auto mode",
							25: "Flash fired, auto mode",
							29: "Flash fired, auto mode, return light not detected",
							31: "Flash fired, auto mode, return light detected",
							32: "No flash function",
							65: "Flash fired, red-eye reduction mode",
							69: "Flash fired, red-eye reduction mode, return light not detected",
							71: "Flash fired, red-eye reduction mode, return light detected",
							73: "Flash fired, compulsory flash mode, red-eye reduction mode",
							77: "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",
							79: "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",
							89: "Flash fired, auto mode, red-eye reduction mode",
							93: "Flash fired, auto mode, return light not detected, red-eye reduction mode",
							95: "Flash fired, auto mode, return light detected, red-eye reduction mode"
						},
						SensingMethod: {
							1: "Not defined",
							2: "One-chip color area sensor",
							3: "Two-chip color area sensor",
							4: "Three-chip color area sensor",
							5: "Color sequential area sensor",
							7: "Trilinear sensor",
							8: "Color sequential linear sensor"
						},
						SceneCaptureType: {
							0: "Standard",
							1: "Landscape",
							2: "Portrait",
							3: "Night scene"
						},
						SceneType: {
							1: "Directly photographed"
						},
						CustomRendered: {
							0: "Normal process",
							1: "Custom process"
						},
						WhiteBalance: {
							0: "Auto white balance",
							1: "Manual white balance"
						},
						GainControl: {
							0: "None",
							1: "Low gain up",
							2: "High gain up",
							3: "Low gain down",
							4: "High gain down"
						},
						Contrast: {
							0: "Normal",
							1: "Soft",
							2: "Hard"
						},
						Saturation: {
							0: "Normal",
							1: "Low saturation",
							2: "High saturation"
						},
						Sharpness: {
							0: "Normal",
							1: "Soft",
							2: "Hard"
						},
						SubjectDistanceRange: {
							0: "Unknown",
							1: "Macro",
							2: "Close view",
							3: "Distant view"
						},
						FileSource: {
							3: "DSC"
						},
						Components: {
							0: "",
							1: "Y",
							2: "Cb",
							3: "Cr",
							4: "R",
							5: "G",
							6: "B"
						}
					};
				return {
					readFromBinaryFile: g,
					pretty: c,
					getTag: u,
					getAllTags: d,
					getData: l,
					Tags: h,
					TiffTags: m,
					GPSTags: S,
					StringValues: p
				}
			}();
			module.exports = EXIF;


		}, {
			"./binaryajax": 463
		}
	],
	465: [
		function(require, module, exports) {
			function noop() {}

			function jsonp(e, n, o) {
				function t() {
					u.parentNode && u.parentNode.removeChild(u), window[p] = noop, i && clearTimeout(i)
				}

				function r() {
					window[p] && t()
				}
				"function" == typeof n && (o = n, n = {}), n || (n = {});
				var u, i, c = n.prefix || "__jp",
					p = n.name || c + count++,
					d = n.param || "callback",
					a = null != n.timeout ? n.timeout : 6e4,
					m = encodeURIComponent,
					s = document.getElementsByTagName("script")[0] || document.head;
				return a && (i = setTimeout(function() {
					t(), o && o(new Error("Timeout"))
				}, a)), window[p] = function(e) {
					debug("jsonp got", e), t(), o && o(null, e)
				}, e += (~e.indexOf("?") ? "&" : "?") + d + "=" + m(p), e = e.replace("?&", "?"), debug('jsonp req "%s"', e), u = document.createElement("script"), u.src = e, s.parentNode.insertBefore(u, s), r
			}
			var debug = require("debug")("jsonp");
			module.exports = jsonp;
			var count = 0;


		}, {
			"debug": 466
		}
	],
	466: [
		function(require, module, exports) {
			function useColors() {
				return "WebkitAppearance" in document.documentElement.style || window.console && (console.firebug || console.exception && console.table) || navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31
			}

			function formatArgs() {
				var o = arguments,
					e = this.useColors;
				if (o[0] = (e ? "%c" : "") + this.namespace + (e ? " %c" : " ") + o[0] + (e ? "%c " : " ") + "+" + exports.humanize(this.diff), !e) return o;
				var r = "color: " + this.color;
				o = [o[0], r, "color: inherit"].concat(Array.prototype.slice.call(o, 1));
				var t = 0,
					n = 0;
				return o[0].replace(/%[a-z%]/g, function(o) {
					"%%" !== o && (t++, "%c" === o && (n = t))
				}), o.splice(n, 0, r), o
			}

			function log() {
				return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments)
			}

			function save(o) {
				try {
					null == o ? storage.removeItem("debug") : storage.debug = o
				} catch (e) {}
			}

			function load() {
				var o;
				try {
					o = storage.debug
				} catch (e) {}
				return o
			}

			function localstorage() {
				try {
					return window.localStorage
				} catch (o) {}
			}
			exports = module.exports = require("./debug"), exports.log = log, exports.formatArgs = formatArgs, exports.save = save, exports.load = load, exports.useColors = useColors;
			var storage;
			storage = "undefined" != typeof chrome && "undefined" != typeof chrome.storage ? chrome.storage.local : localstorage(), exports.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], exports.formatters.j = function(o) {
				return JSON.stringify(o)
			}, exports.enable(load());


		}, {
			"./debug": 467
		}
	],
	467: [
		function(require, module, exports) {
			function selectColor() {
				return exports.colors[prevColor++ % exports.colors.length]
			}

			function debug(e) {
				function r() {}

				function o() {
					var e = o,
						r = +new Date,
						s = r - (prevTime || r);
					e.diff = s, e.prev = prevTime, e.curr = r, prevTime = r, null == e.useColors && (e.useColors = exports.useColors()), null == e.color && e.useColors && (e.color = selectColor());
					var t = Array.prototype.slice.call(arguments);
					t[0] = exports.coerce(t[0]), "string" != typeof t[0] && (t = ["%o"].concat(t));
					var n = 0;
					t[0] = t[0].replace(/%([a-z%])/g, function(r, o) {
						if ("%%" === r) return r;
						n++;
						var s = exports.formatters[o];
						if ("function" == typeof s) {
							var p = t[n];
							r = s.call(e, p), t.splice(n, 1), n--
						}
						return r
					}), "function" == typeof exports.formatArgs && (t = exports.formatArgs.apply(e, t));
					var p = o.log || exports.log || console.log.bind(console);
					p.apply(e, t)
				}
				r.enabled = !1, o.enabled = !0;
				var s = exports.enabled(e) ? o : r;
				return s.namespace = e, s
			}

			function enable(e) {
				exports.save(e);
				for (var r = (e || "").split(/[\s,]+/), o = r.length, s = 0; o > s; s++) r[s] && (e = r[s].replace(/\*/g, ".*?"), "-" === e[0] ? exports.skips.push(new RegExp("^" + e.substr(1) + "$")) : exports.names.push(new RegExp("^" + e + "$")))
			}

			function disable() {
				exports.enable("")
			}

			function enabled(e) {
				var r, o;
				for (r = 0, o = exports.skips.length; o > r; r++)
					if (exports.skips[r].test(e)) return !1;
				for (r = 0, o = exports.names.length; o > r; r++)
					if (exports.names[r].test(e)) return !0;
				return !1
			}

			function coerce(e) {
				return e instanceof Error ? e.stack || e.message : e
			}
			exports = module.exports = debug, exports.coerce = coerce, exports.disable = disable, exports.enable = enable, exports.enabled = enabled, exports.humanize = require("ms"), exports.names = [], exports.skips = [], exports.formatters = {};
			var prevColor = 0,
				prevTime;


		}, {
			"ms": 468
		}
	],
	468: [
		function(require, module, exports) {
			function parse(e) {
				var a = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);
				if (a) {
					var r = parseFloat(a[1]),
						c = (a[2] || "ms").toLowerCase();
					switch (c) {
						case "years":
						case "year":
						case "yrs":
						case "yr":
						case "y":
							return r * y;
						case "days":
						case "day":
						case "d":
							return r * d;
						case "hours":
						case "hour":
						case "hrs":
						case "hr":
						case "h":
							return r * h;
						case "minutes":
						case "minute":
						case "mins":
						case "min":
						case "m":
							return r * m;
						case "seconds":
						case "second":
						case "secs":
						case "sec":
						case "s":
							return r * s;
						case "milliseconds":
						case "millisecond":
						case "msecs":
						case "msec":
						case "ms":
							return r
					}
				}
			}

			function short(e) {
				return e >= d ? Math.round(e / d) + "d" : e >= h ? Math.round(e / h) + "h" : e >= m ? Math.round(e / m) + "m" : e >= s ? Math.round(e / s) + "s" : e + "ms"
			}

			function long(e) {
				return plural(e, d, "day") || plural(e, h, "hour") || plural(e, m, "minute") || plural(e, s, "second") || e + " ms"
			}

			function plural(s, e, a) {
				return e > s ? void 0 : 1.5 * e > s ? Math.floor(s / e) + " " + a : Math.ceil(s / e) + " " + a + "s"
			}
			var s = 1e3,
				m = 60 * s,
				h = 60 * m,
				d = 24 * h,
				y = 365.25 * d;
			module.exports = function(s, e) {
				return e = e || {}, "string" == typeof s ? parse(s) : e["long"] ? long(s) : short(s)
			};


		}, {}
	],
	469: [
		function(require, module, exports) {
			! function(t) {
				function r(t) {
					return t && (t = t.toString().replace(o.pluses, "%20"), t = decodeURIComponent(t)), t
				}

				function e(t) {
					var r = o.uri_parser,
						e = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "isColonUri", "relative", "path", "directory", "file", "query", "anchor"],
						i = r.exec(t || ""),
						s = {};
					return e.forEach(function(t, r) {
						s[t] = i[r] || ""
					}), s
				}

				function i(t) {
					var e, i, s, n, h, u, a, f = [];
					if ("undefined" == typeof t || null === t || "" === t) return f;
					for (0 === t.indexOf("?") && (t = t.substring(1)), i = t.toString().split(o.query_separator), e = 0, a = i.length; a > e; e++) s = i[e], n = s.indexOf("="), 0 !== n && (h = r(s.substring(0, n)), u = r(s.substring(n + 1)), f.push(-1 === n ? [s, null] : [h, u]));
					return f
				}

				function s(t) {
					this.uriParts = e(t), this.queryPairs = i(this.uriParts.query), this.hasAuthorityPrefixUserPref = null
				}
				var o = {
					starts_with_slashes: /^\/+/,
					ends_with_slashes: /\/+$/,
					pluses: /\+/g,
					query_separator: /[&;]/,
					uri_parser: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
				};
				Array.prototype.forEach || (Array.prototype.forEach = function(t, r) {
					var e, i;
					if (null == this) throw new TypeError(" this is null or not defined");
					var s = Object(this),
						o = s.length >>> 0;
					if ("function" != typeof t) throw new TypeError(t + " is not a function");
					for (arguments.length > 1 && (e = r), i = 0; o > i;) {
						var n;
						i in s && (n = s[i], t.call(e, n, i, s)), i++
					}
				}), ["protocol", "userInfo", "host", "port", "path", "anchor"].forEach(function(t) {
					s.prototype[t] = function(r) {
						return "undefined" != typeof r && (this.uriParts[t] = r), this.uriParts[t]
					}
				}), s.prototype.hasAuthorityPrefix = function(t) {
					return "undefined" != typeof t && (this.hasAuthorityPrefixUserPref = t), null === this.hasAuthorityPrefixUserPref ? -1 !== this.uriParts.source.indexOf("//") : this.hasAuthorityPrefixUserPref
				}, s.prototype.isColonUri = function(t) {
					return "undefined" == typeof t ? !! this.uriParts.isColonUri : void(this.uriParts.isColonUri = !! t)
				}, s.prototype.query = function(t) {
					var r, e, s, o = "";
					for ("undefined" != typeof t && (this.queryPairs = i(t)), r = 0, s = this.queryPairs.length; s > r; r++) e = this.queryPairs[r], o.length > 0 && (o += "&"), null === e[1] ? o += e[0] : (o += e[0], o += "=", "undefined" != typeof e[1] && (o += encodeURIComponent(e[1])));
					return o.length > 0 ? "?" + o : o
				}, s.prototype.getQueryParamValue = function(t) {
					var r, e, i;
					for (e = 0, i = this.queryPairs.length; i > e; e++)
						if (r = this.queryPairs[e], t === r[0]) return r[1]
				}, s.prototype.getQueryParamValues = function(t) {
					var r, e, i, s = [];
					for (r = 0, i = this.queryPairs.length; i > r; r++) e = this.queryPairs[r], t === e[0] && s.push(e[1]);
					return s
				}, s.prototype.deleteQueryParam = function(t, e) {
					var i, s, o, n, h, u = [];
					for (i = 0, h = this.queryPairs.length; h > i; i++) s = this.queryPairs[i], o = r(s[0]) === r(t), n = s[1] === e, (1 !== arguments.length || o) && (2 !== arguments.length || o && n) || u.push(s);
					return this.queryPairs = u, this
				}, s.prototype.addQueryParam = function(t, r, e) {
					return 3 === arguments.length && -1 !== e ? (e = Math.min(e, this.queryPairs.length), this.queryPairs.splice(e, 0, [t, r])) : arguments.length > 0 && this.queryPairs.push([t, r]), this
				}, s.prototype.hasQueryParam = function(t) {
					var r, e = this.queryPairs.length;
					for (r = 0; e > r; r++)
						if (this.queryPairs[r][0] == t) return !0;
					return !1
				}, s.prototype.replaceQueryParam = function(t, e, i) {
					var s, o, n = -1,
						h = this.queryPairs.length;
					if (3 === arguments.length) {
						for (s = 0; h > s; s++)
							if (o = this.queryPairs[s], r(o[0]) === r(t) && decodeURIComponent(o[1]) === r(i)) {
								n = s;
								break
							}
						n >= 0 && this.deleteQueryParam(t, r(i)).addQueryParam(t, e, n)
					} else {
						for (s = 0; h > s; s++)
							if (o = this.queryPairs[s], r(o[0]) === r(t)) {
								n = s;
								break
							}
						this.deleteQueryParam(t), this.addQueryParam(t, e, n)
					}
					return this
				}, ["protocol", "hasAuthorityPrefix", "isColonUri", "userInfo", "host", "port", "path", "query", "anchor"].forEach(function(t) {
					var r = "set" + t.charAt(0).toUpperCase() + t.slice(1);
					s.prototype[r] = function(r) {
						return this[t](r), this
					}
				}), s.prototype.scheme = function() {
					var t = "";
					return this.protocol() ? (t += this.protocol(), this.protocol().indexOf(":") !== this.protocol().length - 1 && (t += ":"), t += "//") : this.hasAuthorityPrefix() && this.host() && (t += "//"), t
				}, s.prototype.origin = function() {
					var t = this.scheme();
					return this.userInfo() && this.host() && (t += this.userInfo(), this.userInfo().indexOf("@") !== this.userInfo().length - 1 && (t += "@")), this.host() && (t += this.host(), (this.port() || this.path() && this.path().substr(0, 1).match(/[0-9]/)) && (t += ":" + this.port())), t
				}, s.prototype.addTrailingSlash = function() {
					var t = this.path() || "";
					return "/" !== t.substr(-1) && this.path(t + "/"), this
				}, s.prototype.toString = function() {
					var t, r = this.origin();
					return this.isColonUri() ? this.path() && (r += ":" + this.path()) : this.path() ? (t = this.path(), o.ends_with_slashes.test(r) || o.starts_with_slashes.test(t) ? (r && r.replace(o.ends_with_slashes, "/"), t = t.replace(o.starts_with_slashes, "/")) : r += "/", r += t) : this.host() && (this.query().toString() || this.anchor()) && (r += "/"), this.query().toString() && (r += this.query().toString()), this.anchor() && (0 !== this.anchor().indexOf("#") && (r += "#"), r += this.anchor()), r
				}, s.prototype.clone = function() {
					return new s(this.toString())
				}, "function" == typeof define && define.amd ? define(function() {
					return s
				}) : "undefined" != typeof module && "undefined" != typeof module.exports ? module.exports = s : t.Uri = s
			}(this);


		}, {}
	],
	470: [
		function(require, module, exports) {
			(function(global) {
				(function() {
					function n(n, t) {
						if (n !== t) {
							var r = null === n,
								e = n === b,
								u = n === n,
								i = null === t,
								o = t === b,
								a = t === t;
							if (n > t && !i || !u || r && !o && a || e && a) return 1;
							if (t > n && !r || !a || i && !e && u || o && u) return -1
						}
						return 0
					}

					function t(n, t, r) {
						for (var e = n.length, u = r ? e : -1; r ? u-- : ++u < e;)
							if (t(n[u], u, n)) return u;
						return -1
					}

					function r(n, t, r) {
						if (t !== t) return p(n, r);
						for (var e = r - 1, u = n.length; ++e < u;)
							if (n[e] === t) return e;
						return -1
					}

					function e(n) {
						return "function" == typeof n || !1
					}

					function u(n) {
						return "string" == typeof n ? n : null == n ? "" : n + ""
					}

					function i(n, t) {
						for (var r = -1, e = n.length; ++r < e && t.indexOf(n.charAt(r)) > -1;);
						return r
					}

					function o(n, t) {
						for (var r = n.length; r-- && t.indexOf(n.charAt(r)) > -1;);
						return r
					}

					function a(t, r) {
						return n(t.criteria, r.criteria) || t.index - r.index
					}

					function f(t, r, e) {
						for (var u = -1, i = t.criteria, o = r.criteria, a = i.length, f = e.length; ++u < a;) {
							var l = n(i[u], o[u]);
							if (l) return u >= f ? l : l * (e[u] ? 1 : -1)
						}
						return t.index - r.index
					}

					function l(n) {
						return Dn[n]
					}

					function c(n) {
						return Mn[n]
					}

					function s(n) {
						return "\\" + Yn[n]
					}

					function p(n, t, r) {
						for (var e = n.length, u = t + (r ? 0 : -1); r ? u-- : ++u < e;) {
							var i = n[u];
							if (i !== i) return u
						}
						return -1
					}

					function h(n) {
						return !!n && "object" == typeof n
					}

					function v(n) {
						return 160 >= n && n >= 9 && 13 >= n || 32 == n || 160 == n || 5760 == n || 6158 == n || n >= 8192 && (8202 >= n || 8232 == n || 8233 == n || 8239 == n || 8287 == n || 12288 == n || 65279 == n)
					}

					function _(n, t) {
						for (var r = -1, e = n.length, u = -1, i = []; ++r < e;) n[r] === t && (n[r] = z, i[++u] = r);
						return i
					}

					function g(n, t) {
						for (var r, e = -1, u = n.length, i = -1, o = []; ++e < u;) {
							var a = n[e],
								f = t ? t(a, e, n) : a;
							e && r === f || (r = f, o[++i] = a)
						}
						return o
					}

					function y(n) {
						for (var t = -1, r = n.length; ++t < r && v(n.charCodeAt(t)););
						return t
					}

					function d(n) {
						for (var t = n.length; t-- && v(n.charCodeAt(t)););
						return t
					}

					function m(n) {
						return Kn[n]
					}

					function w(v) {
						function Y(n) {
							if (h(n) && !ka(n) && !(n instanceof Dn)) {
								if (n instanceof Q) return n;
								if (Gi.call(n, "__chain__") && Gi.call(n, "__wrapped__")) return le(n)
							}
							return new Q(n)
						}

						function Z() {}

						function Q(n, t, r) {
							this.__wrapped__ = n, this.__actions__ = r || [], this.__chain__ = !! t
						}

						function Dn(n) {
							this.__wrapped__ = n, this.__actions__ = null, this.__dir__ = 1, this.__dropCount__ = 0, this.__filtered__ = !1, this.__iteratees__ = null, this.__takeCount__ = Oo, this.__views__ = null
						}

						function Mn() {
							var n = this.__actions__,
								t = this.__iteratees__,
								r = this.__views__,
								e = new Dn(this.__wrapped__);
							return e.__actions__ = n ? et(n) : null, e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = t ? et(t) : null, e.__takeCount__ = this.__takeCount__, e.__views__ = r ? et(r) : null, e
						}

						function Kn() {
							if (this.__filtered__) {
								var n = new Dn(this);
								n.__dir__ = -1, n.__filtered__ = !0
							} else n = this.clone(), n.__dir__ *= -1;
							return n
						}

						function Vn() {
							var n = this.__wrapped__.value();
							if (!ka(n)) return rr(n, this.__actions__);
							var t = this.__dir__,
								r = 0 > t,
								e = qr(0, n.length, this.__views__),
								u = e.start,
								i = e.end,
								o = i - u,
								a = r ? i : u - 1,
								f = mo(o, this.__takeCount__),
								l = this.__iteratees__,
								c = l ? l.length : 0,
								s = 0,
								p = [];
							n: for (; o-- && f > s;) {
								a += t;
								for (var h = -1, v = n[a]; ++h < c;) {
									var _ = l[h],
										g = _.iteratee,
										y = _.type;
									if (y == F) {
										if (_.done && (r ? a > _.index : a < _.index) && (_.count = 0, _.done = !1), _.index = a, !_.done) {
											var d = _.limit;
											if (!(_.done = d > -1 ? _.count++ >= d : !g(v))) continue n
										}
									} else {
										var m = g(v);
										if (y == L) v = m;
										else if (!m) {
											if (y == N) continue n;
											break n
										}
									}
								}
								p[s++] = v
							}
							return p
						}

						function Yn() {
							this.__data__ = {}
						}

						function Gn(n) {
							return this.has(n) && delete this.__data__[n]
						}

						function Jn(n) {
							return "__proto__" == n ? b : this.__data__[n]
						}

						function Xn(n) {
							return "__proto__" != n && Gi.call(this.__data__, n)
						}

						function Zn(n, t) {
							return "__proto__" != n && (this.__data__[n] = t), this
						}

						function Hn(n) {
							var t = n ? n.length : 0;
							for (this.data = {
								hash: ho(null),
								set: new ao
							}; t--;) this.push(n[t])
						}

						function Qn(n, t) {
							var r = n.data,
								e = "string" == typeof t || Iu(t) ? r.set.has(t) : r.hash[t];
							return e ? 0 : -1
						}

						function rt(n) {
							var t = this.data;
							"string" == typeof n || Iu(n) ? t.set.add(n) : t.hash[n] = !0
						}

						function et(n, t) {
							var r = -1,
								e = n.length;
							for (t || (t = Ti(e)); ++r < e;) t[r] = n[r];
							return t
						}

						function ut(n, t) {
							for (var r = -1, e = n.length; ++r < e && t(n[r], r, n) !== !1;);
							return n
						}

						function it(n, t) {
							for (var r = n.length; r-- && t(n[r], r, n) !== !1;);
							return n
						}

						function ot(n, t) {
							for (var r = -1, e = n.length; ++r < e;)
								if (!t(n[r], r, n)) return !1;
							return !0
						}

						function at(n, t, r, e) {
							for (var u = -1, i = n.length, o = e, a = o; ++u < i;) {
								var f = n[u],
									l = +t(f);
								r(l, o) && (o = l, a = f)
							}
							return a
						}

						function ft(n, t) {
							for (var r = -1, e = n.length, u = -1, i = []; ++r < e;) {
								var o = n[r];
								t(o, r, n) && (i[++u] = o)
							}
							return i
						}

						function lt(n, t) {
							for (var r = -1, e = n.length, u = Ti(e); ++r < e;) u[r] = t(n[r], r, n);
							return u
						}

						function ct(n, t, r, e) {
							var u = -1,
								i = n.length;
							for (e && i && (r = n[++u]); ++u < i;) r = t(r, n[u], u, n);
							return r
						}

						function st(n, t, r, e) {
							var u = n.length;
							for (e && u && (r = n[--u]); u--;) r = t(r, n[u], u, n);
							return r
						}

						function pt(n, t) {
							for (var r = -1, e = n.length; ++r < e;)
								if (t(n[r], r, n)) return !0;
							return !1
						}

						function ht(n) {
							for (var t = n.length, r = 0; t--;) r += +n[t] || 0;
							return r
						}

						function vt(n, t) {
							return n === b ? t : n
						}

						function _t(n, t, r, e) {
							return n !== b && Gi.call(e, r) ? n : t
						}

						function gt(n, t, r) {
							for (var e = -1, u = Ba(t), i = u.length; ++e < i;) {
								var o = u[e],
									a = n[o],
									f = r(a, t[o], o, n, t);
								(f === f ? f === a : a !== a) && (a !== b || o in n) || (n[o] = f)
							}
							return n
						}

						function yt(n, t) {
							return null == t ? n : mt(t, Ba(t), n)
						}

						function dt(n, t) {
							for (var r = -1, e = null == n, u = !e && Yr(n), i = u ? n.length : 0, o = t.length, a = Ti(o); ++r < o;) {
								var f = t[r];
								u ? a[r] = Gr(f, i) ? n[f] : b : a[r] = e ? b : n[f]
							}
							return a
						}

						function mt(n, t, r) {
							r || (r = {});
							for (var e = -1, u = t.length; ++e < u;) {
								var i = t[e];
								r[i] = n[i]
							}
							return r
						}

						function wt(n, t, r) {
							var e = typeof n;
							return "function" == e ? t === b ? n : ir(n, t, r) : null == n ? wi : "object" == e ? Bt(n) : t === b ? Ri(n) : zt(n, t)
						}

						function bt(n, t, r, e, u, i, o) {
							var a;
							if (r && (a = u ? r(n, e, u) : r(n)), a !== b) return a;
							if (!Iu(n)) return n;
							var f = ka(n);
							if (f) {
								if (a = Dr(n), !t) return et(n, a)
							} else {
								var l = Xi.call(n),
									c = l == V;
								if (l != J && l != P && (!c || u)) return Pn[l] ? Kr(n, l, t) : u ? n : {};
								if (a = Mr(c ? {} : n), !t) return yt(a, n)
							}
							i || (i = []), o || (o = []);
							for (var s = i.length; s--;)
								if (i[s] == n) return o[s];
							return i.push(n), o.push(a), (f ? ut : Wt)(n, function(e, u) {
								a[u] = bt(e, t, r, u, n, i, o)
							}), a
						}

						function xt(n, t, r) {
							if ("function" != typeof n) throw new qi(B);
							return fo(function() {
								n.apply(b, r)
							}, t)
						}

						function At(n, t) {
							var e = n ? n.length : 0,
								u = [];
							if (!e) return u;
							var i = -1,
								o = Br(),
								a = o == r,
								f = a && t.length >= 200 ? zo(t) : null,
								l = t.length;
							f && (o = Qn, a = !1, t = f);
							n: for (; ++i < e;) {
								var c = n[i];
								if (a && c === c) {
									for (var s = l; s--;)
										if (t[s] === c) continue n;
									u.push(c)
								} else o(t, c, 0) < 0 && u.push(c)
							}
							return u
						}

						function jt(n, t) {
							var r = !0;
							return $o(n, function(n, e, u) {
								return r = !! t(n, e, u)
							}), r
						}

						function Ot(n, t, r, e) {
							var u = e,
								i = u;
							return $o(n, function(n, o, a) {
								var f = +t(n, o, a);
								(r(f, u) || f === e && f === i) && (u = f, i = n)
							}), i
						}

						function Rt(n, t, r, e) {
							var u = n.length;
							for (r = null == r ? 0 : +r || 0, 0 > r && (r = -r > u ? 0 : u + r), e = e === b || e > u ? u : +e || 0, 0 > e && (e += u), u = r > e ? 0 : e >>> 0, r >>>= 0; u > r;) n[r++] = t;
							return n
						}

						function kt(n, t) {
							var r = [];
							return $o(n, function(n, e, u) {
								t(n, e, u) && r.push(n)
							}), r
						}

						function It(n, t, r, e) {
							var u;
							return r(n, function(n, r, i) {
								return t(n, r, i) ? (u = e ? r : n, !1) : void 0
							}), u
						}

						function Et(n, t, r) {
							for (var e = -1, u = n.length, i = -1, o = []; ++e < u;) {
								var a = n[e];
								if (h(a) && Yr(a) && (r || ka(a) || bu(a))) {
									t && (a = Et(a, t, r));
									for (var f = -1, l = a.length; ++f < l;) o[++i] = a[f]
								} else r || (o[++i] = a)
							}
							return o
						}

						function Ct(n, t) {
							return No(n, t, Yu)
						}

						function Wt(n, t) {
							return No(n, t, Ba)
						}

						function St(n, t) {
							return Lo(n, t, Ba)
						}

						function Tt(n, t) {
							for (var r = -1, e = t.length, u = -1, i = []; ++r < e;) {
								var o = t[r];
								Ea(n[o]) && (i[++u] = o)
							}
							return i
						}

						function Ut(n, t, r) {
							if (null != n) {
								r !== b && r in ae(n) && (t = [r]);
								for (var e = 0, u = t.length; null != n && u > e;) n = n[t[e++]];
								return e && e == u ? n : b
							}
						}

						function $t(n, t, r, e, u, i) {
							return n === t ? !0 : null == n || null == t || !Iu(n) && !h(t) ? n !== n && t !== t : Ft(n, t, $t, r, e, u, i)
						}

						function Ft(n, t, r, e, u, i, o) {
							var a = ka(n),
								f = ka(t),
								l = q,
								c = q;
							a || (l = Xi.call(n), l == P ? l = J : l != J && (a = Fu(n))), f || (c = Xi.call(t), c == P ? c = J : c != J && (f = Fu(t)));
							var s = l == J,
								p = c == J,
								h = l == c;
							if (h && !a && !s) return $r(n, t, l);
							if (!u) {
								var v = s && Gi.call(n, "__wrapped__"),
									_ = p && Gi.call(t, "__wrapped__");
								if (v || _) return r(v ? n.value() : n, _ ? t.value() : t, e, u, i, o)
							}
							if (!h) return !1;
							i || (i = []), o || (o = []);
							for (var g = i.length; g--;)
								if (i[g] == n) return o[g] == t;
							i.push(n), o.push(t);
							var y = (a ? Ur : Fr)(n, t, r, e, u, i, o);
							return i.pop(), o.pop(), y
						}

						function Nt(n, t, r) {
							var e = t.length,
								u = e,
								i = !r;
							if (null == n) return !u;
							for (n = ae(n); e--;) {
								var o = t[e];
								if (i && o[2] ? o[1] !== n[o[0]] : !(o[0] in n)) return !1
							}
							for (; ++e < u;) {
								o = t[e];
								var a = o[0],
									f = n[a],
									l = o[1];
								if (i && o[2]) {
									if (f === b && !(a in n)) return !1
								} else {
									var c = r ? r(f, l, a) : b;
									if (!(c === b ? $t(l, f, r, !0) : c)) return !1
								}
							}
							return !0
						}

						function Lt(n, t) {
							var r = -1,
								e = Yr(n) ? Ti(n.length) : [];
							return $o(n, function(n, u, i) {
								e[++r] = t(n, u, i)
							}), e
						}

						function Bt(n) {
							var t = zr(n);
							if (1 == t.length && t[0][2]) {
								var r = t[0][0],
									e = t[0][1];
								return function(n) {
									return null == n ? !1 : n[r] === e && (e !== b || r in ae(n))
								}
							}
							return function(n) {
								return Nt(n, t)
							}
						}

						function zt(n, t) {
							var r = ka(n),
								e = Xr(n) && Qr(t),
								u = n + "";
							return n = fe(n),
							function(i) {
								if (null == i) return !1;
								var o = u;
								if (i = ae(i), (r || !e) && !(o in i)) {
									if (i = 1 == n.length ? i : Ut(i, Gt(n, 0, -1)), null == i) return !1;
									o = xe(n), i = ae(i)
								}
								return i[o] === t ? t !== b || o in i : $t(t, i[o], b, !0)
							}
						}

						function Pt(n, t, r, e, u) {
							if (!Iu(n)) return n;
							var i = Yr(t) && (ka(t) || Fu(t)),
								o = i ? null : Ba(t);
							return ut(o || t, function(a, f) {
								if (o && (f = a, a = t[f]), h(a)) e || (e = []), u || (u = []), qt(n, t, f, Pt, r, e, u);
								else {
									var l = n[f],
										c = r ? r(l, a, f, n, t) : b,
										s = c === b;
									s && (c = a), c === b && (!i || f in n) || !s && (c === c ? c === l : l !== l) || (n[f] = c)
								}
							}), n
						}

						function qt(n, t, r, e, u, i, o) {
							for (var a = i.length, f = t[r]; a--;)
								if (i[a] == f) return void(n[r] = o[a]);
							var l = n[r],
								c = u ? u(l, f, r, n, t) : b,
								s = c === b;
							s && (c = f, Yr(f) && (ka(f) || Fu(f)) ? c = ka(l) ? l : Yr(l) ? et(l) : [] : Ca(f) || bu(f) ? c = bu(l) ? Pu(l) : Ca(l) ? l : {} : s = !1), i.push(f), o.push(c), s ? n[r] = e(c, f, u, i, o) : (c === c ? c !== l : l === l) && (n[r] = c)
						}

						function Dt(n) {
							return function(t) {
								return null == t ? b : t[n]
							}
						}

						function Mt(n) {
							var t = n + "";
							return n = fe(n),
							function(r) {
								return Ut(r, n, t)
							}
						}

						function Kt(n, t) {
							for (var r = n ? t.length : 0; r--;) {
								var e = t[r];
								if (e != u && Gr(e)) {
									var u = e;
									lo.call(n, e, 1)
								}
							}
							return n
						}

						function Vt(n, t) {
							return n + eo(Ao() * (t - n + 1))
						}

						function Yt(n, t, r, e, u) {
							return u(n, function(n, u, i) {
								r = e ? (e = !1, n) : t(r, n, u, i)
							}), r
						}

						function Gt(n, t, r) {
							var e = -1,
								u = n.length;
							t = null == t ? 0 : +t || 0, 0 > t && (t = -t > u ? 0 : u + t), r = r === b || r > u ? u : +r || 0, 0 > r && (r += u), u = t > r ? 0 : r - t >>> 0, t >>>= 0;
							for (var i = Ti(u); ++e < u;) i[e] = n[e + t];
							return i
						}

						function Jt(n, t) {
							var r;
							return $o(n, function(n, e, u) {
								return r = t(n, e, u), !r
							}), !! r
						}

						function Xt(n, t) {
							var r = n.length;
							for (n.sort(t); r--;) n[r] = n[r].value;
							return n
						}

						function Zt(n, t, r) {
							var e = Nr(),
								u = -1;
							t = lt(t, function(n) {
								return e(n)
							});
							var i = Lt(n, function(n) {
								var r = lt(t, function(t) {
									return t(n)
								});
								return {
									criteria: r,
									index: ++u,
									value: n
								}
							});
							return Xt(i, function(n, t) {
								return f(n, t, r)
							})
						}

						function Ht(n, t) {
							var r = 0;
							return $o(n, function(n, e, u) {
								r += +t(n, e, u) || 0
							}), r
						}

						function Qt(n, t) {
							var e = -1,
								u = Br(),
								i = n.length,
								o = u == r,
								a = o && i >= 200,
								f = a ? zo() : null,
								l = [];
							f ? (u = Qn, o = !1) : (a = !1, f = t ? [] : l);
							n: for (; ++e < i;) {
								var c = n[e],
									s = t ? t(c, e, n) : c;
								if (o && c === c) {
									for (var p = f.length; p--;)
										if (f[p] === s) continue n;
									t && f.push(s), l.push(c)
								} else u(f, s, 0) < 0 && ((t || a) && f.push(s), l.push(c))
							}
							return l
						}

						function nr(n, t) {
							for (var r = -1, e = t.length, u = Ti(e); ++r < e;) u[r] = n[t[r]];
							return u
						}

						function tr(n, t, r, e) {
							for (var u = n.length, i = e ? u : -1;
								(e ? i-- : ++i < u) && t(n[i], i, n););
							return r ? Gt(n, e ? 0 : i, e ? i + 1 : u) : Gt(n, e ? i + 1 : 0, e ? u : i)
						}

						function rr(n, t) {
							var r = n;
							r instanceof Dn && (r = r.value());
							for (var e = -1, u = t.length; ++e < u;) {
								var i = [r],
									o = t[e];
								oo.apply(i, o.args), r = o.func.apply(o.thisArg, i)
							}
							return r
						}

						function er(n, t, r) {
							var e = 0,
								u = n ? n.length : e;
							if ("number" == typeof t && t === t && Io >= u) {
								for (; u > e;) {
									var i = e + u >>> 1,
										o = n[i];
									(r ? t >= o : t > o) && null !== o ? e = i + 1 : u = i
								}
								return u
							}
							return ur(n, t, wi, r)
						}

						function ur(n, t, r, e) {
							t = r(t);
							for (var u = 0, i = n ? n.length : 0, o = t !== t, a = null === t, f = t === b; i > u;) {
								var l = eo((u + i) / 2),
									c = r(n[l]),
									s = c !== b,
									p = c === c;
								if (o) var h = p || e;
								else h = a ? p && s && (e || null != c) : f ? p && (e || s) : null == c ? !1 : e ? t >= c : t > c;
								h ? u = l + 1 : i = l
							}
							return mo(i, ko)
						}

						function ir(n, t, r) {
							if ("function" != typeof n) return wi;
							if (t === b) return n;
							switch (r) {
								case 1:
									return function(r) {
										return n.call(t, r)
									};
								case 3:
									return function(r, e, u) {
										return n.call(t, r, e, u)
									};
								case 4:
									return function(r, e, u, i) {
										return n.call(t, r, e, u, i)
									};
								case 5:
									return function(r, e, u, i, o) {
										return n.call(t, r, e, u, i, o)
									}
							}
							return function() {
								return n.apply(t, arguments)
							}
						}

						function or(n) {
							return no.call(n, 0)
						}

						function ar(n, t, r) {
							for (var e = r.length, u = -1, i = yo(n.length - e, 0), o = -1, a = t.length, f = Ti(i + a); ++o < a;) f[o] = t[o];
							for (; ++u < e;) f[r[u]] = n[u];
							for (; i--;) f[o++] = n[u++];
							return f
						}

						function fr(n, t, r) {
							for (var e = -1, u = r.length, i = -1, o = yo(n.length - u, 0), a = -1, f = t.length, l = Ti(o + f); ++i < o;) l[i] = n[i];
							for (var c = i; ++a < f;) l[c + a] = t[a];
							for (; ++e < u;) l[c + r[e]] = n[i++];
							return l
						}

						function lr(n, t) {
							return function(r, e, u) {
								var i = t ? t() : {};
								if (e = Nr(e, u, 3), ka(r))
									for (var o = -1, a = r.length; ++o < a;) {
										var f = r[o];
										n(i, f, e(f, o, r), r)
									} else $o(r, function(t, r, u) {
										n(i, t, e(t, r, u), u)
									});
								return i
							}
						}

						function cr(n) {
							return hu(function(t, r) {
								var e = -1,
									u = null == t ? 0 : r.length,
									i = u > 2 ? r[u - 2] : b,
									o = u > 2 ? r[2] : b,
									a = u > 1 ? r[u - 1] : b;
								for ("function" == typeof i ? (i = ir(i, a, 5), u -= 2) : (i = "function" == typeof a ? a : b, u -= i ? 1 : 0), o && Jr(r[0], r[1], o) && (i = 3 > u ? b : i, u = 1); ++e < u;) {
									var f = r[e];
									f && n(t, f, i)
								}
								return t
							})
						}

						function sr(n, t) {
							return function(r, e) {
								var u = r ? qo(r) : 0;
								if (!Hr(u)) return n(r, e);
								for (var i = t ? u : -1, o = ae(r);
									(t ? i-- : ++i < u) && e(o[i], i, o) !== !1;);
								return r
							}
						}

						function pr(n) {
							return function(t, r, e) {
								for (var u = ae(t), i = e(t), o = i.length, a = n ? o : -1; n ? a-- : ++a < o;) {
									var f = i[a];
									if (r(u[f], f, u) === !1) break
								}
								return t
							}
						}

						function hr(n, t) {
							function r() {
								var u = this && this !== nt && this instanceof r ? e : n;
								return u.apply(t, arguments)
							}
							var e = _r(n);
							return r
						}

						function vr(n) {
							return function(t) {
								for (var r = -1, e = yi(ei(t)), u = e.length, i = ""; ++r < u;) i = n(i, e[r], r);
								return i
							}
						}

						function _r(n) {
							return function() {
								var t = arguments;
								switch (t.length) {
									case 0:
										return new n;
									case 1:
										return new n(t[0]);
									case 2:
										return new n(t[0], t[1]);
									case 3:
										return new n(t[0], t[1], t[2]);
									case 4:
										return new n(t[0], t[1], t[2], t[3]);
									case 5:
										return new n(t[0], t[1], t[2], t[3], t[4])
								}
								var r = Uo(n.prototype),
									e = n.apply(r, t);
								return Iu(e) ? e : r
							}
						}

						function gr(n) {
							function t(r, e, u) {
								u && Jr(r, e, u) && (e = null);
								var i = Tr(r, n, null, null, null, null, null, e);
								return i.placeholder = t.placeholder, i
							}
							return t
						}

						function yr(n, t) {
							return function(r, e, u) {
								if (u && Jr(r, e, u) && (e = null), e = Nr(e, u, 3), 1 == e.length) {
									r = oe(r);
									var i = at(r, e, n, t);
									if (!r.length || i !== t) return i
								}
								return Ot(r, e, n, t)
							}
						}

						function dr(n, r) {
							return function(e, u, i) {
								if (u = Nr(u, i, 3), ka(e)) {
									var o = t(e, u, r);
									return o > -1 ? e[o] : b
								}
								return It(e, u, n)
							}
						}

						function mr(n) {
							return function(r, e, u) {
								return r && r.length ? (e = Nr(e, u, 3), t(r, e, n)) : -1
							}
						}

						function wr(n) {
							return function(t, r, e) {
								return r = Nr(r, e, 3), It(t, r, n, !0)
							}
						}

						function br(n) {
							return function() {
								for (var t, r = arguments.length, e = n ? r : -1, u = 0, i = Ti(r); n ? e-- : ++e < r;) {
									var o = i[u++] = arguments[e];
									if ("function" != typeof o) throw new qi(B);
									!t && Q.prototype.thru && "wrapper" == Lr(o) && (t = new Q([]))
								}
								for (e = t ? -1 : r; ++e < r;) {
									o = i[e];
									var a = Lr(o),
										f = "wrapper" == a ? Po(o) : null;
									t = f && Zr(f[0]) && f[1] == (C | R | I | W) && !f[4].length && 1 == f[9] ? t[Lr(f[0])].apply(t, f[3]) : 1 == o.length && Zr(o) ? t[a]() : t.thru(o)
								}
								return function() {
									var n = arguments;
									if (t && 1 == n.length && ka(n[0])) return t.plant(n[0]).value();
									for (var e = 0, u = r ? i[e].apply(this, n) : n[0]; ++e < r;) u = i[e].call(this, u);
									return u
								}
							}
						}

						function xr(n, t) {
							return function(r, e, u) {
								return "function" == typeof e && u === b && ka(r) ? n(r, e) : t(r, ir(e, u, 3))
							}
						}

						function Ar(n) {
							return function(t, r, e) {
								return ("function" != typeof r || e !== b) && (r = ir(r, e, 3)), n(t, r, Yu)
							}
						}

						function jr(n) {
							return function(t, r, e) {
								return ("function" != typeof r || e !== b) && (r = ir(r, e, 3)), n(t, r)
							}
						}

						function Or(n) {
							return function(t, r, e) {
								var u = {};
								return r = Nr(r, e, 3), Wt(t, function(t, e, i) {
									var o = r(t, e, i);
									e = n ? o : e, t = n ? t : o, u[e] = t
								}), u
							}
						}

						function Rr(n) {
							return function(t, r, e) {
								return t = u(t), (n ? t : "") + Cr(t, r, e) + (n ? "" : t)
							}
						}

						function kr(n) {
							var t = hu(function(r, e) {
								var u = _(e, t.placeholder);
								return Tr(r, n, null, e, u)
							});
							return t
						}

						function Ir(n, t) {
							return function(r, e, u, i) {
								var o = arguments.length < 3;
								return "function" == typeof e && i === b && ka(r) ? n(r, e, u, o) : Yt(r, Nr(e, i, 4), u, o, t)
							}
						}

						function Er(n, t, r, e, u, i, o, a, f, l) {
							function c() {
								for (var m = arguments.length, w = m, x = Ti(m); w--;) x[w] = arguments[w];
								if (e && (x = ar(x, e, u)), i && (x = fr(x, i, o)), v || y) {
									var O = c.placeholder,
										R = _(x, O);
									if (m -= R.length, l > m) {
										var k = a ? et(a) : null,
											C = yo(l - m, 0),
											W = v ? R : null,
											S = v ? null : R,
											T = v ? x : null,
											U = v ? null : x;
										t |= v ? I : E, t &= ~(v ? E : I), g || (t &= ~(A | j));
										var $ = [n, t, r, T, W, U, S, k, f, C],
											F = Er.apply(b, $);
										return Zr(n) && Do(F, $), F.placeholder = O, F
									}
								}
								var N = p ? r : this,
									L = h ? N[n] : n;
								return a && (x = ee(x, a)), s && f < x.length && (x.length = f), this && this !== nt && this instanceof c && (L = d || _r(n)), L.apply(N, x)
							}
							var s = t & C,
								p = t & A,
								h = t & j,
								v = t & R,
								g = t & O,
								y = t & k,
								d = h ? null : _r(n);
							return c
						}

						function Cr(n, t, r) {
							var e = n.length;
							if (t = +t, e >= t || !_o(t)) return "";
							var u = t - e;
							return r = null == r ? " " : r + "", li(r, to(u / r.length)).slice(0, u)
						}

						function Wr(n, t, r, e) {
							function u() {
								for (var t = -1, a = arguments.length, f = -1, l = e.length, c = Ti(a + l); ++f < l;) c[f] = e[f];
								for (; a--;) c[f++] = arguments[++t];
								var s = this && this !== nt && this instanceof u ? o : n;
								return s.apply(i ? r : this, c)
							}
							var i = t & A,
								o = _r(n);
							return u
						}

						function Sr(n) {
							return function(t, r, e, u) {
								var i = Nr(e);
								return null == e && i === wt ? er(t, r, n) : ur(t, r, i(e, u, 1), n)
							}
						}

						function Tr(n, t, r, e, u, i, o, a) {
							var f = t & j;
							if (!f && "function" != typeof n) throw new qi(B);
							var l = e ? e.length : 0;
							if (l || (t &= ~(I | E), e = u = null), l -= u ? u.length : 0, t & E) {
								var c = e,
									s = u;
								e = u = null
							}
							var p = f ? null : Po(n),
								h = [n, t, r, e, u, c, s, i, o, a];
							if (p && (ne(h, p), t = h[1], a = h[9]), h[9] = null == a ? f ? 0 : n.length : yo(a - l, 0) || 0, t == A) var v = hr(h[0], h[2]);
							else v = t != I && t != (A | I) || h[4].length ? Er.apply(b, h) : Wr.apply(b, h);
							var _ = p ? Bo : Do;
							return _(v, h)
						}

						function Ur(n, t, r, e, u, i, o) {
							var a = -1,
								f = n.length,
								l = t.length;
							if (f != l && !(u && l > f)) return !1;
							for (; ++a < f;) {
								var c = n[a],
									s = t[a],
									p = e ? e(u ? s : c, u ? c : s, a) : b;
								if (p !== b) {
									if (p) continue;
									return !1
								}
								if (u) {
									if (!pt(t, function(n) {
										return c === n || r(c, n, e, u, i, o)
									})) return !1
								} else if (c !== s && !r(c, s, e, u, i, o)) return !1
							}
							return !0
						}

						function $r(n, t, r) {
							switch (r) {
								case D:
								case M:
									return +n == +t;
								case K:
									return n.name == t.name && n.message == t.message;
								case G:
									return n != +n ? t != +t : n == +t;
								case X:
								case H:
									return n == t + ""
							}
							return !1
						}

						function Fr(n, t, r, e, u, i, o) {
							var a = Ba(n),
								f = a.length,
								l = Ba(t),
								c = l.length;
							if (f != c && !u) return !1;
							for (var s = f; s--;) {
								var p = a[s];
								if (!(u ? p in t : Gi.call(t, p))) return !1
							}
							for (var h = u; ++s < f;) {
								p = a[s];
								var v = n[p],
									_ = t[p],
									g = e ? e(u ? _ : v, u ? v : _, p) : b;
								if (!(g === b ? r(v, _, e, u, i, o) : g)) return !1;
								h || (h = "constructor" == p)
							}
							if (!h) {
								var y = n.constructor,
									d = t.constructor;
								if (y != d && "constructor" in n && "constructor" in t && !("function" == typeof y && y instanceof y && "function" == typeof d && d instanceof d)) return !1
							}
							return !0
						}

						function Nr(n, t, r) {
							var e = Y.callback || di;
							return e = e === di ? wt : e, r ? e(n, t, r) : e
						}

						function Lr(n) {
							for (var t = n.name, r = So[t], e = r ? r.length : 0; e--;) {
								var u = r[e],
									i = u.func;
								if (null == i || i == n) return u.name
							}
							return t
						}

						function Br(n, t, e) {
							var u = Y.indexOf || we;
							return u = u === we ? r : u, n ? u(n, t, e) : u
						}

						function zr(n) {
							for (var t = Gu(n), r = t.length; r--;) t[r][2] = Qr(t[r][1]);
							return t
						}

						function Pr(n, t) {
							var r = null == n ? b : n[t];
							return Wu(r) ? r : b
						}

						function qr(n, t, r) {
							for (var e = -1, u = r ? r.length : 0; ++e < u;) {
								var i = r[e],
									o = i.size;
								switch (i.type) {
									case "drop":
										n += o;
										break;
									case "dropRight":
										t -= o;
										break;
									case "take":
										t = mo(t, n + o);
										break;
									case "takeRight":
										n = yo(n, t - o)
								}
							}
							return {
								start: n,
								end: t
							}
						}

						function Dr(n) {
							var t = n.length,
								r = new n.constructor(t);
							return t && "string" == typeof n[0] && Gi.call(n, "index") && (r.index = n.index, r.input = n.input), r
						}

						function Mr(n) {
							var t = n.constructor;
							return "function" == typeof t && t instanceof t || (t = Bi), new t
						}

						function Kr(n, t, r) {
							var e = n.constructor;
							switch (t) {
								case nn:
									return or(n);
								case D:
								case M:
									return new e(+n);
								case tn:
								case rn:
								case en:
								case un:
								case on:
								case an:
								case fn:
								case ln:
								case cn:
									var u = n.buffer;
									return new e(r ? or(u) : u, n.byteOffset, n.length);
								case G:
								case H:
									return new e(n);
								case X:
									var i = new e(n.source, En.exec(n));
									i.lastIndex = n.lastIndex
							}
							return i
						}

						function Vr(n, t, r) {
							null == n || Xr(t, n) || (t = fe(t), n = 1 == t.length ? n : Ut(n, Gt(t, 0, -1)), t = xe(t));
							var e = null == n ? n : n[t];
							return null == e ? b : e.apply(n, r)
						}

						function Yr(n) {
							return null != n && Hr(qo(n))
						}

						function Gr(n, t) {
							return n = "number" == typeof n || Sn.test(n) ? +n : -1, t = null == t ? Co : t, n > -1 && n % 1 == 0 && t > n
						}

						function Jr(n, t, r) {
							if (!Iu(r)) return !1;
							var e = typeof t;
							if ("number" == e ? Yr(r) && Gr(t, r.length) : "string" == e && t in r) {
								var u = r[t];
								return n === n ? n === u : u !== u
							}
							return !1
						}

						function Xr(n, t) {
							var r = typeof n;
							if ("string" == r && xn.test(n) || "number" == r) return !0;
							if (ka(n)) return !1;
							var e = !bn.test(n);
							return e || null != t && n in ae(t)
						}

						function Zr(n) {
							var t = Lr(n);
							if (!(t in Dn.prototype)) return !1;
							var r = Y[t];
							if (n === r) return !0;
							var e = Po(r);
							return !!e && n === e[0]
						}

						function Hr(n) {
							return "number" == typeof n && n > -1 && n % 1 == 0 && Co >= n
						}

						function Qr(n) {
							return n === n && !Iu(n)
						}

						function ne(n, t) {
							var r = n[1],
								e = t[1],
								u = r | e,
								i = C > u,
								o = e == C && r == R || e == C && r == W && n[7].length <= t[8] || e == (C | W) && r == R;
							if (!i && !o) return n;
							e & A && (n[2] = t[2], u |= r & A ? 0 : O);
							var a = t[3];
							if (a) {
								var f = n[3];
								n[3] = f ? ar(f, a, t[4]) : et(a), n[4] = f ? _(n[3], z) : et(t[4])
							}
							return a = t[5], a && (f = n[5], n[5] = f ? fr(f, a, t[6]) : et(a), n[6] = f ? _(n[5], z) : et(t[6])), a = t[7], a && (n[7] = et(a)), e & C && (n[8] = null == n[8] ? t[8] : mo(n[8], t[8])), null == n[9] && (n[9] = t[9]), n[0] = t[0], n[1] = u, n
						}

						function te(n, t) {
							n = ae(n);
							for (var r = -1, e = t.length, u = {}; ++r < e;) {
								var i = t[r];
								i in n && (u[i] = n[i])
							}
							return u
						}

						function re(n, t) {
							var r = {};
							return Ct(n, function(n, e, u) {
								t(n, e, u) && (r[e] = n)
							}), r
						}

						function ee(n, t) {
							for (var r = n.length, e = mo(t.length, r), u = et(n); e--;) {
								var i = t[e];
								n[e] = Gr(i, r) ? u[i] : b
							}
							return n
						}

						function ue(n) {
							var t;
							Y.support;
							if (!h(n) || Xi.call(n) != J || !Gi.call(n, "constructor") && (t = n.constructor, "function" == typeof t && !(t instanceof t))) return !1;
							var r;
							return Ct(n, function(n, t) {
								r = t
							}), r === b || Gi.call(n, r)
						}

						function ie(n) {
							for (var t = Yu(n), r = t.length, e = r && n.length, u = !! e && Hr(e) && (ka(n) || bu(n)), i = -1, o = []; ++i < r;) {
								var a = t[i];
								(u && Gr(a, e) || Gi.call(n, a)) && o.push(a)
							}
							return o
						}

						function oe(n) {
							return null == n ? [] : Yr(n) ? Iu(n) ? n : Bi(n) : Hu(n)
						}

						function ae(n) {
							return Iu(n) ? n : Bi(n)
						}

						function fe(n) {
							if (ka(n)) return n;
							var t = [];
							return u(n).replace(An, function(n, r, e, u) {
								t.push(e ? u.replace(kn, "$1") : r || n)
							}), t
						}

						function le(n) {
							return n instanceof Dn ? n.clone() : new Q(n.__wrapped__, n.__chain__, et(n.__actions__))
						}

						function ce(n, t, r) {
							t = (r ? Jr(n, t, r) : null == t) ? 1 : yo(+t || 1, 1);
							for (var e = 0, u = n ? n.length : 0, i = -1, o = Ti(to(u / t)); u > e;) o[++i] = Gt(n, e, e += t);
							return o
						}

						function se(n) {
							for (var t = -1, r = n ? n.length : 0, e = -1, u = []; ++t < r;) {
								var i = n[t];
								i && (u[++e] = i)
							}
							return u
						}

						function pe(n, t, r) {
							var e = n ? n.length : 0;
							return e ? ((r ? Jr(n, t, r) : null == t) && (t = 1), Gt(n, 0 > t ? 0 : t)) : []
						}

						function he(n, t, r) {
							var e = n ? n.length : 0;
							return e ? ((r ? Jr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Gt(n, 0, 0 > t ? 0 : t)) : []
						}

						function ve(n, t, r) {
							return n && n.length ? tr(n, Nr(t, r, 3), !0, !0) : []
						}

						function _e(n, t, r) {
							return n && n.length ? tr(n, Nr(t, r, 3), !0) : []
						}

						function ge(n, t, r, e) {
							var u = n ? n.length : 0;
							return u ? (r && "number" != typeof r && Jr(n, t, r) && (r = 0, e = u), Rt(n, t, r, e)) : []
						}

						function ye(n) {
							return n ? n[0] : b
						}

						function de(n, t, r) {
							var e = n ? n.length : 0;
							return r && Jr(n, t, r) && (t = !1), e ? Et(n, t) : []
						}

						function me(n) {
							var t = n ? n.length : 0;
							return t ? Et(n, !0) : []
						}

						function we(n, t, e) {
							var u = n ? n.length : 0;
							if (!u) return -1;
							if ("number" == typeof e) e = 0 > e ? yo(u + e, 0) : e;
							else if (e) {
								var i = er(n, t),
									o = n[i];
								return (t === t ? t === o : o !== o) ? i : -1
							}
							return r(n, t, e || 0)
						}

						function be(n) {
							return he(n, 1)
						}

						function xe(n) {
							var t = n ? n.length : 0;
							return t ? n[t - 1] : b
						}

						function Ae(n, t, r) {
							var e = n ? n.length : 0;
							if (!e) return -1;
							var u = e;
							if ("number" == typeof r) u = (0 > r ? yo(e + r, 0) : mo(r || 0, e - 1)) + 1;
							else if (r) {
								u = er(n, t, !0) - 1;
								var i = n[u];
								return (t === t ? t === i : i !== i) ? u : -1
							}
							if (t !== t) return p(n, u, !0);
							for (; u--;)
								if (n[u] === t) return u;
							return -1
						}

						function je() {
							var n = arguments,
								t = n[0];
							if (!t || !t.length) return t;
							for (var r = 0, e = Br(), u = n.length; ++r < u;)
								for (var i = 0, o = n[r];
									(i = e(t, o, i)) > -1;) lo.call(t, i, 1);
							return t
						}

						function Oe(n, t, r) {
							var e = [];
							if (!n || !n.length) return e;
							var u = -1,
								i = [],
								o = n.length;
							for (t = Nr(t, r, 3); ++u < o;) {
								var a = n[u];
								t(a, u, n) && (e.push(a), i.push(u))
							}
							return Kt(n, i), e
						}

						function Re(n) {
							return pe(n, 1)
						}

						function ke(n, t, r) {
							var e = n ? n.length : 0;
							return e ? (r && "number" != typeof r && Jr(n, t, r) && (t = 0, r = e), Gt(n, t, r)) : []
						}

						function Ie(n, t, r) {
							var e = n ? n.length : 0;
							return e ? ((r ? Jr(n, t, r) : null == t) && (t = 1), Gt(n, 0, 0 > t ? 0 : t)) : []
						}

						function Ee(n, t, r) {
							var e = n ? n.length : 0;
							return e ? ((r ? Jr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Gt(n, 0 > t ? 0 : t)) : []
						}

						function Ce(n, t, r) {
							return n && n.length ? tr(n, Nr(t, r, 3), !1, !0) : []
						}

						function We(n, t, r) {
							return n && n.length ? tr(n, Nr(t, r, 3)) : []
						}

						function Se(n, t, e, u) {
							var i = n ? n.length : 0;
							if (!i) return [];
							null != t && "boolean" != typeof t && (u = e, e = Jr(n, t, u) ? null : t, t = !1);
							var o = Nr();
							return (null != e || o !== wt) && (e = o(e, u, 3)), t && Br() == r ? g(n, e) : Qt(n, e)
						}

						function Te(n) {
							if (!n || !n.length) return [];
							var t = -1,
								r = 0;
							n = ft(n, function(n) {
								return Yr(n) ? (r = yo(n.length, r), !0) : void 0
							});
							for (var e = Ti(r); ++t < r;) e[t] = lt(n, Dt(t));
							return e
						}

						function Ue(n, t, r) {
							var e = n ? n.length : 0;
							if (!e) return [];
							var u = Te(n);
							return null == t ? u : (t = ir(t, r, 4), lt(u, function(n) {
								return ct(n, t, b, !0)
							}))
						}

						function $e() {
							for (var n = -1, t = arguments.length; ++n < t;) {
								var r = arguments[n];
								if (Yr(r)) var e = e ? At(e, r).concat(At(r, e)) : r
							}
							return e ? Qt(e) : []
						}

						function Fe(n, t) {
							var r = -1,
								e = n ? n.length : 0,
								u = {};
							for (!e || t || ka(n[0]) || (t = []); ++r < e;) {
								var i = n[r];
								t ? u[i] = t[r] : i && (u[i[0]] = i[1])
							}
							return u
						}

						function Ne(n) {
							var t = Y(n);
							return t.__chain__ = !0, t
						}

						function Le(n, t, r) {
							return t.call(r, n), n
						}

						function Be(n, t, r) {
							return t.call(r, n)
						}

						function ze() {
							return Ne(this)
						}

						function Pe() {
							return new Q(this.value(), this.__chain__)
						}

						function qe(n) {
							for (var t, r = this; r instanceof Z;) {
								var e = le(r);
								t ? u.__wrapped__ = e : t = e;
								var u = e;
								r = r.__wrapped__
							}
							return u.__wrapped__ = n, t
						}

						function De() {
							var n = this.__wrapped__;
							return n instanceof Dn ? (this.__actions__.length && (n = new Dn(this)), new Q(n.reverse(), this.__chain__)) : this.thru(function(n) {
								return n.reverse()
							})
						}

						function Me() {
							return this.value() + ""
						}

						function Ke() {
							return rr(this.__wrapped__, this.__actions__)
						}

						function Ve(n, t, r) {
							var e = ka(n) ? ot : jt;
							return r && Jr(n, t, r) && (t = null), ("function" != typeof t || r !== b) && (t = Nr(t, r, 3)), e(n, t)
						}

						function Ye(n, t, r) {
							var e = ka(n) ? ft : kt;
							return t = Nr(t, r, 3), e(n, t)
						}

						function Ge(n, t) {
							return ea(n, Bt(t))
						}

						function Je(n, t, r, e) {
							var u = n ? qo(n) : 0;
							return Hr(u) || (n = Hu(n), u = n.length), u ? (r = "number" != typeof r || e && Jr(t, r, e) ? 0 : 0 > r ? yo(u + r, 0) : r || 0, "string" == typeof n || !ka(n) && $u(n) ? u > r && n.indexOf(t, r) > -1 : Br(n, t, r) > -1) : !1
						}

						function Xe(n, t, r) {
							var e = ka(n) ? lt : Lt;
							return t = Nr(t, r, 3), e(n, t)
						}

						function Ze(n, t) {
							return Xe(n, Ri(t))
						}

						function He(n, t, r) {
							var e = ka(n) ? ft : kt;
							return t = Nr(t, r, 3), e(n, function(n, r, e) {
								return !t(n, r, e)
							})
						}

						function Qe(n, t, r) {
							if (r ? Jr(n, t, r) : null == t) {
								n = oe(n);
								var e = n.length;
								return e > 0 ? n[Vt(0, e - 1)] : b
							}
							var u = -1,
								i = zu(n),
								e = i.length,
								o = e - 1;
							for (t = mo(0 > t ? 0 : +t || 0, e); ++u < t;) {
								var a = Vt(u, o),
									f = i[a];
								i[a] = i[u], i[u] = f
							}
							return i.length = t, i
						}

						function nu(n) {
							return Qe(n, Oo)
						}

						function tu(n) {
							var t = n ? qo(n) : 0;
							return Hr(t) ? t : Ba(n).length
						}

						function ru(n, t, r) {
							var e = ka(n) ? pt : Jt;
							return r && Jr(n, t, r) && (t = null), ("function" != typeof t || r !== b) && (t = Nr(t, r, 3)), e(n, t)
						}

						function eu(n, t, r) {
							if (null == n) return [];
							r && Jr(n, t, r) && (t = null);
							var e = -1;
							t = Nr(t, r, 3);
							var u = Lt(n, function(n, r, u) {
								return {
									criteria: t(n, r, u),
									index: ++e,
									value: n
								}
							});
							return Xt(u, a)
						}

						function uu(n, t, r, e) {
							return null == n ? [] : (e && Jr(t, r, e) && (r = null), ka(t) || (t = null == t ? [] : [t]), ka(r) || (r = null == r ? [] : [r]), Zt(n, t, r))
						}

						function iu(n, t) {
							return Ye(n, Bt(t))
						}

						function ou(n, t) {
							if ("function" != typeof t) {
								if ("function" != typeof n) throw new qi(B);
								var r = n;
								n = t, t = r
							}
							return n = _o(n = +n) ? n : 0,
							function() {
								return --n < 1 ? t.apply(this, arguments) : void 0
							}
						}

						function au(n, t, r) {
							return r && Jr(n, t, r) && (t = null), t = n && null == t ? n.length : yo(+t || 0, 0), Tr(n, C, null, null, null, null, t)
						}

						function fu(n, t) {
							var r;
							if ("function" != typeof t) {
								if ("function" != typeof n) throw new qi(B);
								var e = n;
								n = t, t = e
							}
							return function() {
								return --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = null), r
							}
						}

						function lu(n, t, r) {
							function e() {
								p && ro(p), f && ro(f), f = p = h = b
							}

							function u() {
								var r = t - (va() - c);
								if (0 >= r || r > t) {
									f && ro(f);
									var e = h;
									f = p = h = b, e && (v = va(), l = n.apply(s, a), p || f || (a = s = null))
								} else p = fo(u, r)
							}

							function i() {
								p && ro(p), f = p = h = b, (g || _ !== t) && (v = va(), l = n.apply(s, a), p || f || (a = s = null))
							}

							function o() {
								if (a = arguments, c = va(), s = this, h = g && (p || !y), _ === !1) var r = y && !p;
								else {
									f || y || (v = c);
									var e = _ - (c - v),
										o = 0 >= e || e > _;
									o ? (f && (f = ro(f)), v = c, l = n.apply(s, a)) : f || (f = fo(i, e))
								}
								return o && p ? p = ro(p) : p || t === _ || (p = fo(u, t)), r && (o = !0, l = n.apply(s, a)), !o || p || f || (a = s = null), l
							}
							var a, f, l, c, s, p, h, v = 0,
								_ = !1,
								g = !0;
							if ("function" != typeof n) throw new qi(B);
							if (t = 0 > t ? 0 : +t || 0, r === !0) {
								var y = !0;
								g = !1
							} else Iu(r) && (y = r.leading, _ = "maxWait" in r && yo(+r.maxWait || 0, t), g = "trailing" in r ? r.trailing : g);
							return o.cancel = e, o
						}

						function cu(n, t) {
							if ("function" != typeof n || t && "function" != typeof t) throw new qi(B);
							var r = function() {
								var e = arguments,
									u = t ? t.apply(this, e) : e[0],
									i = r.cache;
								if (i.has(u)) return i.get(u);
								var o = n.apply(this, e);
								return r.cache = i.set(u, o), o
							};
							return r.cache = new cu.Cache, r
						}

						function su(n) {
							if ("function" != typeof n) throw new qi(B);
							return function() {
								return !n.apply(this, arguments)
							}
						}

						function pu(n) {
							return fu(2, n)
						}

						function hu(n, t) {
							if ("function" != typeof n) throw new qi(B);
							return t = yo(t === b ? n.length - 1 : +t || 0, 0),
							function() {
								for (var r = arguments, e = -1, u = yo(r.length - t, 0), i = Ti(u); ++e < u;) i[e] = r[t + e];
								switch (t) {
									case 0:
										return n.call(this, i);
									case 1:
										return n.call(this, r[0], i);
									case 2:
										return n.call(this, r[0], r[1], i)
								}
								var o = Ti(t + 1);
								for (e = -1; ++e < t;) o[e] = r[e];
								return o[t] = i, n.apply(this, o)
							}
						}

						function vu(n) {
							if ("function" != typeof n) throw new qi(B);
							return function(t) {
								return n.apply(this, t)
							}
						}

						function _u(n, t, r) {
							var e = !0,
								u = !0;
							if ("function" != typeof n) throw new qi(B);
							return r === !1 ? e = !1 : Iu(r) && (e = "leading" in r ? !! r.leading : e, u = "trailing" in r ? !! r.trailing : u), qn.leading = e, qn.maxWait = +t, qn.trailing = u, lu(n, t, qn)
						}

						function gu(n, t) {
							return t = null == t ? wi : t, Tr(t, I, null, [n], [])
						}

						function yu(n, t, r, e) {
							return t && "boolean" != typeof t && Jr(n, t, r) ? t = !1 : "function" == typeof t && (e = r, r = t, t = !1), "function" == typeof r ? bt(n, t, ir(r, e, 1)) : bt(n, t)
						}

						function du(n, t, r) {
							return "function" == typeof t ? bt(n, !0, ir(t, r, 1)) : bt(n, !0)
						}

						function mu(n, t) {
							return n > t
						}

						function wu(n, t) {
							return n >= t
						}

						function bu(n) {
							return h(n) && Yr(n) && Xi.call(n) == P
						}

						function xu(n) {
							return n === !0 || n === !1 || h(n) && Xi.call(n) == D
						}

						function Au(n) {
							return h(n) && Xi.call(n) == M
						}

						function ju(n) {
							return !!n && 1 === n.nodeType && h(n) && Xi.call(n).indexOf("Element") > -1
						}

						function Ou(n) {
							return null == n ? !0 : Yr(n) && (ka(n) || $u(n) || bu(n) || h(n) && Ea(n.splice)) ? !n.length : !Ba(n).length
						}

						function Ru(n, t, r, e) {
							r = "function" == typeof r ? ir(r, e, 3) : b;
							var u = r ? r(n, t) : b;
							return u === b ? $t(n, t, r) : !! u
						}

						function ku(n) {
							return h(n) && "string" == typeof n.message && Xi.call(n) == K
						}

						function Iu(n) {
							var t = typeof n;
							return !!n && ("object" == t || "function" == t)
						}

						function Eu(n, t, r, e) {
							return r = "function" == typeof r ? ir(r, e, 3) : b, Nt(n, zr(t), r)
						}

						function Cu(n) {
							return Tu(n) && n != +n
						}

						function Wu(n) {
							return null == n ? !1 : Xi.call(n) == V ? Hi.test(Yi.call(n)) : h(n) && Wn.test(n)
						}

						function Su(n) {
							return null === n
						}

						function Tu(n) {
							return "number" == typeof n || h(n) && Xi.call(n) == G
						}

						function Uu(n) {
							return h(n) && Xi.call(n) == X
						}

						function $u(n) {
							return "string" == typeof n || h(n) && Xi.call(n) == H
						}

						function Fu(n) {
							return h(n) && Hr(n.length) && !! zn[Xi.call(n)]
						}

						function Nu(n) {
							return n === b
						}

						function Lu(n, t) {
							return t > n
						}

						function Bu(n, t) {
							return t >= n
						}

						function zu(n) {
							var t = n ? qo(n) : 0;
							return Hr(t) ? t ? et(n) : [] : Hu(n)
						}

						function Pu(n) {
							return mt(n, Yu(n))
						}

						function qu(n, t, r) {
							var e = Uo(n);
							return r && Jr(n, t, r) && (t = null), t ? yt(e, t) : e
						}

						function Du(n) {
							return Tt(n, Yu(n))
						}

						function Mu(n, t, r) {
							var e = null == n ? b : Ut(n, fe(t), t + "");
							return e === b ? r : e
						}

						function Ku(n, t) {
							if (null == n) return !1;
							var r = Gi.call(n, t);
							if (!r && !Xr(t)) {
								if (t = fe(t), n = 1 == t.length ? n : Ut(n, Gt(t, 0, -1)), null == n) return !1;
								t = xe(t), r = Gi.call(n, t)
							}
							return r || Hr(n.length) && Gr(t, n.length) && (ka(n) || bu(n))
						}

						function Vu(n, t, r) {
							r && Jr(n, t, r) && (t = null);
							for (var e = -1, u = Ba(n), i = u.length, o = {}; ++e < i;) {
								var a = u[e],
									f = n[a];
								t ? Gi.call(o, f) ? o[f].push(a) : o[f] = [a] : o[f] = a
							}
							return o
						}

						function Yu(n) {
							if (null == n) return [];
							Iu(n) || (n = Bi(n));
							var t = n.length;
							t = t && Hr(t) && (ka(n) || bu(n)) && t || 0;
							for (var r = n.constructor, e = -1, u = "function" == typeof r && r.prototype === n, i = Ti(t), o = t > 0; ++e < t;) i[e] = e + "";
							for (var a in n) o && Gr(a, t) || "constructor" == a && (u || !Gi.call(n, a)) || i.push(a);
							return i
						}

						function Gu(n) {
							n = ae(n);
							for (var t = -1, r = Ba(n), e = r.length, u = Ti(e); ++t < e;) {
								var i = r[t];
								u[t] = [i, n[i]]
							}
							return u
						}

						function Ju(n, t, r) {
							var e = null == n ? b : n[t];
							return e === b && (null == n || Xr(t, n) || (t = fe(t), n = 1 == t.length ? n : Ut(n, Gt(t, 0, -1)), e = null == n ? b : n[xe(t)]), e = e === b ? r : e), Ea(e) ? e.call(n) : e
						}

						function Xu(n, t, r) {
							if (null == n) return n;
							var e = t + "";
							t = null != n[e] || Xr(t, n) ? [e] : fe(t);
							for (var u = -1, i = t.length, o = i - 1, a = n; null != a && ++u < i;) {
								var f = t[u];
								Iu(a) && (u == o ? a[f] = r : null == a[f] && (a[f] = Gr(t[u + 1]) ? [] : {})), a = a[f]
							}
							return n
						}

						function Zu(n, t, r, e) {
							var u = ka(n) || Fu(n);
							if (t = Nr(t, e, 4), null == r)
								if (u || Iu(n)) {
									var i = n.constructor;
									r = u ? ka(n) ? new i : [] : Uo(Ea(i) ? i.prototype : null)
								} else r = {};
							return (u ? ut : Wt)(n, function(n, e, u) {
								return t(r, n, e, u)
							}), r
						}

						function Hu(n) {
							return nr(n, Ba(n))
						}

						function Qu(n) {
							return nr(n, Yu(n))
						}

						function ni(n, t, r) {
							return t = +t || 0, "undefined" == typeof r ? (r = t, t = 0) : r = +r || 0, n >= mo(t, r) && n < yo(t, r)
						}

						function ti(n, t, r) {
							r && Jr(n, t, r) && (t = r = null);
							var e = null == n,
								u = null == t;
							if (null == r && (u && "boolean" == typeof n ? (r = n, n = 1) : "boolean" == typeof t && (r = t, u = !0)), e && u && (t = 1, u = !1), n = +n || 0, u ? (t = n, n = 0) : t = +t || 0, r || n % 1 || t % 1) {
								var i = Ao();
								return mo(n + i * (t - n + io("1e-" + ((i + "").length - 1))), t)
							}
							return Vt(n, t)
						}

						function ri(n) {
							return n = u(n), n && n.charAt(0).toUpperCase() + n.slice(1)
						}

						function ei(n) {
							return n = u(n), n && n.replace(Tn, l).replace(Rn, "")
						}

						function ui(n, t, r) {
							n = u(n), t += "";
							var e = n.length;
							return r = r === b ? e : mo(0 > r ? 0 : +r || 0, e), r -= t.length, r >= 0 && n.indexOf(t, r) == r
						}

						function ii(n) {
							return n = u(n), n && yn.test(n) ? n.replace(_n, c) : n
						}

						function oi(n) {
							return n = u(n), n && On.test(n) ? n.replace(jn, "\\$&") : n
						}

						function ai(n, t, r) {
							n = u(n), t = +t;
							var e = n.length;
							if (e >= t || !_o(t)) return n;
							var i = (t - e) / 2,
								o = eo(i),
								a = to(i);
							return r = Cr("", a, r), r.slice(0, o) + n + r
						}

						function fi(n, t, r) {
							return r && Jr(n, t, r) && (t = 0), xo(n, t)
						}

						function li(n, t) {
							var r = "";
							if (n = u(n), t = +t, 1 > t || !n || !_o(t)) return r;
							do t % 2 && (r += n), t = eo(t / 2), n += n; while (t);
							return r
						}

						function ci(n, t, r) {
							return n = u(n), r = null == r ? 0 : mo(0 > r ? 0 : +r || 0, n.length), n.lastIndexOf(t, r) == r
						}

						function si(n, t, r) {
							var e = Y.templateSettings;
							r && Jr(n, t, r) && (t = r = null), n = u(n), t = gt(yt({}, r || t), e, _t);
							var i, o, a = gt(yt({}, t.imports), e.imports, _t),
								f = Ba(a),
								l = nr(a, f),
								c = 0,
								p = t.interpolate || Un,
								h = "__p += '",
								v = zi((t.escape || Un).source + "|" + p.source + "|" + (p === wn ? In : Un).source + "|" + (t.evaluate || Un).source + "|$", "g"),
								_ = "//# sourceURL=" + ("sourceURL" in t ? t.sourceURL : "lodash.templateSources[" + ++Bn + "]") + "\n";
							n.replace(v, function(t, r, e, u, a, f) {
								return e || (e = u), h += n.slice(c, f).replace($n, s), r && (i = !0, h += "' +\n__e(" + r + ") +\n'"), a && (o = !0, h += "';\n" + a + ";\n__p += '"), e && (h += "' +\n((__t = (" + e + ")) == null ? '' : __t) +\n'"), c = f + t.length, t
							}), h += "';\n";
							var g = t.variable;
							g || (h = "with (obj) {\n" + h + "\n}\n"), h = (o ? h.replace(sn, "") : h).replace(pn, "$1").replace(hn, "$1;"), h = "function(" + (g || "obj") + ") {\n" + (g ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
							var y = Za(function() {
								return Fi(f, _ + "return " + h).apply(b, l)
							});
							if (y.source = h, ku(y)) throw y;
							return y
						}

						function pi(n, t, r) {
							var e = n;
							return (n = u(n)) ? (r ? Jr(e, t, r) : null == t) ? n.slice(y(n), d(n) + 1) : (t += "", n.slice(i(n, t), o(n, t) + 1)) : n
						}

						function hi(n, t, r) {
							var e = n;
							return n = u(n), n ? (r ? Jr(e, t, r) : null == t) ? n.slice(y(n)) : n.slice(i(n, t + "")) : n
						}

						function vi(n, t, r) {
							var e = n;
							return n = u(n), n ? (r ? Jr(e, t, r) : null == t) ? n.slice(0, d(n) + 1) : n.slice(0, o(n, t + "") + 1) : n
						}

						function _i(n, t, r) {
							r && Jr(n, t, r) && (t = null);
							var e = S,
								i = T;
							if (null != t)
								if (Iu(t)) {
									var o = "separator" in t ? t.separator : o;
									e = "length" in t ? +t.length || 0 : e, i = "omission" in t ? u(t.omission) : i
								} else e = +t || 0;
							if (n = u(n), e >= n.length) return n;
							var a = e - i.length;
							if (1 > a) return i;
							var f = n.slice(0, a);
							if (null == o) return f + i;
							if (Uu(o)) {
								if (n.slice(a).search(o)) {
									var l, c, s = n.slice(0, a);
									for (o.global || (o = zi(o.source, (En.exec(o) || "") + "g")), o.lastIndex = 0; l = o.exec(s);) c = l.index;
									f = f.slice(0, null == c ? a : c)
								}
							} else if (n.indexOf(o, a) != a) {
								var p = f.lastIndexOf(o);
								p > -1 && (f = f.slice(0, p))
							}
							return f + i
						}

						function gi(n) {
							return n = u(n), n && gn.test(n) ? n.replace(vn, m) : n
						}

						function yi(n, t, r) {
							return r && Jr(n, t, r) && (t = null), n = u(n), n.match(t || Fn) || []
						}

						function di(n, t, r) {
							return r && Jr(n, t, r) && (t = null), h(n) ? bi(n) : wt(n, t)
						}

						function mi(n) {
							return function() {
								return n
							}
						}

						function wi(n) {
							return n
						}

						function bi(n) {
							return Bt(bt(n, !0))
						}

						function xi(n, t) {
							return zt(n, bt(t, !0))
						}

						function Ai(n, t, r) {
							if (null == r) {
								var e = Iu(t),
									u = e ? Ba(t) : null,
									i = u && u.length ? Tt(t, u) : null;
								(i ? i.length : e) || (i = !1, r = t, t = n, n = this)
							}
							i || (i = Tt(t, Ba(t)));
							var o = !0,
								a = -1,
								f = Ea(n),
								l = i.length;
							r === !1 ? o = !1 : Iu(r) && "chain" in r && (o = r.chain);
							for (; ++a < l;) {
								var c = i[a],
									s = t[c];
								n[c] = s, f && (n.prototype[c] = function(t) {
									return function() {
										var r = this.__chain__;
										if (o || r) {
											var e = n(this.__wrapped__),
												u = e.__actions__ = et(this.__actions__);
											return u.push({
												func: t,
												args: arguments,
												thisArg: n
											}), e.__chain__ = r, e
										}
										var i = [this.value()];
										return oo.apply(i, arguments), t.apply(n, i)
									}
								}(s))
							}
							return n
						}

						function ji() {
							return v._ = Zi, this
						}

						function Oi() {}

						function Ri(n) {
							return Xr(n) ? Dt(n) : Mt(n)
						}

						function ki(n) {
							return function(t) {
								return Ut(n, fe(t), t + "")
							}
						}

						function Ii(n, t, r) {
							r && Jr(n, t, r) && (t = r = null), n = +n || 0, r = null == r ? 1 : +r || 0, null == t ? (t = n, n = 0) : t = +t || 0;
							for (var e = -1, u = yo(to((t - n) / (r || 1)), 0), i = Ti(u); ++e < u;) i[e] = n, n += r;
							return i
						}

						function Ei(n, t, r) {
							if (n = eo(n), 1 > n || !_o(n)) return [];
							var e = -1,
								u = Ti(mo(n, Ro));
							for (t = ir(t, r, 1); ++e < n;) Ro > e ? u[e] = t(e) : t(e);
							return u
						}

						function Ci(n) {
							var t = ++Ji;
							return u(n) + t
						}

						function Wi(n, t) {
							return (+n || 0) + (+t || 0)
						}

						function Si(n, t, r) {
							r && Jr(n, t, r) && (t = null);
							var e = Nr(),
								u = null == t;
							return u && e === wt || (u = !1, t = e(t, r, 3)), u ? ht(ka(n) ? n : oe(n)) : Ht(n, t)
						}
						v = v ? tt.defaults(nt.Object(), v, tt.pick(nt, Ln)) : nt;
						var Ti = v.Array,
							Ui = v.Date,
							$i = v.Error,
							Fi = v.Function,
							Ni = v.Math,
							Li = v.Number,
							Bi = v.Object,
							zi = v.RegExp,
							Pi = v.String,
							qi = v.TypeError,
							Di = Ti.prototype,
							Mi = Bi.prototype,
							Ki = Pi.prototype,
							Vi = (Vi = v.window) ? Vi.document : null,
							Yi = Fi.prototype.toString,
							Gi = Mi.hasOwnProperty,
							Ji = 0,
							Xi = Mi.toString,
							Zi = v._,
							Hi = zi("^" + oi(Yi.call(Gi)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
							Qi = Pr(v, "ArrayBuffer"),
							no = Pr(Qi && new Qi(0), "slice"),
							to = Ni.ceil,
							ro = v.clearTimeout,
							eo = Ni.floor,
							uo = Pr(Bi, "getPrototypeOf"),
							io = v.parseFloat,
							oo = Di.push,
							ao = Pr(v, "Set"),
							fo = v.setTimeout,
							lo = Di.splice,
							co = Pr(v, "Uint8Array"),
							so = Pr(v, "WeakMap"),
							po = function() {
								try {
									var n = Pr(v, "Float64Array"),
										t = new n(new Qi(10), 0, 1) && n
								} catch (r) {}
								return t || null
							}(),
							ho = Pr(Bi, "create"),
							vo = Pr(Ti, "isArray"),
							_o = v.isFinite,
							go = Pr(Bi, "keys"),
							yo = Ni.max,
							mo = Ni.min,
							wo = Pr(Ui, "now"),
							bo = Pr(Li, "isFinite"),
							xo = v.parseInt,
							Ao = Ni.random,
							jo = Li.NEGATIVE_INFINITY,
							Oo = Li.POSITIVE_INFINITY,
							Ro = 4294967295,
							ko = Ro - 1,
							Io = Ro >>> 1,
							Eo = po ? po.BYTES_PER_ELEMENT : 0,
							Co = 9007199254740991,
							Wo = so && new so,
							So = {}, To = Y.support = {};
						! function(n) {
							var t = function() {
								this.x = n
							}, r = [];
							t.prototype = {
								valueOf: n,
								y: n
							};
							for (var e in new t) r.push(e);
							try {
								To.dom = 11 === Vi.createDocumentFragment().nodeType
							} catch (u) {
								To.dom = !1
							}
						}(1, 0), Y.templateSettings = {
							escape: dn,
							evaluate: mn,
							interpolate: wn,
							variable: "",
							imports: {
								_: Y
							}
						};
						var Uo = function() {
							function n() {}
							return function(t) {
								if (Iu(t)) {
									n.prototype = t;
									var r = new n;
									n.prototype = null
								}
								return r || {}
							}
						}(),
							$o = sr(Wt),
							Fo = sr(St, !0),
							No = pr(),
							Lo = pr(!0),
							Bo = Wo ? function(n, t) {
								return Wo.set(n, t), n
							} : wi;
						no || (or = Qi && co ? function(n) {
							var t = n.byteLength,
								r = po ? eo(t / Eo) : 0,
								e = r * Eo,
								u = new Qi(t);
							if (r) {
								var i = new po(u, 0, r);
								i.set(new po(n, 0, r))
							}
							return t != e && (i = new co(u, e), i.set(new co(n, e))), u
						} : mi(null));
						var zo = ho && ao ? function(n) {
								return new Hn(n)
							} : mi(null),
							Po = Wo ? function(n) {
								return Wo.get(n)
							} : Oi,
							qo = Dt("length"),
							Do = function() {
								var n = 0,
									t = 0;
								return function(r, e) {
									var u = va(),
										i = $ - (u - t);
									if (t = u, i > 0) {
										if (++n >= U) return r
									} else n = 0;
									return Bo(r, e)
								}
							}(),
							Mo = hu(function(n, t) {
								return Yr(n) ? At(n, Et(t, !1, !0)) : []
							}),
							Ko = mr(),
							Vo = mr(!0),
							Yo = hu(function(n) {
								for (var t = n.length, e = t, u = Ti(s), i = Br(), o = i == r, a = []; e--;) {
									var f = n[e] = Yr(f = n[e]) ? f : [];
									u[e] = o && f.length >= 120 ? zo(e && f) : null
								}
								var l = n[0],
									c = -1,
									s = l ? l.length : 0,
									p = u[0];
								n: for (; ++c < s;)
									if (f = l[c], (p ? Qn(p, f) : i(a, f, 0)) < 0) {
										for (var e = t; --e;) {
											var h = u[e];
											if ((h ? Qn(h, f) : i(n[e], f, 0)) < 0) continue n
										}
										p && p.push(f), a.push(f)
									}
								return a
							}),
							Go = hu(function(t, r) {
								r = Et(r);
								var e = dt(t, r);
								return Kt(t, r.sort(n)), e
							}),
							Jo = Sr(),
							Xo = Sr(!0),
							Zo = hu(function(n) {
								return Qt(Et(n, !1, !0))
							}),
							Ho = hu(function(n, t) {
								return Yr(n) ? At(n, t) : []
							}),
							Qo = hu(Te),
							na = hu(function(n) {
								var t = n.length,
									r = t > 2 ? n[t - 2] : b,
									e = t > 1 ? n[t - 1] : b;
								return t > 2 && "function" == typeof r ? t -= 2 : (r = t > 1 && "function" == typeof e ? (--t, e) : b, e = b), n.length = t, Ue(n, r, e)
							}),
							ta = hu(function(n, t) {
								return dt(n, Et(t))
							}),
							ra = lr(function(n, t, r) {
								Gi.call(n, r) ? ++n[r] : n[r] = 1
							}),
							ea = dr($o),
							ua = dr(Fo, !0),
							ia = xr(ut, $o),
							oa = xr(it, Fo),
							aa = lr(function(n, t, r) {
								Gi.call(n, r) ? n[r].push(t) : n[r] = [t]
							}),
							fa = lr(function(n, t, r) {
								n[r] = t
							}),
							la = hu(function(n, t, r) {
								var e = -1,
									u = "function" == typeof t,
									i = Xr(t),
									o = Yr(n) ? Ti(n.length) : [];
								return $o(n, function(n) {
									var a = u ? t : i && null != n ? n[t] : null;
									o[++e] = a ? a.apply(n, r) : Vr(n, t, r)
								}), o
							}),
							ca = lr(function(n, t, r) {
								n[r ? 0 : 1].push(t)
							}, function() {
								return [[], []]
							}),
							sa = Ir(ct, $o),
							pa = Ir(st, Fo),
							ha = hu(function(n, t) {
								if (null == n) return [];
								var r = t[2];
								return r && Jr(t[0], t[1], r) && (t.length = 1), Zt(n, Et(t), [])
							}),
							va = wo || function() {
								return (new Ui).getTime()
							}, _a = hu(function(n, t, r) {
								var e = A;
								if (r.length) {
									var u = _(r, _a.placeholder);
									e |= I
								}
								return Tr(n, e, t, r, u)
							}),
							ga = hu(function(n, t) {
								t = t.length ? Et(t) : Du(n);
								for (var r = -1, e = t.length; ++r < e;) {
									var u = t[r];
									n[u] = Tr(n[u], A, n)
								}
								return n
							}),
							ya = hu(function(n, t, r) {
								var e = A | j;
								if (r.length) {
									var u = _(r, ya.placeholder);
									e |= I
								}
								return Tr(t, e, n, r, u)
							}),
							da = gr(R),
							ma = gr(k),
							wa = hu(function(n, t) {
								return xt(n, 1, t)
							}),
							ba = hu(function(n, t, r) {
								return xt(n, t, r)
							}),
							xa = br(),
							Aa = br(!0),
							ja = kr(I),
							Oa = kr(E),
							Ra = hu(function(n, t) {
								return Tr(n, W, null, null, null, Et(t))
							}),
							ka = vo || function(n) {
								return h(n) && Hr(n.length) && Xi.call(n) == q
							};
						To.dom || (ju = function(n) {
							return !!n && 1 === n.nodeType && h(n) && !Ca(n)
						});
						var Ia = bo || function(n) {
								return "number" == typeof n && _o(n)
							}, Ea = e(/x/) || co && !e(co) ? function(n) {
								return Xi.call(n) == V
							} : e,
							Ca = uo ? function(n) {
								if (!n || Xi.call(n) != J) return !1;
								var t = Pr(n, "valueOf"),
									r = t && (r = uo(t)) && uo(r);
								return r ? n == r || uo(n) == r : ue(n)
							} : ue,
							Wa = cr(function(n, t, r) {
								return r ? gt(n, t, r) : yt(n, t)
							}),
							Sa = hu(function(n) {
								var t = n[0];
								return null == t ? t : (n.push(vt), Wa.apply(b, n))
							}),
							Ta = wr(Wt),
							Ua = wr(St),
							$a = Ar(No),
							Fa = Ar(Lo),
							Na = jr(Wt),
							La = jr(St),
							Ba = go ? function(n) {
								var t = null == n ? null : n.constructor;
								return "function" == typeof t && t.prototype === n || "function" != typeof n && Yr(n) ? ie(n) : Iu(n) ? go(n) : []
							} : ie,
							za = Or(!0),
							Pa = Or(),
							qa = cr(Pt),
							Da = hu(function(n, t) {
								if (null == n) return {};
								if ("function" != typeof t[0]) {
									var t = lt(Et(t), Pi);
									return te(n, At(Yu(n), t))
								}
								var r = ir(t[0], t[1], 3);
								return re(n, function(n, t, e) {
									return !r(n, t, e)
								})
							}),
							Ma = hu(function(n, t) {
								return null == n ? {} : "function" == typeof t[0] ? re(n, ir(t[0], t[1], 3)) : te(n, Et(t))
							}),
							Ka = vr(function(n, t, r) {
								return t = t.toLowerCase(), n + (r ? t.charAt(0).toUpperCase() + t.slice(1) : t)
							}),
							Va = vr(function(n, t, r) {
								return n + (r ? "-" : "") + t.toLowerCase()
							}),
							Ya = Rr(),
							Ga = Rr(!0);
						8 != xo(Nn + "08") && (fi = function(n, t, r) {
							return (r ? Jr(n, t, r) : null == t) ? t = 0 : t && (t = +t), n = pi(n), xo(n, t || (Cn.test(n) ? 16 : 10))
						});
						var Ja = vr(function(n, t, r) {
							return n + (r ? "_" : "") + t.toLowerCase()
						}),
							Xa = vr(function(n, t, r) {
								return n + (r ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1))
							}),
							Za = hu(function(n, t) {
								try {
									return n.apply(b, t)
								} catch (r) {
									return ku(r) ? r : new $i(r)
								}
							}),
							Ha = hu(function(n, t) {
								return function(r) {
									return Vr(r, n, t)
								}
							}),
							Qa = hu(function(n, t) {
								return function(r) {
									return Vr(n, r, t)
								}
							}),
							nf = yr(mu, jo),
							tf = yr(Lu, Oo);
						return Y.prototype = Z.prototype, Q.prototype = Uo(Z.prototype), Q.prototype.constructor = Q, Dn.prototype = Uo(Z.prototype), Dn.prototype.constructor = Dn, Yn.prototype["delete"] = Gn, Yn.prototype.get = Jn, Yn.prototype.has = Xn, Yn.prototype.set = Zn, Hn.prototype.push = rt, cu.Cache = Yn, Y.after = ou, Y.ary = au, Y.assign = Wa, Y.at = ta, Y.before = fu, Y.bind = _a, Y.bindAll = ga, Y.bindKey = ya, Y.callback = di, Y.chain = Ne, Y.chunk = ce, Y.compact = se, Y.constant = mi, Y.countBy = ra, Y.create = qu, Y.curry = da, Y.curryRight = ma, Y.debounce = lu, Y.defaults = Sa, Y.defer = wa, Y.delay = ba, Y.difference = Mo, Y.drop = pe, Y.dropRight = he, Y.dropRightWhile = ve, Y.dropWhile = _e, Y.fill = ge, Y.filter = Ye, Y.flatten = de, Y.flattenDeep = me, Y.flow = xa, Y.flowRight = Aa, Y.forEach = ia, Y.forEachRight = oa, Y.forIn = $a, Y.forInRight = Fa, Y.forOwn = Na, Y.forOwnRight = La, Y.functions = Du, Y.groupBy = aa, Y.indexBy = fa, Y.initial = be, Y.intersection = Yo, Y.invert = Vu, Y.invoke = la, Y.keys = Ba, Y.keysIn = Yu, Y.map = Xe, Y.mapKeys = za, Y.mapValues = Pa, Y.matches = bi, Y.matchesProperty = xi, Y.memoize = cu, Y.merge = qa, Y.method = Ha, Y.methodOf = Qa, Y.mixin = Ai, Y.negate = su, Y.omit = Da, Y.once = pu, Y.pairs = Gu, Y.partial = ja, Y.partialRight = Oa, Y.partition = ca, Y.pick = Ma, Y.pluck = Ze, Y.property = Ri, Y.propertyOf = ki, Y.pull = je, Y.pullAt = Go, Y.range = Ii, Y.rearg = Ra, Y.reject = He, Y.remove = Oe, Y.rest = Re, Y.restParam = hu, Y.set = Xu, Y.shuffle = nu, Y.slice = ke, Y.sortBy = eu, Y.sortByAll = ha, Y.sortByOrder = uu, Y.spread = vu, Y.take = Ie, Y.takeRight = Ee, Y.takeRightWhile = Ce, Y.takeWhile = We, Y.tap = Le, Y.throttle = _u, Y.thru = Be, Y.times = Ei, Y.toArray = zu, Y.toPlainObject = Pu, Y.transform = Zu, Y.union = Zo, Y.uniq = Se, Y.unzip = Te, Y.unzipWith = Ue, Y.values = Hu, Y.valuesIn = Qu, Y.where = iu, Y.without = Ho, Y.wrap = gu, Y.xor = $e, Y.zip = Qo, Y.zipObject = Fe, Y.zipWith = na, Y.backflow = Aa, Y.collect = Xe, Y.compose = Aa, Y.each = ia, Y.eachRight = oa, Y.extend = Wa, Y.iteratee = di, Y.methods = Du, Y.object = Fe, Y.select = Ye, Y.tail = Re, Y.unique = Se, Ai(Y, Y), Y.add = Wi, Y.attempt = Za, Y.camelCase = Ka, Y.capitalize = ri, Y.clone = yu, Y.cloneDeep = du, Y.deburr = ei, Y.endsWith = ui, Y.escape = ii, Y.escapeRegExp = oi, Y.every = Ve, Y.find = ea, Y.findIndex = Ko, Y.findKey = Ta, Y.findLast = ua, Y.findLastIndex = Vo, Y.findLastKey = Ua, Y.findWhere = Ge, Y.first = ye, Y.get = Mu, Y.gt = mu, Y.gte = wu, Y.has = Ku, Y.identity = wi, Y.includes = Je, Y.indexOf = we, Y.inRange = ni, Y.isArguments = bu, Y.isArray = ka, Y.isBoolean = xu, Y.isDate = Au, Y.isElement = ju, Y.isEmpty = Ou, Y.isEqual = Ru, Y.isError = ku, Y.isFinite = Ia, Y.isFunction = Ea, Y.isMatch = Eu, Y.isNaN = Cu, Y.isNative = Wu, Y.isNull = Su, Y.isNumber = Tu, Y.isObject = Iu, Y.isPlainObject = Ca, Y.isRegExp = Uu, Y.isString = $u, Y.isTypedArray = Fu, Y.isUndefined = Nu, Y.kebabCase = Va, Y.last = xe, Y.lastIndexOf = Ae, Y.lt = Lu, Y.lte = Bu, Y.max = nf, Y.min = tf, Y.noConflict = ji, Y.noop = Oi, Y.now = va, Y.pad = ai, Y.padLeft = Ya, Y.padRight = Ga, Y.parseInt = fi, Y.random = ti, Y.reduce = sa, Y.reduceRight = pa, Y.repeat = li, Y.result = Ju, Y.runInContext = w, Y.size = tu, Y.snakeCase = Ja, Y.some = ru, Y.sortedIndex = Jo, Y.sortedLastIndex = Xo, Y.startCase = Xa, Y.startsWith = ci, Y.sum = Si, Y.template = si, Y.trim = pi, Y.trimLeft = hi, Y.trimRight = vi, Y.trunc = _i, Y.unescape = gi, Y.uniqueId = Ci, Y.words = yi, Y.all = Ve, Y.any = ru, Y.contains = Je, Y.eq = Ru, Y.detect = ea, Y.foldl = sa, Y.foldr = pa, Y.head = ye, Y.include = Je, Y.inject = sa, Ai(Y, function() {
							var n = {};
							return Wt(Y, function(t, r) {
								Y.prototype[r] || (n[r] = t)
							}), n
						}(), !1), Y.sample = Qe, Y.prototype.sample = function(n) {
							return this.__chain__ || null != n ? this.thru(function(t) {
								return Qe(t, n)
							}) : Qe(this.value())
						}, Y.VERSION = x, ut(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(n) {
							Y[n].placeholder = Y
						}), ut(["dropWhile", "filter", "map", "takeWhile"], function(n, t) {
							var r = t != L,
								e = t == F;
							Dn.prototype[n] = function(n, u) {
								var i = this.__filtered__,
									o = i && e ? new Dn(this) : this.clone(),
									a = o.__iteratees__ || (o.__iteratees__ = []);
								return a.push({
									done: !1,
									count: 0,
									index: 0,
									iteratee: Nr(n, u, 1),
									limit: -1,
									type: t
								}), o.__filtered__ = i || r, o
							}
						}), ut(["drop", "take"], function(n, t) {
							var r = n + "While";
							Dn.prototype[n] = function(r) {
								var e = this.__filtered__,
									u = e && !t ? this.dropWhile() : this.clone();
								if (r = null == r ? 1 : yo(eo(r) || 0, 0), e) t ? u.__takeCount__ = mo(u.__takeCount__, r) : xe(u.__iteratees__).limit = r;
								else {
									var i = u.__views__ || (u.__views__ = []);
									i.push({
										size: r,
										type: n + (u.__dir__ < 0 ? "Right" : "")
									})
								}
								return u
							}, Dn.prototype[n + "Right"] = function(t) {
								return this.reverse()[n](t).reverse()
							}, Dn.prototype[n + "RightWhile"] = function(n, t) {
								return this.reverse()[r](n, t).reverse()
							}
						}), ut(["first", "last"], function(n, t) {
							var r = "take" + (t ? "Right" : "");
							Dn.prototype[n] = function() {
								return this[r](1).value()[0]
							}
						}), ut(["initial", "rest"], function(n, t) {
							var r = "drop" + (t ? "" : "Right");
							Dn.prototype[n] = function() {
								return this[r](1)
							}
						}), ut(["pluck", "where"], function(n, t) {
							var r = t ? "filter" : "map",
								e = t ? Bt : Ri;
							Dn.prototype[n] = function(n) {
								return this[r](e(n))
							}
						}), Dn.prototype.compact = function() {
							return this.filter(wi)
						}, Dn.prototype.reject = function(n, t) {
							return n = Nr(n, t, 1), this.filter(function(t) {
								return !n(t)
							})
						}, Dn.prototype.slice = function(n, t) {
							n = null == n ? 0 : +n || 0;
							var r = this;
							return 0 > n ? r = this.takeRight(-n) : n && (r = this.drop(n)), t !== b && (t = +t || 0, r = 0 > t ? r.dropRight(-t) : r.take(t - n)), r
						}, Dn.prototype.toArray = function() {
							return this.drop(0)
						}, Wt(Dn.prototype, function(n, t) {
							var r = Y[t];
							if (r) {
								var e = /^(?:filter|map|reject)|While$/.test(t),
									u = /^(?:first|last)$/.test(t);
								Y.prototype[t] = function() {
									var t = arguments,
										i = this.__chain__,
										o = this.__wrapped__,
										a = !! this.__actions__.length,
										f = o instanceof Dn,
										l = t[0],
										c = f || ka(o);
									c && e && "function" == typeof l && 1 != l.length && (f = c = !1);
									var s = f && !a;
									if (u && !i) return s ? n.call(o) : r.call(Y, this.value());
									var p = function(n) {
										var e = [n];
										return oo.apply(e, t), r.apply(Y, e)
									};
									if (c) {
										var h = s ? o : new Dn(this),
											v = n.apply(h, t);
										if (!u && (a || v.__actions__)) {
											var _ = v.__actions__ || (v.__actions__ = []);
											_.push({
												func: Be,
												args: [p],
												thisArg: Y
											})
										}
										return new Q(v, i)
									}
									return this.thru(p)
								}
							}
						}), ut(["concat", "join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function(n) {
							var t = (/^(?:replace|split)$/.test(n) ? Ki : Di)[n],
								r = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
								e = /^(?:join|pop|replace|shift)$/.test(n);
							Y.prototype[n] = function() {
								var n = arguments;
								return e && !this.__chain__ ? t.apply(this.value(), n) : this[r](function(r) {
									return t.apply(r, n)
								})
							}
						}), Wt(Dn.prototype, function(n, t) {
							var r = Y[t];
							if (r) {
								var e = r.name,
									u = So[e] || (So[e] = []);
								u.push({
									name: t,
									func: r
								})
							}
						}), So[Er(null, j).name] = [{
							name: "wrapper",
							func: null
						}], Dn.prototype.clone = Mn, Dn.prototype.reverse = Kn, Dn.prototype.value = Vn, Y.prototype.chain = ze, Y.prototype.commit = Pe, Y.prototype.plant = qe, Y.prototype.reverse = De, Y.prototype.toString = Me, Y.prototype.run = Y.prototype.toJSON = Y.prototype.valueOf = Y.prototype.value = Ke, Y.prototype.collect = Y.prototype.map, Y.prototype.head = Y.prototype.first, Y.prototype.select = Y.prototype.filter, Y.prototype.tail = Y.prototype.rest, Y
					}
					var b, x = "3.9.3",
						A = 1,
						j = 2,
						O = 4,
						R = 8,
						k = 16,
						I = 32,
						E = 64,
						C = 128,
						W = 256,
						S = 30,
						T = "...",
						U = 150,
						$ = 16,
						F = 0,
						N = 1,
						L = 2,
						B = "Expected a function",
						z = "__lodash_placeholder__",
						P = "[object Arguments]",
						q = "[object Array]",
						D = "[object Boolean]",
						M = "[object Date]",
						K = "[object Error]",
						V = "[object Function]",
						Y = "[object Map]",
						G = "[object Number]",
						J = "[object Object]",
						X = "[object RegExp]",
						Z = "[object Set]",
						H = "[object String]",
						Q = "[object WeakMap]",
						nn = "[object ArrayBuffer]",
						tn = "[object Float32Array]",
						rn = "[object Float64Array]",
						en = "[object Int8Array]",
						un = "[object Int16Array]",
						on = "[object Int32Array]",
						an = "[object Uint8Array]",
						fn = "[object Uint8ClampedArray]",
						ln = "[object Uint16Array]",
						cn = "[object Uint32Array]",
						sn = /\b__p \+= '';/g,
						pn = /\b(__p \+=) '' \+/g,
						hn = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
						vn = /&(?:amp|lt|gt|quot|#39|#96);/g,
						_n = /[&<>"'`]/g,
						gn = RegExp(vn.source),
						yn = RegExp(_n.source),
						dn = /<%-([\s\S]+?)%>/g,
						mn = /<%([\s\S]+?)%>/g,
						wn = /<%=([\s\S]+?)%>/g,
						bn = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,
						xn = /^\w*$/,
						An = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
						jn = /[.*+?^${}()|[\]\/\\]/g,
						On = RegExp(jn.source),
						Rn = /[\u0300-\u036f\ufe20-\ufe23]/g,
						kn = /\\(\\)?/g,
						In = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
						En = /\w*$/,
						Cn = /^0[xX]/,
						Wn = /^\[object .+?Constructor\]$/,
						Sn = /^\d+$/,
						Tn = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,
						Un = /($^)/,
						$n = /['\n\r\u2028\u2029\\]/g,
						Fn = function() {
							var n = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
								t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
							return RegExp(n + "+(?=" + n + t + ")|" + n + "?" + t + "|" + n + "+|[0-9]+", "g")
						}(),
						Nn = " 	\f?\ufeff\n\r\u2028\u2029???????????????　",
						Ln = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "document", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "window"],
						Bn = -1,
						zn = {};
					zn[tn] = zn[rn] = zn[en] = zn[un] = zn[on] = zn[an] = zn[fn] = zn[ln] = zn[cn] = !0, zn[P] = zn[q] = zn[nn] = zn[D] = zn[M] = zn[K] = zn[V] = zn[Y] = zn[G] = zn[J] = zn[X] = zn[Z] = zn[H] = zn[Q] = !1;
					var Pn = {};
					Pn[P] = Pn[q] = Pn[nn] = Pn[D] = Pn[M] = Pn[tn] = Pn[rn] = Pn[en] = Pn[un] = Pn[on] = Pn[G] = Pn[J] = Pn[X] = Pn[H] = Pn[an] = Pn[fn] = Pn[ln] = Pn[cn] = !0, Pn[K] = Pn[V] = Pn[Y] = Pn[Z] = Pn[Q] = !1;
					var qn = {
						leading: !1,
						maxWait: 0,
						trailing: !1
					}, Dn = {
							"à": "A",
							"á": "A",
							"?": "A",
							"?": "A",
							"?": "A",
							"?": "A",
							"à": "a",
							"á": "a",
							"a": "a",
							"?": "a",
							"?": "a",
							"?": "a",
							"?": "C",
							"?": "c",
							"D": "D",
							"e": "d",
							"è": "E",
							"é": "E",
							"ê": "E",
							"?": "E",
							"è": "e",
							"é": "e",
							"ê": "e",
							"?": "e",
							"ì": "I",
							"í": "I",
							"?": "I",
							"?": "I",
							"ì": "i",
							"í": "i",
							"?": "i",
							"?": "i",
							"?": "N",
							"?": "n",
							"ò": "O",
							"ó": "O",
							"?": "O",
							"?": "O",
							"?": "O",
							"?": "O",
							"ò": "o",
							"ó": "o",
							"?": "o",
							"?": "o",
							"?": "o",
							"?": "o",
							"ù": "U",
							"ú": "U",
							"?": "U",
							"ü": "U",
							"ù": "u",
							"ú": "u",
							"?": "u",
							"ü": "u",
							"Y": "Y",
							"y": "y",
							"?": "y",
							"?": "Ae",
							"?": "ae",
							"T": "Th",
							"t": "th",
							"?": "ss"
						}, Mn = {
							"&": "&amp;",
							"<": "&lt;",
							">": "&gt;",
							'"': "&quot;",
							"'": "&#39;",
							"`": "&#96;"
						}, Kn = {
							"&amp;": "&",
							"&lt;": "<",
							"&gt;": ">",
							"&quot;": '"',
							"&#39;": "'",
							"&#96;": "`"
						}, Vn = {
							"function": !0,
							object: !0
						}, Yn = {
							"\\": "\\",
							"'": "'",
							"\n": "n",
							"\r": "r",
							"\u2028": "u2028",
							"\u2029": "u2029"
						}, Gn = Vn[typeof exports] && exports && !exports.nodeType && exports,
						Jn = Vn[typeof module] && module && !module.nodeType && module,
						Xn = Gn && Jn && "object" == typeof global && global && global.Object && global,
						Zn = Vn[typeof self] && self && self.Object && self,
						Hn = Vn[typeof window] && window && window.Object && window,
						Qn = Jn && Jn.exports === Gn && Gn,
						nt = Xn || Hn !== (this && this.window) && Hn || Zn || this,
						tt = w();
					"function" == typeof define && "object" == typeof define.amd && define.amd ? (nt._ = tt, define(function() {
						return tt
					})) : Gn && Jn ? Qn ? (Jn.exports = tt)._ = tt : Gn._ = tt : nt._ = tt
				}).call(this);


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {}
	],
	471: [
		function(require, module, exports) {
			(function() {
				function n(n) {
					n.fn.__translateJavaFormat = o, n.fn.toMomentFormatString = function(n) {
						return t[n] || (t[n] = o(n, M)), t[n]
					}, n.fn.formatWithJDF = function(n) {
						return this.format(this.toMomentFormatString(n))
					}, n.fn.toJDFString = function(n) {
						return e[n] || (e[n] = o(n, d)), e[n]
					}, "undefined" != typeof module && null !== module ? module.exports = n : this.moment = n
				}
				var t = {}, e = {}, M = {
						d: "D",
						dd: "DD",
						y: "YYYY",
						yy: "YY",
						yyy: "YYYY",
						yyyy: "YYYY",
						a: "a",
						A: "A",
						M: "M",
						MM: "MM",
						MMM: "MMM",
						MMMM: "MMMM",
						h: "h",
						hh: "hh",
						H: "H",
						HH: "HH",
						m: "m",
						mm: "mm",
						s: "s",
						ss: "ss",
						S: "SSS",
						SS: "SSS",
						SSS: "SSS",
						E: "ddd",
						EEE: "ddd",
						EEEE: "dddd",
						D: "DDD",
						w: "W",
						ww: "WW",
						z: "ZZ",
						zzzz: "Z",
						Z: "ZZ",
						X: "ZZ",
						XX: "ZZ",
						XXX: "Z",
						u: "E"
					}, d = {
						D: "d",
						DD: "dd",
						YY: "yy",
						YYY: "yyyy",
						YYYY: "yyyy",
						a: "a",
						A: "A",
						M: "M",
						MM: "MM",
						MMM: "MMM",
						MMMM: "MMMM",
						h: "h",
						hh: "hh",
						H: "H",
						HH: "HH",
						m: "m",
						mm: "mm",
						s: "s",
						ss: "ss",
						S: "S",
						SS: "S",
						SSS: "S",
						ddd: "E",
						dddd: "EEEE",
						DDD: "D",
						W: "w",
						WW: "ww",
						ZZ: "z",
						Z: "XXX",
						E: "u"
					};
				"undefined" == typeof this.moment && "undefined" != typeof require && null !== require ? "undefined" != typeof module && "undefined" != typeof module.exports ? n(require("moment")) : require(["moment"], function(t) {
					n(t)
				}) : n(this.moment);
				var o = function(n, t) {
					for (var e = n.length, M = 0, d = -1, o = null, m = "", u = ""; e > M; M++) m = n.charAt(M), (null === o || o !== m) && (u = r(n, t, d, M, u), d = M), o = m;
					return r(n, t, d, M, u)
				}, r = function(n, t, e, M, d) {
						var o;
						return -1 !== e && (o = n.substring(e, M), t[o] && (o = t[o]), d = d.concat(o)), d
					}
			}).call(this);


		}, {
			"moment": 472
		}
	],
	472: [
		function(require, module, exports) {
			! function(t, e) {
				"object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e()
			}(this, function() {
				"use strict";

				function t() {
					return Pn.apply(null, arguments)
				}

				function e(t) {
					Pn = t
				}

				function n(t) {
					return "[object Array]" === Object.prototype.toString.call(t)
				}

				function i(t) {
					return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t)
				}

				function r(t, e) {
					var n, i = [];
					for (n = 0; n < t.length; ++n) i.push(e(t[n], n));
					return i
				}

				function s(t, e) {
					return Object.prototype.hasOwnProperty.call(t, e)
				}

				function a(t, e) {
					for (var n in e) s(e, n) && (t[n] = e[n]);
					return s(e, "toString") && (t.toString = e.toString), s(e, "valueOf") && (t.valueOf = e.valueOf), t
				}

				function o(t, e, n, i) {
					return Ot(t, e, n, i, !0).utc()
				}

				function u() {
					return {
						empty: !1,
						unusedTokens: [],
						unusedInput: [],
						overflow: -2,
						charsLeftOver: 0,
						nullInput: !1,
						invalidMonth: null,
						invalidFormat: !1,
						userInvalidated: !1,
						iso: !1
					}
				}

				function d(t) {
					return null == t._pf && (t._pf = u()), t._pf
				}

				function l(t) {
					if (null == t._isValid) {
						var e = d(t);
						t._isValid = !(isNaN(t._d.getTime()) || !(e.overflow < 0) || e.empty || e.invalidMonth || e.invalidWeekday || e.nullInput || e.invalidFormat || e.userInvalidated), t._strict && (t._isValid = t._isValid && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour)
					}
					return t._isValid
				}

				function c(t) {
					var e = o(NaN);
					return null != t ? a(d(e), t) : d(e).userInvalidated = !0, e
				}

				function f(t, e) {
					var n, i, r;
					if ("undefined" != typeof e._isAMomentObject && (t._isAMomentObject = e._isAMomentObject), "undefined" != typeof e._i && (t._i = e._i), "undefined" != typeof e._f && (t._f = e._f), "undefined" != typeof e._l && (t._l = e._l), "undefined" != typeof e._strict && (t._strict = e._strict), "undefined" != typeof e._tzm && (t._tzm = e._tzm), "undefined" != typeof e._isUTC && (t._isUTC = e._isUTC), "undefined" != typeof e._offset && (t._offset = e._offset), "undefined" != typeof e._pf && (t._pf = d(e)), "undefined" != typeof e._locale && (t._locale = e._locale), Hn.length > 0)
						for (n in Hn) i = Hn[n], r = e[i], "undefined" != typeof r && (t[i] = r);
					return t
				}

				function h(e) {
					f(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), Ln === !1 && (Ln = !0, t.updateOffset(this), Ln = !1)
				}

				function m(t) {
					return t instanceof h || null != t && null != t._isAMomentObject
				}

				function _(t) {
					return 0 > t ? Math.ceil(t) : Math.floor(t)
				}

				function y(t) {
					var e = +t,
						n = 0;
					return 0 !== e && isFinite(e) && (n = _(e)), n
				}

				function p(t, e, n) {
					var i, r = Math.min(t.length, e.length),
						s = Math.abs(t.length - e.length),
						a = 0;
					for (i = 0; r > i; i++)(n && t[i] !== e[i] || !n && y(t[i]) !== y(e[i])) && a++;
					return a + s
				}

				function g() {}

				function D(t) {
					return t ? t.toLowerCase().replace("_", "-") : t
				}

				function v(t) {
					for (var e, n, i, r, s = 0; s < t.length;) {
						for (r = D(t[s]).split("-"), e = r.length, n = D(t[s + 1]), n = n ? n.split("-") : null; e > 0;) {
							if (i = M(r.slice(0, e).join("-"))) return i;
							if (n && n.length >= e && p(r, n, !0) >= e - 1) break;
							e--
						}
						s++
					}
					return null
				}

				function M(t) {
					var e = null;
					if (!In[t] && "undefined" != typeof module && module && module.exports) try {
						e = xn._abbr, require("./locale/" + t), Y(e)
					} catch (n) {}
					return In[t]
				}

				function Y(t, e) {
					var n;
					return t && (n = "undefined" == typeof e ? S(t) : w(t, e), n && (xn = n)), xn._abbr
				}

				function w(t, e) {
					return null !== e ? (e.abbr = t, In[t] = In[t] || new g, In[t].set(e), Y(t), In[t]) : (delete In[t], null)
				}

				function S(t) {
					var e;
					if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return xn;
					if (!n(t)) {
						if (e = M(t)) return e;
						t = [t]
					}
					return v(t)
				}

				function k(t, e) {
					var n = t.toLowerCase();
					An[n] = An[n + "s"] = An[e] = t
				}

				function T(t) {
					return "string" == typeof t ? An[t] || An[t.toLowerCase()] : void 0
				}

				function b(t) {
					var e, n, i = {};
					for (n in t) s(t, n) && (e = T(n), e && (i[e] = t[n]));
					return i
				}

				function O(e, n) {
					return function(i) {
						return null != i ? (W(this, e, i), t.updateOffset(this, n), this) : U(this, e)
					}
				}

				function U(t, e) {
					return t._d["get" + (t._isUTC ? "UTC" : "") + e]()
				}

				function W(t, e, n) {
					return t._d["set" + (t._isUTC ? "UTC" : "") + e](n)
				}

				function C(t, e) {
					var n;
					if ("object" == typeof t)
						for (n in t) this.set(n, t[n]);
					else if (t = T(t), "function" == typeof this[t]) return this[t](e);
					return this
				}

				function G(t, e, n) {
					var i = "" + Math.abs(t),
						r = e - i.length,
						s = t >= 0;
					return (s ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, r)).toString().substr(1) + i
				}

				function F(t, e, n, i) {
					var r = i;
					"string" == typeof i && (r = function() {
						return this[i]()
					}), t && (jn[t] = r), e && (jn[e[0]] = function() {
						return G(r.apply(this, arguments), e[1], e[2])
					}), n && (jn[n] = function() {
						return this.localeData().ordinal(r.apply(this, arguments), t)
					})
				}

				function P(t) {
					return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "")
				}

				function x(t) {
					var e, n, i = t.match(zn);
					for (e = 0, n = i.length; n > e; e++) jn[i[e]] ? i[e] = jn[i[e]] : i[e] = P(i[e]);
					return function(r) {
						var s = "";
						for (e = 0; n > e; e++) s += i[e] instanceof Function ? i[e].call(r, t) : i[e];
						return s
					}
				}

				function H(t, e) {
					return t.isValid() ? (e = L(e, t.localeData()), Zn[e] = Zn[e] || x(e), Zn[e](t)) : t.localeData().invalidDate()
				}

				function L(t, e) {
					function n(t) {
						return e.longDateFormat(t) || t
					}
					var i = 5;
					for (Nn.lastIndex = 0; i >= 0 && Nn.test(t);) t = t.replace(Nn, n), Nn.lastIndex = 0, i -= 1;
					return t
				}

				function I(t) {
					return "function" == typeof t && "[object Function]" === Object.prototype.toString.call(t)
				}

				function A(t, e, n) {
					ri[t] = I(e) ? e : function(t) {
						return t && n ? n : e
					}
				}

				function z(t, e) {
					return s(ri, t) ? ri[t](e._strict, e._locale) : new RegExp(N(t))
				}

				function N(t) {
					return t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(t, e, n, i, r) {
						return e || n || i || r
					}).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
				}

				function Z(t, e) {
					var n, i = e;
					for ("string" == typeof t && (t = [t]), "number" == typeof e && (i = function(t, n) {
						n[e] = y(t)
					}), n = 0; n < t.length; n++) si[t[n]] = i
				}

				function j(t, e) {
					Z(t, function(t, n, i, r) {
						i._w = i._w || {}, e(t, i._w, i, r)
					})
				}

				function E(t, e, n) {
					null != e && s(si, t) && si[t](e, n._a, n, t)
				}

				function V(t, e) {
					return new Date(Date.UTC(t, e + 1, 0)).getUTCDate()
				}

				function q(t) {
					return this._months[t.month()]
				}

				function J(t) {
					return this._monthsShort[t.month()]
				}

				function $(t, e, n) {
					var i, r, s;
					for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; 12 > i; i++) {
						if (r = o([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(r, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(r, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (s = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[i] = new RegExp(s.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[i].test(t)) return i;
						if (n && "MMM" === e && this._shortMonthsParse[i].test(t)) return i;
						if (!n && this._monthsParse[i].test(t)) return i
					}
				}

				function R(t, e) {
					var n;
					return "string" == typeof e && (e = t.localeData().monthsParse(e), "number" != typeof e) ? t : (n = Math.min(t.date(), V(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t)
				}

				function B(e) {
					return null != e ? (R(this, e), t.updateOffset(this, !0), this) : U(this, "Month")
				}

				function Q() {
					return V(this.year(), this.month())
				}

				function X(t) {
					var e, n = t._a;
					return n && -2 === d(t).overflow && (e = n[oi] < 0 || n[oi] > 11 ? oi : n[ui] < 1 || n[ui] > V(n[ai], n[oi]) ? ui : n[di] < 0 || n[di] > 24 || 24 === n[di] && (0 !== n[li] || 0 !== n[ci] || 0 !== n[fi]) ? di : n[li] < 0 || n[li] > 59 ? li : n[ci] < 0 || n[ci] > 59 ? ci : n[fi] < 0 || n[fi] > 999 ? fi : -1, d(t)._overflowDayOfYear && (ai > e || e > ui) && (e = ui), d(t).overflow = e), t
				}

				function K(e) {
					t.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
				}

				function tt(t, e) {
					var n = !0;
					return a(function() {
						return n && (K(t + "\n" + (new Error).stack), n = !1), e.apply(this, arguments)
					}, e)
				}

				function et(t, e) {
					_i[t] || (K(e), _i[t] = !0)
				}

				function nt(t) {
					var e, n, i = t._i,
						r = yi.exec(i);
					if (r) {
						for (d(t).iso = !0, e = 0, n = pi.length; n > e; e++)
							if (pi[e][1].exec(i)) {
								t._f = pi[e][0];
								break
							}
						for (e = 0, n = gi.length; n > e; e++)
							if (gi[e][1].exec(i)) {
								t._f += (r[6] || " ") + gi[e][0];
								break
							}
						i.match(ei) && (t._f += "Z"), Mt(t)
					} else t._isValid = !1
				}

				function it(e) {
					var n = Di.exec(e._i);
					return null !== n ? void(e._d = new Date(+n[1])) : (nt(e), void(e._isValid === !1 && (delete e._isValid, t.createFromInputFallback(e))))
				}

				function rt(t, e, n, i, r, s, a) {
					var o = new Date(t, e, n, i, r, s, a);
					return 1970 > t && o.setFullYear(t), o
				}

				function st(t) {
					var e = new Date(Date.UTC.apply(null, arguments));
					return 1970 > t && e.setUTCFullYear(t), e
				}

				function at(t) {
					return ot(t) ? 366 : 365
				}

				function ot(t) {
					return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0
				}

				function ut() {
					return ot(this.year())
				}

				function dt(t, e, n) {
					var i, r = n - e,
						s = n - t.day();
					return s > r && (s -= 7), r - 7 > s && (s += 7), i = Ut(t).add(s, "d"), {
						week: Math.ceil(i.dayOfYear() / 7),
						year: i.year()
					}
				}

				function lt(t) {
					return dt(t, this._week.dow, this._week.doy).week
				}

				function ct() {
					return this._week.dow
				}

				function ft() {
					return this._week.doy
				}

				function ht(t) {
					var e = this.localeData().week(this);
					return null == t ? e : this.add(7 * (t - e), "d")
				}

				function mt(t) {
					var e = dt(this, 1, 4).week;
					return null == t ? e : this.add(7 * (t - e), "d")
				}

				function _t(t, e, n, i, r) {
					var s, a = 6 + r - i,
						o = st(t, 0, 1 + a),
						u = o.getUTCDay();
					return r > u && (u += 7), n = null != n ? 1 * n : r, s = 1 + a + 7 * (e - 1) - u + n, {
						year: s > 0 ? t : t - 1,
						dayOfYear: s > 0 ? s : at(t - 1) + s
					}
				}

				function yt(t) {
					var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
					return null == t ? e : this.add(t - e, "d")
				}

				function pt(t, e, n) {
					return null != t ? t : null != e ? e : n
				}

				function gt(t) {
					var e = new Date;
					return t._useUTC ? [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] : [e.getFullYear(), e.getMonth(), e.getDate()]
				}

				function Dt(t) {
					var e, n, i, r, s = [];
					if (!t._d) {
						for (i = gt(t), t._w && null == t._a[ui] && null == t._a[oi] && vt(t), t._dayOfYear && (r = pt(t._a[ai], i[ai]), t._dayOfYear > at(r) && (d(t)._overflowDayOfYear = !0), n = st(r, 0, t._dayOfYear), t._a[oi] = n.getUTCMonth(), t._a[ui] = n.getUTCDate()), e = 0; 3 > e && null == t._a[e]; ++e) t._a[e] = s[e] = i[e];
						for (; 7 > e; e++) t._a[e] = s[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e];
						24 === t._a[di] && 0 === t._a[li] && 0 === t._a[ci] && 0 === t._a[fi] && (t._nextDay = !0, t._a[di] = 0), t._d = (t._useUTC ? st : rt).apply(null, s), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[di] = 24)
					}
				}

				function vt(t) {
					var e, n, i, r, s, a, o;
					e = t._w, null != e.GG || null != e.W || null != e.E ? (s = 1, a = 4, n = pt(e.GG, t._a[ai], dt(Ut(), 1, 4).year), i = pt(e.W, 1), r = pt(e.E, 1)) : (s = t._locale._week.dow, a = t._locale._week.doy, n = pt(e.gg, t._a[ai], dt(Ut(), s, a).year), i = pt(e.w, 1), null != e.d ? (r = e.d, s > r && ++i) : r = null != e.e ? e.e + s : s), o = _t(n, i, r, a, s), t._a[ai] = o.year, t._dayOfYear = o.dayOfYear
				}

				function Mt(e) {
					if (e._f === t.ISO_8601) return void nt(e);
					e._a = [], d(e).empty = !0;
					var n, i, r, s, a, o = "" + e._i,
						u = o.length,
						l = 0;
					for (r = L(e._f, e._locale).match(zn) || [], n = 0; n < r.length; n++) s = r[n], i = (o.match(z(s, e)) || [])[0], i && (a = o.substr(0, o.indexOf(i)), a.length > 0 && d(e).unusedInput.push(a), o = o.slice(o.indexOf(i) + i.length), l += i.length), jn[s] ? (i ? d(e).empty = !1 : d(e).unusedTokens.push(s), E(s, i, e)) : e._strict && !i && d(e).unusedTokens.push(s);
					d(e).charsLeftOver = u - l, o.length > 0 && d(e).unusedInput.push(o), d(e).bigHour === !0 && e._a[di] <= 12 && e._a[di] > 0 && (d(e).bigHour = void 0), e._a[di] = Yt(e._locale, e._a[di], e._meridiem), Dt(e), X(e)
				}

				function Yt(t, e, n) {
					var i;
					return null == n ? e : null != t.meridiemHour ? t.meridiemHour(e, n) : null != t.isPM ? (i = t.isPM(n), i && 12 > e && (e += 12), i || 12 !== e || (e = 0), e) : e
				}

				function wt(t) {
					var e, n, i, r, s;
					if (0 === t._f.length) return d(t).invalidFormat = !0, void(t._d = new Date(NaN));
					for (r = 0; r < t._f.length; r++) s = 0, e = f({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[r], Mt(e), l(e) && (s += d(e).charsLeftOver, s += 10 * d(e).unusedTokens.length, d(e).score = s, (null == i || i > s) && (i = s, n = e));
					a(t, n || e)
				}

				function St(t) {
					if (!t._d) {
						var e = b(t._i);
						t._a = [e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], Dt(t)
					}
				}

				function kt(t) {
					var e = new h(X(Tt(t)));
					return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e
				}

				function Tt(t) {
					var e = t._i,
						r = t._f;
					return t._locale = t._locale || S(t._l), null === e || void 0 === r && "" === e ? c({
						nullInput: !0
					}) : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), m(e) ? new h(X(e)) : (n(r) ? wt(t) : r ? Mt(t) : i(e) ? t._d = e : bt(t), t))
				}

				function bt(e) {
					var s = e._i;
					void 0 === s ? e._d = new Date : i(s) ? e._d = new Date(+s) : "string" == typeof s ? it(e) : n(s) ? (e._a = r(s.slice(0), function(t) {
						return parseInt(t, 10)
					}), Dt(e)) : "object" == typeof s ? St(e) : "number" == typeof s ? e._d = new Date(s) : t.createFromInputFallback(e)
				}

				function Ot(t, e, n, i, r) {
					var s = {};
					return "boolean" == typeof n && (i = n, n = void 0), s._isAMomentObject = !0, s._useUTC = s._isUTC = r, s._l = n, s._i = t, s._f = e, s._strict = i, kt(s)
				}

				function Ut(t, e, n, i) {
					return Ot(t, e, n, i, !1)
				}

				function Wt(t, e) {
					var i, r;
					if (1 === e.length && n(e[0]) && (e = e[0]), !e.length) return Ut();
					for (i = e[0], r = 1; r < e.length; ++r)(!e[r].isValid() || e[r][t](i)) && (i = e[r]);
					return i
				}

				function Ct() {
					var t = [].slice.call(arguments, 0);
					return Wt("isBefore", t)
				}

				function Gt() {
					var t = [].slice.call(arguments, 0);
					return Wt("isAfter", t)
				}

				function Ft(t) {
					var e = b(t),
						n = e.year || 0,
						i = e.quarter || 0,
						r = e.month || 0,
						s = e.week || 0,
						a = e.day || 0,
						o = e.hour || 0,
						u = e.minute || 0,
						d = e.second || 0,
						l = e.millisecond || 0;
					this._milliseconds = +l + 1e3 * d + 6e4 * u + 36e5 * o, this._days = +a + 7 * s, this._months = +r + 3 * i + 12 * n, this._data = {}, this._locale = S(), this._bubble()
				}

				function Pt(t) {
					return t instanceof Ft
				}

				function xt(t, e) {
					F(t, 0, 0, function() {
						var t = this.utcOffset(),
							n = "+";
						return 0 > t && (t = -t, n = "-"), n + G(~~(t / 60), 2) + e + G(~~t % 60, 2)
					})
				}

				function Ht(t) {
					var e = (t || "").match(ei) || [],
						n = e[e.length - 1] || [],
						i = (n + "").match(Si) || ["-", 0, 0],
						r = +(60 * i[1]) + y(i[2]);
					return "+" === i[0] ? r : -r
				}

				function Lt(e, n) {
					var r, s;
					return n._isUTC ? (r = n.clone(), s = (m(e) || i(e) ? +e : +Ut(e)) - +r, r._d.setTime(+r._d + s), t.updateOffset(r, !1), r) : Ut(e).local()
				}

				function It(t) {
					return 15 * -Math.round(t._d.getTimezoneOffset() / 15)
				}

				function At(e, n) {
					var i, r = this._offset || 0;
					return null != e ? ("string" == typeof e && (e = Ht(e)), Math.abs(e) < 16 && (e = 60 * e), !this._isUTC && n && (i = It(this)), this._offset = e, this._isUTC = !0, null != i && this.add(i, "m"), r !== e && (!n || this._changeInProgress ? ee(this, Bt(e - r, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, t.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? r : It(this)
				}

				function zt(t, e) {
					return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset()
				}

				function Nt(t) {
					return this.utcOffset(0, t)
				}

				function Zt(t) {
					return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(It(this), "m")), this
				}

				function jt() {
					return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ht(this._i)), this
				}

				function Et(t) {
					return t = t ? Ut(t).utcOffset() : 0, (this.utcOffset() - t) % 60 === 0
				}

				function Vt() {
					return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
				}

				function qt() {
					if ("undefined" != typeof this._isDSTShifted) return this._isDSTShifted;
					var t = {};
					if (f(t, this), t = Tt(t), t._a) {
						var e = t._isUTC ? o(t._a) : Ut(t._a);
						this._isDSTShifted = this.isValid() && p(t._a, e.toArray()) > 0
					} else this._isDSTShifted = !1;
					return this._isDSTShifted
				}

				function Jt() {
					return !this._isUTC
				}

				function $t() {
					return this._isUTC
				}

				function Rt() {
					return this._isUTC && 0 === this._offset
				}

				function Bt(t, e) {
					var n, i, r, a = t,
						o = null;
					return Pt(t) ? a = {
						ms: t._milliseconds,
						d: t._days,
						M: t._months
					} : "number" == typeof t ? (a = {}, e ? a[e] = t : a.milliseconds = t) : (o = ki.exec(t)) ? (n = "-" === o[1] ? -1 : 1, a = {
						y: 0,
						d: y(o[ui]) * n,
						h: y(o[di]) * n,
						m: y(o[li]) * n,
						s: y(o[ci]) * n,
						ms: y(o[fi]) * n
					}) : (o = Ti.exec(t)) ? (n = "-" === o[1] ? -1 : 1, a = {
						y: Qt(o[2], n),
						M: Qt(o[3], n),
						d: Qt(o[4], n),
						h: Qt(o[5], n),
						m: Qt(o[6], n),
						s: Qt(o[7], n),
						w: Qt(o[8], n)
					}) : null == a ? a = {} : "object" == typeof a && ("from" in a || "to" in a) && (r = Kt(Ut(a.from), Ut(a.to)), a = {}, a.ms = r.milliseconds, a.M = r.months), i = new Ft(a), Pt(t) && s(t, "_locale") && (i._locale = t._locale), i
				}

				function Qt(t, e) {
					var n = t && parseFloat(t.replace(",", "."));
					return (isNaN(n) ? 0 : n) * e
				}

				function Xt(t, e) {
					var n = {
						milliseconds: 0,
						months: 0
					};
					return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = +e - +t.clone().add(n.months, "M"), n
				}

				function Kt(t, e) {
					var n;
					return e = Lt(e, t), t.isBefore(e) ? n = Xt(t, e) : (n = Xt(e, t), n.milliseconds = -n.milliseconds, n.months = -n.months), n
				}

				function te(t, e) {
					return function(n, i) {
						var r, s;
						return null === i || isNaN(+i) || (et(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period)."), s = n, n = i, i = s), n = "string" == typeof n ? +n : n, r = Bt(n, i), ee(this, r, t), this
					}
				}

				function ee(e, n, i, r) {
					var s = n._milliseconds,
						a = n._days,
						o = n._months;
					r = null == r ? !0 : r, s && e._d.setTime(+e._d + s * i), a && W(e, "Date", U(e, "Date") + a * i), o && R(e, U(e, "Month") + o * i), r && t.updateOffset(e, a || o)
				}

				function ne(t, e) {
					var n = t || Ut(),
						i = Lt(n, this).startOf("day"),
						r = this.diff(i, "days", !0),
						s = -6 > r ? "sameElse" : -1 > r ? "lastWeek" : 0 > r ? "lastDay" : 1 > r ? "sameDay" : 2 > r ? "nextDay" : 7 > r ? "nextWeek" : "sameElse";
					return this.format(e && e[s] || this.localeData().calendar(s, this, Ut(n)))
				}

				function ie() {
					return new h(this)
				}

				function re(t, e) {
					var n;
					return e = T("undefined" != typeof e ? e : "millisecond"), "millisecond" === e ? (t = m(t) ? t : Ut(t), +this > +t) : (n = m(t) ? +t : +Ut(t), n < +this.clone().startOf(e))
				}

				function se(t, e) {
					var n;
					return e = T("undefined" != typeof e ? e : "millisecond"), "millisecond" === e ? (t = m(t) ? t : Ut(t), +t > +this) : (n = m(t) ? +t : +Ut(t), +this.clone().endOf(e) < n)
				}

				function ae(t, e, n) {
					return this.isAfter(t, n) && this.isBefore(e, n)
				}

				function oe(t, e) {
					var n;
					return e = T(e || "millisecond"), "millisecond" === e ? (t = m(t) ? t : Ut(t), +this === +t) : (n = +Ut(t), +this.clone().startOf(e) <= n && n <= +this.clone().endOf(e))
				}

				function ue(t, e, n) {
					var i, r, s = Lt(t, this),
						a = 6e4 * (s.utcOffset() - this.utcOffset());
					return e = T(e), "year" === e || "month" === e || "quarter" === e ? (r = de(this, s), "quarter" === e ? r /= 3 : "year" === e && (r /= 12)) : (i = this - s, r = "second" === e ? i / 1e3 : "minute" === e ? i / 6e4 : "hour" === e ? i / 36e5 : "day" === e ? (i - a) / 864e5 : "week" === e ? (i - a) / 6048e5 : i), n ? r : _(r)
				}

				function de(t, e) {
					var n, i, r = 12 * (e.year() - t.year()) + (e.month() - t.month()),
						s = t.clone().add(r, "months");
					return 0 > e - s ? (n = t.clone().add(r - 1, "months"), i = (e - s) / (s - n)) : (n = t.clone().add(r + 1, "months"), i = (e - s) / (n - s)), -(r + i)
				}

				function le() {
					return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
				}

				function ce() {
					var t = this.clone().utc();
					return 0 < t.year() && t.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : H(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : H(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
				}

				function fe(e) {
					var n = H(this, e || t.defaultFormat);
					return this.localeData().postformat(n)
				}

				function he(t, e) {
					return this.isValid() ? Bt({
						to: this,
						from: t
					}).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
				}

				function me(t) {
					return this.from(Ut(), t)
				}

				function _e(t, e) {
					return this.isValid() ? Bt({
						from: this,
						to: t
					}).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
				}

				function ye(t) {
					return this.to(Ut(), t)
				}

				function pe(t) {
					var e;
					return void 0 === t ? this._locale._abbr : (e = S(t), null != e && (this._locale = e), this)
				}

				function ge() {
					return this._locale
				}

				function De(t) {
					switch (t = T(t)) {
						case "year":
							this.month(0);
						case "quarter":
						case "month":
							this.date(1);
						case "week":
						case "isoWeek":
						case "day":
							this.hours(0);
						case "hour":
							this.minutes(0);
						case "minute":
							this.seconds(0);
						case "second":
							this.milliseconds(0)
					}
					return "week" === t && this.weekday(0), "isoWeek" === t && this.isoWeekday(1), "quarter" === t && this.month(3 * Math.floor(this.month() / 3)), this
				}

				function ve(t) {
					return t = T(t), void 0 === t || "millisecond" === t ? this : this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms")
				}

				function Me() {
					return +this._d - 6e4 * (this._offset || 0)
				}

				function Ye() {
					return Math.floor(+this / 1e3)
				}

				function we() {
					return this._offset ? new Date(+this) : this._d
				}

				function Se() {
					var t = this;
					return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()]
				}

				function ke() {
					var t = this;
					return {
						years: t.year(),
						months: t.month(),
						date: t.date(),
						hours: t.hours(),
						minutes: t.minutes(),
						seconds: t.seconds(),
						milliseconds: t.milliseconds()
					}
				}

				function Te() {
					return l(this)
				}

				function be() {
					return a({}, d(this))
				}

				function Oe() {
					return d(this).overflow
				}

				function Ue(t, e) {
					F(0, [t, t.length], 0, e)
				}

				function We(t, e, n) {
					return dt(Ut([t, 11, 31 + e - n]), e, n).week
				}

				function Ce(t) {
					var e = dt(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
					return null == t ? e : this.add(t - e, "y")
				}

				function Ge(t) {
					var e = dt(this, 1, 4).year;
					return null == t ? e : this.add(t - e, "y")
				}

				function Fe() {
					return We(this.year(), 1, 4)
				}

				function Pe() {
					var t = this.localeData()._week;
					return We(this.year(), t.dow, t.doy)
				}

				function xe(t) {
					return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3)
				}

				function He(t, e) {
					return "string" != typeof t ? t : isNaN(t) ? (t = e.weekdaysParse(t), "number" == typeof t ? t : null) : parseInt(t, 10)
				}

				function Le(t) {
					return this._weekdays[t.day()]
				}

				function Ie(t) {
					return this._weekdaysShort[t.day()]
				}

				function Ae(t) {
					return this._weekdaysMin[t.day()]
				}

				function ze(t) {
					var e, n, i;
					for (this._weekdaysParse = this._weekdaysParse || [], e = 0; 7 > e; e++)
						if (this._weekdaysParse[e] || (n = Ut([2e3, 1]).day(e), i = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[e] = new RegExp(i.replace(".", ""), "i")), this._weekdaysParse[e].test(t)) return e
				}

				function Ne(t) {
					var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
					return null != t ? (t = He(t, this.localeData()), this.add(t - e, "d")) : e
				}

				function Ze(t) {
					var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
					return null == t ? e : this.add(t - e, "d")
				}

				function je(t) {
					return null == t ? this.day() || 7 : this.day(this.day() % 7 ? t : t - 7)
				}

				function Ee(t, e) {
					F(t, 0, 0, function() {
						return this.localeData().meridiem(this.hours(), this.minutes(), e)
					})
				}

				function Ve(t, e) {
					return e._meridiemParse
				}

				function qe(t) {
					return "p" === (t + "").toLowerCase().charAt(0)
				}

				function Je(t, e, n) {
					return t > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
				}

				function $e(t, e) {
					e[fi] = y(1e3 * ("0." + t))
				}

				function Re() {
					return this._isUTC ? "UTC" : ""
				}

				function Be() {
					return this._isUTC ? "Coordinated Universal Time" : ""
				}

				function Qe(t) {
					return Ut(1e3 * t)
				}

				function Xe() {
					return Ut.apply(null, arguments).parseZone()
				}

				function Ke(t, e, n) {
					var i = this._calendar[t];
					return "function" == typeof i ? i.call(e, n) : i
				}

				function tn(t) {
					var e = this._longDateFormat[t],
						n = this._longDateFormat[t.toUpperCase()];
					return e || !n ? e : (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function(t) {
						return t.slice(1)
					}), this._longDateFormat[t])
				}

				function en() {
					return this._invalidDate
				}

				function nn(t) {
					return this._ordinal.replace("%d", t)
				}

				function rn(t) {
					return t
				}

				function sn(t, e, n, i) {
					var r = this._relativeTime[n];
					return "function" == typeof r ? r(t, e, n, i) : r.replace(/%d/i, t)
				}

				function an(t, e) {
					var n = this._relativeTime[t > 0 ? "future" : "past"];
					return "function" == typeof n ? n(e) : n.replace(/%s/i, e)
				}

				function on(t) {
					var e, n;
					for (n in t) e = t[n], "function" == typeof e ? this[n] = e : this["_" + n] = e;
					this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
				}

				function un(t, e, n, i) {
					var r = S(),
						s = o().set(i, e);
					return r[n](s, t)
				}

				function dn(t, e, n, i, r) {
					if ("number" == typeof t && (e = t, t = void 0), t = t || "", null != e) return un(t, e, n, r);
					var s, a = [];
					for (s = 0; i > s; s++) a[s] = un(t, s, n, r);
					return a
				}

				function ln(t, e) {
					return dn(t, e, "months", 12, "month")
				}

				function cn(t, e) {
					return dn(t, e, "monthsShort", 12, "month")
				}

				function fn(t, e) {
					return dn(t, e, "weekdays", 7, "day")
				}

				function hn(t, e) {
					return dn(t, e, "weekdaysShort", 7, "day")
				}

				function mn(t, e) {
					return dn(t, e, "weekdaysMin", 7, "day")
				}

				function _n() {
					var t = this._data;
					return this._milliseconds = Ri(this._milliseconds), this._days = Ri(this._days), this._months = Ri(this._months), t.milliseconds = Ri(t.milliseconds), t.seconds = Ri(t.seconds), t.minutes = Ri(t.minutes), t.hours = Ri(t.hours), t.months = Ri(t.months), t.years = Ri(t.years), this
				}

				function yn(t, e, n, i) {
					var r = Bt(e, n);
					return t._milliseconds += i * r._milliseconds, t._days += i * r._days, t._months += i * r._months, t._bubble()
				}

				function pn(t, e) {
					return yn(this, t, e, 1)
				}

				function gn(t, e) {
					return yn(this, t, e, -1)
				}

				function Dn(t) {
					return 0 > t ? Math.floor(t) : Math.ceil(t)
				}

				function vn() {
					var t, e, n, i, r, s = this._milliseconds,
						a = this._days,
						o = this._months,
						u = this._data;
					return s >= 0 && a >= 0 && o >= 0 || 0 >= s && 0 >= a && 0 >= o || (s += 864e5 * Dn(Yn(o) + a), a = 0, o = 0), u.milliseconds = s % 1e3, t = _(s / 1e3), u.seconds = t % 60, e = _(t / 60), u.minutes = e % 60, n = _(e / 60), u.hours = n % 24, a += _(n / 24), r = _(Mn(a)), o += r, a -= Dn(Yn(r)), i = _(o / 12), o %= 12, u.days = a, u.months = o, u.years = i, this
				}

				function Mn(t) {
					return 4800 * t / 146097
				}

				function Yn(t) {
					return 146097 * t / 4800
				}

				function wn(t) {
					var e, n, i = this._milliseconds;
					if (t = T(t), "month" === t || "year" === t) return e = this._days + i / 864e5, n = this._months + Mn(e), "month" === t ? n : n / 12;
					switch (e = this._days + Math.round(Yn(this._months)), t) {
						case "week":
							return e / 7 + i / 6048e5;
						case "day":
							return e + i / 864e5;
						case "hour":
							return 24 * e + i / 36e5;
						case "minute":
							return 1440 * e + i / 6e4;
						case "second":
							return 86400 * e + i / 1e3;
						case "millisecond":
							return Math.floor(864e5 * e) + i;
						default:
							throw new Error("Unknown unit " + t)
					}
				}

				function Sn() {
					return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12)
				}

				function kn(t) {
					return function() {
						return this.as(t)
					}
				}

				function Tn(t) {
					return t = T(t), this[t + "s"]()
				}

				function bn(t) {
					return function() {
						return this._data[t]
					}
				}

				function On() {
					return _(this.days() / 7)
				}

				function Un(t, e, n, i, r) {
					return r.relativeTime(e || 1, !! n, t, i)
				}

				function Wn(t, e, n) {
					var i = Bt(t).abs(),
						r = cr(i.as("s")),
						s = cr(i.as("m")),
						a = cr(i.as("h")),
						o = cr(i.as("d")),
						u = cr(i.as("M")),
						d = cr(i.as("y")),
						l = r < fr.s && ["s", r] || 1 === s && ["m"] || s < fr.m && ["mm", s] || 1 === a && ["h"] || a < fr.h && ["hh", a] || 1 === o && ["d"] || o < fr.d && ["dd", o] || 1 === u && ["M"] || u < fr.M && ["MM", u] || 1 === d && ["y"] || ["yy", d];
					return l[2] = e, l[3] = +t > 0, l[4] = n, Un.apply(null, l)
				}

				function Cn(t, e) {
					return void 0 === fr[t] ? !1 : void 0 === e ? fr[t] : (fr[t] = e, !0)
				}

				function Gn(t) {
					var e = this.localeData(),
						n = Wn(this, !t, e);
					return t && (n = e.pastFuture(+this, n)), e.postformat(n)
				}

				function Fn() {
					var t, e, n, i = hr(this._milliseconds) / 1e3,
						r = hr(this._days),
						s = hr(this._months);
					t = _(i / 60), e = _(t / 60), i %= 60, t %= 60, n = _(s / 12), s %= 12;
					var a = n,
						o = s,
						u = r,
						d = e,
						l = t,
						c = i,
						f = this.asSeconds();
					return f ? (0 > f ? "-" : "") + "P" + (a ? a + "Y" : "") + (o ? o + "M" : "") + (u ? u + "D" : "") + (d || l || c ? "T" : "") + (d ? d + "H" : "") + (l ? l + "M" : "") + (c ? c + "S" : "") : "P0D"
				}
				var Pn, xn, Hn = t.momentProperties = [],
					Ln = !1,
					In = {}, An = {}, zn = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
					Nn = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
					Zn = {}, jn = {}, En = /\d/,
					Vn = /\d\d/,
					qn = /\d{3}/,
					Jn = /\d{4}/,
					$n = /[+-]?\d{6}/,
					Rn = /\d\d?/,
					Bn = /\d{1,3}/,
					Qn = /\d{1,4}/,
					Xn = /[+-]?\d{1,6}/,
					Kn = /\d+/,
					ti = /[+-]?\d+/,
					ei = /Z|[+-]\d\d:?\d\d/gi,
					ni = /[+-]?\d+(\.\d{1,3})?/,
					ii = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
					ri = {}, si = {}, ai = 0,
					oi = 1,
					ui = 2,
					di = 3,
					li = 4,
					ci = 5,
					fi = 6;
				F("M", ["MM", 2], "Mo", function() {
					return this.month() + 1
				}), F("MMM", 0, 0, function(t) {
					return this.localeData().monthsShort(this, t)
				}), F("MMMM", 0, 0, function(t) {
					return this.localeData().months(this, t)
				}), k("month", "M"), A("M", Rn), A("MM", Rn, Vn), A("MMM", ii), A("MMMM", ii), Z(["M", "MM"], function(t, e) {
					e[oi] = y(t) - 1
				}), Z(["MMM", "MMMM"], function(t, e, n, i) {
					var r = n._locale.monthsParse(t, i, n._strict);
					null != r ? e[oi] = r : d(n).invalidMonth = t
				});
				var hi = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
					mi = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
					_i = {};
				t.suppressDeprecationWarnings = !1;
				var yi = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
					pi = [
						["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
						["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
						["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
						["GGGG-[W]WW", /\d{4}-W\d{2}/],
						["YYYY-DDD", /\d{4}-\d{3}/]
					],
					gi = [
						["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
						["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
						["HH:mm", /(T| )\d\d:\d\d/],
						["HH", /(T| )\d\d/]
					],
					Di = /^\/?Date\((\-?\d+)/i;
				t.createFromInputFallback = tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(t) {
					t._d = new Date(t._i + (t._useUTC ? " UTC" : ""))
				}), F(0, ["YY", 2], 0, function() {
					return this.year() % 100
				}), F(0, ["YYYY", 4], 0, "year"), F(0, ["YYYYY", 5], 0, "year"), F(0, ["YYYYYY", 6, !0], 0, "year"), k("year", "y"), A("Y", ti), A("YY", Rn, Vn), A("YYYY", Qn, Jn), A("YYYYY", Xn, $n), A("YYYYYY", Xn, $n), Z(["YYYYY", "YYYYYY"], ai), Z("YYYY", function(e, n) {
					n[ai] = 2 === e.length ? t.parseTwoDigitYear(e) : y(e)
				}), Z("YY", function(e, n) {
					n[ai] = t.parseTwoDigitYear(e)
				}), t.parseTwoDigitYear = function(t) {
					return y(t) + (y(t) > 68 ? 1900 : 2e3)
				};
				var vi = O("FullYear", !1);
				F("w", ["ww", 2], "wo", "week"), F("W", ["WW", 2], "Wo", "isoWeek"), k("week", "w"), k("isoWeek", "W"), A("w", Rn), A("ww", Rn, Vn), A("W", Rn), A("WW", Rn, Vn), j(["w", "ww", "W", "WW"], function(t, e, n, i) {
					e[i.substr(0, 1)] = y(t)
				});
				var Mi = {
					dow: 0,
					doy: 6
				};
				F("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), k("dayOfYear", "DDD"), A("DDD", Bn), A("DDDD", qn), Z(["DDD", "DDDD"], function(t, e, n) {
					n._dayOfYear = y(t)
				}), t.ISO_8601 = function() {};
				var Yi = tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
					var t = Ut.apply(null, arguments);
					return this > t ? this : t
				}),
					wi = tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
						var t = Ut.apply(null, arguments);
						return t > this ? this : t
					});
				xt("Z", ":"), xt("ZZ", ""), A("Z", ei), A("ZZ", ei), Z(["Z", "ZZ"], function(t, e, n) {
					n._useUTC = !0, n._tzm = Ht(t)
				});
				var Si = /([\+\-]|\d\d)/gi;
				t.updateOffset = function() {};
				var ki = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
					Ti = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
				Bt.fn = Ft.prototype;
				var bi = te(1, "add"),
					Oi = te(-1, "subtract");
				t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
				var Ui = tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(t) {
					return void 0 === t ? this.localeData() : this.locale(t)
				});
				F(0, ["gg", 2], 0, function() {
					return this.weekYear() % 100
				}), F(0, ["GG", 2], 0, function() {
					return this.isoWeekYear() % 100
				}), Ue("gggg", "weekYear"), Ue("ggggg", "weekYear"), Ue("GGGG", "isoWeekYear"), Ue("GGGGG", "isoWeekYear"), k("weekYear", "gg"), k("isoWeekYear", "GG"), A("G", ti), A("g", ti), A("GG", Rn, Vn), A("gg", Rn, Vn), A("GGGG", Qn, Jn), A("gggg", Qn, Jn), A("GGGGG", Xn, $n), A("ggggg", Xn, $n), j(["gggg", "ggggg", "GGGG", "GGGGG"], function(t, e, n, i) {
					e[i.substr(0, 2)] = y(t)
				}), j(["gg", "GG"], function(e, n, i, r) {
					n[r] = t.parseTwoDigitYear(e)
				}), F("Q", 0, 0, "quarter"), k("quarter", "Q"), A("Q", En), Z("Q", function(t, e) {
					e[oi] = 3 * (y(t) - 1)
				}), F("D", ["DD", 2], "Do", "date"), k("date", "D"), A("D", Rn), A("DD", Rn, Vn), A("Do", function(t, e) {
					return t ? e._ordinalParse : e._ordinalParseLenient
				}), Z(["D", "DD"], ui), Z("Do", function(t, e) {
					e[ui] = y(t.match(Rn)[0], 10)
				});
				var Wi = O("Date", !0);
				F("d", 0, "do", "day"), F("dd", 0, 0, function(t) {
					return this.localeData().weekdaysMin(this, t)
				}), F("ddd", 0, 0, function(t) {
					return this.localeData().weekdaysShort(this, t)
				}), F("dddd", 0, 0, function(t) {
					return this.localeData().weekdays(this, t)
				}), F("e", 0, 0, "weekday"), F("E", 0, 0, "isoWeekday"), k("day", "d"), k("weekday", "e"), k("isoWeekday", "E"), A("d", Rn), A("e", Rn), A("E", Rn), A("dd", ii), A("ddd", ii), A("dddd", ii), j(["dd", "ddd", "dddd"], function(t, e, n) {
					var i = n._locale.weekdaysParse(t);
					null != i ? e.d = i : d(n).invalidWeekday = t
				}), j(["d", "e", "E"], function(t, e, n, i) {
					e[i] = y(t)
				});
				var Ci = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
					Gi = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
					Fi = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
				F("H", ["HH", 2], 0, "hour"), F("h", ["hh", 2], 0, function() {
					return this.hours() % 12 || 12
				}), Ee("a", !0), Ee("A", !1), k("hour", "h"), A("a", Ve), A("A", Ve), A("H", Rn), A("h", Rn), A("HH", Rn, Vn), A("hh", Rn, Vn), Z(["H", "HH"], di), Z(["a", "A"], function(t, e, n) {
					n._isPm = n._locale.isPM(t), n._meridiem = t
				}), Z(["h", "hh"], function(t, e, n) {
					e[di] = y(t), d(n).bigHour = !0
				});
				var Pi = /[ap]\.?m?\.?/i,
					xi = O("Hours", !0);
				F("m", ["mm", 2], 0, "minute"), k("minute", "m"), A("m", Rn), A("mm", Rn, Vn), Z(["m", "mm"], li);
				var Hi = O("Minutes", !1);
				F("s", ["ss", 2], 0, "second"), k("second", "s"), A("s", Rn), A("ss", Rn, Vn), Z(["s", "ss"], ci);
				var Li = O("Seconds", !1);
				F("S", 0, 0, function() {
					return~~ (this.millisecond() / 100)
				}), F(0, ["SS", 2], 0, function() {
					return~~ (this.millisecond() / 10)
				}), F(0, ["SSS", 3], 0, "millisecond"), F(0, ["SSSS", 4], 0, function() {
					return 10 * this.millisecond()
				}), F(0, ["SSSSS", 5], 0, function() {
					return 100 * this.millisecond()
				}), F(0, ["SSSSSS", 6], 0, function() {
					return 1e3 * this.millisecond()
				}), F(0, ["SSSSSSS", 7], 0, function() {
					return 1e4 * this.millisecond()
				}), F(0, ["SSSSSSSS", 8], 0, function() {
					return 1e5 * this.millisecond()
				}), F(0, ["SSSSSSSSS", 9], 0, function() {
					return 1e6 * this.millisecond()
				}), k("millisecond", "ms"), A("S", Bn, En), A("SS", Bn, Vn), A("SSS", Bn, qn);
				var Ii;
				for (Ii = "SSSS"; Ii.length <= 9; Ii += "S") A(Ii, Kn);
				for (Ii = "S"; Ii.length <= 9; Ii += "S") Z(Ii, $e);
				var Ai = O("Milliseconds", !1);
				F("z", 0, 0, "zoneAbbr"), F("zz", 0, 0, "zoneName");
				var zi = h.prototype;
				zi.add = bi, zi.calendar = ne, zi.clone = ie, zi.diff = ue, zi.endOf = ve, zi.format = fe, zi.from = he, zi.fromNow = me, zi.to = _e, zi.toNow = ye, zi.get = C, zi.invalidAt = Oe, zi.isAfter = re, zi.isBefore = se, zi.isBetween = ae, zi.isSame = oe, zi.isValid = Te, zi.lang = Ui, zi.locale = pe, zi.localeData = ge, zi.max = wi, zi.min = Yi, zi.parsingFlags = be, zi.set = C, zi.startOf = De, zi.subtract = Oi, zi.toArray = Se, zi.toObject = ke, zi.toDate = we, zi.toISOString = ce, zi.toJSON = ce, zi.toString = le, zi.unix = Ye, zi.valueOf = Me, zi.year = vi, zi.isLeapYear = ut, zi.weekYear = Ce, zi.isoWeekYear = Ge, zi.quarter = zi.quarters = xe, zi.month = B, zi.daysInMonth = Q, zi.week = zi.weeks = ht, zi.isoWeek = zi.isoWeeks = mt, zi.weeksInYear = Pe, zi.isoWeeksInYear = Fe, zi.date = Wi, zi.day = zi.days = Ne, zi.weekday = Ze, zi.isoWeekday = je, zi.dayOfYear = yt, zi.hour = zi.hours = xi, zi.minute = zi.minutes = Hi, zi.second = zi.seconds = Li,
				zi.millisecond = zi.milliseconds = Ai, zi.utcOffset = At, zi.utc = Nt, zi.local = Zt, zi.parseZone = jt, zi.hasAlignedHourOffset = Et, zi.isDST = Vt, zi.isDSTShifted = qt, zi.isLocal = Jt, zi.isUtcOffset = $t, zi.isUtc = Rt, zi.isUTC = Rt, zi.zoneAbbr = Re, zi.zoneName = Be, zi.dates = tt("dates accessor is deprecated. Use date instead.", Wi), zi.months = tt("months accessor is deprecated. Use month instead", B), zi.years = tt("years accessor is deprecated. Use year instead", vi), zi.zone = tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", zt);
				var Ni = zi,
					Zi = {
						sameDay: "[Today at] LT",
						nextDay: "[Tomorrow at] LT",
						nextWeek: "dddd [at] LT",
						lastDay: "[Yesterday at] LT",
						lastWeek: "[Last] dddd [at] LT",
						sameElse: "L"
					}, ji = {
						LTS: "h:mm:ss A",
						LT: "h:mm A",
						L: "MM/DD/YYYY",
						LL: "MMMM D, YYYY",
						LLL: "MMMM D, YYYY h:mm A",
						LLLL: "dddd, MMMM D, YYYY h:mm A"
					}, Ei = "Invalid date",
					Vi = "%d",
					qi = /\d{1,2}/,
					Ji = {
						future: "in %s",
						past: "%s ago",
						s: "a few seconds",
						m: "a minute",
						mm: "%d minutes",
						h: "an hour",
						hh: "%d hours",
						d: "a day",
						dd: "%d days",
						M: "a month",
						MM: "%d months",
						y: "a year",
						yy: "%d years"
					}, $i = g.prototype;
				$i._calendar = Zi, $i.calendar = Ke, $i._longDateFormat = ji, $i.longDateFormat = tn, $i._invalidDate = Ei, $i.invalidDate = en, $i._ordinal = Vi, $i.ordinal = nn, $i._ordinalParse = qi, $i.preparse = rn, $i.postformat = rn, $i._relativeTime = Ji, $i.relativeTime = sn, $i.pastFuture = an, $i.set = on, $i.months = q, $i._months = hi, $i.monthsShort = J, $i._monthsShort = mi, $i.monthsParse = $, $i.week = lt, $i._week = Mi, $i.firstDayOfYear = ft, $i.firstDayOfWeek = ct, $i.weekdays = Le, $i._weekdays = Ci, $i.weekdaysMin = Ae, $i._weekdaysMin = Fi, $i.weekdaysShort = Ie, $i._weekdaysShort = Gi, $i.weekdaysParse = ze, $i.isPM = qe, $i._meridiemParse = Pi, $i.meridiem = Je, Y("en", {
					ordinalParse: /\d{1,2}(th|st|nd|rd)/,
					ordinal: function(t) {
						var e = t % 10,
							n = 1 === y(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th";
						return t + n
					}
				}), t.lang = tt("moment.lang is deprecated. Use moment.locale instead.", Y), t.langData = tt("moment.langData is deprecated. Use moment.localeData instead.", S);
				var Ri = Math.abs,
					Bi = kn("ms"),
					Qi = kn("s"),
					Xi = kn("m"),
					Ki = kn("h"),
					tr = kn("d"),
					er = kn("w"),
					nr = kn("M"),
					ir = kn("y"),
					rr = bn("milliseconds"),
					sr = bn("seconds"),
					ar = bn("minutes"),
					or = bn("hours"),
					ur = bn("days"),
					dr = bn("months"),
					lr = bn("years"),
					cr = Math.round,
					fr = {
						s: 45,
						m: 45,
						h: 22,
						d: 26,
						M: 11
					}, hr = Math.abs,
					mr = Ft.prototype;
				mr.abs = _n, mr.add = pn, mr.subtract = gn, mr.as = wn, mr.asMilliseconds = Bi, mr.asSeconds = Qi, mr.asMinutes = Xi, mr.asHours = Ki, mr.asDays = tr, mr.asWeeks = er, mr.asMonths = nr, mr.asYears = ir, mr.valueOf = Sn, mr._bubble = vn, mr.get = Tn, mr.milliseconds = rr, mr.seconds = sr, mr.minutes = ar, mr.hours = or, mr.days = ur, mr.weeks = On, mr.months = dr, mr.years = lr, mr.humanize = Gn, mr.toISOString = Fn, mr.toString = Fn, mr.toJSON = Fn, mr.locale = pe, mr.localeData = ge, mr.toIsoString = tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Fn), mr.lang = Ui, F("X", 0, 0, "unix"), F("x", 0, 0, "valueOf"), A("x", ti), A("X", ni), Z("X", function(t, e, n) {
					n._d = new Date(1e3 * parseFloat(t, 10))
				}), Z("x", function(t, e, n) {
					n._d = new Date(y(t))
				}), t.version = "2.10.6", e(Ut), t.fn = Ni, t.min = Ct, t.max = Gt, t.utc = o, t.unix = Qe, t.months = ln, t.isDate = i, t.locale = Y, t.invalid = c, t.duration = Bt, t.isMoment = m, t.weekdays = fn, t.parseZone = Xe, t.localeData = S, t.isDuration = Pt, t.monthsShort = cn, t.weekdaysMin = mn, t.defineLocale = w, t.weekdaysShort = hn, t.normalizeUnits = T, t.relativeTimeThreshold = Cn;
				var _r = t;
				return _r
			});


		}, {}
	],
	473: [
		function(require, module, exports) {
			! function(r) {
				function e(r, e) {
					if (r instanceof i) return r;
					if ("string" != typeof r) return null;
					if (r.length > O) return null;
					var t = e ? D[pr] : D[sr];
					if (!t.test(r)) return null;
					try {
						return new i(r, e)
					} catch (n) {
						return null
					}
				}

				function t(r, t) {
					var n = e(r, t);
					return n ? n.version : null
				}

				function n(r, t) {
					var n = e(r.trim().replace(/^[=v]+/, ""), t);
					return n ? n.version : null
				}

				function i(r, e) {
					if (r instanceof i) {
						if (r.loose === e) return r;
						r = r.version
					} else if ("string" != typeof r) throw new TypeError("Invalid Version: " + r);
					if (r.length > O) throw new TypeError("version is longer than " + O + " characters");
					if (!(this instanceof i)) return new i(r, e);
					this.loose = e;
					var t = r.trim().match(e ? D[pr] : D[sr]);
					if (!t) throw new TypeError("Invalid Version: " + r);
					if (this.raw = r, this.major = +t[1], this.minor = +t[2], this.patch = +t[3], this.major > B || this.major < 0) throw new TypeError("Invalid major version");
					if (this.minor > B || this.minor < 0) throw new TypeError("Invalid minor version");
					if (this.patch > B || this.patch < 0) throw new TypeError("Invalid patch version");
					t[4] ? this.prerelease = t[4].split(".").map(function(r) {
						if (/^[0-9]+$/.test(r)) {
							var e = +r;
							if (e >= 0 && B > e) return e
						}
						return r
					}) : this.prerelease = [], this.build = t[5] ? t[5].split(".") : [], this.format()
				}

				function o(r, e, t, n) {
					"string" == typeof t && (n = t, t = void 0);
					try {
						return new i(r, t).inc(e, n).version
					} catch (o) {
						return null
					}
				}

				function s(r, t) {
					if (d(r, t)) return null;
					var n = e(r),
						i = e(t);
					if (n.prerelease.length || i.prerelease.length) {
						for (var o in n)
							if (("major" === o || "minor" === o || "patch" === o) && n[o] !== i[o]) return "pre" + o;
						return "prerelease"
					}
					for (var o in n)
						if (("major" === o || "minor" === o || "patch" === o) && n[o] !== i[o]) return o
				}

				function a(r, e) {
					var t = _r.test(r),
						n = _r.test(e);
					return t && n && (r = +r, e = +e), t && !n ? -1 : n && !t ? 1 : e > r ? -1 : r > e ? 1 : 0
				}

				function u(r, e) {
					return a(e, r)
				}

				function p(r, e) {
					return new i(r, e).major
				}

				function h(r, e) {
					return new i(r, e).minor
				}

				function c(r, e) {
					return new i(r, e).patch
				}

				function f(r, e, t) {
					return new i(r, t).compare(e)
				}

				function l(r, e) {
					return f(r, e, !0)
				}

				function v(r, e, t) {
					return f(e, r, t)
				}

				function m(e, t) {
					return e.sort(function(e, n) {
						return r.compare(e, n, t)
					})
				}

				function g(e, t) {
					return e.sort(function(e, n) {
						return r.rcompare(e, n, t)
					})
				}

				function w(r, e, t) {
					return f(r, e, t) > 0
				}

				function y(r, e, t) {
					return f(r, e, t) < 0
				}

				function d(r, e, t) {
					return 0 === f(r, e, t)
				}

				function j(r, e, t) {
					return 0 !== f(r, e, t)
				}

				function b(r, e, t) {
					return f(r, e, t) >= 0
				}

				function E(r, e, t) {
					return f(r, e, t) <= 0
				}

				function $(r, e, t, n) {
					var i;
					switch (e) {
						case "===":
							"object" == typeof r && (r = r.version), "object" == typeof t && (t = t.version), i = r === t;
							break;
						case "!==":
							"object" == typeof r && (r = r.version), "object" == typeof t && (t = t.version), i = r !== t;
							break;
						case "":
						case "=":
						case "==":
							i = d(r, t, n);
							break;
						case "!=":
							i = j(r, t, n);
							break;
						case ">":
							i = w(r, t, n);
							break;
						case ">=":
							i = b(r, t, n);
							break;
						case "<":
							i = y(r, t, n);
							break;
						case "<=":
							i = E(r, t, n);
							break;
						default:
							throw new TypeError("Invalid operator: " + e)
					}
					return i
				}

				function k(r, e) {
					if (r instanceof k) {
						if (r.loose === e) return r;
						r = r.value
					}
					return this instanceof k ? (this.loose = e, this.parse(r), void(this.semver === zr ? this.value = "" : this.value = this.operator + this.semver.version)) : new k(r, e)
				}

				function R(r, e) {
					if (r instanceof R && r.loose === e) return r;
					if (!(this instanceof R)) return new R(r, e);
					if (this.loose = e, this.raw = r, this.set = r.split(/\s*\|\|\s*/).map(function(r) {
						return this.parseRange(r.trim())
					}, this).filter(function(r) {
						return r.length
					}), !this.set.length) throw new TypeError("Invalid SemVer Range: " + r);
					this.format()
				}

				function S(r, e) {
					return new R(r, e).set.map(function(r) {
						return r.map(function(r) {
							return r.value
						}).join(" ").trim().split(" ")
					})
				}

				function x(r, e) {
					return r = A(r, e), r = T(r, e), r = M(r, e), r = _(r, e)
				}

				function I(r) {
					return !r || "x" === r.toLowerCase() || "*" === r
				}

				function T(r, e) {
					return r.trim().split(/\s+/).map(function(r) {
						return V(r, e)
					}).join(" ")
				}

				function V(r, e) {
					var t = e ? D[br] : D[jr];
					return r.replace(t, function(r, e, t, n, i) {
						var o;
						return I(e) ? o = "" : I(t) ? o = ">=" + e + ".0.0 <" + (+e + 1) + ".0.0" : I(n) ? o = ">=" + e + "." + t + ".0 <" + e + "." + (+t + 1) + ".0" : i ? ("-" !== i.charAt(0) && (i = "-" + i), o = ">=" + e + "." + t + "." + n + i + " <" + e + "." + (+t + 1) + ".0") : o = ">=" + e + "." + t + "." + n + " <" + e + "." + (+t + 1) + ".0", o
					})
				}

				function A(r, e) {
					return r.trim().split(/\s+/).map(function(r) {
						return C(r, e)
					}).join(" ")
				}

				function C(r, e) {
					var t = e ? D[Sr] : D[Rr];
					return r.replace(t, function(r, e, t, n, i) {
						var o;
						return I(e) ? o = "" : I(t) ? o = ">=" + e + ".0.0 <" + (+e + 1) + ".0.0" : I(n) ? o = "0" === e ? ">=" + e + "." + t + ".0 <" + e + "." + (+t + 1) + ".0" : ">=" + e + "." + t + ".0 <" + (+e + 1) + ".0.0" : i ? ("-" !== i.charAt(0) && (i = "-" + i), o = "0" === e ? "0" === t ? ">=" + e + "." + t + "." + n + i + " <" + e + "." + t + "." + (+n + 1) : ">=" + e + "." + t + "." + n + i + " <" + e + "." + (+t + 1) + ".0" : ">=" + e + "." + t + "." + n + i + " <" + (+e + 1) + ".0.0") : o = "0" === e ? "0" === t ? ">=" + e + "." + t + "." + n + " <" + e + "." + t + "." + (+n + 1) : ">=" + e + "." + t + "." + n + " <" + e + "." + (+t + 1) + ".0" : ">=" + e + "." + t + "." + n + " <" + (+e + 1) + ".0.0", o
					})
				}

				function M(r, e) {
					return r.split(/\s+/).map(function(r) {
						return N(r, e)
					}).join(" ")
				}

				function N(r, e) {
					r = r.trim();
					var t = e ? D[gr] : D[mr];
					return r.replace(t, function(r, e, t, n, i, o) {
						var s = I(t),
							a = s || I(n),
							u = a || I(i),
							p = u;
						return "=" === e && p && (e = ""), s ? r = ">" === e || "<" === e ? "<0.0.0" : "*" : e && p ? (a && (n = 0), u && (i = 0), ">" === e ? (e = ">=", a ? (t = +t + 1, n = 0, i = 0) : u && (n = +n + 1, i = 0)) : "<=" === e && (e = "<", a ? t = +t + 1 : n = +n + 1), r = e + t + "." + n + "." + i) : a ? r = ">=" + t + ".0.0 <" + (+t + 1) + ".0.0" : u && (r = ">=" + t + "." + n + ".0 <" + t + "." + (+n + 1) + ".0"), r
					})
				}

				function _(r, e) {
					return r.trim().replace(D[Mr], "")
				}

				function z(r, e, t, n, i, o, s, a, u, p, h, c, f) {
					return e = I(t) ? "" : I(n) ? ">=" + t + ".0.0" : I(i) ? ">=" + t + "." + n + ".0" : ">=" + e, a = I(u) ? "" : I(p) ? "<" + (+u + 1) + ".0.0" : I(h) ? "<" + u + "." + (+p + 1) + ".0" : c ? "<=" + u + "." + p + "." + h + "-" + c : "<=" + a, (e + " " + a).trim()
				}

				function P(r, e) {
					for (var t = 0; t < r.length; t++)
						if (!r[t].test(e)) return !1;
					if (e.prerelease.length) {
						for (var t = 0; t < r.length; t++)
							if (r[t].semver !== zr && r[t].semver.prerelease.length > 0) {
								var n = r[t].semver;
								if (n.major === e.major && n.minor === e.minor && n.patch === e.patch) return !0
							}
						return !1
					}
					return !0
				}

				function X(r, e, t) {
					try {
						e = new R(e, t)
					} catch (n) {
						return !1
					}
					return e.test(r)
				}

				function Z(r, e, t) {
					return r.filter(function(r) {
						return X(r, e, t)
					}).sort(function(r, e) {
						return v(r, e, t)
					})[0] || null
				}

				function q(r, e) {
					try {
						return new R(r, e).range || "*"
					} catch (t) {
						return null
					}
				}

				function L(r, e, t) {
					return G(r, e, "<", t)
				}

				function F(r, e, t) {
					return G(r, e, ">", t)
				}

				function G(r, e, t, n) {
					r = new i(r, n), e = new R(e, n);
					var o, s, a, u, p;
					switch (t) {
						case ">":
							o = w, s = E, a = y, u = ">", p = ">=";
							break;
						case "<":
							o = y, s = b, a = w, u = "<", p = "<=";
							break;
						default:
							throw new TypeError('Must provide a hilo val of "<" or ">"')
					}
					if (X(r, e, n)) return !1;
					for (var h = 0; h < e.set.length; ++h) {
						var c = e.set[h],
							f = null,
							l = null;
						if (c.forEach(function(r) {
							r.semver === zr && (r = new k(">=0.0.0")), f = f || r, l = l || r, o(r.semver, f.semver, n) ? f = r : a(r.semver, l.semver, n) && (l = r)
						}), f.operator === u || f.operator === p) return !1;
						if ((!l.operator || l.operator === u) && s(r, l.semver)) return !1;
						if (l.operator === p && a(r, l.semver)) return !1
					}
					return !0
				}
				"object" == typeof module && module.exports === r && (r = module.exports = i), r.SEMVER_SPEC_VERSION = "2.0.0";
				var O = 256,
					B = Number.MAX_SAFE_INTEGER || 9007199254740991,
					D = r.re = [],
					H = r.src = [],
					J = 0,
					K = J++;
				H[K] = "0|[1-9]\\d*";
				var Q = J++;
				H[Q] = "[0-9]+";
				var U = J++;
				H[U] = "\\d*[a-zA-Z-][a-zA-Z0-9-]*";
				var W = J++;
				H[W] = "(" + H[K] + ")\\.(" + H[K] + ")\\.(" + H[K] + ")";
				var Y = J++;
				H[Y] = "(" + H[Q] + ")\\.(" + H[Q] + ")\\.(" + H[Q] + ")";
				var rr = J++;
				H[rr] = "(?:" + H[K] + "|" + H[U] + ")";
				var er = J++;
				H[er] = "(?:" + H[Q] + "|" + H[U] + ")";
				var tr = J++;
				H[tr] = "(?:-(" + H[rr] + "(?:\\." + H[rr] + ")*))";
				var nr = J++;
				H[nr] = "(?:-?(" + H[er] + "(?:\\." + H[er] + ")*))";
				var ir = J++;
				H[ir] = "[0-9A-Za-z-]+";
				var or = J++;
				H[or] = "(?:\\+(" + H[ir] + "(?:\\." + H[ir] + ")*))";
				var sr = J++,
					ar = "v?" + H[W] + H[tr] + "?" + H[or] + "?";
				H[sr] = "^" + ar + "$";
				var ur = "[v=\\s]*" + H[Y] + H[nr] + "?" + H[or] + "?",
					pr = J++;
				H[pr] = "^" + ur + "$";
				var hr = J++;
				H[hr] = "((?:<|>)?=?)";
				var cr = J++;
				H[cr] = H[Q] + "|x|X|\\*";
				var fr = J++;
				H[fr] = H[K] + "|x|X|\\*";
				var lr = J++;
				H[lr] = "[v=\\s]*(" + H[fr] + ")(?:\\.(" + H[fr] + ")(?:\\.(" + H[fr] + ")(?:" + H[tr] + ")?" + H[or] + "?)?)?";
				var vr = J++;
				H[vr] = "[v=\\s]*(" + H[cr] + ")(?:\\.(" + H[cr] + ")(?:\\.(" + H[cr] + ")(?:" + H[nr] + ")?" + H[or] + "?)?)?";
				var mr = J++;
				H[mr] = "^" + H[hr] + "\\s*" + H[lr] + "$";
				var gr = J++;
				H[gr] = "^" + H[hr] + "\\s*" + H[vr] + "$";
				var wr = J++;
				H[wr] = "(?:~>?)";
				var yr = J++;
				H[yr] = "(\\s*)" + H[wr] + "\\s+", D[yr] = new RegExp(H[yr], "g");
				var dr = "$1~",
					jr = J++;
				H[jr] = "^" + H[wr] + H[lr] + "$";
				var br = J++;
				H[br] = "^" + H[wr] + H[vr] + "$";
				var Er = J++;
				H[Er] = "(?:\\^)";
				var $r = J++;
				H[$r] = "(\\s*)" + H[Er] + "\\s+", D[$r] = new RegExp(H[$r], "g");
				var kr = "$1^",
					Rr = J++;
				H[Rr] = "^" + H[Er] + H[lr] + "$";
				var Sr = J++;
				H[Sr] = "^" + H[Er] + H[vr] + "$";
				var xr = J++;
				H[xr] = "^" + H[hr] + "\\s*(" + ur + ")$|^$";
				var Ir = J++;
				H[Ir] = "^" + H[hr] + "\\s*(" + ar + ")$|^$";
				var Tr = J++;
				H[Tr] = "(\\s*)" + H[hr] + "\\s*(" + ur + "|" + H[lr] + ")", D[Tr] = new RegExp(H[Tr], "g");
				var Vr = "$1$2$3",
					Ar = J++;
				H[Ar] = "^\\s*(" + H[lr] + ")\\s+-\\s+(" + H[lr] + ")\\s*$";
				var Cr = J++;
				H[Cr] = "^\\s*(" + H[vr] + ")\\s+-\\s+(" + H[vr] + ")\\s*$";
				var Mr = J++;
				H[Mr] = "(<|>)?=?\\s*\\*";
				for (var Nr = 0; J > Nr; Nr++) D[Nr] || (D[Nr] = new RegExp(H[Nr]));
				r.parse = e, r.valid = t, r.clean = n, r.SemVer = i, i.prototype.format = function() {
					return this.version = this.major + "." + this.minor + "." + this.patch, this.prerelease.length && (this.version += "-" + this.prerelease.join(".")), this.version
				}, i.prototype.inspect = function() {
					return '<SemVer "' + this + '">'
				}, i.prototype.toString = function() {
					return this.version
				}, i.prototype.compare = function(r) {
					return r instanceof i || (r = new i(r, this.loose)), this.compareMain(r) || this.comparePre(r)
				}, i.prototype.compareMain = function(r) {
					return r instanceof i || (r = new i(r, this.loose)), a(this.major, r.major) || a(this.minor, r.minor) || a(this.patch, r.patch)
				}, i.prototype.comparePre = function(r) {
					if (r instanceof i || (r = new i(r, this.loose)), this.prerelease.length && !r.prerelease.length) return -1;
					if (!this.prerelease.length && r.prerelease.length) return 1;
					if (!this.prerelease.length && !r.prerelease.length) return 0;
					var e = 0;
					do {
						var t = this.prerelease[e],
							n = r.prerelease[e];
						if (void 0 === t && void 0 === n) return 0;
						if (void 0 === n) return 1;
						if (void 0 === t) return -1;
						if (t !== n) return a(t, n)
					} while (++e)
				}, i.prototype.inc = function(r, e) {
					switch (r) {
						case "premajor":
							this.prerelease.length = 0, this.patch = 0, this.minor = 0, this.major++, this.inc("pre", e);
							break;
						case "preminor":
							this.prerelease.length = 0, this.patch = 0, this.minor++, this.inc("pre", e);
							break;
						case "prepatch":
							this.prerelease.length = 0, this.inc("patch", e), this.inc("pre", e);
							break;
						case "prerelease":
							0 === this.prerelease.length && this.inc("patch", e), this.inc("pre", e);
							break;
						case "major":
							(0 !== this.minor || 0 !== this.patch || 0 === this.prerelease.length) && this.major++, this.minor = 0, this.patch = 0, this.prerelease = [];
							break;
						case "minor":
							(0 !== this.patch || 0 === this.prerelease.length) && this.minor++, this.patch = 0, this.prerelease = [];
							break;
						case "patch":
							0 === this.prerelease.length && this.patch++, this.prerelease = [];
							break;
						case "pre":
							if (0 === this.prerelease.length) this.prerelease = [0];
							else {
								for (var t = this.prerelease.length; --t >= 0;) "number" == typeof this.prerelease[t] && (this.prerelease[t]++, t = -2); - 1 === t && this.prerelease.push(0)
							}
							e && (this.prerelease[0] === e ? isNaN(this.prerelease[1]) && (this.prerelease = [e, 0]) : this.prerelease = [e, 0]);
							break;
						default:
							throw new Error("invalid increment argument: " + r)
					}
					return this.format(), this
				}, r.inc = o, r.diff = s, r.compareIdentifiers = a;
				var _r = /^[0-9]+$/;
				r.rcompareIdentifiers = u, r.major = p, r.minor = h, r.patch = c, r.compare = f, r.compareLoose = l, r.rcompare = v, r.sort = m, r.rsort = g, r.gt = w, r.lt = y, r.eq = d, r.neq = j, r.gte = b, r.lte = E, r.cmp = $, r.Comparator = k;
				var zr = {};
				k.prototype.parse = function(r) {
					var e = this.loose ? D[xr] : D[Ir],
						t = r.match(e);
					if (!t) throw new TypeError("Invalid comparator: " + r);
					this.operator = t[1], "=" === this.operator && (this.operator = ""), t[2] ? this.semver = new i(t[2], this.loose) : this.semver = zr
				}, k.prototype.inspect = function() {
					return '<SemVer Comparator "' + this + '">'
				}, k.prototype.toString = function() {
					return this.value
				}, k.prototype.test = function(r) {
					return this.semver === zr ? !0 : ("string" == typeof r && (r = new i(r, this.loose)), $(r, this.operator, this.semver, this.loose))
				}, r.Range = R, R.prototype.inspect = function() {
					return '<SemVer Range "' + this.range + '">'
				}, R.prototype.format = function() {
					return this.range = this.set.map(function(r) {
						return r.join(" ").trim()
					}).join("||").trim(), this.range
				}, R.prototype.toString = function() {
					return this.range
				}, R.prototype.parseRange = function(r) {
					var e = this.loose;
					r = r.trim();
					var t = e ? D[Cr] : D[Ar];
					r = r.replace(t, z), r = r.replace(D[Tr], Vr), r = r.replace(D[yr], dr), r = r.replace(D[$r], kr), r = r.split(/\s+/).join(" ");
					var n = e ? D[xr] : D[Ir],
						i = r.split(" ").map(function(r) {
							return x(r, e)
						}).join(" ").split(/\s+/);
					return this.loose && (i = i.filter(function(r) {
						return !!r.match(n)
					})), i = i.map(function(r) {
						return new k(r, e)
					})
				}, r.toComparators = S, R.prototype.test = function(r) {
					if (!r) return !1;
					"string" == typeof r && (r = new i(r, this.loose));
					for (var e = 0; e < this.set.length; e++)
						if (P(this.set[e], r)) return !0;
					return !1
				}, r.satisfies = X, r.maxSatisfying = Z, r.validRange = q, r.ltr = L, r.gtr = F, r.outside = G, "function" == typeof define && define.amd && define(r)
			}("object" == typeof exports ? exports : "function" == typeof define && define.amd ? {} : semver = {});


		}, {}
	],
	474: [
		function(require, module, exports) {
			(function(global) {
				var location = global.location || {}, twemoji = function() {
						"use strict";

						function d(d) {
							return document.createTextNode(d)
						}

						function u(d) {
							return d.replace(x, b)
						}

						function c(d, u) {
							return "".concat(u.base, u.size, "/", d, u.ext)
						}

						function e(d, u) {
							for (var c, f, a = d.childNodes, t = a.length; t--;) c = a[t], f = c.nodeType, 3 === f ? u.push(c) : 1 !== f || N.test(c.nodeName) || e(c, u);
							return u
						}

						function f(d, u) {
							return p("?" === u ? d.slice(0, -1) : 3 === d.length && "?" === d.charAt(1) ? d.charAt(0) + d.charAt(2) : d)
						}

						function a(u, c) {
							for (var a, t, b, n, r, o, i, s, l, p, m, x, N, C, A = e(u, []), E = A.length; E--;) {
								for (b = !1, n = document.createDocumentFragment(), r = A[E], o = r.nodeValue, s = 0; i = g.exec(o);) {
									if (l = i.index, l !== s && n.appendChild(d(o.slice(s, l))), m = i[0], x = i[1], N = i[2], s = l + m.length, "?" !== N && (C = c.callback(f(x, N), c, N))) {
										p = new Image, p.onerror = h.onerror, p.setAttribute("draggable", "false"), a = c.attributes(x, N);
										for (t in a) a.hasOwnProperty(t) && 0 !== t.indexOf("on") && !p.hasAttribute(t) && p.setAttribute(t, a[t]);
										p.className = c.className, p.alt = m, p.src = C, b = !0, n.appendChild(p)
									}
									p || n.appendChild(d(m)), p = null
								}
								b && (s < o.length && n.appendChild(d(o.slice(s))), r.parentNode.replaceChild(n, r))
							}
							return u
						}

						function t(d, c) {
							return s(d, function(d, e, a) {
								var t, b, n, r = d;
								if ("?" !== a && (n = c.callback(f(e, a), c, a))) {
									r = "<img ".concat('class="', c.className, '" ', 'draggable="false" ', 'alt="', d, '"', ' src="', n, '"'), t = c.attributes(e, a);
									for (b in t) t.hasOwnProperty(b) && 0 !== b.indexOf("on") && -1 === r.indexOf(" " + b + "=") && (r = r.concat(" ", b, '="', u(t[b]), '"'));
									r = r.concat(">")
								}
								return r
							})
						}

						function b(d) {
							return m[d]
						}

						function n() {
							return null
						}

						function r(d) {
							return "number" == typeof d ? d + "x" + d : d
						}

						function o(d) {
							var u = "string" == typeof d ? parseInt(d, 16) : d;
							return 65536 > u ? C(u) : (u -= 65536, C(55296 + (u >> 10), 56320 + (1023 & u)))
						}

						function i(d, u) {
							return u && "function" != typeof u || (u = {
								callback: u
							}), ("string" == typeof d ? t : a)(d, {
								callback: u.callback || c,
								attributes: "function" == typeof u.attributes ? u.attributes : n,
								base: "string" == typeof u.base ? u.base : h.base,
								ext: u.ext || h.ext,
								size: u.folder || r(u.size || h.size),
								className: u.className || h.className
							})
						}

						function s(d, u) {
							return String(d).replace(g, u)
						}

						function l(d) {
							g.lastIndex = 0;
							var u = g.test(d);
							return g.lastIndex = 0, u
						}

						function p(d, u) {
							for (var c = [], e = 0, f = 0, a = 0; a < d.length;) e = d.charCodeAt(a++), f ? (c.push((65536 + (f - 55296 << 10) + (e - 56320)).toString(16)), f = 0) : e >= 55296 && 56319 >= e ? f = e : c.push(e.toString(16));
							return c.join(u || "-")
						}
						var h = {
							base: ("https:" === location.protocol ? "https:" : "http:") + "//twemoji.maxcdn.com/",
							ext: ".png",
							size: "36x36",
							className: "emoji",
							convert: {
								fromCodePoint: o,
								toCodePoint: p
							},
							onerror: function() {
								this.parentNode && this.parentNode.replaceChild(d(this.alt), this)
							},
							parse: i,
							replace: s,
							test: l
						}, m = {
								"&": "&amp;",
								"<": "&lt;",
								">": "&gt;",
								"'": "&#39;",
								'"': "&quot;"
							}, g = /((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude02|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude37|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u3030|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u2122|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd7f|\ud83c\ude1a|\ud83c\ude2f|\u3299|\u303d|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,
							x = /[&<>'"]/g,
							N = /IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA/,
							C = String.fromCharCode;
						return h
					}();
				location.protocol || (twemoji.base = twemoji.base.replace(/^http:/, "")), module.exports = twemoji;


			}).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
		}, {}
	],
	475: [
		function(require, module, exports) {
			! function(t, e) {
				"undefined" != typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && "object" == typeof define.amd ? define(e) : this[t] = e()
			}("validator", function(t) {
				"use strict";

				function e(t, e) {
					t = t || {};
					for (var r in e) "undefined" == typeof t[r] && (t[r] = e[r]);
					return t
				}

				function r(t) {
					var e = "(\\" + t.symbol.replace(/\./g, "\\.") + ")" + (t.require_symbol ? "" : "?"),
						r = "-?",
						n = "[1-9]\\d*",
						i = "[1-9]\\d{0,2}(\\" + t.thousands_separator + "\\d{3})*",
						o = ["0", n, i],
						u = "(" + o.join("|") + ")?",
						s = "(\\" + t.decimal_separator + "\\d{2})?",
						a = u + s;
					return t.allow_negatives && !t.parens_for_negatives && (t.negative_sign_after_digits ? a += r : t.negative_sign_before_digits && (a = r + a)), t.allow_negative_sign_placeholder ? a = "( (?!\\-))?" + a : t.allow_space_after_symbol ? a = " ?" + a : t.allow_space_after_digits && (a += "( (?!$))?"), t.symbol_after_digits ? a += e : a = e + a, t.allow_negatives && (t.parens_for_negatives ? a = "(\\(" + a + "\\)|" + a + ")" : t.negative_sign_before_digits || t.negative_sign_after_digits || (a = r + a)), new RegExp("^(?!-? )(?=.*\\d)" + a + "$")
				}
				t = {
					version: "4.0.6"
				};
				var n = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,
					i = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,
					o = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,
					u = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,
					s = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,
					a = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,
					l = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,
					f = /^(?:[0-9]{9}X|[0-9]{10})$/,
					c = /^(?:[0-9]{13})$/,
					p = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,
					g = /^[0-9A-F]{1,4}$/i,
					F = {
						3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
						4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
						5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
						all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i
					}, d = /^[A-Z]+$/i,
					_ = /^[0-9A-Z]+$/i,
					x = /^[-+]?[0-9]+$/,
					h = /^(?:[-+]?(?:0|[1-9][0-9]*))$/,
					v = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,
					A = /^[0-9A-F]+$/i,
					$ = /^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,
					m = /^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,
					w = /^[\x00-\x7F]+$/,
					b = /[^\x00-\x7F]/,
					D = /[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,
					y = /[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,
					E = /[\uD800-\uDBFF][\uDC00-\uDFFF]/,
					I = /^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,
					O = {
						"zh-CN": /^(\+?0?86\-?)?1[345789]\d{9}$/,
						"zh-TW": /^(\+?886\-?|0)?9\d{8}$/,
						"en-ZA": /^(\+?27|0)\d{9}$/,
						"en-AU": /^(\+?61|0)4\d{8}$/,
						"en-HK": /^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,
						"fr-FR": /^(\+?33|0)[67]\d{8}$/,
						"pt-PT": /^(\+351)?9[1236]\d{7}$/,
						"el-GR": /^(\+30)?((2\d{9})|(69\d{8}))$/,
						"en-GB": /^(\+?44|0)7\d{9}$/,
						"en-US": /^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,
						"en-ZM": /^(\+26)?09[567]\d{7}$/,
						"ru-RU": /^(\+?7|8)?9\d{9}$/
					}, C = /^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;
				t.extend = function(e, r) {
					t[e] = function() {
						var e = Array.prototype.slice.call(arguments);
						return e[0] = t.toString(e[0]), r.apply(t, e)
					}
				}, t.init = function() {
					for (var e in t) "function" == typeof t[e] && "toString" !== e && "toDate" !== e && "extend" !== e && "init" !== e && t.extend(e, t[e])
				}, t.toString = function(t) {
					return "object" == typeof t && null !== t && t.toString ? t = t.toString() : null === t || "undefined" == typeof t || isNaN(t) && !t.length ? t = "" : "string" != typeof t && (t += ""), t
				}, t.toDate = function(t) {
					return "[object Date]" === Object.prototype.toString.call(t) ? t : (t = Date.parse(t), isNaN(t) ? null : new Date(t))
				}, t.toFloat = function(t) {
					return parseFloat(t)
				}, t.toInt = function(t, e) {
					return parseInt(t, e || 10)
				}, t.toBoolean = function(t, e) {
					return e ? "1" === t || "true" === t : "0" !== t && "false" !== t && "" !== t
				}, t.equals = function(e, r) {
					return e === t.toString(r)
				}, t.contains = function(e, r) {
					return e.indexOf(t.toString(r)) >= 0
				}, t.matches = function(t, e, r) {
					return "[object RegExp]" !== Object.prototype.toString.call(e) && (e = new RegExp(e, r)), e.test(t)
				};
				var S = {
					allow_display_name: !1,
					allow_utf8_local_part: !0,
					require_tld: !0
				};
				t.isEmail = function(r, a) {
					if (a = e(a, S), a.allow_display_name) {
						var l = r.match(s);
						l && (r = l[1])
					}
					var f = r.split("@"),
						c = f.pop(),
						p = f.join("@"),
						g = c.toLowerCase();
					if (("gmail.com" === g || "googlemail.com" === g) && (p = p.replace(/\./g, "").toLowerCase()), !t.isByteLength(p, 0, 64) || !t.isByteLength(c, 0, 256)) return !1;
					if (!t.isFQDN(c, {
						require_tld: a.require_tld
					})) return !1;
					if ('"' === p[0]) return p = p.slice(1, p.length - 1), a.allow_utf8_local_part ? u.test(p) : i.test(p);
					for (var F = a.allow_utf8_local_part ? o : n, d = p.split("."), _ = 0; _ < d.length; _++)
						if (!F.test(d[_])) return !1;
					return !0
				};
				var N = {
					protocols: ["http", "https", "ftp"],
					require_tld: !0,
					require_protocol: !1,
					require_valid_protocol: !0,
					allow_underscores: !1,
					allow_trailing_dot: !1,
					allow_protocol_relative_urls: !1
				};
				t.isURL = function(r, n) {
					if (!r || r.length >= 2083 || /\s/.test(r)) return !1;
					if (0 === r.indexOf("mailto:")) return !1;
					n = e(n, N);
					var i, o, u, s, a, l, f;
					if (f = r.split("://"), f.length > 1) {
						if (i = f.shift(), n.require_valid_protocol && -1 === n.protocols.indexOf(i)) return !1
					} else {
						if (n.require_protocol) return !1;
						n.allow_protocol_relative_urls && "//" === r.substr(0, 2) && (f[0] = r.substr(2))
					}
					return r = f.join("://"), f = r.split("#"), r = f.shift(), f = r.split("?"), r = f.shift(), f = r.split("/"), r = f.shift(), f = r.split("@"), f.length > 1 && (o = f.shift(), o.indexOf(":") >= 0 && o.split(":").length > 2) ? !1 : (s = f.join("@"), f = s.split(":"), u = f.shift(), f.length && (l = f.join(":"), a = parseInt(l, 10), !/^[0-9]+$/.test(l) || 0 >= a || a > 65535) ? !1 : t.isIP(u) || t.isFQDN(u, n) || "localhost" === u ? n.host_whitelist && -1 === n.host_whitelist.indexOf(u) ? !1 : n.host_blacklist && -1 !== n.host_blacklist.indexOf(u) ? !1 : !0 : !1)
				}, t.isIP = function(e, r) {
					if (r = t.toString(r), !r) return t.isIP(e, 4) || t.isIP(e, 6);
					if ("4" === r) {
						if (!p.test(e)) return !1;
						var n = e.split(".").sort(function(t, e) {
							return t - e
						});
						return n[3] <= 255
					}
					if ("6" === r) {
						var i = e.split(":"),
							o = !1,
							u = t.isIP(i[i.length - 1], 4),
							s = u ? 7 : 8;
						if (i.length > s) return !1;
						if ("::" === e) return !0;
						"::" === e.substr(0, 2) ? (i.shift(), i.shift(), o = !0) : "::" === e.substr(e.length - 2) && (i.pop(), i.pop(), o = !0);
						for (var a = 0; a < i.length; ++a)
							if ("" === i[a] && a > 0 && a < i.length - 1) {
								if (o) return !1;
								o = !0
							} else
						if (u && a == i.length - 1);
						else if (!g.test(i[a])) return !1;
						return o ? i.length >= 1 : i.length === s
					}
					return !1
				};
				var B = {
					require_tld: !0,
					allow_underscores: !1,
					allow_trailing_dot: !1
				};
				t.isFQDN = function(t, r) {
					r = e(r, B), r.allow_trailing_dot && "." === t[t.length - 1] && (t = t.substring(0, t.length - 1));
					var n = t.split(".");
					if (r.require_tld) {
						var i = n.pop();
						if (!n.length || !/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(i)) return !1
					}
					for (var o, u = 0; u < n.length; u++) {
						if (o = n[u], r.allow_underscores) {
							if (o.indexOf("__") >= 0) return !1;
							o = o.replace(/_/g, "")
						}
						if (!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o)) return !1;
						if (/[\uff01-\uff5e]/.test(o)) return !1;
						if ("-" === o[0] || "-" === o[o.length - 1] || o.indexOf("---") >= 0) return !1
					}
					return !0
				}, t.isBoolean = function(t) {
					return ["true", "false", "1", "0"].indexOf(t) >= 0
				}, t.isAlpha = function(t) {
					return d.test(t)
				}, t.isAlphanumeric = function(t) {
					return _.test(t)
				}, t.isNumeric = function(t) {
					return x.test(t)
				}, t.isDecimal = function(t) {
					return "" !== t && $.test(t)
				}, t.isHexadecimal = function(t) {
					return A.test(t)
				}, t.isHexColor = function(t) {
					return m.test(t)
				}, t.isLowercase = function(t) {
					return t === t.toLowerCase()
				}, t.isUppercase = function(t) {
					return t === t.toUpperCase()
				}, t.isInt = function(t, e) {
					return e = e || {}, h.test(t) && (!e.hasOwnProperty("min") || t >= e.min) && (!e.hasOwnProperty("max") || t <= e.max)
				}, t.isFloat = function(t, e) {
					return e = e || {}, "" !== t && v.test(t) && (!e.hasOwnProperty("min") || t >= e.min) && (!e.hasOwnProperty("max") || t <= e.max)
				}, t.isDivisibleBy = function(e, r) {
					return t.toFloat(e) % t.toInt(r) === 0
				}, t.isNull = function(t) {
					return 0 === t.length
				}, t.isLength = function(t, e, r) {
					var n = t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g) || [],
						i = t.length - n.length;
					return i >= e && ("undefined" == typeof r || r >= i)
				}, t.isByteLength = function(t, e, r) {
					var n = encodeURI(t).split(/%..|./).length - 1;
					return n >= e && ("undefined" == typeof r || r >= n)
				}, t.isUUID = function(t, e) {
					var r = F[e ? e : "all"];
					return r && r.test(t)
				}, t.isDate = function(t) {
					return !isNaN(Date.parse(t))
				}, t.isAfter = function(e, r) {
					var n = t.toDate(r || new Date),
						i = t.toDate(e);
					return !!(i && n && i > n)
				}, t.isBefore = function(e, r) {
					var n = t.toDate(r || new Date),
						i = t.toDate(e);
					return !!(i && n && n > i)
				}, t.isIn = function(e, r) {
					var n;
					if ("[object Array]" === Object.prototype.toString.call(r)) {
						var i = [];
						for (n in r) i[n] = t.toString(r[n]);
						return i.indexOf(e) >= 0
					}
					return "object" == typeof r ? r.hasOwnProperty(e) : r && "function" == typeof r.indexOf ? r.indexOf(e) >= 0 : !1
				}, t.isCreditCard = function(t) {
					var e = t.replace(/[^0-9]+/g, "");
					if (!a.test(e)) return !1;
					for (var r, n, i, o = 0, u = e.length - 1; u >= 0; u--) r = e.substring(u, u + 1), n = parseInt(r, 10), i ? (n *= 2, o += n >= 10 ? n % 10 + 1 : n) : o += n, i = !i;
					return !!(o % 10 === 0 ? e : !1)
				}, t.isISIN = function(t) {
					if (!l.test(t)) return !1;
					for (var e, r, n = t.replace(/[A-Z]/g, function(t) {
							return parseInt(t, 36)
						}), i = 0, o = !0, u = n.length - 2; u >= 0; u--) e = n.substring(u, u + 1), r = parseInt(e, 10), o ? (r *= 2, i += r >= 10 ? r + 1 : r) : i += r, o = !o;
					return parseInt(t.substr(t.length - 1), 10) === (1e4 - i) % 10
				}, t.isISBN = function(e, r) {
					if (r = t.toString(r), !r) return t.isISBN(e, 10) || t.isISBN(e, 13);
					var n, i = e.replace(/[\s-]+/g, ""),
						o = 0;
					if ("10" === r) {
						if (!f.test(i)) return !1;
						for (n = 0; 9 > n; n++) o += (n + 1) * i.charAt(n);
						if (o += "X" === i.charAt(9) ? 100 : 10 * i.charAt(9), o % 11 === 0) return !!i
					} else if ("13" === r) {
						if (!c.test(i)) return !1;
						var u = [1, 3];
						for (n = 0; 12 > n; n++) o += u[n % 2] * i.charAt(n);
						if (i.charAt(12) - (10 - o % 10) % 10 === 0) return !!i
					}
					return !1
				}, t.isMobilePhone = function(t, e) {
					return e in O ? O[e].test(t) : !1
				};
				var j = {
					symbol: "$",
					require_symbol: !1,
					allow_space_after_symbol: !1,
					symbol_after_digits: !1,
					allow_negatives: !0,
					parens_for_negatives: !1,
					negative_sign_before_digits: !1,
					negative_sign_after_digits: !1,
					allow_negative_sign_placeholder: !1,
					thousands_separator: ",",
					decimal_separator: ".",
					allow_space_after_digits: !1
				};
				t.isCurrency = function(t, n) {
					return n = e(n, j), r(n).test(t)
				}, t.isJSON = function(t) {
					try {
						var e = JSON.parse(t);
						return !!e && "object" == typeof e
					} catch (r) {}
					return !1
				}, t.isMultibyte = function(t) {
					return b.test(t)
				}, t.isAscii = function(t) {
					return w.test(t)
				}, t.isFullWidth = function(t) {
					return D.test(t)
				}, t.isHalfWidth = function(t) {
					return y.test(t)
				}, t.isVariableWidth = function(t) {
					return D.test(t) && y.test(t)
				}, t.isSurrogatePair = function(t) {
					return E.test(t)
				}, t.isBase64 = function(t) {
					return I.test(t)
				}, t.isMongoId = function(e) {
					return t.isHexadecimal(e) && 24 === e.length
				}, t.isISO8601 = function(t) {
					return C.test(t)
				}, t.ltrim = function(t, e) {
					var r = e ? new RegExp("^[" + e + "]+", "g") : /^\s+/g;
					return t.replace(r, "")
				}, t.rtrim = function(t, e) {
					var r = e ? new RegExp("[" + e + "]+$", "g") : /\s+$/g;
					return t.replace(r, "")
				}, t.trim = function(t, e) {
					var r = e ? new RegExp("^[" + e + "]+|[" + e + "]+$", "g") : /^\s+|\s+$/g;
					return t.replace(r, "")
				}, t.escape = function(t) {
					return t.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\//g, "&#x2F;").replace(/\`/g, "&#96;")
				}, t.stripLow = function(e, r) {
					var n = r ? "\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F" : "\\x00-\\x1F\\x7F";
					return t.blacklist(e, n)
				}, t.whitelist = function(t, e) {
					return t.replace(new RegExp("[^" + e + "]+", "g"), "")
				}, t.blacklist = function(t, e) {
					return t.replace(new RegExp("[" + e + "]+", "g"), "")
				};
				var q = {
					lowercase: !0
				};
				return t.normalizeEmail = function(r, n) {
					if (n = e(n, q), !t.isEmail(r)) return !1;
					var i = r.split("@", 2);
					if (i[1] = i[1].toLowerCase(), "gmail.com" === i[1] || "googlemail.com" === i[1]) {
						if (i[0] = i[0].toLowerCase().replace(/\./g, ""), "+" === i[0][0]) return !1;
						i[0] = i[0].split("+")[0], i[1] = "gmail.com"
					} else n.lowercase && (i[0] = i[0].toLowerCase());
					return i.join("@")
				}, t.init(), t
			});


		}, {}
	],
	476: [
		function(require, module, exports) {
			(function() {
				"use strict";

				function e() {}

				function t(e, t) {
					for (var n = e.length; n--;)
						if (e[n].listener === t) return n;
					return -1
				}

				function n(e) {
					return function() {
						return this[e].apply(this, arguments)
					}
				}
				var r = e.prototype,
					i = this,
					s = i.EventEmitter;
				r.getListeners = function(e) {
					var t, n, r = this._getEvents();
					if (e instanceof RegExp) {
						t = {};
						for (n in r) r.hasOwnProperty(n) && e.test(n) && (t[n] = r[n])
					} else t = r[e] || (r[e] = []);
					return t
				}, r.flattenListeners = function(e) {
					var t, n = [];
					for (t = 0; t < e.length; t += 1) n.push(e[t].listener);
					return n
				}, r.getListenersAsObject = function(e) {
					var t, n = this.getListeners(e);
					return n instanceof Array && (t = {}, t[e] = n), t || n
				}, r.addListener = function(e, n) {
					var r, i = this.getListenersAsObject(e),
						s = "object" == typeof n;
					for (r in i) i.hasOwnProperty(r) && -1 === t(i[r], n) && i[r].push(s ? n : {
						listener: n,
						once: !1
					});
					return this
				}, r.on = n("addListener"), r.addOnceListener = function(e, t) {
					return this.addListener(e, {
						listener: t,
						once: !0
					})
				}, r.once = n("addOnceListener"), r.defineEvent = function(e) {
					return this.getListeners(e), this
				}, r.defineEvents = function(e) {
					for (var t = 0; t < e.length; t += 1) this.defineEvent(e[t]);
					return this
				}, r.removeListener = function(e, n) {
					var r, i, s = this.getListenersAsObject(e);
					for (i in s) s.hasOwnProperty(i) && (r = t(s[i], n), -1 !== r && s[i].splice(r, 1));
					return this
				}, r.off = n("removeListener"), r.addListeners = function(e, t) {
					return this.manipulateListeners(!1, e, t)
				}, r.removeListeners = function(e, t) {
					return this.manipulateListeners(!0, e, t)
				}, r.manipulateListeners = function(e, t, n) {
					var r, i, s = e ? this.removeListener : this.addListener,
						o = e ? this.removeListeners : this.addListeners;
					if ("object" != typeof t || t instanceof RegExp)
						for (r = n.length; r--;) s.call(this, t, n[r]);
					else
						for (r in t) t.hasOwnProperty(r) && (i = t[r]) && ("function" == typeof i ? s.call(this, r, i) : o.call(this, r, i));
					return this
				}, r.removeEvent = function(e) {
					var t, n = typeof e,
						r = this._getEvents();
					if ("string" === n) delete r[e];
					else if (e instanceof RegExp)
						for (t in r) r.hasOwnProperty(t) && e.test(t) && delete r[t];
					else delete this._events;
					return this
				}, r.removeAllListeners = n("removeEvent"), r.emitEvent = function(e, t) {
					var n, r, i, s, o = this.getListenersAsObject(e);
					for (i in o)
						if (o.hasOwnProperty(i))
							for (r = o[i].length; r--;) n = o[i][r], n.once === !0 && this.removeListener(e, n.listener), s = n.listener.apply(this, t || []), s === this._getOnceReturnValue() && this.removeListener(e, n.listener);
					return this
				}, r.trigger = n("emitEvent"), r.emit = function(e) {
					var t = Array.prototype.slice.call(arguments, 1);
					return this.emitEvent(e, t)
				}, r.setOnceReturnValue = function(e) {
					return this._onceReturnValue = e, this
				}, r._getOnceReturnValue = function() {
					return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
				}, r._getEvents = function() {
					return this._events || (this._events = {})
				}, e.noConflict = function() {
					return i.EventEmitter = s, e
				}, "function" == typeof define && define.amd ? define(function() {
					return e
				}) : "object" == typeof module && module.exports ? module.exports = e : i.EventEmitter = e
			}).call(this);


		}, {}
	]
}, {}, [10]);